[{"path":"index.html","id":"kiáº¿n-thá»©c-r-cÆ¡-báº£n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","text":"Ä‘Ã¢y lÃ  kÃ½ hiá»‡u é•Ä‘Ã¢y lÃ  kÃ½ hiá»‡u ñ¥Œ°Ä‘Ã¢y lÃ  kÃ½ hiá»‡u ğŸ„¬Ä‘Ã¢y lÃ  kÃ½ hiá»‡u ğŸ…¡Ä‘Ã¢y lÃ  kÃ½ hiá»‡u ğŸ†Ä‘Ã¢y lÃ  kÃ½ hiá»‡u â“‡Ä‘Ã¢y lÃ  kÃ½ hiá»‡u â„Má»¥c Ä‘Ã­ch cá»§a cuá»‘n sÃ¡ch nÃ y khÃ´ng pháº£i Ä‘á»ƒ báº¡n Ä‘á»c trá»Ÿ thÃ nh má»™t láº­p trÃ¬nh viÃªn chuyÃªn nghiá»‡p. Cuá»‘n sÃ¡ch Ä‘Æ°á»£c viáº¿t nháº±m giÃºp báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng R vÃ  thá»±c hiá»‡n Ä‘Æ°á»£c má»¥c Ä‘Ã­ch cá»§a mÃ¬nh má»™t cÃ¡ch nhanh nháº¥t. Theo quan Ä‘iá»ƒm cá»§a chÃºng tÃ´i, R khÃ´ng pháº£i lÃ  má»™t ngÃ´n ngá»¯ thÃ­ch há»£p Ä‘á»ƒ báº¯t Ä‘áº§u cho há»c láº­p trÃ¬nh. Muá»‘n trá»Ÿ thÃ nh má»™t láº­p trÃ¬nh viÃªn giá»i, báº¡n Ä‘á»c nÃªn báº¯t Ä‘áº§u vá»›i cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh cÆ¡ báº£n nhÆ° Pascal, C++, Java, hay cÅ©ng cÃ³ thá»ƒ báº¯t Ä‘áº§u vá»›i ngÃ´n ngá»¯ Python.CÃ¡ch viáº¿t cÃ¡c dÃ²ng lá»‡nh cá»§a R cÃ³ thá»ƒ nÃ³i lÃ  khÃ¡ tÃ¹y tiá»‡n, tháº­m chÃ­ cÃ³ thá»ƒ lÃ m cho nhá»¯ng ngÆ°á»i cÃ³ chuyÃªn mÃ´n vá» láº­p trÃ¬nh cáº£m tháº¥y khÃ³ chá»‹u. Tuy nhiÃªn, nhÆ° Ä‘Ã£ Ä‘á» cáº­p trong pháº§n giá»›i thiá»‡u cá»§a cuá»‘n sÃ¡ch, R cÃ³ cÃ¡c tháº¿ máº¡nh riÃªng mÃ  cÃ¡c ngÃ´n ngá»¯ khÃ¡c khÃ´ng cÃ³ Ä‘Æ°á»£c vÃ  chÃºng tÃ´i tin ráº±ng R cÃ³ thá»ƒ giáº£i quyáº¿t Ä‘Æ°á»£c táº¥t cáº£ nhá»¯ng yÃªu cáº§u cá»§a báº¡n Ä‘á»c tá»« nhá»¯ng yÃªu cáº§u Ä‘Æ¡n giáº£n Ä‘áº¿n nhá»¯ng yÃªu cáº§u phá»©c táº¡p nháº¥t.Cuá»‘n sÃ¡ch dÃ nh cho cáº£ cÃ¡c báº¡n Ä‘á»c chÆ°a tá»«ng lÃ m quen vá»›i láº­p trÃ¬nh. Nhá»¯ng báº¡n Ä‘á»c Ä‘Ã£ cÃ³ kinh nghiá»‡m vá»›i láº­p trÃ¬nh cÃ³ thá»ƒ bá» qua cÃ¡c pháº§n khÃ´ng cáº§n thiáº¿t.","code":""},{"path":"index.html","id":"lÃ m-quen-vá»›i-cÃ¡c-dÃ²ng-lá»‡nh-cÆ¡-báº£n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.1 LÃ m quen vá»›i cÃ¡c dÃ²ng lá»‡nh cÆ¡ báº£n","text":"","code":""},{"path":"index.html","id":"sá»­-dá»¥ng-r-nhÆ°-má»™t-mÃ¡y-tÃ­nh-cáº§m-tay","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.1.1 Sá»­ dá»¥ng R nhÆ° má»™t mÃ¡y tÃ­nh cáº§m tay","text":"Äá»ƒ R hiá»ƒu vÃ  thá»±c hiá»‡n Ä‘Æ°á»£c cÃ¡c yÃªu cáº§u cá»§a mÃ¬nh, báº¡n Ä‘á»c cáº§n pháº£i giao tiáº¿p vá»›i R theo ngÃ´n ngá»¯ mÃ  pháº§n má»m nÃ y cÃ³ thá»ƒ hiá»ƒu Ä‘Æ°á»£c. CÃ¢u lá»‡nh Ä‘áº§u tiÃªn vÃ  Ä‘Æ¡n giáº£n nháº¥t lÃ  hiá»ƒn thá»‹ má»™t giÃ¡ trá»‹ lÃªn mÃ n hÃ¬nh Console. Báº¡n Ä‘á»c hÃ£y nháº¥p chuá»™t vÃ o cá»­a sá»• Console, gÃµ trá»±c tiáº¿p Ä‘oáº¡n cÃ¢u lá»‡nh nhÆ° á»Ÿ dÆ°á»›i vÃ  káº¿t thÃºc cÃ¢u lá»‡nh báº±ng cÃ¡ch sá»­ dá»¥ng phÃ­m Enter.Báº¡n Ä‘á»c cÃ³ thá»ƒ báº¯t Ä‘áº§u lÃ m quen vá»›i cÃ¡c dÃ²ng lá»‡nh cá»§a R báº±ng cÃ¡ch viáº¿t lÃªn cá»­a sá»• Console cÃ¡c cÃ´ng thá»©c Ä‘á»ƒ thá»±c hiá»‡n tÃ­nh toÃ¡n cÃ¡c phÃ©p toÃ¡n dÆ°á»›i Ä‘Ã¢y. R lÃºc nÃ y chá»‰ Ä‘Æ¡n giáº£n lÃ  má»™t mÃ¡y tÃ­nh cáº§m tay.Báº¡n Ä‘á»c cÃ³ thá»ƒ tiáº¿p tá»¥c thá»±c hÃ nh cÃ¡c cÃ¢u lá»‡nh cÆ¡ báº£n báº±ng cÃ¡ch tÃ­nh toÃ¡n káº¿t quáº£ cá»§a cÃ¡c biá»ƒu thá»©c dÆ°á»›i Ä‘Ã¢y\\[\\begin{align}\n) \\cfrac{1}{4^{1/6}}  \\ \\ \\ b) \\cfrac{7 - 4}{12 - 7} \\ \\ \\ c) \\sqrt{\\cfrac{4}{22}} \\ \\ \\ d) (12-5)^{4/3} \\ \\ \\ e) ln\\left( \\cfrac{2 + 4}{2^5 -1} \\right)\n\\end{align}\\]Khi viáº¿t lÃªn cá»­a sá»• Console, R luÃ´n thá»±c hiá»‡n cÃ¢u lá»‡nh má»—i khi báº¡n Ä‘á»c sá»­ dá»¥ng phÃ­m Enter. Äá»ƒ viáº¿t hai hay nhiá»u cÃ¢u lá»‡nh trÃªn má»™t dÃ²ng khi sá»­ dá»¥ng cá»­a sá»• Console, báº¡n Ä‘á»c hÃ£y káº¿t thÃºc má»—i cÃ¢u lá»‡nh báº±ng dáº¥u â€œ;â€. HÃ£y thá»­ cÃ¢u lá»‡nh á»Ÿ dÆ°á»›i vÃ  quan sÃ¡t R sáº½ tráº£ káº¿t quáº£ nhÆ° tháº¿ nÃ oKhi báº¡n Ä‘á»c viáº¿t cÃ¡c cÃ¢u lá»‡nh Ä‘Æ¡n giáº£n, sá»­ dá»¥ng nhiá»u cÃ¢u lá»‡nh trÃªn má»™t dÃ²ng cÃ³ thá»ƒ háº¡n cháº¿ viá»‡c dÃ¹ng phÃ­m Enter nhiá»u láº§n, tuy nhiÃªn chÃºng tÃ´i khuyÃªn báº¡n Ä‘á»c khi muá»‘n thá»±c hiá»‡n nhiá»u cÃ¢u lá»‡nh khÃ¡c nhau hÃ£y sá»­ dá»¥ng cá»­a sá»• Script thay vÃ¬ viáº¿t cÃ¢u lá»‡nh trá»±c tiáº¿p lÃªn cá»­a sá»• Console. CÃ¡ch viáº¿t cÃ¢u lá»‡nh trÃªn cá»­a sá»• Script vÃ  cho cÃ¡c cÃ¢u lá»‡nh cháº¡y sáº½ Ä‘Æ°á»£c tháº£o luáº­n á»Ÿ pháº§n sau.","code":"\nprint(\"I am MFEer\") # In ra mÃ n hÃ¬nh R console dÃ²ng chá»¯ I am MFEer\n1+0.001 # phÃ©p tÃ­nh cá»™ng, sá»‘ tháº­p phÃ¢n, sá»‘ tháº­p phÃ¢n trong R sá»­ dá»¥ng dáº¥u \".\"\n2*pi - 3 # sá»‘ pi trong R Ä‘Æ°á»£c viáº¿t Ä‘Æ¡n giáº£n lÃ  pi; pi nháº­n giÃ¡ trá»‹ 3.1416...\nexp(1)-exp(-1) # exp lÃ  hÃ m sá»‘ mÅ© lÃ  lÅ©y thá»«a cá»§a sá»‘ e\nlog(3.2) # logarit cÆ¡ sá»‘ tá»± nhiÃªn cá»§a sá»‘ 3.2\nlog(1000,10) # logarit cÆ¡ sá»‘ 10 cá»§a sá»‘ 1000\n1+0.001; 2*pi - 3; exp(1)-exp(-1) # má»™t dÃ²ng lá»‡nh thá»±c hiá»‡n ba cÃ¢u lá»‡nh (ba phÃ©p tÃ­nh)## [1] 1.001## [1] 3.283185## [1] 2.350402"},{"path":"index.html","id":"sá»­-dá»¥ng-cá»­a-sá»•-script-Ä‘á»ƒ-viáº¿t-cÃ¢u-lá»‡nh-r","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.1.2 Sá»­ dá»¥ng cá»­a sá»• Script Ä‘á»ƒ viáº¿t cÃ¢u lá»‡nh R","text":"CÃ¡ch tá»‘t nháº¥t báº¡n Ä‘á»c nÃªn sá»­ dá»¥ng khi viáº¿t cÃ¢u lá»‡nh Ä‘Ã³ lÃ  sá»­ dá»¥ng cá»­a sá»• Script. Äá»ƒ má»Ÿ cá»­a sá»• Script báº¡n Ä‘á»c cÃ³ thá»ƒ tÃ¬m trÃªn thanh cÃ´ng cá»¥ theo trÃ¬nh tá»± \\(File\\) \\(\\rightarrow\\) \\(New\\) \\(file\\) \\(\\rightarrow\\) \\(R\\) \\(Script\\), hoáº·c báº¡n Ä‘á»c sá»­ dá»¥ng tá»• há»£p phÃ­m táº¯t â€œCtrl + Shift + Nâ€. Khi viáº¿t cÃ¢u lá»‡nh trÃªn cá»­a sá»• Script, R chá»‰ thá»±c hiá»‡n cÃ¢u lá»‡nh khi báº¡n Ä‘á»c yÃªu cáº§u. Ä‘Ã³, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng cá»­a sá»• Script Ä‘á»ƒ viáº¿t cÃ¡c chÆ°Æ¡ng trÃ¬nh lá»›n, cÃ³ nhiá»u dÃ²ng lá»‡nh káº¿ tiáº¿p nhau.Sau khi má»Ÿ cá»§a sá»• Script, báº¡n Ä‘á»c cÃ³ thá»ƒ viáº¿t cÃ¡c dÃ²ng lá»‡nh vÃ  sá»­ dá»¥ng phÃ­m Enter Ä‘á»ƒ xuá»‘ng dÃ²ng vÃ  khÃ´ng cáº§n quan tÃ¢m Ä‘áº¿n viá»‡c R cÃ³ cháº¡y cÃ¢u lá»‡nh Ä‘Ã³ hay khÃ´ng. Trong má»™t dÃ²ng lá»‡nh trÃªn cá»­a sá»• Script má»—i khi báº¡n Ä‘á»c sá»­ dá»¥ng dáº¥u ngáº¯t cÃ¢u lá»‡nh â€œ;â€ R váº«n hiá»ƒu ráº±ng báº¡n Ä‘á»c Ä‘ang viáº¿t hai cÃ¢u lá»‡nh khÃ¡c nhau trÃªn má»™t dÃ²ng:Äá»ƒ cháº¡y cÃ¡c dÃ²ng lá»‡nh trÃªn cá»­a sá»• Script, báº¡n Ä‘á»c sá»­ dá»¥ng con trá» vÃ  click chuá»™t trÃ¡i vÃ o nÃºt Run náº±m á»Ÿ phÃ­a gÃ³c trÃªn bÃªn pháº£i cá»§a cá»­a sá»• nÃ y hoáº·c sá»­ dá»¥ng tá»• há»£p phÃ­m â€œCtrl + Enterâ€. Äá»ƒ cháº¡y má»™t dÃ²ng lá»‡nh riÃªng láº» trÃªn Script, báº¡n Ä‘á»c di chuyá»ƒn con trá» Ä‘áº¿n dÃ²ng lá»‡nh Ä‘Ã³ vÃ  thá»±c hiá»‡n thao tÃ¡c cháº¡y. Äá»ƒ cháº¡y nhiá»u dÃ²ng lá»‡nh trÃªn cá»­a sá»• Script, báº¡n Ä‘á»c sá»­ dá»¥ng chuá»™t trÃ¡i lá»±a chá»n cÃ¡c dÃ²ng lá»‡nh mÃ¬nh muá»‘n cháº¡y vÃ  sau Ä‘Ã³ thá»±c hiá»‡n thao tÃ¡c cháº¡y. Khi báº¡n Ä‘á»c lá»±a chá»n nhiá»u dÃ²ng lá»‡nh má»™t lÃºc Ä‘á»ƒ cháº¡y, R sáº½ thá»±c hiá»‡n cÃ¡c cÃ¢u lá»‡nh láº§n lÆ°á»£t theo thá»© tá»± tá»« trÃªn xuá»‘ng dÆ°á»›i vÃ  tá»« bÃªn trÃ¡i qua bÃªn pháº£i náº¿u má»™t dÃ²ng cÃ³ nhiá»u cÃ¢u lá»‡nh.LÆ°u Ã½, khi báº¡n Ä‘á»c viáº¿t má»™t chÆ°Æ¡ng trÃ¬nh bao gá»“m nhiá»u dÃ²ng lá»‡nh, báº¡n thÆ°á»ng pháº£i sá»­ dá»¥ng ngÃ´n ngá»¯ thÃ´ng thÆ°á»ng nhÆ° tiáº¿ng Viá»‡t, tiáº¿ng Anh, â€¦, Ä‘á»ƒ ghi chÃº láº¡i cÃ¡c dÃ²ng lá»‡nh hoáº·c nhÃ³m cÃ¡c dÃ²ng lá»‡nh Ä‘Ã³ cÃ³ Ã½ nghÄ©a lÃ  gÃ¬. Viá»‡c nÃ y giÃºp cho chÃ­nh báº£n thÃ¢n báº¡n Ä‘á»c khi xem láº¡i cÃ¡c dÃ²ng lá»‡nh R cá»§a mÃ¬nh vÃ  nhá»¯ng ngÆ°á»i khÃ¡c khi Ä‘á»c cÃ¡c dÃ²ng lá»‡nh, cÃ³ thá»ƒ hiá»ƒu Ä‘Æ°á»£c nhanh hÆ¡n báº¡n Ä‘á»c Ä‘ang lÃ m gÃ¬. CÃ¡c cÃ¢u ghi chÃº Ä‘Ã³ theo ngÃ´n ngá»¯ láº­p trÃ¬nh Ä‘Æ°á»£c gá»i lÃ  cÃ¡c cÃ¢u \\(comment\\). Äá»ƒ R sáº½ hiá»ƒu Ä‘Æ°á»£c Ä‘Ã³ lÃ  cÃ¡c cÃ¢u ghi chÃº báº¡n Ä‘á»c cáº§n pháº£i thÃªm dáº¥u â€œ#â€ trÆ°á»›c cÃ¡c cÃ¢u Ä‘Ã³.","code":"\n1+0.001 ; 2*pi - 3 ; exp(1)-exp(-1)\nlog(3.2) \nlog(1000,10)\n# ÄÃ¢y lÃ  cÃ¡ch tÃ­nh xáº¥p xá»‰ sá»‘ e\nn<-1000\ncat(\"e = \", (1+1/n)^n) # Khi n cÃ ng lá»›n thÃ¬ káº¿t quáº£ cÃ ng chÃ­nh xÃ¡c"},{"path":"index.html","id":"biáº¿n-trong-r","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.2 Biáº¿n trong R","text":"Biáº¿n lÃ  khÃ¡i niá»‡m cÆ¡ báº£n nháº¥t trong má»i ngÃ´n ngá»¯ láº­p trÃ¬nh. CÃ³ bá»‘n loáº¡i biáº¿n cÆ¡ báº£n trong R: biáº¿n kiá»ƒu sá»‘, biáº¿n kiá»ƒu kÃ½ tá»±, biáº¿n kiá»ƒu logic, vÃ  biáº¿n kiá»ƒu thá»i gian. Má»™t sá»‘ tÃ i liá»‡u khÃ¡c khi viáº¿t vá» ngÃ´n ngá»¯ láº­p trÃ¬nh R phÃ¢n loáº¡i biáº¿n thÃ nh nhiá»u kiá»ƒu hÆ¡n, cÃ³ thÃªm kiá»ƒu sá»‘ nguyÃªn, kiá»ƒu factor,â€¦ Theo quan Ä‘iá»ƒm cá»§a chÃºng tÃ´i, phÃ¢n loáº¡i biáº¿n quÃ¡ chi tiáº¿t sáº½ gÃ¢y khÃ³ khÄƒn cho báº¡n Ä‘á»c, nháº¥t lÃ  vá»›i báº¡n Ä‘á»c má»›i lÃ m quen vá»›i láº­p trÃ¬nh. Trong cÃ¡c pháº§n tiáº¿p theo cá»§a cuá»‘n sÃ¡ch, chÃºng tÃ´i sáº½ tháº£o luáº­n vá» má»—i kiá»ƒu biáº¿n cá»¥ thá»ƒ.Äá»ƒ táº¡o má»™t biáº¿n trong R vÃ  gÃ¡n giÃ¡ trá»‹ cho biáº¿n Ä‘Ã³, báº¡n Ä‘á»c sá»­ dá»¥ng má»™t trong ba cÃ¡ch nhÆ° sauTrong Ä‘Ã³ \\(tenbien\\) lÃ  tÃªn cá»§a biáº¿n mÃ  báº¡n muá»‘n Ä‘áº·t, \\(giatri\\) lÃ  giÃ¡ trá»‹ mÃ  báº¡n muá»‘n gÃ¡n cho biáº¿n. KÃ½ tá»± gÃ¡n giÃ¡ trá»‹ <- Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c phiÃªn báº£n R Ä‘áº§u tiÃªn. GÃ¡n giÃ¡ trá»‹ cho biáº¿n sá»­ dá»¥ng kÃ½ tá»± -> hiáº¿m khi Ä‘Æ°á»£c dÃ¹ng. Tá»« nÄƒm 2001 trá»Ÿ Ä‘i, dáº¥u = cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ gÃ¡n giÃ¡ trá»‹ cho biáº¿n. Tuy nhiÃªn dáº¥u = cÃ³ thá»ƒ gÃ¢y nháº§m láº«n sau nÃ y khi báº¡n Ä‘á»c sá»­ dá»¥ng song song vá»›i kÃ½ hiá»‡u == vÃ  kÃ½ hiá»‡u = trong truyá»n giÃ¡ trá»‹ cho tham sá»‘ khi viáº¿t hÃ m sá»‘. Trong cuá»‘n sÃ¡ch nÃ y, chÃºng tÃ´i luÃ´n sá»­ dá»¥ng <- Ä‘á»ƒ gÃ¡n giÃ¡ trá»‹ cho biáº¿n. CÃ¡c vÃ­ dá»¥ vá» táº¡o biáº¿n vÃ  gÃ¡n giÃ¡ trá»‹ cho biáº¿n á»Ÿ trong cÃ¡c dÃ²ng lá»‡nh phÃ­a dÆ°á»›i.Trong cÃ¡c cÃ¢u lá»‡nh á»Ÿ trÃªn, \\(x\\), \\(y\\) hay \\(z\\) lÃ  tÃªn biáº¿n. Quy táº¯c Ä‘áº·t tÃªn biáº¿n hay rá»™ng hÆ¡n lÃ  tÃªn má»™t Ä‘á»‘i tÆ°á»£ng trong R cáº§n tuÃ¢n theo cÃ¡c quy táº¯c sau:TÃªn biáº¿n cÃ³ thá»ƒ lÃ  tá»• há»£p cá»§a táº¥t cáº£ cÃ¡c chá»¯ cÃ¡i viáº¿t hoa, chá»¯ cÃ¡i viáº¿t thÆ°á»ng vÃ  cÃ¡c chá»¯ sá»‘.TÃªn biáº¿n cÃ³ thá»ƒ lÃ  tá»• há»£p cá»§a táº¥t cáº£ cÃ¡c chá»¯ cÃ¡i viáº¿t hoa, chá»¯ cÃ¡i viáº¿t thÆ°á»ng vÃ  cÃ¡c chá»¯ sá»‘.Trong tÃªn biáº¿n cÃ³ thá»ƒ chá»©a hai kÃ½ tá»± Ä‘áº·c biá»‡t lÃ  â€œ.â€ vÃ  â€œ_â€œ.Trong tÃªn biáº¿n cÃ³ thá»ƒ chá»©a hai kÃ½ tá»± Ä‘áº·c biá»‡t lÃ  â€œ.â€ vÃ  â€œ_â€œ.TÃªn biáº¿n khÃ´ng Ä‘Æ°á»£c phÃ©p báº¯t Ä‘áº§u báº±ng sá»‘ hoáº·c kÃ½ tá»± â€œ_â€œ.TÃªn biáº¿n khÃ´ng Ä‘Æ°á»£c phÃ©p báº¯t Ä‘áº§u báº±ng sá»‘ hoáº·c kÃ½ tá»± â€œ_â€œ.KhÃ´ng Ä‘Æ°á»£c dÃ¹ng tá»« khÃ³a Ä‘á»ƒ Ä‘áº·t tÃªn biáº¿n.KhÃ´ng Ä‘Æ°á»£c dÃ¹ng tá»« khÃ³a Ä‘á»ƒ Ä‘áº·t tÃªn biáº¿n.Äá»ƒ kiá»ƒm tra cÃ¡c quy táº¯c á»Ÿ trÃªn, báº¡n Ä‘á»c cÃ³ thá»ƒ cháº¡y cÃ¡c cÃ¢u lá»‡nh táº¡o biáº¿n dÆ°á»›i Ä‘Ã¢y vÃ  xem dÃ²ng lá»‡nh nÃ o bÃ¡o lá»—i vÃ  dÃ²ng lá»‡nh nÃ o khÃ´ng bÃ¡o lá»—i.LÆ°u Ã½ ráº±ng R cÃ³ phÃ¢n biá»‡t chá»¯ viáº¿t hoa vá»›i chá»¯ viáº¿t thÆ°á»ng trong tÃªn biáº¿n. ChÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng \\(x\\) Ä‘á»ƒ Ä‘áº·t tÃªn vÃ  sau Ä‘Ã³ dÃ¹ng \\(X\\) Ä‘á»ƒ Ä‘áº·t tÃªn cho má»™t biáº¿n khÃ¡c:Äá»ƒ biáº¿t danh sÃ¡ch cÃ¡c tÃªn biáº¿n vÃ  cÃ¡c biáº¿n nháº­n giÃ¡ trá»‹ nÃ o, ngoÃ i viá»‡c giÃ¡ trá»‹ biáº¿n lÃªn cá»§a sá»• Console báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng cá»­a sá»• Environment á»Ÿ gÃ³c phÃ­a trÃªn bÃªn pháº£i cá»§a Rstudio. Äá»ƒ xÃ³a má»™t biáº¿n hoáº·c má»™t Ä‘á»‘i tÆ°á»£ng nÃ o Ä‘Ã³ cÃ³ tÃªn trÃªn cá»­a sá»• Environment, báº¡n Ä‘á»c sá»­ dá»¥ng lá»‡nh rm()Má»™t Ä‘iá»u cÅ©ng cáº§n lÆ°u Ã½ khi Ä‘áº·t tÃªn biáº¿n, hay tÃªn báº¥t ká»³ má»™t Ä‘á»‘i tÆ°á»£ng nÃ o khÃ¡c trong R, Ä‘Ã³ lÃ  tÃªn biáº¿n khÃ´ng Ä‘Æ°á»£c phÃ©p trÃ¹ng vá»›i cÃ¡c tá»« khÃ³a. Danh sÃ¡ch cÃ¡c tá»« khÃ³a thÆ°á»ng sá»­ dá»¥ng trong R náº±m trong báº£ng dÆ°á»›i Ä‘Ã¢y\n(#tab:unnamed-chunk-9)Danh sÃ¡ch cÃ¡c tá»« khÃ³a khÃ´ng Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ Ä‘áº·t tÃªn\nChÃºng ta sáº½ tháº£o luáº­n vá» tá»«ng kiá»ƒu biáº¿n trong cÃ¡c pháº§n tiáº¿p theo.","code":"\n# CÃ¡ch thá»© nháº¥t\ntenbien <- giatri # dáº¥u \"<-\" lÃ  dáº¥u gÃ¡n giÃ¡ trá»‹\n# CÃ¡ch thá»© hai\ntenbien -> giatri\n# CÃ¡ch thá»© ba\ntenbien = giatri # dáº¥u \"=\" cÅ©ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ gÃ¡n giÃ¡ trá»‹\n# CÃ¡ch thá»© nháº¥t\nx <- 3  # táº¡o má»™t biáº¿n tÃªn lÃ  x cÃ³ giÃ¡ trá»‹ báº±ng 3\n# CÃ¡ch thá»© hai\n\"MFE\" -> y # tao má»™t biáº¿n tÃªn lÃ  y cÃ³ giÃ¡ trá»‹ báº±ng Ä‘oáº¡n kÃ½ tá»± \"MFE\"\n# CÃ¡ch thá»© ba\nz = 1 + 2 # táº¡o má»™t biáº¿n tÃªn lÃ  z vÃ  nháº­n giÃ¡ trá»‹ báº±ng káº¿t quáº£ cá»§a phÃ©p cá»™ngx1 <- 3 # biáº¿n tÃªn x1 sáº½ Ä‘Æ°á»£c táº¡o vá»›i giÃ¡ trá»‹ báº±ng 3\n1x <- 3 # sáº½ bÃ¡o lá»—i vÃ¬ tÃªn biáº¿n khÃ´ng Ä‘Æ°á»£c phÃ©p báº¯t Ä‘áº§u báº±ng sá»‘\n.x <- 3 # biáº¿n tÃªn .x sáº½ Ä‘Æ°á»£c táº¡o vá»›i giÃ¡ trá»‹ báº±ng 3\n_x <- 3 # sáº½ bÃ¡o lá»—i vÃ¬ tÃªn biáº¿n khÃ´ng Ä‘Æ°á»£c phÃ©p báº¯t Ä‘áº§u báº±ng sá»‘\nx<-3 # táº¡o má»™t biáº¿n tÃªn x nháº­n giÃ¡ trá»‹ báº±ng 3\nX<-5 # táº¡o má»™t biáº¿n tÃªn X nháº­n giÃ¡ trá»‹ báº±ng 5\nX-x # hiá»‡u sá»‘ nháº­n giÃ¡ trá»‹ báº±ng 2 do x vÃ  X lÃ  khÃ¡c nhau\nx # Console sáº½ in ra giÃ¡ trá»‹ báº±ng 3\nrm(x) # xÃ³a biáº¿n x khá»i Rstudio Ä‘ang cháº¡y\nx # sau khi xÃ³a biáº¿n x sáº½ khÃ´ng cÃ²n tá»“n táº¡i nÃªn R sáº½ bÃ¡o lá»—i"},{"path":"index.html","id":"biáº¿n-kiá»ƒu-sá»‘","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.2.1 Biáº¿n kiá»ƒu sá»‘","text":"Biáº¿n kiáº¿u sá»‘, hay cÃ²n Ä‘Æ°á»£c gá»i lÃ  kiá»ƒu \\(numeric\\), lÃ  cÃ¡c biáº¿n nháº­n giÃ¡ trá»‹ kiá»ƒu sá»‘ tháº­p phÃ¢n. Äá»ƒ táº¡o má»™t biáº¿n kiá»ƒu sá»‘, báº¡n Ä‘á»c hÃ£y khá»Ÿi táº¡o biáº¿n báº±ng cÃ¡ch gÃ¡n má»™t giÃ¡ trá»‹ kiá»ƒu sá»‘ cho tÃªn biáº¿n mÃ  báº¡n muá»‘n Ä‘áº·t. ÄÃ¢y cÅ©ng lÃ  cÃ¡ch táº¡o biáº¿n chung trong R.Äá»ƒ kiá»ƒm tra xem \\(x\\) cÃ³ pháº£i lÃ  biáº¿n kiá»ƒu sá»‘ khÃ´ng, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m .numeric(). HÃ m sá»‘ nÃ y tráº£ láº¡i giÃ¡ trá»‹ lÃ  kiá»ƒu logic. GiÃ¡ trá»‹ \\(TRUE\\) cho biáº¿t biáº¿n Ä‘Æ°á»£c há»i Ä‘Ãºng lÃ  kiá»ƒu sá»‘; giÃ¡ trá»‹ \\(FALSE\\) cho biáº¿t biáº¿n Ä‘Æ°á»£c há»i khÃ´ng pháº£i lÃ  kiá»ƒu sá»‘. NgoÃ i cÃ¡ch sá»­ dá»¥ng hÃ m .numeric(), báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m class(). CÃ¡ch sá»­ dá»¥ng hai hÃ m nÃ y nhÆ° sau:Trong phÃ©p gÃ¡n cho giÃ¡ trá»‹ cá»§a biáº¿n \\(x\\) nhÆ° á»Ÿ trÃªn, máº·c dÃ¹ giÃ¡ trá»‹ khá»Ÿi táº¡o (sá»‘ 5) lÃ  sá»‘ nguyÃªn nhÆ°ng R váº«n máº·c Ä‘á»‹nh cho ráº±ng \\(x\\) lÃ  sá»‘ tháº­p phÃ¢n. Äá»ƒ táº¡o má»™t biáº¿n kiá»ƒu sá»‘ nguyÃªn trong R, báº¡n Ä‘á»c cáº§n pháº£i sá»­ dá»¥ng chá»¯ â€œLâ€ phÃ­a sau sá»‘ nguyÃªn Ä‘Ã³. Chá»¯ L lÃ  viáº¿t táº¯t cho â€œLongâ€ nghÄ©a lÃ  sá»‘ nguyÃªn kiá»ƒu \\(Long\\) trong cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh cÆ¡ báº£n. Sá»‘ nguyÃªn kiá»ƒu \\(Long\\) lÃ  cÃ¡c sá»‘ nguyÃªn cáº§n 32 bytes (1 byte lÃ  1 Ã´ chá»©a sá»‘ 0 hoáº·c 1) Ä‘á»ƒ lÆ°u vÃ  nháº­n \\(2^{32}\\) giÃ¡ trá»‹ tá»« âˆ’2,147,483,648 (\\(-2^{31}\\)) Ä‘áº¿n 2,147,483,647 (\\(2^{31}-1\\)). Äá»ƒ táº¡o biáº¿n \\(x\\) nháº­n giÃ¡ trá»‹ lÃ  sá»‘ nguyÃªn 5 chÃºng ta viáº¿t nhÆ° sau:PhÃ¢n biá»‡t sá»‘ nguyÃªn (integer) vÃ  sá»‘ tháº­p phÃ¢n (numeric) trong cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh cÃ³ Ã½ nghÄ©a khi báº¡n Ä‘á»c cáº§n tiáº¿t kiá»‡m bá»™ nhá»› cho chÆ°Æ¡ng trÃ¬nh. Trong R, khi sá»­ dá»¥ng sá»‘ tháº­p phÃ¢n thay cho sá»‘ nguyÃªn, dung lÆ°á»£ng bá»™ nhá»› mÃ¡y tÃ­nh sáº½ tÄƒng gáº¥p 2 láº§n. HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ dung lÆ°á»£ng bá»™ nhá»› cáº§n sá»­ dá»¥ng cho cÃ¡c vÃ©c-tÆ¡ chá»©a cÃ¡c sá»‘ nguyÃªn vÃ  cÃ¡c vÃ©c-tÆ¡ chá»©a cÃ¡c sá»‘ tháº­p phÃ¢n vá»›i Ä‘á»™ dÃ i (sá»‘ lÆ°á»£ng pháº§n tá»­ trong vÃ©c-tÆ¡) tá»« 1 Ä‘áº¿n 100. KhÃ´ng cÃ³ sá»± khÃ¡c biá»‡t vá» bá»™ nhá»› cho vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i dÆ°á»›i 10 nhÆ°ng khi vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i tá»« 10 trá»Ÿ lÃªn, vÃ©c-tÆ¡ kiá»ƒu sá»‘ tháº­p phÃ¢n cáº§n trung bÃ¬nh khoáº£ng 2 láº§n bá»™ nhá»› vá»›i vÃ©c-tÆ¡ kiá»ƒu sá»‘ nguyÃªn.CÃ¡c phÃ©p tÃ­nh toÃ¡n thÃ´ng thÆ°á»ng khi sá»­ dá»¥ng vá»›i biáº¿n kiá»ƒu sá»‘ Ä‘Æ°á»£c liá»‡t kÃª trong báº£ng dÆ°á»›i Ä‘Ã¢y\n(#tab:unnamed-chunk-14)CÃ¡c phÃ©p toÃ¡n cÆ¡ báº£n vá»›i biáº¿n kiá»ƒu sá»‘\nLÆ°u Ã½ ráº±ng cÃ¡c phÃ©p toÃ¡n \\(%%\\) vÃ  \\(%\\%\\) cÃ³ thá»ƒ thá»±c hiá»‡n Ä‘Æ°á»£c vá»›i cáº£ sá»‘ kiá»ƒu tháº­p phÃ¢nTrong R cÃ³ cÃ¡ch viáº¿t biáº¿n kiá»ƒu sá»‘ theo kiá»ƒu khoa há»c vÃ  cÃ¡c giÃ¡ trá»‹ sá»‘ Ä‘áº·c biá»‡t mÃ  báº¡n Ä‘á»c cÅ©ng nÃªn ghi nhá»›:\n(#tab:unnamed-chunk-15)CÃ¡c giÃ¡ trá»‹ sá»‘ Ä‘áº·c biá»‡t\nBáº¡n Ä‘á»c cÃ³ thá»ƒ thá»­ tÃ­nh toÃ¡n trÃªn cÃ¡c giÃ¡ trá»‹ Ä‘áº·c biá»‡t","code":"\nx <- 5 # do 5 lÃ  giÃ¡ trá»‹ kiá»ƒu sá»‘ nÃªn R sáº½ hiá»ƒu x lÃ  biáº¿n kiá»ƒu sá»‘\nis.numeric(x) # do 5 lÃ  giÃ¡ trá»‹ kiá»ƒu sá»‘ nÃªn R tráº£ lá»i TRUE## [1] TRUE\nclass(x) # do 5 lÃ  giÃ¡ trá»‹ kiá»ƒu sá»‘ nÃªn R sáº½ hiá»ƒu x lÃ  biáº¿n kiá»ƒu sá»‘ (numeric)## [1] \"numeric\"\nx<-\"abc\" # thá»­ vá»›i biáº¿n x khÃ´ng pháº£i lÃ  kiá»ƒu sá»‘\nis.numeric(x) # x khÃ´ng pháº£i giÃ¡ trá»‹ kiá»ƒu sá»‘ nÃªn káº¿t quáº£ lÃ  FALSE## [1] FALSE\nx<-5L # 5L nghÄ©a lÃ  sá»‘ nguyÃªn 5, L lÃ  viáº¿t táº¯t cá»§a Long\nclass(x) # x lÃ  sá»‘ tá»± nhiÃªn## [1] \"integer\"\nis.numeric(x) # x khÃ´ng cÃ²n lÃ  sá»‘ tháº­p phÃ¢n, nhÆ°ng váº«n lÃ  kiá»ƒu sá»‘## [1] TRUE\n6.5 %% 2 # pháº§n dÆ° cá»§a phÃ©p chia 6.5 cho 2, R sáº½ tráº£ káº¿t quáº£ lÃ  1.5## [1] 0.5\n6.5 %/% 2 # pháº§n nguyÃªn cá»§a káº¿t quáº£ cá»§a phÃ©p chia 6.5 cho 2## [1] 3\n1/0 # kÃªt quáº£ cá»§a 1/0 lÃ  dÆ°Æ¡ng vÃ´ cÃ¹ng (Inf)\n(-1)/0 # kÃªt quáº£ cá»§a 1/0 lÃ  Ã¢m vÃ´ cÃ¹ng (-Inf)\nInf - 10^10 # Trong cÃ¡c phÃ©p tÃ­nh cÃ³ Inf sáº½ dáº«n Ä‘áº¿n káº¿t quáº£ lÃ  Inf\n1/0 + (-1)/0 # Inf + (-Inf) lÃ  khÃ´ng thá»ƒ xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c (NaN)\nlog(-2) # Káº¿t quáº£ cá»§a cÃ¡c phÃ©p tÃ­nh khÃ´ng cÃ³ nghÄ©a lÃ  NaN"},{"path":"index.html","id":"biáº¿n-kiá»ƒu-logic","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.2.2 Biáº¿n kiá»ƒu logic","text":"Biáº¿n kiá»ƒu logic lÃ  kiá»ƒu biáº¿n Ä‘Æ¡n giáº£n nháº¥t nhÆ°ng láº¡i lÃ  kiá»ƒu biáº¿n quan trá»ng nháº¥t trong má»i ngÃ´n ngá»¯ láº­p trÃ¬nh. Biáº¿n kiá»ƒu logic chá»‰ nháº­n má»™t trong hai giÃ¡ trá»‹ lÃ  \\(TRUE\\) hoáº·c \\(FALSE\\). R phÃ¢n biá»‡t chá»¯ viáº¿t hoa vÃ  chá»¯ viáº¿t thÆ°á»ng nÃªn báº¡n Ä‘á»c lÆ°u Ã½ khi viáº¿t giÃ¡ trá»‹ cho biáº¿n kiá»ƒu logic lÃ  hoÃ n toÃ n cÃ¡c chá»¯ cÃ¡i viáº¿t hoa. Äá»ƒ táº¡o má»™t biáº¿n kiá»ƒu logic, báº¡n Ä‘á»c táº¡o Ä‘áº·t tÃªn biáº¿n vÃ  gÃ¡n má»™t trong hai giÃ¡ trá»‹ logic cho biáº¿n Ä‘Ã³. Viá»‡c nÃ y hoÃ n toÃ n giá»‘ng nhÆ° khi táº¡o má»™t biáº¿n kiá»ƒu sá»‘Biáº¿n kiá»ƒu logic cÃ³ thá»ƒ Ä‘áº·t trong cÃ¡c phÃ©p tÃ­nh toÃ¡n giá»‘ng nhÆ° biáº¿n kiá»ƒu sá»‘. Khi gáº·p má»™t cÃ´ng thá»©c cÃ³ bao gá»“m cáº£ biáº¿n kiá»ƒu sá»‘ vÃ  biáº¿n kiá»ƒu logic, R sáº½ Ä‘á»•i biáº¿n kiá»ƒu logic nháº­n giÃ¡ trá»‹ \\(TRUE\\) thÃ nh sá»‘ 1 vÃ  biáº¿n kiá»ƒu logic cÃ³ giÃ¡ trá»‹ \\(FALSE\\) thÃ nh sá»‘ 0 Ä‘á»ƒ thá»±c hiá»‡n phÃ©p tÃ­nh toÃ¡n.Trong thá»±c táº¿, Ã­t khi chÃºng ta cáº§n pháº£i khá»Ÿi táº¡o giÃ¡ trá»‹ cho biáº¿n kiá»ƒu logic nhÆ° trÃªn, mÃ  biáº¿n kiá»ƒu logic thÆ°á»ng nháº­n Ä‘Æ°á»£c tá»« káº¿t quáº£ cÃ¡c phÃ©p sÃ¡nh trong R. CÃ¡c phÃ©p toÃ¡n sÃ¡nh nÃ y Ä‘Æ°á»£c liá»‡t kÃª trong báº£ng dÆ°á»›i Ä‘Ã¢y\n(#tab:unnamed-chunk-18)CÃ¡c phÃ©p sÃ¡nh cÆ¡ báº£n\nNgoÃ i ra, cÃ¡c biáº¿n kiá»ƒu logic cÃ²n lÃ  káº¿t quáº£ cá»§a viá»‡c káº¿t há»£p nhiá»u biáº¿n kiá»ƒu logic khÃ¡c báº±ng cÃ¡c toÃ¡n tá»­ logic. CÃ¡c toÃ¡n tá»­ logic bao gá»“m cÃ³ â€œVÃ â€, â€œHoáº·câ€ vÃ  toÃ¡n tá»­ â€œPhá»§ Ä‘á»‹nhâ€\n(#tab:unnamed-chunk-19)CÃ¡c toÃ¡n tá»­ logic\nBáº¡n Ä‘á»c cáº§n ghi nhá»› quy táº¯c káº¿t há»£p cÃ¡c biáº¿n kiá»ƒu logic báº±ng cÃ¡c toÃ¡n tá»­ logic nhÆ° báº£ng dÆ°á»›i Ä‘Ã¢y\n(#tab:unnamed-chunk-20)Káº¿t há»£p biáº¿n logic vá»›i cÃ¡c toÃ¡n tá»­ logic\nNhÆ° chÃºng tÃ´i Ä‘Ã£ Ä‘á» cáº­p á»Ÿ pháº§n trÃªn, cÃ¡c biáº¿n kiá»ƒu logic khi Ä‘áº·t trong cÃ¡c biá»ƒu thá»©c tÃ­nh toÃ¡n sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng Ä‘á»•i sang biáº¿n kiá»ƒu sá»‘ trÆ°á»›c khi thá»±c hiá»‡n phÃ©p tÃ­nh. NgÆ°á»£c láº¡i, khi biáº¿n kiá»ƒu sá»‘ xuáº¥t hiá»‡n trong cÃ¡c biá»ƒu thá»©c cÃ³ toÃ¡n tá»­ logic, biáº¿n kiá»ƒu sá»‘ cÅ©ng sáº½ Ä‘Æ°á»£c chuyá»ƒn sang kiá»ƒu logic. Tuy nhiÃªn, báº¡n Ä‘á»c lÆ°u Ã½ ráº±ng: chá»‰ cÃ³ sá»‘ 0 khi Ä‘áº·t trong biá»ƒu thá»©c cÃ³ toÃ¡n tá»­ logic má»›i Ä‘Æ°á»£c chuyá»ƒn thÃ nh \\(FALSE\\), má»i sá»‘ khÃ¡c 0 khi Ä‘á»•i sang kiá»ƒu logic Ä‘á»u Ä‘Æ°á»£c chuyá»ƒn thÃ nh \\(TRUE\\)â€Báº¡n Ä‘á»c cÃ³ thá»ƒ thá»±c hÃ nh viá»‡c tÃ­nh toÃ¡n trÃªn cÃ¡c toÃ¡n tá»­ logic nhÆ° dÆ°á»›i Ä‘Ã¢y. TrÆ°á»›c khi sá»­ dá»¥ng R Ä‘á»ƒ xem káº¿t quáº£, hÃ£y thá»­ suy nghÄ© xem cÃ¡c biá»ƒu thá»©c sau Ä‘Ã¢y cho káº¿t quáº£ nhÆ° tháº¿ nÃ o.","code":"\nx<-TRUE\nFALSE + TRUE * 10 # Sáº½ cho káº¿t quáº£ giá»‘ng nhÆ° 0 + 1 * 10## [1] 10\n# 1.\n(1<=2) | (2<=3)\n# 2.\n(1<=2) + (2<=3)\n# 3.\n((1<=2) * (2^2 == 4)) | (2!=3) # \n# 4.\n!((1<=2) * (2^2 == 4)) & !(2!=3) # \n# 5.\n((2 + 2) | (2 - 2)) & !(2 ^ 2) #"},{"path":"index.html","id":"biáº¿n-kiá»ƒu-chuá»—i-kÃ½-tá»±","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.2.3 Biáº¿n kiá»ƒu chuá»—i kÃ½ tá»±","text":"Trong R, biáº¿n kiá»ƒu chuá»—i kÃ½ tá»± Ä‘Æ°á»£c gá»i lÃ  kiá»ƒu character. Biáº¿n kiá»ƒu chuá»—i kÃ½ tá»± tÆ°Æ¡ng tá»± nhÆ° biáº¿n kiá»ƒu xÃ¢u kÃ½ tá»± (thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  string) trong cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh cÆ¡ báº£n. Biáº¿n kiá»ƒu chuá»—i kÃ½ tá»± cÃ³ thá»ƒ chá»‰ ngáº¯n gá»n lÃ  má»™t kÃ½ tá»± trá»‘ng, má»™t chá»¯ cÃ¡i, Ä‘Ã´i khi cÃ³ thá»ƒ lÃ  cáº£ má»™t cÃ¢u vÄƒn, vÃ  cÅ©ng cÃ³ thá»ƒ lÃ  cáº£ má»™t Ä‘oáº¡n vÄƒn báº£n dÃ i. Khi lÃ m viá»‡c vá»›i biáº¿n kiá»ƒu kÃ½ tá»±, báº¡n Ä‘á»c hÃ£y luÃ´n ghi nhá»› ráº±ng R phÃ¢n biá»‡t chá»¯ viáº¿t hoa vÃ  chá»¯ viáº¿t thÆ°á»ng.Äá»ƒ táº¡o má»™t biáº¿n cÃ³ kiá»ƒu kÃ½ tá»± trong R, báº¡n Ä‘á»c cáº§n táº¡o tÃªn biáº¿n vÃ  gÃ¡n cho biáº¿n giÃ¡ trá»‹ kiá»ƒu chuá»—i kÃ½ tá»±. R sáº½ hiá»ƒu má»™t biáº¿n lÃ  chuá»—i kÃ½ tá»± khi chuá»—i kÃ½ tá»± Ä‘Ã³ náº±m trong dáº¥u ngoáº·c kÃ©p â€œâ€ hoáº·c trong dáº¥u ngoáº·c Ä‘Æ¡n (â€™â€™).Äá»ƒ biáº¿t má»™t biáº¿n cÃ³ pháº£i kiá»ƒu chuá»—i kÃ½ tá»± khÃ´ng, báº¡n Ä‘á»c cÃ³ thá»ƒ dÃ¹ng hÃ m .character() hoáº·c hÃ m class()Khi xá»­ lÃ½ biáº¿n kiá»ƒu chuá»—i kÃ½ tá»±, báº¡n Ä‘á»c nÃªn sá»­ dá»¥ng cÃ¡c hÃ m sá»‘ Ä‘Ã£ Ä‘Æ°á»£c xÃ¢y dá»±ng sáºµn. Báº£ng dÆ°á»›i Ä‘Ã¢y liá»‡t kÃª danh sÃ¡ch cÃ¡c hÃ m thÆ°á»ng sá»­ dá»¥ng vÃ  káº¿t quáº£ Ä‘áº§u ra cá»§a cÃ¡c hÃ m nÃ y\n(#tab:unnamed-chunk-24)CÃ¡c hÃ m thÆ°á»ng sá»­ dá»¥ng khi lÃ m viá»‡c vá»›i chuá»—i kÃ½ tá»±\nBáº¡n Ä‘á»c cÃ³ thá»ƒ thá»­ cÃ¡c hÃ m liá»‡t kÃª trong báº£ng á»Ÿ trÃªn vÃ  quan sÃ¡t giÃ¡ trá»‹ tráº£ ra cá»§a cÃ¡c hÃ m Ä‘á»ƒ hiá»ƒu cÃ¡ch Ã¡p dá»¥ng:NhÃ¬n chung xá»­ lÃ½ biáº¿n kiá»ƒu chuá»—i kÃ½ tá»± sáº½ khÃ³ khÄƒn hÆ¡n vá»›i xá»­ lÃ½ biáº¿n kiá»ƒu sá»‘. Äá»ƒ thá»±c hiá»‡n Ä‘Æ°á»£c cÃ¡c yÃªu cáº§u phá»©c táº¡p hÆ¡n, báº¡n Ä‘á»c cÃ³ thá»ƒ káº¿t há»£p cÃ¡c hÃ m sá»‘ á»Ÿ trÃªn Ä‘á»ƒ cÃ³ hiá»‡u quáº£ tá»‘t hÆ¡n, hoáº·c sá»­ dá»¥ng cÃ¡c thÆ° viá»‡n Ä‘Æ°á»£c phÃ¡t triá»ƒn dÃ nh riÃªng cho biáº¿n kiá»ƒu chuá»—i kÃ½ tá»±. ChÃºng tÃ´i thÆ°á»ng sá»­ dá»¥ng thÆ° viá»‡n \\(stringr\\) khi xá»­ lÃ½ biáº¿n kiá»ƒu chuá»—i kÃ½ tá»±. CÃ¡c hÃ m há»¯u Ã­ch trong thÆ° viá»‡n \\(stringr\\) sáº½ Ä‘Æ°á»£c tháº£o luáº­n khi chÃºng ta lÃ m viá»‡c vá»›i dá»¯ liá»‡u chá»©a cÃ¡c biáº¿n kiá»ƒu chuá»—i kÃ½ tá»±.Má»™t kiá»ƒu biáº¿n báº¡n Ä‘á»c cÅ©ng thÆ°á»ng gáº·p khi lÃ m viá»‡c vá»›i dá»¯ liá»‡u trong R lÃ  biáº¿n hay vÃ©c-tÆ¡ kiá»ƒu factor. Biáº¿n kiá»ƒu factor cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c hiá»ƒu lÃ  biáº¿n kiá»ƒu chuá»—i kÃ½ tá»± nhÆ°ng Ä‘Æ°á»£c R lÆ°u trá»¯ dÆ°á»›i dáº¡ng tiáº¿t kiá»‡m bá»™ nhá»›. ChÃºng ta sáº½ tháº£o luáº­n ká»¹ hÆ¡n vá» biáº¿n kiá»ƒu factor khi lÃ m viá»‡c vá»›i vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±.","code":"\nx<-\"Ice cream\" # \"Ice cream\" vá»›i chá»¯ I viáº¿t hoa sáº½ khÃ¡c \"ice cream\" khi i lÃ  chá»¯ thÆ°á»ng\nx == \"ice cream\" # sáº½ tráº£ ra giÃ¡ trá»‹ lÃ  FALSE## [1] FALSE\nis.character(x)## [1] TRUE\nclass(x)## [1] \"character\"\nx1<-\"I am an Actuary\"; x2<-\"I am Vietnamese\"\nnchar(x1) # cho biáº¿t x1 cÃ³ bao nhiÃªu kÃ½ tá»±, tÃ­nh cáº£ cÃ¡c khoáº£ng trá»‘ng\npaste(x1, x2, sep = \" and \") # ghÃ©p x1 vÃ  x2 láº¡i vá»›i nhau vÃ  thÃªm \" and \" vÃ o giá»¯a\ntoupper(x1); tolower(x1) # chuyá»ƒn táº¥t cáº£ cÃ¡c kÃ½ tá»¥ sang viáº¿t hoa/viáº¿t thÆ°á»ng\nchartr(\"an\",\"bm\",x1) # thay táº¥t cáº£ cÃ¡c chá»¯ \"a\" trong x1 báº±ng \"b\" vÃ  \"n\" báº±ng \"m\"\nsubstr(x1, 9, 15) # láº¥y ra Ä‘oáº¡n kÃ½ tá»± tá»« kÃ½ tá»± thá»© 9 (chá»¯ A) Ä‘áº¿n kÃ½ tá»± thá»© 15 (chá»¯ \"y\")\nsub(\"a\", \"XYZ\", x1) # thay chá»¯ \"a\" Ä‘áº§u tiÃªn trong x1 báº±ng Ä‘oáº¡n \"XYZ\"\ngsub(\"a\", \"XYZ\", x1) # thay táº¥t cáº£ chá»¯ \"a\" trong x1 báº±ng Ä‘oáº¡n \"XYZ\"\ngrepl(\"Vietnam\", x2) # cho biáº¿t Ä‘oáº¡n kÃ½ tá»± \"Vietnam\" cÃ³ náº±m trong x2 hay khÃ´ng "},{"path":"index.html","id":"biáº¿n-kiá»ƒu-thá»i-gian","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.2.4 Biáº¿n kiá»ƒu thá»i gian","text":"Trong R cÃ³ hai kiá»ƒu biáº¿n thá»i gian lÃ  biáº¿n kiá»ƒu ngÃ y thÃ¡ng (\\(Date\\)) vÃ  biáº¿n kiá»ƒu thá»i gian chi tiáº¿t (\\(POSIXct\\)). Thá»i gian POSIX hay cÃ²n Ä‘Æ°á»£c biáº¿t Ä‘áº¿n vá»›i tÃªn gá»i lÃ  thá»i gian Unix lÃ  má»™t cÃ¡ch quy Æ°á»›c vá» thá»i gian cá»§a má»™t thá»i Ä‘iá»ƒm cá»¥ thá»ƒ Ä‘Æ°á»£c tÃ­nh báº±ng sá»‘ giÃ¢y tá»« cá»™t má»‘c thá»i gian Unix Ä‘áº¿n thá»i Ä‘iá»ƒm Ä‘Ã³. Cá»™t má»‘c thá»i gian Unix Ä‘Æ°á»£c cÃ¡c ká»¹ sÆ° xÃ¢y dá»±ng há»‡ Ä‘iá»u hÃ nh Unix lá»±a chá»n lÃ  thá»i Ä‘iá»ƒm 0 giá», 0 phÃºt, 0 giÃ¢y, ngÃ y 01 thÃ¡ng 01 nÄƒm 1970 theo giá» phá»‘i há»£p quá»‘c táº¿ (giá» UTC). Chá»¯ â€œctâ€ lÃ  viáº¿t táº¯t cá»§a canlendar time. Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ gáº·p biáº¿n kiá»ƒu thá»i gian chi tiáº¿t trong R dÆ°á»›i dáº¡ng \\(POSIXlt\\) trong Ä‘Ã³ â€œltâ€ lÃ  chá»¯ viáº¿t táº¯t cá»§a local time. Sá»± khÃ¡c biá»‡t cá»§a biáº¿n kiá»ƒu \\(POSIXct\\) vÃ  \\(POSIXlt\\) chá»‰ lÃ  cÃ¡ch R lÆ°u trá»¯ cÃ¡c biáº¿n nÃ y dÆ°á»›i dáº¡ng sá»‘ nguyÃªn hay dÆ°á»›i dáº¡ng vÃ©c-tÆ¡. Trong cuá»‘n sÃ¡ch nÃ y khi nÃ³i Ä‘áº¿n biáº¿n kiá»ƒu thá»i gian chÃºng tÃ´i luÃ´n sá»­ dá»¥ng biáº¿n kiá»ƒu \\(POSIXct\\).Äá»ƒ táº¡o má»™t biáº¿n kiá»ƒu thá»i gian trong R, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m .Date() cho biáº¿n kiá»ƒu ngÃ y thÃ¡ng vÃ  hÃ m .POSIXct() cho biáº¿n kiá»ƒu thá»i gian chi tiáº¿t:Khi xá»­ lÃ½ biáº¿n kiá»ƒu thá»i gian, báº¡n Ä‘á»c nÃªn Ä‘á»•i sang dáº¡ng sá»‘ hoáº·c lÆ°u biáº¿n kiá»ƒu thá»i gian dÆ°á»›i dáº¡ng má»™t vÃ©c-tÆ¡ sá»‘ lÆ°u láº¡i cÃ¡c thÃ nh pháº§n cá»§a thá»i gian theo má»™t thá»© tá»± nháº¥t Ä‘á»‹nh. HÃ m .numeric() sáº½ Ä‘á»•i cÃ¡c biáº¿n kiá»ƒu ngÃ y thÃ¡ng hoáº·c thá»i gian chi tiáº¿t ra thÃ nh sá»‘ ngÃ y (Ä‘á»‘i vá»›i biáº¿n kiá»ƒu ngÃ y thÃ¡ng) hoáº·c sá»‘ giÃ¢y (Ä‘á»‘i vá»›i biáº¿n kiá»ƒu thá»i gian chi tiáº¿t) tÃ­nh tá»« má»‘c thá»i gian Unix.mÃºi giá» UTC cá»§a Viá»‡t Nam lÃ  \\(UTC + 7\\) nÃªn thá»i Ä‘iá»ƒm tÃ­nh lÃ m má»‘c sáº½ lÃ  7 giá», 0 phÃºt, 0 giÃ¢y ngÃ y 01 thÃ¡ng 01 nÄƒm 1970. Äiá»u nÃ y giáº£i thÃ­ch táº¡i sao khi Ä‘á»•i biáº¿n time2 thÃ nh dáº¡ng sá»‘ ta sáº½ thu Ä‘Æ°á»£c káº¿t quáº£ lÃ  30 giÃ¢y. Khi sá»­ dá»¥ng cÃ¡c hÃ m .Date() hoáº·c .POSIXct() giÃ¡ trá»‹ Ä‘Æ°á»£c Ä‘Æ°a vÃ o pháº£i lÃ  biáº¿n dáº¡ng chuá»—i kÃ½ tá»± Ä‘Æ°á»£c viáº¿t theo Ä‘Ãºng quy táº¯c â€œYYYY-MM-DDâ€ vÃ  â€œYYYY-MM-DD hh:mm:ssâ€. Trong trÆ°á»ng há»£p chuá»—i kÃ½ tá»± Ä‘Æ°á»£c Ä‘Æ°a vÃ o khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng, báº¡n Ä‘á»c cáº§n pháº£i thÃ´ng bÃ¡o cho R biáº¿t Ä‘á»‹nh dáº¡ng cá»§a biáº¿n chuá»—i kÃ½ tá»± Ä‘Ã³ báº±ng cÃ¡ch sá»­ dá»¥ng thÃªm tÃ¹y biáº¿n \\(format\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ tham kháº£o cÃ¡ch khai bÃ¡o Ä‘á»‹nh dáº¡ng cá»§a biáº¿n chuá»—i kÃ½ tá»± trong cÃ¡c hÃ m .Date hoáº·c .POSIXct() nhÆ° sauTrong ráº¥t nhiá»u trÆ°á»ng há»£p, biáº¿n kiá»ƒu thá»i gian sáº½ Ä‘Æ°á»£c láº¥y tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R vÃ  Ä‘Æ°á»£c lÆ°u dÆ°á»›i dáº¡ng sá»‘ tá»± nhiÃªn. Äiá»ƒn hÃ¬nh lÃ  khi báº¡n Ä‘á»c láº¥y dá»¯ liá»‡u tá»« cÃ¡c file Ä‘Æ°á»£c lÆ°u tá»« pháº§n má»m Microsoft Excel. CÃ¡c hÃ m .Date() vÃ  .POSIXct() cÅ©ng cÃ³ thá»ƒ chuyá»ƒn giÃ¡ trá»‹ sá»‘ biáº¿n kiá»ƒu ngÃ y thÃ¡ng vÃ  biáº¿n kiá»ƒu thá»i gian chi tiáº¿t. Báº¡n Ä‘á»c cáº§n sá»­ dá»¥ng thÃªm tÃ¹y biáº¿n \\(origin\\) trong cÃ¡c hÃ m nÃ y Ä‘á»ƒ quy Ä‘á»‹nh má»‘c thá»i gian.Sau khi cháº¡y cÃ¡c cÃ¢u lá»‡nh á»Ÿ trÃªn, biáº¿n \\(date1\\) tÆ°Æ¡ng á»©ng vá»›i ngÃ y thá»© 19000 tÃ­nh tá»« má»‘c ngÃ y 1 thÃ¡ng 1 nÄƒm 1970 vÃ  biáº¿n \\(time1\\) tÆ°Æ¡ng á»©ng vá»›i thá»i Ä‘iá»ƒm giÃ¢y thá»© 1 tá»· tÃ­nh tá»« 07 giá» (Ä‘Ãºng) ngÃ y 1 thÃ¡ng 1 nÄƒm 1970.Váº¥n Ä‘á» thÆ°á»ng gáº·p pháº£i Ä‘Ã³ lÃ  cÃ¡ch chuyá»ƒn Ä‘á»•i tá»« thá»i gian thÃ nh sá»‘ cá»§a pháº§n má»m lÆ°u dá»¯ liá»‡u gá»‘c cÃ³ má»‘c thá»i gian khÃ¡c vá»›i R. Cháº³ng háº¡n nhÆ° biáº¿n kiá»ƒu thá»i gian tá»« Microsoft Excel khi chuyá»ƒn Ä‘á»•i thÃ nh sá»‘ sá»­ dá»¥ng má»‘c thá»i gian lÃ  ngÃ y 30 thÃ¡ng 12 nÄƒm 1899. Giáº£ sá»­ khi báº¡n Ä‘á»c láº¥y má»™t biáº¿n thá»i gian tá»« Microsoft Excel vÃ o R vÃ  tháº¥y giÃ¡ trá»‹ lÃ  45.678. Náº¿u khÃ´ng sá»­ dá»¥ng má»‘c thá»i gian cá»§a Microsoft Excel Ä‘á»ƒ chuyá»ƒn Ä‘á»•i, giÃ¡ trá»‹ thá»i gian nháº­n Ä‘Æ°á»£c sáº½ khÃ´ng Ä‘Ãºng.NguyÃªn táº¯c cÆ¡ báº£n khi xá»­ lÃ½ vÃ  tÃ­nh toÃ¡n vá»›i biáº¿n kiá»ƒu thá»i gian trong R lÃ  luÃ´n luÃ´n Ä‘á»•i biáº¿n sang kiá»ƒu sá»‘ nguyÃªn hoáº·c Ä‘á»•i má»™t biáº¿n kiá»ƒu thá»i gian thÃ nh má»™t vÃ©c-tÆ¡ chá»©a cÃ¡c thÃ nh pháº§n ngÃ y, thÃ¡ng, nÄƒm, giá», phÃºt, giÃ¢y á»Ÿ dáº¡ng sá»‘. Äá»ƒ tÃ¡ch biáº¿n kiá»ƒu ngÃ y thÃ¡ng ra thÃ nh ngÃ y, thÃ¡ng, nÄƒm báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m sub.str() Ä‘á»ƒ láº¥y ra cÃ¡c Ä‘oáº¡n kÃ½ tá»± chá»©a giÃ¡ trá»‹ ngÃ y, thÃ¡ng, vÃ  nÄƒm rá»“i sau Ä‘Ã³ sá»­ dá»¥ng hÃ m .numeric() Ä‘á»ƒ Ä‘á»•i cÃ¡c biáº¿n thÃ nh biáº¿n kiá»ƒu sá»‘:Xá»­ lÃ½ biáº¿n kiá»ƒu ngÃ y thÃ¡ng vÃ  biáº¿n kiá»ƒu thá»i gian phá»©c táº¡p hÆ¡n vá»›i xá»­ lÃ½ biÃªn kiá»ƒu sá»‘ vÃ  thÆ°á»ng cáº§n thÃªm cÃ¡c thÆ° viá»‡n bá»• sung. ThÆ° viá»‡n thÆ°á»ng chÃºng tÃ´i Ä‘Æ°á»£c sá»­ dá»¥ng khi lÃ m viá»‡c vá»›i biáº¿n kiá»ƒu thá»i gian lÃ  thÆ° viá»‡n \\(lubridate\\) vÃ  thÆ° viá»‡n \\(hms\\). Báº¡n Ä‘á»c sáº½ sá»­ dá»¥ng cÃ¡c thÆ° viá»‡n nÃ y Ä‘á»ƒ thá»±c hÃ nh vá»›i biáº¿n kiá»ƒu thá»i gian trong chÆ°Æ¡ng phÃ¢n tÃ­ch dá»¯ liá»‡u.","code":"\ndate1<-as.Date(\"2023-08-31\") # biáº¿n date1 nháº­n giÃ¡ trá»‹ lÃ  ngÃ y 31 thÃ¡ng 08 nÄƒm 2023\ntime1<-as.POSIXct(\"2023-08-31 16:41:30\") # biáº¿n time1 lÃ  16 giá», 41 phÃºt, 30 giÃ¢y ngÃ y 31 thÃ¡ng 08 nÄƒm 2023\nas.numeric(date1) # cho biáº¿t sá»‘ ngÃ y tÃ­nh tá»« 01/01/1970 Ä‘áº¿n date1## [1] 19600\ntime2<-as.POSIXct(\"1970-01-01 07:00:30\")\nas.numeric(time2) # cho biáº¿t sá»‘ giÃ¢y tÃ­nh tá»« 7 giá», 0 phÃºt, 0 giÃ¢y ngÃ y 01/01/1970 Ä‘áº¿n time2## [1] 30\ndate1<-as.Date(\"02/27/92\", format = \"%m/%d/%y\") # date1 sáº½ nháº­n giÃ¡ trá»‹ lÃ  ngÃ y 27 thÃ¡ng 02 nÄƒm 1992\ndate2<-as.Date(\"02 Jan 2010\", format = \"%d %b %Y\") # ngÃ y 02 thÃ¡ng 01 nÄƒm 2010\ndate1<-as.Date(19000, origin = \"1970-01-01\")\ntime1<-as.POSIXct(10^9, origin = \"1970-01-01 07:00:00\")\ndate1<-as.Date(45678, origin = \"1970-01-01\")\ndate1 # date1 sáº½ nháº­n giÃ¡ trá»‹ SAI khi nháº­n Ä‘á»‹nh má»‘c thá»i gian lÃ  ngÃ y 01 thÃ¡ng 01 nÄƒm 1970## [1] \"2095-01-23\"\ndate2<-as.Date(45678, origin = \"1899-12-30\")\ndate2 # date2 sáº½ nháº­n giÃ¡ trá»‹ ÄÃšNG do khi chuyá»ƒn Ä‘á»•i Ä‘Ã£ dÃ¹ng Ä‘Ãºng má»‘c thá»i gian cá»§a Excel## [1] \"2025-01-21\"\nyear<-as.numeric(substr(date2,1,4)) # sáº½ láº¥y ra Ä‘oáº¡n kÃ½ tá»± tá»« 1-4 trong date2 sau Ä‘Ã³ Ä‘á»•i Ä‘oáº¡n kÃ½ tá»± thÃ nh sá»‘\nmonth<-as.numeric(substr(date2,6,7)) # sáº½ láº¥y ra Ä‘oáº¡n kÃ½ tá»± tá»« 6-7 trong date2 sau Ä‘Ã³ Ä‘á»•i Ä‘oáº¡n kÃ½ tá»± thÃ nh sá»‘\nday<-as.numeric(substr(date2,9,10)) # sáº½ láº¥y ra Ä‘oáº¡n kÃ½ tá»± tá»« 9-10 trong date2 sau Ä‘Ã³ Ä‘á»•i Ä‘oáº¡n kÃ½ tá»± thÃ nh sá»‘"},{"path":"index.html","id":"vÃ©c-tÆ¡-trong-r","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.3 VÃ©c-tÆ¡ trong R","text":"Trong pháº§n nÃ y cá»§a cuá»‘n sÃ¡ch chÃºng tÃ´i sáº½ giá»›i thiá»‡u cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vá» vÃ©c-tÆ¡ Ä‘á»ƒ báº¡n Ä‘á»c cÃ³ hiá»ƒu biáº¿t cÆ¡ báº£n nháº¥t vá» khÃ¡i niá»‡m cá»§a vÃ©c-tÆ¡ vÃ  tháº¿ máº¡nh cá»§a R khi lÃ m viá»‡c vá»›i vÃ©c-tÆ¡. Trong táº¥t cáº£ cÃ¡c pháº§n tiáº¿p theo cá»§a cuá»‘n sÃ¡ch Ä‘á»u cÃ³ liÃªn quan Ä‘áº¿n Ä‘á»‘i tÆ°á»£ng vÃ©c-tÆ¡ Ä‘Ã³ Ä‘i quÃ¡ sÃ¢u vÃ o chi tiáº¿t trong pháº§n nÃ y lÃ  khÃ´ng thá»±c sá»± cáº§n thiáº¿t.","code":""},{"path":"index.html","id":"táº¡i-sao-xá»­-lÃ½-vÃ©c-tÆ¡-lÃ -tháº¿-máº¡nh-cá»§a-r","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.3.1 Táº¡i sao xá»­ lÃ½ vÃ©c-tÆ¡ lÃ  tháº¿ máº¡nh cá»§a R?","text":"VÃ©c-tÆ¡ lÃ  má»™t táº­p há»£p cÃ¡c pháº§n tá»­ cÃ³ cÃ¹ng kiá»ƒu Ä‘Æ°á»£c sáº¯p xáº¿p theo má»™t thá»© tá»± nháº¥t Ä‘á»‹nh. Thá»© tá»± cá»§a má»™t pháº§n tá»­ trong vÃ©c-tÆ¡ thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  chá»‰ sá»‘. Pháº§n tá»­ Ä‘áº§u tiÃªn trong má»™t vÃ©c-tÆ¡ cá»§a R cÃ³ chá»‰ sá»‘ lÃ  1. Báº¡n Ä‘á»c hÃ£y lÆ°u Ã½ Ä‘iá»u nÃ y bá»Ÿi trong má»™t vÃ i ngÃ´n ngá»¯ khÃ¡c chá»‰ sá»‘ cá»§a pháº§n tá»­ Ä‘áº§u tiÃªn trong vÃ©c-tÆ¡ sáº½ lÃ  0. Vec-tÆ¡ lÃ  Ä‘á»‘i tÆ°á»£ng quan trá»ng nháº¥t trong R vÃ  xá»­ lÃ½ vec-tÆ¡ chÃ­nh lÃ  má»™t tháº¿ máº¡nh cá»§a R mÃ  Ä‘a sá»‘ cÃ¡c ngÃ´n ngá»¯ cÆ¡ báº£n khÃ¡c khÃ´ng Ä‘Ã¡p á»©ng Ä‘Æ°á»£c.Khi báº¡n Ä‘á»c lÃ m viá»‡c vá»›i dá»¯ liá»‡u, cÃ¡c thao tÃ¡c biáº¿n Ä‘á»•i dá»¯ liá»‡u thÆ°á»ng sáº½ lÃ  biáº¿n Ä‘á»•i Ä‘á»“ng thá»i cÃ¡c giÃ¡ trá»‹ trÃªn cÃ¹ng má»™t hÃ ng hoáº·c má»™t cá»™t dá»¯ liá»‡u. Hiáº¿m khi cÃ¡c thao tÃ¡c nÃ y Ä‘Æ°á»£c thá»±c hiá»‡n vá»›i má»™t giÃ¡ trá»‹ riÃªng láº». Äá»‘i tÆ°á»£ng vÃ©c-tÆ¡ lÃ  má»™t cÃ´ng cá»¥ hiá»‡u quáº£ Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c cÃ´ng viá»‡c nÃ y. Hiá»‡u quáº£ á»Ÿ Ä‘Ã¢y khÃ´ng chá»‰ bao gá»“m sá»± tiá»‡n lá»£i khi viáº¿t cÃ¡c cÃ¢u lá»‡nh, mÃ  cÃ²n hiá»‡u quáº£ á»Ÿ cáº£ thá»i gian thá»±c hiá»‡n tÃ­nh toÃ¡n. Trong pháº§n Láº­p trÃ¬nh vá»›i R chÃºng tÃ´i sáº½ tháº£o luáº­n ká»¹ hÆ¡n vá» hiá»‡u quáº£ vá» thá»i gian tÃ­nh toÃ¡n. HÃ£y nÃ³i vá» sá»± tiá»‡n lá»£i khi sá»­ dá»¥ng vÃ©c-tÆ¡ trÆ°á»›c. ChÃºng tÃ´i thá»±c hiá»‡n má»™t phÃ¢n tÃ­ch trÃªn dá»¯ liá»‡u cÃ³ tÃªn lÃ  \\(trump\\_tweets\\) náº±m trong thÆ° viá»‡n \\(dslabs\\) báº±ng cÃ¡ch cháº¡y má»™t Ä‘oáº¡n lá»‡nh sauDá»¯ liá»‡u \\(trump\\_tweets\\) lÃ  dá»¯ liá»‡u chá»©a hÆ¡n 20 nghÃ¬n cÃ¢u â€œtweetsâ€ cá»§a cá»±u tá»•ng thá»‘ng Má»¹ Donald Trump trong khoang thá»i gian tá»« 2009 Ä‘áº¿n 2017. Äoáº¡n cÃ¢u lá»‡nh trÃªn thá»±c hiá»‡n má»™t phÃ¢n tÃ­ch cho biáº¿t káº¿t quáº£ lÃ  Donald Trump cÃ³ thÃ³i quen viáº¿t â€œtweetsâ€ vÃ o thá»i gian nÃ o trong ngÃ y. Káº¿t quáº£ nÃ y thu Ä‘Æ°á»£c báº±ng viá»‡c thá»±c hiá»‡n 1 loáº¡t cÃ¡c phÃ©p biáº¿n Ä‘á»•i vÃ  tÃ­nh toÃ¡n cá»™t cÃ³ tÃªn lÃ  \\(created\\_at\\) cá»§a dá»¯ liá»‡u:Láº¥y ra Ä‘oáº¡n kÃ½ tá»± chá»©a giÃ¡ trá»‹ lÃ  giá» cá»§a cá»™t \\(created\\_at\\) (dÃ¹ng hÃ m substr()).Chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u kiá»ƒu chuá»—i kÃ½ sang kiá»ƒu sá»‘ (dÃ¹ng hÃ m .numeric()).Chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u kiá»ƒu sá»‘ sang kiá»ƒu factor (dÃ¹ng hÃ m .factor())Tá»•ng há»£p láº¡i dá»¯ liá»‡u kiá»ƒu factor theo cÃ¡c nhÃ³m (dÃ¹ng hÃ m table())Váº½ Ä‘á»“ thá»‹ kiá»ƒu \\(barplot\\) Ä‘á»ƒ ngÆ°á»i Ä‘á»c hiá»ƒu vá» dá»¯ liá»‡u má»™t cÃ¡ch nhanh chÃ³ng vÃ  trá»±c quan hÆ¡n.Äá»ƒ Ä‘i tá»« cá»™t dá»¯ liá»‡u \\(created\\_at\\) kiá»ƒu \\(POSIXct\\) Ä‘áº¿n káº¿t quáº£ lÃ  Ä‘á»“ thá»‹ dáº¡ng \\(barplot\\) mÃ  chá»‰ cáº§n má»™t dÃ²ng lá»‡nh lÃ  viá»‡c gáº§n nhÆ° khÃ´ng thá»ƒ Ä‘á»‘i vá»›i Ä‘a sá»‘ cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh. CÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh cÆ¡ báº£n chá»‰ cho phÃ©p ngÆ°á»i sá»­ dá»¥ng tÃ¡c Ä‘á»™ng Ä‘á»ƒn tá»«ng pháº§n tá»­ cá»§a vÃ©c-tÆ¡ má»™t cÃ¡ch láº§n lÆ°á»£t vÃ  riÃªng láº». TrÃ¡i láº¡i, khi báº¡n Ä‘á»c thá»±c hiá»‡n má»™t phÃ©p biáº¿n Ä‘á»•i hay tÃ­nh toÃ¡n trÃªn Ä‘á»‘i tÆ°á»£ng lÃ  vÃ©c-tÆ¡ trong R, cÃ¡c phÃ©p tÃ­nh toÃ¡n hay biáº¿n Ä‘á»•i nÃ y sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n má»™t cÃ¡ch Ä‘á»“ng thá»i cho táº¥t cáº£ cÃ¡c pháº§n tá»­ trong vÃ©c-tÆ¡. NgoÃ i viá»‡c giÃºp cho cÃ¡c cÃ¢u lá»‡nh trá»Ÿ nÃªn Ä‘Æ¡n giáº£n, dá»ƒ hiá»ƒu, R cÅ©ng Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘á»ƒ nhá»¯ng tÃ­nh toÃ¡n trÃªn vÃ©c-tÆ¡ Ä‘Æ°á»£c thá»±c hiá»‡n theo cÆ¡ cháº¿ song song. CÆ¡ cháº¿ song song hiá»ƒu má»™t cÃ¡ch Ä‘Æ¡n giáº£n lÃ  viá»‡c thá»±c hiá»‡n cÃ¡c phÃ©p toÃ¡n trÃªn cÃ¡c pháº§n tá»­ cá»§a má»™t vÃ©c-tÆ¡ sáº½ diá»…n ra cÃ¹ng má»™t lÃºc chá»© khÃ´ng thá»±c hiá»‡n má»™t cÃ¡ch láº§n lÆ°á»£t.Háº§u háº¿t cÃ¡c hÃ m sá»‘ trÃªn R Ä‘á»u Ä‘Æ°á»£c phÃ¡t triá»ƒn theo cÆ¡ cháº¿ láº­p trÃ¬nh vec-tÆ¡. NghÄ©a lÃ  cÃ¡c hÃ m sá»‘ Ä‘Æ°á»£c dÃ¹ng cho má»™t biáº¿n kiá»ƒu sá»‘ Ä‘á»u cÃ³ thá»ƒ Ã¡p dá»¥ng Ä‘Æ°á»£c cho má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ hay cÃ¡c hÃ m sá»‘ Ä‘Æ°á»£c dÃ¹ng cho má»™t biáº¿n kiá»ƒu chuá»—i kÃ½ tá»± Ä‘á»u cÃ³ thá»ƒ Ã¡p dá»¥ng Ä‘Æ°á»£c cho má»™t vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±. Trong vÃ­ dá»¥ vá»›i cá»™t (vÃ©c-tÆ¡) \\(created\\_at\\) cá»§a dá»¯ liá»‡u \\(trump\\_tweets\\) á»Ÿ trÃªn, cÃ¡c hÃ m sá»‘ Ä‘Æ°á»£c sá»­ dá»¥ng nhÆ° substr(), .numeric(), â€¦ Ä‘á»u cÃ³ Ä‘áº§u vÃ o lÃ  má»™t vÃ©c-tÆ¡ vÃ  tráº£ láº¡i giÃ¡ trá»‹ lÃ  má»™t vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i tÆ°Æ¡ng á»©ng.NgoÃ i viá»‡c thá»±c hiá»‡n tÃ­nh toÃ¡n trÃªn cÃ¡c vÃ©c-tÆ¡ riÃªng láº», cÆ¡ cháº¿ hoáº¡t Ä‘á»™ng cá»§a R cÅ©ng cho phÃ©p thá»±c hiá»‡n tÃ­nh toÃ¡n tÆ°Æ¡ng tÃ¡c giá»¯a cÃ¡c vÃ©c-tÆ¡ vá»›i nhau. TÆ°Æ¡ng tÃ¡c giá»¯a hai hay nhiá»u vÃ©c-tÆ¡ vá»›i nhau luÃ´n Ä‘Æ°á»£c thá»±c hiá»‡n trÃªn nguyÃªn táº¯c cÃ¡c pháº§n tá»­ cÃ³ cÃ¹ng chá»‰ sá»‘ cá»§a cÃ¡c vÃ©c-tÆ¡ sáº½ tÆ°Æ¡ng tÃ¡c vá»›i nhau. Tháº­m chÃ­ cÃ¡c vÃ©c-tÆ¡ tÆ°Æ¡ng tÃ¡c vá»›i nhau cÃ³ thá»ƒ khÃ´ng cÃ³ cÃ¹ng kÃ­ch thÆ°á»›c mÃ  váº«n cho káº¿t quáº£. Chi tiáº¿t sáº½ Ä‘Æ°á»£c tháº£o luáº­n trong cÃ¡c pháº§n tiáº¿p theo.","code":"\nlibrary(dslabs) # cáº§n gá»i thÆ° viá»‡n dslabs chá»©a dá»¯ liá»‡u trump_tweets\nbarplot(table(as.factor(as.numeric(substr(trump_tweets$created_at,12,13)))),\n        main = \"Tá»•ng thá»‘ng Trump viáº¿t tweet vÃ o thá»i gian nÃ o trong ngÃ y\", col = \"lightskyblue\")"},{"path":"index.html","id":"khá»Ÿi-táº¡o-vÃ©c-tÆ¡-vÃ -cÃ¡c-phÃ©p-toÃ¡n-trÃªn-vÃ©c-tÆ¡.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.3.2 Khá»Ÿi táº¡o vÃ©c-tÆ¡ vÃ  cÃ¡c phÃ©p toÃ¡n trÃªn vÃ©c-tÆ¡.","text":"","code":""},{"path":"index.html","id":"khá»Ÿi-táº¡o-vÃ©c-tÆ¡.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.3.2.1 Khá»Ÿi táº¡o vÃ©c-tÆ¡.","text":"Äá»ƒ khá»Ÿi táº¡o má»™t vec-tÆ¡ trong R báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng báº¥t ká»³ má»™t hÃ m sá»‘ sáºµn cÃ³ vá»›i Ä‘áº§u ra lÃ  má»™t vÃ©c-tÆ¡ vá»›i kiá»ƒu giÃ¡ trá»‹ phÃ¹ há»£p. HÃ m sá»‘ thÃ´ng dá»¥ng nháº¥t Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ táº¡o vÃ©c-tÆ¡ trong R lÃ  hÃ m c(); \\(c\\) lÃ  viáº¿t táº¯t cá»§a concatenate, hoáº·c má»™t vÃ i tÃ i liá»‡u cho ráº±ng \\(c\\) lÃ  viáº¿t táº¯t cá»§a combine. Vá» máº·t Ã½ nghÄ©a, hÃ m c() táº­p há»£p cÃ¡c Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c liá»‡t kÃª trong dáº¥u \\(()\\) láº¡i Ä‘á»ƒ táº¡o thÃ nh má»™t vÃ©c-tÆ¡ Ä‘á»‘i tÆ°á»£ng duy nháº¥t. Náº¿u cÃ¡c pháº§n tá»­ Ä‘Æ°á»£c liá»‡t kÃª ra cÃ³ cÃ¹ng kiá»ƒu dá»¯ liá»‡u, Ä‘á»‘i tÆ°á»£ng tÆ°á»£ng táº¡o thÃ nh sáº½ lÃ  má»™t vÃ©c-tÆ¡Khi cÃ¡c biáº¿n Ä‘Æ°á»£c liá»‡t kÃª bÃªn trong hÃ m c() khÃ´ng cÃ¹ng kiá»ƒu, R sáº½ cá»‘ gáº¯ng phÃ¢n tÃ­ch cÃ¡c giÃ¡ trá»‹ Ä‘Ã³ Ä‘á»ƒ Ä‘Æ°a ra káº¿t quáº£ phÃ¹ há»£p. NguyÃªn táº¯c chung lÃ  náº¿u cÃ¡c giÃ¡ trá»‹ Ä‘Æ°á»£c liá»‡t kÃª bÃªn trong hÃ m c() lÃ  kiá»ƒu sá»‘, kiá»ƒu logic, hoáº·c kiá»ƒu thá»i gian thÃ¬ vÃ©c-tÆ¡ Ä‘Æ°á»£c táº¡o thÃ nh sáº½ lÃ  vÃ©c-tÆ¡ kiá»ƒu sá»‘. Trong trÆ°á»ng há»£p cÃ³ 1 biáº¿n Ä‘Æ°á»£c liá»‡t kÃª ra lÃ  kiá»ƒu chuá»—i kÃ½ tá»±, vÃ©c-tÆ¡ Ä‘Æ°á»£c táº¡o thÃ nh sáº½ lÃ  vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±. Báº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm tra giÃ¡ trá»‹ cá»§a cÃ¡c vÃ©c-tÆ¡ sau:CÃ¡c giÃ¡ trá»‹ bÃªn trong hÃ m c() cÅ©ng cÃ³ thá»ƒ lÃ  má»™t vÃ©c-tÆ¡ khÃ¡c, tháº­m chÃ­ cÃ³ thá»ƒ lÃ  má»™t ma tráº­n (matrix), hoáº·c lÃ  má»™t Ä‘á»‘i tÆ°á»£ng kiá»ƒu máº£ng (array). GiÃ¡ trá»‹ Ä‘áº§u ra cá»§a hÃ m c() luÃ´n luÃ´n lÃ  má»™t vÃ©c-tÆ¡. Náº¿u lÃ  ma tráº­n hoáº·c máº£ng hÃ m c() sáº½ â€œduá»—iâ€ cÃ¡c pháº§n tá»­ ra thÃ nh 1 vÃ©c-tÆ¡ theo thá»© tá»± cÃ¡c cá»™t báº¯t Ä‘áº§u tá»« cá»™t cÃ³ chá»‰ sá»‘ 1. ChÃºng ta sáº½ quay láº¡i váº¥n Ä‘á» nÃ y khi tháº£o luáº­n vá» ma tráº­n vÃ  máº£ng.Báº¥t ká»³ hÃ m sá»‘ sáºµn cÃ³ nÃ o cÃ³ Ä‘áº§u ra lÃ  vÃ©c-tÆ¡ Ä‘á»u cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ táº¡o thÃ nh vÃ©c-tÆ¡. CÃ¡c hÃ m mÃ  chÃºng tÃ´i hay sá»­ dá»¥ng Ä‘á»ƒ khá»Ÿi táº¡o vÃ©c-tÆ¡ trong R ngoÃ i hÃ m c() cÃ²n cÃ³ hÃ m rep() vÃ  hÃ m seq(). HÃ m sá»‘ rep(x,n) cÃ³ Ã½ nghÄ©a lÃ  láº·p láº¡i giÃ¡ trá»‹ \\(x\\) (1 biáº¿n hoáº·c 1 vÃ©c-tÆ¡) \\(n\\) láº§n. HÃ m sá»‘ seq(= , = b,length = n) táº¡o thÃ nh má»™t dÃ£y sá»‘ tÄƒng dáº§n (hoáº·c giáº£m dáº§n) báº¯t Ä‘áº§u tá»« \\(\\) káº¿t thÃºc táº¡i \\(b\\) vÃ  vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i lÃ  \\(n\\).Äáº§u ra cá»§a seq() luÃ´n lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘. Náº¿u báº¡n Ä‘á»c khÃ´ng sá»­ dá»¥ng tÃ¹y biáº¿n \\(length = n\\), báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng tÃ¹y biáº¿n lÃ  khoáº£ng cÃ¡ch giá»¯a hai sá»‘ liÃªn tiáº¿p trong dÃ£y sá»‘.","code":"\nx<-c(1,1,2,3,5,8,13,21) # x lÃ  má»™t vec-tÆ¡ kiá»ƒu sá»‘\nqua = c(\"chuá»‘i\", \"tÃ¡o\", \"cam\", \"chanh\") # qua lÃ  vec-tÆ¡ chá»©a tÃªn cÃ¡c loáº¡i quáº£\nx<-c(1,TRUE, FALSE) # Káº¿t quáº£ lÃ  má»™t vec-tÆ¡ kiá»ƒu sá»‘\nclass(x)## [1] \"numeric\"\nx<-c(TRUE, as.Date(\"2023-12-31\")) # Káº¿t quáº£ lÃ  má»™t vec-tÆ¡ kiá»ƒu sá»‘\nclass(x)## [1] \"numeric\"\nx<-c(1, TRUE, as.Date(\"2023-12-31\"),\"MFE\") # Káº¿t quáº£ lÃ  má»™t vec-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±\nclass(x)## [1] \"character\"\nx<-c(1, TRUE, as.Date(\"2023-12-31\"),\"MFE\") # káº¿t quáº£ lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±\ny<-c(x,\"Actuary\",x) # dÃ¹ng vÃ©c-tÆ¡ x trong khai bÃ¡o vÃ©c-tÆ¡ y\nx<-rep(1,10^3) # VÃ©c-tÆ¡ cÃ³ cÃ¡c giÃ¡ trá»‹ Ä‘á»u lÃ  1, Ä‘á»™ dÃ i 1.000\ny<-rep(c(\"a\",\"b\"),10^3) # Láº·p láº¡i vÃ©c-tÆ¡ (\"a\",\"b\") 1.000 láº§n\nz<-seq(from = 0,to = 1,length = 101) # DÃ£y sá»‘ tÄƒng dáº§n tá»« 0 Ä‘áº¿n 1, Ä‘á»™ dÃ i lÃ  101\nz1<-seq(from = 0,to = 1, 0.01) # dÃ£y sá»‘ tÄƒng dáº§n tá»« 0 Ä‘áº¿n 1, sá»‘ sau lá»›n hÆ¡n sá»‘ trÆ°á»›c 0.01\nz2<-seq(from = 1,to = 0, -0.01) # dÃ£y sá»‘ giáº£m dáº§n tá»« 1 Ä‘áº¿n 0, sá»‘ sau nhá» hÆ¡n sá»‘ trÆ°á»›c 0.01"},{"path":"index.html","id":"cÃ¡c-hÃ m-sá»‘-thÆ°á»ng-sá»­-dá»¥ng-trÃªn-vÃ©c-tÆ¡","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.3.2.2 CÃ¡c hÃ m sá»‘ thÆ°á»ng sá»­ dá»¥ng trÃªn vÃ©c-tÆ¡","text":"\n(#tab:unnamed-chunk-36)CÃ¡c hÃ m thÆ°á»ng sá»­ dá»¥ng trÃªn vÃ©c-tÆ¡\nBáº¡n Ä‘á»c lÆ°u Ã½ ráº±ng cÃ²n nhiá»u hÃ m sá»‘ há»¯u Ã­ch khÃ¡c Ä‘Æ°á»£c xÃ¢y dá»±ng sáºµn khi tÃ­nh toÃ¡n vá»›i vÃ©c-tÆ¡ mÃ  chÃºng tÃ´i khÃ´ng liá»‡t kÃª á»Ÿ Ä‘Ã¢y. Äá»“ng thá»i, má»—i hÃ m sá»‘ cÃ²n cÃ³ cÃ¡c tÃ¹y biáº¿n Ä‘á» sá»­ dá»¥ng trong cÃ¡c hoÃ n cáº£nh khÃ¡c nhau. Cháº³ng háº¡n khi trong vÃ©c-tÆ¡ \\(x\\) cÃ³ giÃ¡ trá»‹ \\(NaN\\) hoáº·c \\(NA\\) thÃ¬ cÃ¡c hÃ m nhÆ° \\(sum(x)\\), \\(mean(x)\\), â€¦ sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  \\(NA\\). Trong trÆ°á»ng há»£p nÃ y, báº¡n Ä‘á»c cáº§n sá»­ dá»¥ng thÃªm tÃ¹y biáº¿n \\(na.rm=TRUE\\) Ä‘á»ƒ R hiá»ƒu ráº±ng cÃ¡c phÃ©p tÃ­nh toÃ¡n chá»‰ thá»±c hiá»‡n trÃªn cÃ¡c giÃ¡ trá»‹ cÃ³ Ã½ nghÄ©a.CÃ¡ch tá»‘t nháº¥t Ä‘á»ƒ hiá»ƒu vÃ  sá»­ dá»¥ng hiá»‡u quáº£ vÃ  Ä‘Ãºng má»¥c Ä‘Ã­ch cÃ¡c hÃ m sá»‘ liá»‡t kÃª á»Ÿ trÃªn lÃ  Ä‘á»c hÆ°á»›ng dáº«n cá»§a hÃ m sá»‘ Ä‘Ã³. Trong cuá»‘n sÃ¡ch nÃ y chÃºng tÃ´i chá»‰ nháº¥n máº¡nh nhá»¯ng á»©ng dá»¥ng mÃ  chÃºng tÃ´i cho ráº±ng quan trá»ng khi á»©ng dá»¥ng cÃ¡c hÃ m sá»‘ trong thá»±c táº¿.CÃ¡c hÃ m sá»‘ sá»­ dá»¥ng trÃªn cÃ¡c vÃ©c-tÆ¡ kiá»ƒu sá»‘ nhÆ° \\(sum()\\), \\(mean()\\), hay tháº­m chÃ­ cáº£ \\(var()\\), \\(sd()\\) cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng trÃªn cáº£ vÃ©c-tÆ¡ kiá»ƒu thá»i gian hoáº·c kiá»ƒu logic. Náº¿u phÃ©p toÃ¡n thá»±c hiá»‡n khÃ´ng thá»ƒ giá»¯ nguyÃªn kiá»ƒu dá»¯ liá»‡u cá»§a vÃ©c-tÆ¡ thÃ¬ R sáº½ Ä‘á»•i vÃ©c-tÆ¡ kiá»ƒu thá»i gian hoáº·c logic sang kiá»ƒu sá»‘ Ä‘á»ƒ thá»±c hiá»‡n tÃ­nh toÃ¡n.NgoÃ i cÃ¡c nguyÃªn táº¯c tÃ­nh toÃ¡n thÃ´ng thÆ°á»ng, báº¡n Ä‘á»c tháº¥y ráº±ng R cÃ³ thá»ƒ sáº¯p xáº¿p cÃ¡c pháº§n tá»­ trong má»™t vÃ©c-tÆ¡ báº¥t ká»³ báº±ng hÃ m sort() hoáº·c cÃ³ thá»ƒ láº¥y ra giÃ¡ trá»‹ â€œlá»›n nháº¥tâ€ hoáº·c â€œnhá» nháº¥tâ€ cá»§a má»™t vÃ©c-tÆ¡ Ä‘Ã³ báº±ng hÃ m max() hoáº·c hÃ m min(). Äiá»u nÃ y lÃ  khÃ¡ hiá»ƒn nhiÃªn vá»›i cÃ¡c vÃ©c-tÆ¡ kiá»ƒu sá»‘. Trong trÆ°á»ng há»£p vÃ©c-tÆ¡ lÃ  vÃ©c-tÆ¡ kiá»ƒu logic hay kiá»ƒu ngÃ y thÃ¡ng, R sáº½ Ä‘á»•i giÃ¡ trá»‹ cá»§a vÃ©c-tÆ¡ Ä‘Ã³ sang kiá»ƒu sá»‘ Ä‘á»ƒ tiáº¿n hÃ nh sáº¯p xáº¿p hay tÃ¬m ra giÃ¡ trá»‹ lá»›n nháº¥t, giÃ¡ trá»‹ nhá» nháº¥t. Cháº¯c háº³n báº¡n Ä‘á»c sáº½ Ä‘áº·t cÃ¢u há»i vá» cÃ¡ch sáº¯p xáº¿p cÃ¡c pháº§n tá»­ trong vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±. ÄÃ¢y lÃ  má»™t váº¥n Ä‘á» phá»©c táº¡p liÃªn quan Ä‘áº¿n viá»‡c mÃ£ hÃ³a cÃ¡c kÃ½ tá»± trÃªn mÃ¡y tÃ­nh vÃ  vÆ°á»£t quÃ¡ pháº¡m vi cá»§a cuá»‘n sÃ¡ch. Báº¡n Ä‘á»c chá»‰ cáº§n ghi nhá»› cÃ¡c nguyÃªn táº¯c sau khi sáº¯p xáº¿p vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±:Náº¿u vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± Ä‘Æ°á»£c biáº¿n Ä‘á»•i thÃ nh kiá»ƒu factor thÃ¬ thá»© tá»± sáº¯p xáº¿p tÄƒng dáº§n sáº½ phá»¥ thuá»™c vÃ o cÃ¡ch Ä‘á»‹nh nghÄ©a cÃ¡c má»©c Ä‘á»™ (level) cá»§a vÃ©c-tÆ¡ kiá»ƒu factor.Náº¿u vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± Ä‘Æ°á»£c biáº¿n Ä‘á»•i thÃ nh kiá»ƒu factor thÃ¬ thá»© tá»± sáº¯p xáº¿p tÄƒng dáº§n sáº½ phá»¥ thuá»™c vÃ o cÃ¡ch Ä‘á»‹nh nghÄ©a cÃ¡c má»©c Ä‘á»™ (level) cá»§a vÃ©c-tÆ¡ kiá»ƒu factor.Khi sÃ¡nh hai chuá»—i kÃ½ tá»±, phÃ©p sÃ¡nh sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n á»Ÿ kÃ½ tá»± thá»© nháº¥t trÆ°á»›c, náº¿u hai kÃ½ tá»± Ä‘áº§u tiÃªn giá»‘ng nhau thÃ¬ sáº½ sÃ¡nh kÃ½ tá»± tiáº¿p theo, vÃ  tiáº¿p tá»¥c nhÆ° tháº¿ Ä‘áº¿n khi cÃ³ sá»± khÃ¡c biá»‡t.Khi sÃ¡nh hai chuá»—i kÃ½ tá»±, phÃ©p sÃ¡nh sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n á»Ÿ kÃ½ tá»± thá»© nháº¥t trÆ°á»›c, náº¿u hai kÃ½ tá»± Ä‘áº§u tiÃªn giá»‘ng nhau thÃ¬ sáº½ sÃ¡nh kÃ½ tá»± tiáº¿p theo, vÃ  tiáº¿p tá»¥c nhÆ° tháº¿ Ä‘áº¿n khi cÃ³ sá»± khÃ¡c biá»‡t.CÃ¡c kÃ½ tá»± Ä‘áº·c biá»‡t luÃ´n Ä‘Æ°á»£c xáº¿p trÆ°á»›c (nhá» hÆ¡n), sau Ä‘Ã³ Ä‘áº¿n cÃ¡c kÃ½ tá»± lÃ  cÃ¡c sá»‘, rá»“i Ä‘áº¿n chá»¯ cÃ¡i. Thá»© tá»± sáº¯p xáº¿p cá»§a cÃ¡c kÃ½ tá»± sá»‘ theo Ä‘Ãºng thá»© tá»± tÄƒng dáº§n tá»« 0 Ä‘áº¿n 9 trong khi thá»© tá»± sáº¯p xáº¿p cá»§a cÃ¡c chá»¯ cÃ¡i lÃ  tÄƒng dáº§n theo báº£ng chá»¯ cÃ¡i. Chá»¯ viáº¿t thÆ°á»ng Ä‘Æ°á»£c viáº¿t trÆ°á»›c (nhá» hÆ¡n) chá»¯ viáº¿t hoa cá»§a chá»¯ cÃ¡i Ä‘Ã³. Chá»¯ viáº¿t hoa cá»§a chá»¯ cÃ¡i Ä‘á»©ng trÆ°á»›c láº¡i â€œnhá» hÆ¡nâ€ chá»¯ viáº¿t thÆ°á»ng cá»§a chá»¯ Ä‘á»©ng sau trong báº£ng chá»¯ cÃ¡i.CÃ¡c kÃ½ tá»± Ä‘áº·c biá»‡t luÃ´n Ä‘Æ°á»£c xáº¿p trÆ°á»›c (nhá» hÆ¡n), sau Ä‘Ã³ Ä‘áº¿n cÃ¡c kÃ½ tá»± lÃ  cÃ¡c sá»‘, rá»“i Ä‘áº¿n chá»¯ cÃ¡i. Thá»© tá»± sáº¯p xáº¿p cá»§a cÃ¡c kÃ½ tá»± sá»‘ theo Ä‘Ãºng thá»© tá»± tÄƒng dáº§n tá»« 0 Ä‘áº¿n 9 trong khi thá»© tá»± sáº¯p xáº¿p cá»§a cÃ¡c chá»¯ cÃ¡i lÃ  tÄƒng dáº§n theo báº£ng chá»¯ cÃ¡i. Chá»¯ viáº¿t thÆ°á»ng Ä‘Æ°á»£c viáº¿t trÆ°á»›c (nhá» hÆ¡n) chá»¯ viáº¿t hoa cá»§a chá»¯ cÃ¡i Ä‘Ã³. Chá»¯ viáº¿t hoa cá»§a chá»¯ cÃ¡i Ä‘á»©ng trÆ°á»›c láº¡i â€œnhá» hÆ¡nâ€ chá»¯ viáº¿t thÆ°á»ng cá»§a chá»¯ Ä‘á»©ng sau trong báº£ng chá»¯ cÃ¡i.TrÆ°á»›c khi sá»­ dá»¥ng R Ä‘á»ƒ ra káº¿t quáº£, báº¡n Ä‘á»c hÃ£y thá»­ â€œÄ‘oÃ¡nâ€ xem R sáº½ tráº£ láº¡i káº¿t quáº£ nhÆ° tháº¿ nÃ o khi cháº¡y cÃ¡c cÃ¢u sáº¯p xáº¿p cÃ¡c vÃ©c-tÆ¡ sau theo thá»© tá»± TÄ‚NG dáº§n:HÃ m sort() náº¿u khÃ´ng sá»­ dá»¥ng thÃªm tham sá»‘ sáº½ luÃ´n sáº¯p xáº¿p vÃ©c-tÆ¡ theo thá»© tá»± tÄƒng dáº§n. Äá»ƒ sáº¯p xáº¿p vÃ©c-tÆ¡ theo thá»© tá»± giáº£m dáº§n, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng thÃªm tÃ¹y biáº¿n \\(decreasing = TRUE\\) hoáº·c ngáº¯n gá»n hÆ¡n lÃ  \\(decreasing = T\\) trong hÃ m sort().","code":"\nx<-c(rep(1,10),2,3,NA)\nsum(x) # sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  $NA$ vÃ¬ trong $x$ cÃ³ giÃ¡ trá»‹ $NA$## [1] NA\nsum(x,na.rm=TRUE) # sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  $NA$ vÃ¬ trong $x$ cÃ³ giÃ¡ trá»‹ $NA$## [1] 15\nx<-c(as.Date(\"2023-01-01\"),as.Date(\"2023-12-31\"))\nmean(x) # tráº£ láº¡i giÃ¡ trá»‹ lÃ  kiá»ƒu thá»i gian## [1] \"2023-07-02\"\nsd(x) # kiá»ƒu thá»i gian ko cÃ³ Ã½ nghÄ©a nÃªn R sáº½ Ä‘á»•i x sang kiá»ƒu sá»‘ Ä‘á»ƒ tÃ­nh toÃ¡n## [1] 257.3869\nsort(c(\"a\",\"az\",\"z\")) # luÃ´n sá»­ dá»¥ng chá»¯ cÃ¡i Ä‘áº§u tiÃªn Ä‘á»ƒ so sÃ¡nh## [1] \"a\"  \"az\" \"z\"\nsort(c(\"a\",\"az\",\"z\",\"A\",\"Z\")) # chá»¯ cÃ¡i Ä‘á»©ng trÆ°á»›c trong báº£ng chá»¯ cÃ¡i xáº¿p trÆ°á»›c## [1] \"a\"  \"A\"  \"az\" \"z\"  \"Z\"\nsort(c(\"a\",\"az\",\"z\",\"A\",\"Z\",\"1a\")) # sá»‘ luÃ´n Ä‘á»©ng trÆ°á»›c chá»¯ cÃ¡i## [1] \"1a\" \"a\"  \"A\"  \"az\" \"z\"  \"Z\"\nsort(c(\"a\",\"az\",\"z\",\"A\",\"Z\",\"1a\",\"@a\")) # kÃ½ tá»± Ä‘áº·c biá»‡t luÃ´n Ä‘á»©ng trÆ°á»›c## [1] \"@a\" \"1a\" \"a\"  \"A\"  \"az\" \"z\"  \"Z\"\nsort(c(\"a\",\"az\",\"z\",\"A\",\"Z\",\"1a\",\"@a\", \"0123\")) # kÃ½ tá»± Ä‘áº·c biá»‡t < sá»‘ < chá»¯ cÃ¡i## [1] \"@a\"   \"0123\" \"1a\"   \"a\"    \"A\"    \"az\"   \"z\"    \"Z\"\nsort(c(1,1,2,3,5,8,13,21), decreasing = TRUE) # sáº¯p xáº¿p theo thá»© tá»± giáº£m dáº§n## [1] 21 13  8  5  3  2  1  1\nsort(c(\"a\",\"az\",\"z\",\"A\",\"Z\",\"1a\",\"@a\", \"0123\"),decreasing = T) # cÃ³ thá»ƒ thay TRUE báº±ng T## [1] \"Z\"    \"z\"    \"az\"   \"A\"    \"a\"    \"1a\"   \"0123\" \"@a\""},{"path":"index.html","id":"tÃ­nh-toÃ¡n-trÃªn-vÃ©c-tÆ¡","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.3.2.3 TÃ­nh toÃ¡n trÃªn vÃ©c-tÆ¡","text":"NhÆ° Ä‘Ã£ Ä‘á» cáº­p á»Ÿ pháº§n trÆ°á»›c, R lÃ  ngÃ´n ngá»¯ láº­p trÃ¬nh vÃ©c-tÆ¡. Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng vÃ©c-tÆ¡ nhÆ° má»™t Ä‘á»‘i tÆ°á»£ng trong cÃ¡c phÃ©p tÃ­nh toÃ¡n hoáº·c sÃ¡nh mÃ  khÃ´ng cáº§n pháº£i tÃ¡c Ä‘á»™ng Ä‘áº¿n tá»«ng pháº§n tá»­ riÃªng láº» cá»§a vÃ©c-tÆ¡ Ä‘Ã³. Äiá»u nÃ y lÃ  khÃ´ng thá»ƒ thá»±c hiá»‡n Ä‘Æ°á»£c vá»›i cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh cÆ¡ báº£n.TrÆ°á»›c háº¿t, chÃºng ta cÃ³ thá»ƒ Ä‘Æ°a má»™t vÃ©c-tÆ¡ \\(x\\) kiá»ƒu sá»‘ vÃ o trong cÃ¡c phÃ©p tÃ­nh toÃ¡n thÃ´ng thÆ°á»ng nhÆ° cá»™ng, trá»«, nhÃ¢n, chia, lÅ©y thá»«a, â€¦ vá»›i cÃ¡c sá»‘ thá»±c. Káº¿t quáº£ thu Ä‘Æ°á»£c sáº½ lÃ  má»™t vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i báº±ng vá»›i vÃ©c-tÆ¡ ban Ä‘áº§u:Quan sÃ¡t káº¿t quáº£ Ä‘Æ°á»£c ra, báº¡n Ä‘á»c cÃ³ thá»ƒ nháº­n tháº¥y ráº±ng nguyÃªn táº¯c thá»±c hiá»‡n phÃ©p tÃ­nh vÃ©c-tÆ¡ \\(x\\) nhÃ¢n vá»›i sá»‘ 2, hay báº¥t ká»³ phÃ©p tÃ­nh nÃ o khÃ¡c, lÃ  láº¥y cÃ¡c pháº§n tá»­ riÃªng láº» trong vÃ©c-tÆ¡ \\(x\\) nhÃ¢n lÃªn 2 vÃ  lÆ°u láº¡i trong má»™t vÃ©c-tÆ¡ má»›i. TÆ°Æ¡ng tá»± nhÆ° phÃ©p tÃ­nh toÃ¡n, phÃ©p sÃ¡nh cÅ©ng cÃ³ thá»ƒ thá»±c hiá»‡n giá»¯a má»™t vÃ©c-tÆ¡ vá»›i biáº¿n riÃªng láº» Ä‘á»ƒ cho káº¿t quáº£ lÃ  má»™t vÃ©c-tÆ¡ cá»§a cÃ¡c biáº¿n logic.Háº§u háº¿t cÃ¡c hÃ m sá»‘ sáºµn cÃ³ trong R, hoáº·c cÃ¡c hÃ m sá»‘ Ä‘Æ°á»£c phÃ¡t triá»ƒn trong cÃ¡c thÆ° viá»‡n cá»§a R, Ä‘á»u cÃ³ thá»ƒ Ã¡p dá»¥ng trÃªn Ä‘á»‘i tÆ°á»£ng lÃ  vÃ©c-tÆ¡ vÃ  nguyÃªn táº¯c Ã¡p dá»¥ng hÃ m sá»‘ trÃªn vÃ©c-tÆ¡ cÅ©ng tÆ°Æ¡ng tá»± nhÆ° nguyÃªn táº¯c tÃ­nh toÃ¡n giá»¯a vÃ©c-tÆ¡ vá»›i má»™t sá»‘. Viá»‡c thá»±c hiá»‡n tÃ­nh toÃ¡n sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n trÃªn cÃ¡c pháº§n tá»­ riÃªng láº» cá»§a vÃ©c-tÆ¡ vÃ  sau Ä‘Ã³ lÆ°u láº¡i trong má»™t vÃ©c-tÆ¡ má»›i cÃ³ chiá»u dÃ i báº±ng vá»›i vÃ©c-tÆ¡ ban Ä‘áº§u. VÃ­ dá»¥ nhÆ° hÃ m nchar() cho biáº¿t má»™t biáº¿n kiá»ƒu chuá»—i kÃ½ tá»± cÃ³ bao nhiÃªu kÃ½ tá»±. Khi sá»­ dá»¥ng vá»›i má»™t vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ mÃ  má»—i pháº§n tá»­ lÃ  sá»‘ kÃ½ tá»± cá»§a pháº§n tá»­ tÆ°Æ¡ng á»©ng trong vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±Báº±ng cÃ¡ch káº¿t há»£p cÃ¡c hÃ m sá»‘ trÃªn vÃ©c-tÆ¡ vÃ  tÆ°Æ¡ng tÃ¡c giá»¯a vÃ©c-tÆ¡ vá»›i má»™t biáº¿n, báº¡n Ä‘á»c cÃ³ thá»ƒ tá»± táº¡o ra cÃ¡c hÃ m sá»‘, cÃ¡c phÆ°Æ¡ng phÃ¡p cá»§a riÃªng mÃ¬nh Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» phá»©c táº¡p hÆ¡n. Cháº³ng háº¡n nhÆ° chÃºng ta muá»‘n biáº¿t cÃ³ bao nhiÃªu pháº§n tá»­ trong vÃ©c-tÆ¡ thá»a mÃ£n má»™t Ä‘iá»u kiá»‡n nÃ o Ä‘Ã³, chÃºng ta cÃ³ thá»ƒ káº¿t há»£p hÃ m sum() vá»›i má»™t biá»ƒu thá»©c sÃ¡nh giá»¯a vÃ©c-tÆ¡ vá»›i má»™t sá»‘Khi thá»±c hiá»‡n phÃ©p sÃ¡nh \\(x > 10\\), \\(x\\) lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ nÃªn phÃ©p sÃ¡nh sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  \\(TRUE\\) táº¡i cÃ¡c vá»‹ trÃ­ mÃ  káº¿t quáº£ sÃ¡nh lÃ  Ä‘Ãºng vÃ  \\(FALSE\\) táº¡i cÃ¡c vá»‹ trÃ­ cÃ²n láº¡i. Khi káº¿t há»£p vá»›i hÃ m sum(), cÃ¡c giÃ¡ trá»‹ \\(TRUE\\) sáº½ Ä‘Æ°á»£c Ä‘á»•i thÃ nh sá»‘ 1 vÃ  \\(FALSE\\) Ä‘Æ°á»£c Ä‘á»•i thÃ nh 0. Káº¿t quáº£ thu Ä‘Æ°á»£c sáº½ lÃ  sá»‘ lÆ°á»£ng cÃ¡c giÃ¡ trá»‹ \\(TRUE\\) trong phÃ©p sÃ¡nh, hay nÃ³i má»™t cÃ¡ch khÃ¡c, lÃ  sá»‘ cÃ¡c pháº§n tá»­ trong \\(x\\) thá»a mÃ£n Ä‘iá»u kiá»‡n lá»›n hÆ¡n \\(10\\). Táº¥t nhiÃªn vá»›i vÃ©c-tÆ¡ \\(x\\) cÃ³ Ä‘á»™ dÃ i 10 nhÆ° á»Ÿ trÃªn, báº¡n Ä‘á»c cÃ³ thá»ƒ nhÃ¬n Ä‘Æ°á»£c má»™t cÃ¡ch trá»±c quan mÃ  khÃ´ng cáº§n há»— trá»£ cá»§a R. NhÆ°ng thá»±c táº¿ thÃ¬ cÃ¡c vÃ©c-tÆ¡ mÃ  chÃºng ta cáº§n thá»±c hiá»‡n tÃ­nh toÃ¡n sáº½ cÃ³ Ä‘á»™ dÃ i lá»›n hÆ¡n ráº¥t nhiá»u vÃ  báº¡n Ä‘á»c khÃ´ng thá»ƒ khÃ´ng dÃ¹ng pháº§n má»m há»— trá»£. Cháº³ng háº¡n nhÆ° báº¡n Ä‘á»c muá»‘n biáº¿t cÃ³ bao nhiÃªu cÃ¢u tweets cá»§a cá»±u tá»•ng thá»‘ng Donald Trump cÃ³ nhiá»u hÆ¡n 10.000 lÆ°á»£t yÃªu thÃ­ch, báº¡n cÃ³ thá»ƒ káº¿t há»£p sum() vá»›i biá»ƒu thá»©c sÃ¡nh. VÃ©c-tÆ¡ chá»©a sá»‘ lÆ°á»£t yÃªu thÃ­ch vá»›i má»—i cÃ¢u tweet lÃ  cá»™t \\(favorite\\_count\\) trong dá»¯ liá»‡u \\(trump\\_tweets\\)Äá»ƒ biáº¿t tá»· lá»‡ sá»‘ cÃ¢u tweet cÃ³ sá»‘ lÆ°á»£t yÃªu thÃ­ch nhiá»u hÆ¡n 10.000, báº¡n Ä‘á»c cÃ³ thá»ƒ káº¿t há»£p thÃªm vá»›i hÃ m length()CÃ³ ráº¥t nhiá»u cÃ¡ch káº¿t há»£p cÃ¡c hÃ m sá»‘ láº¡i Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c káº¿t quáº£ mong muá»‘n. Má»™t káº¿t quáº£ phÃ¢n tÃ­ch cÃ³ thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c báº±ng cÃ¡c cÃ¡ch káº¿t há»£p khÃ¡c nhau. Äá»ƒ sá»­ dá»¥ng thÃ nh tháº¡o chá»‰ cÃ³ má»™t cÃ¡ch duy nháº¥t lÃ  báº¡n Ä‘á»c hÃ£y thá»±c hÃ nh nhiá»u trÃªn R vÃ  tá»± Ä‘Ãºc káº¿t kinh nghiá»‡m cá»§a mÃ¬nh","code":"\nx<-1:5 # táº¡o thÃ nh vÃ©c-tÆ¡ dÃ£y sá»‘ tá»± nhiÃªn tá»« 1 Ä‘áº¿n 5\nx * 2 # nhÃ¢n vÃ©c-tÆ¡ vá»›i má»™t sá»‘## [1]  2  4  6  8 10\nx ^ 2 # phÃ©p lÅ©y thá»«a, Ä‘á»‘i tÆ°á»£ng lÃ ## [1]  1  4  9 16 25\nx %% 2 # láº¥y pháº§n dÆ° trong phÃ©p chia cho 2## [1] 1 0 1 0 1\nx<-c(1,1,2,3,5,8,13,21) # vÃ©c-tÆ¡ x kiá»ƒu sá»‘\nx == 1 # Tráº£ láº¡i giÃ¡ trá»‹ TRUE táº¡i cÃ¡c vá»‹ trÃ­ báº±ng 1.## [1]  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE\n(x > 10) | (x < 3) # tráº£ láº¡i giÃ¡ trá»‹ TRUE táº¡i cÃ¡c vá»‹ trÃ­ lá»›n hÆ¡n 10 hoáº·c nhá» hÆ¡n 3## [1]  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE  TRUE\ns<-c(\"a\",\"az\",\"z\",\"A\",\"Z\",\"1a\",\"@a\", \"0123\")\ns == \"a\" # Tráº£ láº¡i giÃ¡ trá»‹ TRUE táº¡i cÃ¡c vá»‹ trÃ­ báº±ng \"a\"## [1]  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\ns<-c(\"a\",\"az\",\"z\",\"A\",\"Z\",\"1a\",\"@a\", \"0123\")\nnchar(s) # tráº£ láº¡i giÃ¡ trá»‹ lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘## [1] 1 2 1 1 1 2 2 4\nx<-c(1,1,2,3,5,8,13,21) # vÃ©c-tÆ¡ x kiá»ƒu sá»‘\nsum(x>10) # cho biáº¿t cÃ³ bao nhiÃªu pháº§n tá»­ trong x lá»›n hÆ¡n 10## [1] 2\nx<-trump_tweets$favorite_count # vÃ©c-tÆ¡ kiá»ƒu sá»‘ cho biáº¿t má»—i cÃ¢u Ä‘Æ°á»£c like bao nhiÃªu láº§n\nsum(x>10^4) # cho biáº¿t cÃ³ bao nhiÃªu pháº§n tá»­ trong x lá»›n hÆ¡n 10^4## [1] 4958\nsum(x>10^4)/length(x) # cho biáº¿t cÃ³ tá»· lá»‡ pháº§n tá»­ trong x lá»›n hÆ¡n 10^4## [1] 0.2388132"},{"path":"index.html","id":"láº¥y-vÃ©c-tÆ¡-con-tá»«-má»™t-vÃ©c-tÆ¡","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.3.3 Láº¥y vÃ©c-tÆ¡ con tá»« má»™t vÃ©c-tÆ¡","text":"Khi lÃ m viá»‡c vá»›i vÃ©c-tÆ¡, chÃºng ta thÆ°á»ng pháº£i láº¥y cÃ¡c pháº§n tá»­ cá»§a vÃ©c-tÆ¡ ra theo má»™t thá»© tá»± hoáº·c láº¥y cÃ¡c pháº§n tá»­ con thá»a mÃ£n cÃ¡c Ä‘iá»u kiá»‡n nÃ o Ä‘Ã³ vÃ  lÆ°u káº¿t quáº£ vÃ o má»™t vÃ©c-tÆ¡ má»›i. Ká»¹ thuáº­t nÃ y sáº½ Ä‘Æ°á»£c tháº£o luáº­n dÆ°á»›i Ä‘Ã¢y.","code":""},{"path":"index.html","id":"hai-cÃ¡ch-láº¥y-vÃ©c-tÆ¡-con-tá»«-má»™t-vÃ©c-tÆ¡","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.3.3.1 Hai cÃ¡ch láº¥y vÃ©c-tÆ¡ con tá»« má»™t vÃ©c-tÆ¡","text":"Äá»ƒ láº¥y má»™t pháº§n tá»­ con cá»§a má»™t vÃ©c-tÆ¡ \\(x\\) chÃºng ta sá»­ dá»¥ng dáº¥u ngoáº·c vuÃ´ng \\([]\\). Cháº³ng háº¡n nhÆ° Ä‘á»ƒ láº¥y ra pháº§n tá»­ thá»© \\(1\\), chÃºng ta sá»­ dá»¥ng \\(x[1]\\). Sá»‘ 1 trong trÆ°á»ng há»£p nÃ y Ä‘Æ°á»£c gá»i lÃ  chá»‰ sá»‘. Nháº¯c láº¡i vá»›i báº¡n Ä‘á»c ráº±ng chá»‰ sá»‘ cá»§a cÃ¡c pháº§n tá»­ trong vÃ©c-tÆ¡ cá»§a R lÃ  báº¯t Ä‘áº§u tá»« \\(1\\) vÃ  pháº§n tá»­ cuá»‘i cÃ¹ng trong vÃ©c-tÆ¡ cÃ³ chá»‰ sá»‘ báº±ng vá»›i Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡ Ä‘Ã³. Náº¿u chÃºng ta sá»­ dá»¥ng chá»‰ sá»‘ lá»›n hÆ¡n Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡, R sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  \\(NA\\).Báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘áº·t cÃ¢u há»i lÃ  Ä‘iá»u gÃ¬ xáº£y ra ná»u sá»­ dá»¥ng chá»‰ sá»‘ \\(0\\) hoáº·c chá»‰ sá»‘ lÃ  sá»‘ Ã¢m. HÃ£y nÃ³i vá» chá»‰ sá»‘ \\(0\\) trÆ°á»›c. Khi gá»i pháº§n tá»­ á»Ÿ vá»‹ trÃ­ thá»© 0 trong má»™t vÃ©c-tÆ¡ báº¡n Ä‘á»c sáº½ nháº­n Ä‘Æ°á»£c má»™t pháº§n tá»­ rá»—ng. KhÃ¡i niá»‡m rá»—ng cÃ³ thá»ƒ hiá»ƒu giá»‘ng nhÆ° khÃ¡i niá»‡m rá»—ng khi nÃ³i vá» má»™t táº­p há»£p khÃ´ng cÃ³ pháº§n tá»­. TÃ¹y theo kiá»ƒu giÃ¡ trá»‹ cá»§a vÃ©c-tÆ¡ ta sáº½ cÃ³ má»™t pháº§n tá»­ rá»—ng vá»›i kiá»ƒu giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng\n(#tab:unnamed-chunk-49)GiÃ¡ trá»‹ táº¡i chá»‰ sá»‘ 0 cá»§a cÃ¡c kiá»ƒu vÃ©c-tÆ¡\nKhi sá»­ dá»¥ng chá»‰ sá»‘ Ã¢m Ä‘á»‘i vá»›i vÃ©c-tÆ¡, R hiá»ƒu ráº±ng chÃºng ta Ä‘ang loáº¡i Ä‘i cÃ¡c pháº§n tá»­. Tháº­t váº­y, \\(x[-1]\\) sáº½ tráº£ láº¡i káº¿t quáº£ lÃ  má»™t vÃ©c-tÆ¡ giá»‘ng vá»›i vÃ©c-tÆ¡ \\(x\\) sau khi loáº¡i Ä‘i pháº§n tá»­ thá»© nháº¥t. Vá»›i sá»‘ tá»± nhiÃªn \\(k, (k \\\\mathbb{N}),\\) \\(x[-k]\\) sáº½ tráº£ láº¡i káº¿t quáº£ lÃ  vÃ©c-tÆ¡ \\(x\\) sau khi loáº¡i Ä‘i pháº§n tá»­ thá»© \\(k\\). Náº¿u \\(k\\) lá»›n hÆ¡n Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡ \\(x\\), vÃ©c-tÆ¡ nháº­n Ä‘Æ°á»£c sáº½ Ä‘Ãºng báº±ng \\(x\\). Sá»­ dá»¥ng chá»‰ sá»‘ Ã¢m cÅ©ng cÃ³ thá»ƒ hiá»ƒu lÃ  má»™t cÃ¡ch Ä‘á»ƒ láº¥y má»™t vÃ©c-tÆ¡ con tá»« má»™t vÃ©c-tÆ¡ ban Ä‘áº§u. ÄÃ¢y lÃ  cÃ¡ch láº¥y vÃ©c-tÆ¡ con báº±ng cÃ¡ch sá»­ dá»¥ng vÃ©c-tÆ¡ chá»‰ sá»‘ kiá»ƒu sá»‘ nguyÃªn.CÃ³ hai cÃ¡ch Ä‘á»ƒ láº¥y vÃ©c-tÆ¡ con tá»« má»™t vÃ©c-tÆ¡ ban Ä‘áº§u, Ä‘Ã³ lÃ Sá»­ dá»¥ng má»™t vÃ©c-tÆ¡ chá»‰ sá»‘ kiá»ƒu sá»‘ nguyÃªn; vÃ Sá»­ dá»¥ng má»™t vÃ©c-tÆ¡ chá»‰ sá»‘ kiá»ƒu logic.Tá»« vÃ©c-tÆ¡ \\(x\\) ban Ä‘áº§u, Ä‘á»ƒ láº¥y ra má»™t vÃ©c-tÆ¡ con, trong trÆ°á»ng há»£p chÃºng ta Ä‘Ã£ biáº¿t chÃ­nh xÃ¡c cÃ¡c vá»‹ trÃ­ vÃ  thá»© tá»± cá»§a cÃ¡c pháº§n tá»­ con mÃ  chÃºng ta muá»‘n láº¥y ra, chÃºng ta cÃ³ thá»ƒ lÆ°u vá»‹ trÃ­ cá»§a cÃ¡c pháº§n tá»­ con nÃ y vÃ o má»™t vÃ©c-tÆ¡ khÃ¡c táº¡m gá»i lÃ  vÃ©c-tÆ¡ \\(y\\). VÃ©c-tÆ¡ \\(y\\) cÃ²n Ä‘Æ°á»£c gá»i lÃ  vÃ©c-tÆ¡ chá»‰ sá»‘. Sau Ä‘Ã³, chÃºng ta chá»‰ cáº§n sá»­ dá»¥ng cÃ¢u lá»‡nh \\(x[y]\\) Ä‘á»ƒ láº¥y ra cÃ¡c pháº§n tá»­ cá»§a \\(x\\) táº¡i cÃ¡c vá»‹ trÃ­ Ä‘Æ°á»£c lÆ°u á»Ÿ vÃ©c-tÆ¡ \\(y\\). Tháº­t váº­y, hÃ£y thá»­ quan sÃ¡t vÃ­ dá»¥ sauNáº¿u trong vÃ©c-tÆ¡ chá»‰ sá»‘ cÃ³ giÃ¡ trá»‹ lá»›n hÆ¡n Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡ ban Ä‘áº§u, R sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  \\(NA\\) táº¡i vá»‹ trÃ­ Ä‘Ã³Náº¿u chÃºng ta sá»­ dá»¥ng vÃ©c-tÆ¡ chá»‰ sá»‘ lÃ  sá»‘ Ã¢m, R sáº½ hiá»ƒu ráº±ng chÃºng ta Ä‘ang muá»‘n loáº¡i Ä‘i má»™t hay má»™t sá»‘ pháº§n tá»­ nÃ o Ä‘Ã³.R sáº½ bÃ¡o lá»—i náº¿u vÃ©c-tÆ¡ chá»‰ sá»‘ \\(y\\) chá»©a cáº£ sá»‘ Ã¢m vÃ  sá»‘ dÆ°Æ¡ng. Báº¡n Ä‘á»c cáº§n lÆ°u Ã½ váº¥n Ä‘á» nÃ y. Trong thá»±c táº¿, Ã­t khi chÃºng ta biáº¿t chÃ­nh xÃ¡c vá»‹ trÃ­ mÃ  chÃºng ta muá»‘n láº¥y ra, hay nÃ³i cÃ¡ch khÃ¡c chÃºng ta khÃ´ng thá»ƒ trá»±c tiáº¿p khai bÃ¡o giÃ¡ trá»‹ vÃ o vÃ©c-tÆ¡ chá»‰ sá»‘ \\(y\\). ThÃ´ng thÆ°á»ng \\(y\\) sáº½ lÃ  káº¿t quáº£ cá»§a cÃ¡c hÃ m sá»‘ táº¡o chá»‰ sá»‘. CÃ¡c hÃ m () vÃ  hÃ m match() Ä‘Æ°á»£c tháº£o luáº­n á»Ÿ pháº§n tiáº¿p theo cá»§a cuá»‘n sÃ¡ch lÃ  cÃ¡c phÆ°Æ¡ng phÃ¡p tuyá»‡t vá»i Ä‘á»ƒ táº¡o ra cÃ¡c vÃ©c-tÆ¡ chá»‰ sá»‘ kiá»ƒu sá»‘.PhÆ°Æ¡ng phÃ¡p thá»© hai Ä‘á»ƒ láº¥y má»™t vÃ©c-tÆ¡ con tá»« vÃ©c-tÆ¡ \\(x\\) Ä‘Ã³ lÃ  sá»­ dá»¥ng vÃ©c-tÆ¡ chá»‰ sá»‘ kiá»ƒu logic. CÃ¡ch láº¥y nÃ y sáº½ ráº¥t thuáº­n tiá»‡n khi báº¡n Ä‘á»c muá»‘n láº¥y ra má»™t vÃ©c-tÆ¡ con cá»§a \\(x\\) bao gá»“m cÃ¡c pháº§n tá»­ thá»a mÃ£n má»™t Ä‘iá»u kiá»‡n nÃ o Ä‘Ã³. VÃ©c-tÆ¡ chá»‰ sá»‘, táº¡m gá»i lÃ  vÃ©c-tÆ¡ \\(y\\), Ä‘Æ°á»£c táº¡o ra tá»« má»™t phÃ©p sÃ¡nh, sau Ä‘Ã³ cÃ¢u lá»‡nh \\(x[y]\\) sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  má»™t vÃ©c-tÆ¡ con cá»§a \\(x\\) bao gá»“m cÃ¡c pháº§n tá»­ mÃ  vá»‹ trÃ­ tÆ°Æ¡ng á»©ng cá»§a nÃ³ trong vÃ©c-tÆ¡ \\(y\\) lÃ  \\(TRUE\\). Láº¥y vÃ©c-tÆ¡ con báº±ng cÃ¡ch nÃ y, báº¡n Ä‘á»c hÃ£y luÃ´n Ä‘á»ƒ Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡ \\(y\\) báº±ng Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡ \\(x\\). Khi Ä‘á»™ dÃ i cá»§a \\(y\\) khÃ´ng báº±ng Ä‘á»™ dÃ i cá»§a \\(x\\), cÃ¢u lá»‡nh \\(x[y]\\) váº«n tráº£ láº¡i káº¿t quáº£, tuy nhiÃªn hiá»ƒu Ä‘Æ°á»£c káº¿t quáº£ lÃ  khÃ¡ phá»©c táº¡p. Ä‘Ã³ chÃºng tÃ´i khuyÃªn báº¡n Ä‘á»c hÃ£y luÃ´n Ä‘áº£m báº£o ráº±ng vÃ©c-tÆ¡ chá»‰ sá»‘ kiá»ƒu logic vÃ  vÃ©c-tÆ¡ ban Ä‘áº§u luÃ´n cÃ³ cÃ¹ng Ä‘á»™ dÃ i.Giáº£ sá»­ vá»›i vÃ©c-tÆ¡ \\(x\\) chá»©a tÃªn cÃ¡c loáº¡i quáº£, chÃºng ta muá»‘n láº¥y ra tÃªn cÃ¡c loáº¡i quáº£ cÃ³ tÃªn dÃ i hÆ¡n 3 kÃ½ tá»±. ChÃºng ta khÃ´ng biáº¿t chÃ­nh xÃ¡c cÃ¡c quáº£ nÃ y náº±m á»Ÿ vá»‹ trÃ­ nÃ o trong \\(x\\) nÃªn khÃ´ng thá»ƒ táº¡o vÃ©c-tÆ¡ chá»‰ sá»‘ kiá»ƒu sá»‘. Trong trÆ°á»ng há»£p nÃ y, chÃºng ta sáº½ táº¡o má»™t vÃ©c-tÆ¡ chá»‰ sá»‘ \\(y\\) kiá»ƒu logic nhÆ° sauÄÃ¢y lÃ  cÃ¡ch láº¥y ra cÃ¡c vÃ©c-tÆ¡ con ráº¥t hiá»‡u quáº£ khi lÃ m viá»‡c vá»›i dá»¯ liá»‡u. CÃ¡c cá»™t dá»¯ liá»‡u lÃ  cÃ¡c vÃ©c-tÆ¡ cÃ³ cÃ¹ng Ä‘á»™ dÃ i, Ä‘Ã³ chá»‰ sá»‘ \\(y\\) cÃ³ thá»ƒ Ä‘Æ°á»£c táº¡o thÃ nh tá»« phÃ©p sÃ¡nh má»™t cá»™t dá»¯ liá»‡u vÃ  vÃ©c-tÆ¡ \\(x\\) láº¡i lÃ  má»™t cá»™t dá»¯ liá»‡u khÃ¡c. Cháº³ng háº¡n nhÆ° chÃºng ta muá»‘n láº¥y ra cÃ¡c cÃ¢u tweet cá»§a cá»±u tá»•ng thá»‘ng Donald Trump Ä‘Æ°á»£c like nhiá»u hÆ¡n 10.000 láº§n vÃ  lÆ°u vÃ o má»™t vÃ©c-tÆ¡, chÃºng ta chá»‰ cáº§n thá»±c hiá»‡n nhÆ° sau:Äiá»u gÃ¬ xáº£y ra náº¿u Ä‘á»™ dÃ i cá»§a \\(y\\) khÃ´ng giá»‘ng nhÆ° Ä‘á»™ dÃ i cá»§a \\(x\\). Trong trÆ°á»ng há»£p \\(y\\) cÃ³ Ä‘á»™ dÃ i nhá» hÆ¡n Ä‘á»™ dÃ i cá»§a \\(x\\), R sáº½ táº¡o ra má»™t vÃ©c-tÆ¡ \\(y1\\) cÃ³ Ä‘á»™ dÃ i báº±ng vá»›i Ä‘á»™ dÃ i cá»§a \\(y\\) báº±ng cÃ¡ch láº·p láº¡i giÃ¡ trá»‹ cá»§a \\(y\\) cho Ä‘áº¿n khi vÃ©c-tÆ¡ thu Ä‘Æ°á»£c cÃ³ Ä‘á»™ dÃ i báº±ng \\(x\\). HÃ£y quan sÃ¡t vÃ­ dá»¥ sauKáº¿t quáº£ thu Ä‘Æ°á»£c tÆ°Æ¡ng tá»± nhÆ° khi chÃºng ta thá»±c hiá»‡n phÃ©p láº¥y vÃ©c-tÆ¡ con thÃ´ng qua má»™t vÃ©c-tÆ¡ chá»‰ sá»‘ \\(y1\\) cÃ³ Ä‘á»™ dÃ i báº±ng 5 nhÆ° sauNáº¿u Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡ chá»‰ sá»‘ \\(y\\) lá»›n hÆ¡n Ä‘á»™ dÃ i cá»§a \\(x\\), táº¡i cÃ¡c vá»‹ trÃ­ cá»§a \\(y\\) mÃ  chá»‰ sá»‘ váº«n nhá» hÆ¡n hoáº·c báº±ng chiá»u dÃ i cá»§a \\(x\\), viá»‡c láº¥y ra pháº§n tá»­ con váº«n theo quy táº¯c thÃ´ng thÆ°á»ng, nghÄ©a lÃ  láº¥y ra cÃ¡c pháº§n tá»­ tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ \\(TRUE\\) vÃ  bá» qua cÃ¡c pháº§n tá»­ tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ \\(FALSE\\). Táº¡i cÃ¡c vá»‹ trÃ­ cá»§a \\(y\\) mÃ  chá»‰ sá»‘ lá»›n hÆ¡n chiá»u dÃ i cá»§a \\(x\\), R sáº½ bá» qua cÃ¡c pháº§n tá»­ cÃ³ giÃ¡ trá»‹ lÃ  \\(FALSE\\) vÃ  sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  \\(NA\\) má»—i khi gáº·p giÃ¡ trá»‹ \\(TRUE\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ quan sÃ¡t vÃ­ dá»¥ sauDo sá»± phá»©c táº¡p khi tÆ°Æ¡ng tÃ¡c giá»¯a cÃ¡c vÃ©c-tÆ¡ cÃ³ khÃ´ng cÃ¹ng Ä‘á»™ dÃ i nÃªn chÃºng tÃ´i khuyÃªn báº¡n Ä‘á»c hÃ£y luÃ´n luÃ´n thá»±c hiá»‡n cÃ¡c phÃ©p tÃ­nh toÃ¡n vá»›i cÃ¡c vÃ©c-tÆ¡ cÃ³ cÃ¹ng Ä‘á»™ dÃ i Ä‘á»ƒ kiá»ƒm soÃ¡t Ä‘Æ°á»£c káº¿t quáº£ khi lÃ m viá»‡c vá»›i R. Trong pháº§n tiáº¿p theo chÃºng ta sáº½ tháº£o luáº­n vá» cÃ¡c hÃ m sá»‘ Ä‘á»ƒ táº¡o ra vÃ©c-tÆ¡ chá»‰ sá»‘.","code":"\nx<-c(1,1,2,3,5,8,13,21) # vÃ©c-tÆ¡ x kiá»ƒu sá»‘\nx[1] # láº¥y ra pháº§n tá»­ thá»© nháº¥t trong x## [1] 1\nx[11] # Ä‘á»™ dÃ i cá»§a x lÃ  10 nÃªn giÃ¡ trá»‹ tráº£ láº¡i sáº½ lÃ  NA## [1] NA\nx<-c(\"cam\",\"tÃ¡o\",\"kiwi\",\"chuá»‘i\",\"nho\") # vÃ©c-tÆ¡ x kiá»ƒu chuá»—i kÃ½ tá»±\ny<-c(3,5,2,3,1) # láº¥y ra vÃ©c-tÆ¡ con táº¡i chá»‰ sá»‘ y\nx[y] # thá»© thá»± trong vÃ©c-tÆ¡ con lÃ  x[3] -> x[5] -> x[2] -> x[3] -> x[1]## [1] \"kiwi\" \"nho\"  \"tÃ¡o\"  \"kiwi\" \"cam\"\nx<-c(\"cam\",\"tÃ¡o\",\"kiwi\",\"chuá»‘i\",\"nho\") # vÃ©c-tÆ¡ x kiá»ƒu chuá»—i kÃ½ tá»±\ny<-c(3,5,2,10,3,1) # chá»‰ sá»‘ 10 lá»›n hÆ¡n Ä‘á»™ dÃ i vÃ©c-tÆ¡ (5)\nx[y] # vá»‹ trÃ­ thá»© tÆ° trong vÃ©c-tÆ¡ con sáº½ lÃ  NA## [1] \"kiwi\" \"nho\"  \"tÃ¡o\"  NA     \"kiwi\" \"cam\"\nx<-c(\"cam\",\"tÃ¡o\",\"kiwi\",\"chuá»‘i\",\"nho\") # vÃ©c-tÆ¡ x kiá»ƒu chuá»—i kÃ½ tá»±\ny<-c(-3,-5,-2,-3) # vÃ©c-tÆ¡ chá»‰ sá»‘ toÃ n sá»‘ Ã¢m\nx[y] # nháº­n Ä‘Æ°á»£c vÃ©c-tÆ¡ con sau khi loáº¡i Ä‘i cÃ¡c sá»‘ thá»© 2,3,5 trong y (chá»‰ cÃ²n x[1] rá»“i x[4])## [1] \"cam\"   \"chuá»‘i\"\nx<-c(\"cam\",\"tÃ¡o\",\"kiwi\",\"chuá»‘i\",\"nho\") # vÃ©c-tÆ¡ x kiá»ƒu chuá»—i kÃ½ tá»±\ny<-(nchar(x)>3) # y cÃ³ Ä‘á»™ dÃ i báº±ng x, giÃ¡ trá»‹ TRUE táº¡i vá»‹ trÃ­ cÃ³ Ä‘á»™ dÃ i > 3\ny # hiá»ƒn thá»‹ giÃ¡ trá»‹ cá»§a y## [1] FALSE FALSE  TRUE  TRUE FALSE\nx[y] # tráº£ láº¡i giÃ¡ trá»‹ trong x mÃ  vá»‹ trÃ­ tÆ°Æ¡ng á»©ng trong y lÃ  TRUE## [1] \"kiwi\"  \"chuá»‘i\"\nx<-trump_tweets$text # vÃ©c-tÆ¡ x chá»©a táº¥t cáº£ cÃ¡c cÃ¢u tweet\ny<-trump_tweets$favorite_count > 10^4 # y lÃ  chá»‰ sá»‘, nháº­n giÃ¡ trá»‹ TRUE táº¡i cÃ¡c cÃ¢u nhiá»u hÆ¡n 10.000 like\nz<-x[y] # z chá»‰ chá»©a cÃ¡c cÃ¢u tweet nhiá»u hÆ¡n 10.000 like\nx<-c(\"cam\",\"tÃ¡o\",\"kiwi\",\"chuá»‘i\",\"nho\") # vÃ©c-tÆ¡ x kiá»ƒu chuá»—i kÃ½ tá»± Ä‘á»™ dÃ i 5\ny<-c(TRUE,FALSE) # y cÃ³ Ä‘á»™ dÃ i lÃ  2, nhá» hÆ¡n 5\nx[y] # lÃ  vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i 5## [1] \"cam\"  \"kiwi\" \"nho\"\ny1<-rep(y,3) # láº·p láº¡i y cho Ä‘áº¿n khi cÃ³ Ä‘á»™ dÃ i lá»›n hÆ¡n x (Ä‘á»™ dÃ i cá»§a y1 lÃ  6 > 5)\ny1<-y1[1:length(x)] # chá»‰ sá»‘ y1 lÃ  chá»‰ láº¥y Ä‘áº¿n Ä‘Ãºng Ä‘á»™ dÃ i cá»§a x\nx[y1] # cho káº¿t quáº£ giá»‘ng nhÆ° khi viáº¿t x[y]## [1] \"cam\"  \"kiwi\" \"nho\"\nx<-c(\"cam\",\"tÃ¡o\",\"kiwi\",\"chuá»‘i\",\"nho\") # vÃ©c-tÆ¡ x kiá»ƒu chuá»—i kÃ½ tá»± Ä‘á»™ dÃ i 5\ny<-c(nchar(x)>3,FALSE,TRUE) # y cÃ³ Ä‘á»™ dÃ i lÃ  7, vá»‹ trÃ­ thá»© 6 lÃ  FALSE, thá»© 7 lÃ  TRUE\nx[y] # x sáº½ lÃ  cÃ¡c loáº¡i quáº£ cÃ³ tÃªn dÃ i hÆ¡n 3 kÃ½ tá»±, theo sau lÃ  NA do y[7] lÃ  TRUE## [1] \"kiwi\"  \"chuá»‘i\" NA"},{"path":"index.html","id":"cÃ¡c-hÃ m-táº¡o-chá»‰-sá»‘-trong-vÃ©c-tÆ¡","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.3.4 CÃ¡c hÃ m táº¡o chá»‰ sá»‘ trong vÃ©c-tÆ¡","text":"CÃ³ má»™t nhÃ³m cÃ¡c hÃ m sá»‘ thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng khi lÃ m viá»‡c vá»›i chá»‰ sá»‘ cá»§a cÃ¡c pháº§n tá»­ trong vÃ©c-tÆ¡. CÃ¡c hÃ m sá»‘ nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c phá»ng theo báº±ng cÃ¡ch káº¿t há»£p má»™t vÃ i ká»¹ thuáº­t chá»‰ sá»‘ Ä‘Ã£ Ä‘á» cáº­p Ä‘áº¿n á»Ÿ chÆ°Æ¡ng trÆ°á»›c. Tuy nhiÃªn chÃºng tÃ´i khuyÃªn báº¡n Ä‘á»c nÃªn sá»­ dá»¥ng cÃ¡c hÃ m cÃ³ sáºµn Ä‘Æ°á»£c trÃ¬nh bÃ y trong pháº§n nÃ y bá»Ÿi sá»± tiá»‡n lá»£i vÃ  sá»± dá»… hiá»ƒu cá»§a cÃ¡c dÃ²ng lá»‡nh. CÃ¡c hÃ m sá»‘ liÃªn quan Ä‘áº¿n chá»‰ sá»‘ cá»§a vÃ©c-tÆ¡ Ä‘Æ°á»£c liá»‡t kÃª trong báº£ng sau\n(#tab:unnamed-chunk-59)CÃ¡c hÃ m sá»‘ liÃªn quan Ä‘áº¿n chá»‰ sá»‘ cá»§a vÃ©c-tÆ¡\n","code":""},{"path":"index.html","id":"hÃ m-which","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.3.4.1 HÃ m which()","text":"HÃ m () Ã¡p dá»¥ng trÃªn má»™t vÃ©c-tÆ¡ kiá»ƒu logic vÃ  cho biáº¿t cÃ¡c vá»‹ trÃ­ nÃ o trong vÃ©c-tÆ¡ logic cÃ³ giÃ¡ trá»‹ lÃ  \\(TRUE\\). CÃ³ hai biáº¿n thá»ƒ cá»§a hÃ m () thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  .min() vÃ  .max() cho biáº¿t chá»‰ sá»‘ (vá»‹ trÃ­) cá»§a giÃ¡ trá»‹ lá»›n nháº¥t vÃ  chá»‰ sá»‘ cá»§a giÃ¡ trá»‹ nhá» nháº¥t.Trong trÆ°á»ng há»£p \\(x\\) cÃ³ nhiá»u giÃ¡ trá»‹ báº±ng vá»›i giÃ¡ trá»‹ lá»›n nháº¥t hoáº·c nhiá»u giÃ¡ trá»‹ báº±ng vá»›i giÃ¡ trá»‹ nhá» nháº¥t, cÃ¡c hÃ m .min() vÃ  .max() luÃ´n luÃ´n tráº£ láº¡i giÃ¡ trá»‹ lÃ  chá»‰ sá»‘ nhá» hÆ¡n.Báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m () Ä‘á»ƒ táº¡o ra vÃ©c-tÆ¡ chá»‰ sá»‘ khi muá»‘n láº¥y ra cÃ¡c pháº§n tá»­ cá»§a má»™t vÃ©c-tÆ¡ thá»a mÃ£n má»™t Ä‘iá»u kiá»‡n nÃ o Ä‘Ã³. VÃ­ dá»¥ nhÆ° chÃºng ta muá»‘n láº¥y ra cÃ¡c cÃ¡c cÃ¢u tweet cá»§a Donald Trum cÃ³ nhiá»ƒu hÆ¡n 10.000 lÆ°á»£t yÃªu thÃ­ch báº±ng má»™t vÃ©c-tÆ¡ chá»‰ sá»‘:","code":"\nx<-c(20,40,60,50,30,10) # VÃ©c-tÆ¡ kiá»ƒu sá»‘\nwhich(x>40) # CÃ¡c chá»‰ sá»‘ (vá»‹ trÃ­) trong vÃ©c-tÆ¡ x cÃ³ giÃ¡ trá»‹ > 40## [1] 3 4\nwhich.min(x) # Sá»‘ nhá» nháº¥t trong x (sá»‘ 10) náº±m á»Ÿ vá»‹ trÃ­ nÃ o## [1] 6\nwhich.max(x) # Sá»‘ lá»›n nháº¥t trong x (sá»‘ 60) náº±m á»Ÿ vá»‹ trÃ­ nÃ o ## [1] 3\nx<-c(20,40,60,50,30,10,60,10) # VÃ©c-tÆ¡ kiá»ƒu sá»‘\nwhich.min(x) # Sá»‘ nhá» nháº¥t trong x (sá»‘ 10) náº±m á»Ÿ vá»‹ trÃ­ nÃ o## [1] 6\nwhich.max(x) # Sá»‘ lá»›n nháº¥t trong x (sá»‘ 60) náº±m á»Ÿ vá»‹ trÃ­ nÃ o ## [1] 3\nx<-trump_tweets$text # VÃ©c-tÆ¡ chá»©a táº¥t cáº£ cÃ¡c cÃ¢u tweet\ny<-which(trump_tweets$favorite_count>10^4) # VÃ©c-tÆ¡ kiá»ƒu sá»‘ cho biáº¿t cÃ¡c chá»‰ sá»‘ (vá»‹ trÃ­) nÃ o cÃ³ nhiá»u hÆ¡n 10.000 lÆ°á»£t thÃ­ch\nz<-x[y] # z chá»©a táº¥t cáº£ cÃ¡c cÃ¢u tweet cÃ³ nhiá»u hÆ¡n 10.000 like"},{"path":"index.html","id":"hÃ m-match-vÃ -toÃ¡n-tá»­-in","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.3.4.2 HÃ m match() vÃ  toÃ¡n tá»­ %in\\%","text":"HÃ m \\(match()\\) lÃ  hÃ m sá»‘ cho phÃ©p tÆ°Æ¡ng tÃ¡c giá»¯a hai vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i khÃ¡c nhau. Cho \\(x\\) vÃ  \\(y\\) lÃ  hai vÃ©c-tÆ¡ cÃ³ cÃ¹ng kiá»ƒu, cÃ¢u lá»‡nh match(y,x) sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  má»™t vÃ©c-tÆ¡, táº¡m gá»i lÃ  \\(z\\), cÃ³ Ä‘á»™ dÃ i báº±ng vá»›i Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡ \\(y\\), Ä‘á»“ng thá»i \\(z[1]\\) cho biáº¿t \\(y[1]\\) cÃ³ chá»‰ sá»‘ (náº±m á»Ÿ vá»‹ trÃ­) nÃ o trong vÃ©c-tÆ¡ \\(x\\); \\(z[2]\\) cho biáº¿t \\(y[2]\\) cÃ³ chá»‰ sá»‘ (náº±m á»Ÿ vá»‹ trÃ­) nÃ o trong vÃ©c-tÆ¡ \\(x\\),â€¦ CÃ¡c pháº§n tá»­ cá»§a \\(y\\) khÃ´ng xuáº¥t hiá»‡n trong \\(x\\) sáº½ cho giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng trong \\(z\\) lÃ  \\(NA\\).ChÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng giÃ¡ trá»‹ 70 khÃ´ng xuáº¥t hiá»‡n trong \\(x\\) nÃªn giÃ¡ trá»‹ thá»© 3 trong vÃ©c-tÆ¡ káº¿t quáº£ lÃ  \\(NA\\). LÆ°u Ã½ ráº±ng hÃ m match() luÃ´n luÃ´n tÃ¬m Ä‘áº¿n chá»‰ sá»‘ Ä‘áº§u tiÃªn trong vÃ©c-tÆ¡ \\(x\\) cÃ³ giÃ¡ trá»‹ khá»›p vá»›i giÃ¡ trá»‹ cá»§a vÃ©c-tÆ¡ \\(y\\), nghÄ©a lÃ  trong \\(x\\) cÃ³ nhiá»u hÆ¡n má»™t giÃ¡ trá»‹ khá»›p vá»›i giÃ¡ trá»‹ cá»§a \\(y\\), hÃ m match() cho káº¿t quáº£ lÃ  chá»‰ sá»‘ nhá» hÆ¡n. Báº¡n Ä‘á»c quÃ¡n sÃ¡t vÃ­ dá»¥ dÆ°á»›i dÃ¢y khi vÃ©c-tÆ¡ \\(x\\) cÃ³ nhiá»u giÃ¡ trá»‹ khá»›p vá»›i giÃ¡ trá»‹ cá»§a \\(y\\):CÃ¡c giÃ¡ trá»‹ 10 vÃ  20 cá»§a \\(y\\) xuáº¥t hiá»‡n hai láº§n trong \\(x\\), tuy nhiÃªn hÃ m match() sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  6 vÃ  1 bá»Ÿi vÃ¬ sá»‘ 10 xuáº¥t hiá»‡n láº§n Ä‘áº§u tiÃªn á»Ÿ vá»‹ trÃ­ thá»© 6 trong \\(x\\) vÃ  sá»‘ 20 xuáº¥t hiá»‡n láº§n Ä‘áº§u tiÃªn á»Ÿ vá»‹ trÃ­ thá»© 1 trong \\(x\\).HÃ m match() tráº£ láº¡i káº¿t quáº£ lÃ  vÃ©c-tÆ¡ chá»‰ sá»‘ nÃªn sáº½ phÃ¹ há»£p vá»›i viá»‡c láº¥y vÃ©c-tÆ¡ con theo chá»‰ sá»‘ kiá»ƒu sá»‘. Má»™t phÆ°Æ¡ng phÃ¡p khÃ¡c Ä‘á»ƒ lÃ m viá»‡c vá»›i chá»‰ sá»‘ cá»§a vÃ©c-tÆ¡ lÃ  toÃ¡n tá»­ %%. ToÃ¡n tá»­ %% Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cho biáº¿t má»—i pháº§n tá»­ cá»§a má»™t vÃ©c-tÆ¡ cÃ³ náº±m trong má»™t vÃ©c-tÆ¡ khÃ¡c hay khÃ´ng. CÃ¢u lá»‡nh y %% x sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu logic \\(z\\) cÃ³ Ä‘á»™ dÃ i báº±ng vá»›i Ä‘á»™ dÃ i cá»§a \\(y\\), \\(z[]\\) nháº­n giÃ¡ trá»‹ lÃ  \\(TRUE\\) náº¿u \\(y[]\\) cÃ³ xuáº¥t hiá»‡n trong \\(x\\) vÃ  nháº­n giÃ¡ trá»‹ lÃ  \\(FALSE\\) náº¿u \\(y[]\\) khÃ´ng xuáº¥t hiá»‡n trong \\(x\\).HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y minh há»a káº¿t quáº£ Ä‘Æ°á»£c tráº£ ra cá»§a hÃ m match() vÃ  toÃ¡n tá»­ \\%\\%HÃ m match() vÃ  toÃ¡n tá»­ \\%\\% cho phÃ©p tÆ°Æ¡ng tÃ¡c giá»¯a cÃ¡c vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i khÃ¡c nhau nÃªn ráº¥t hiá»‡u quáº£ khi báº¡n Ä‘á»c muá»‘n káº¿t ná»‘i nhiá»u dá»¯ liá»‡u khÃ¡c nhau. Báº¡n Ä‘á»c hÃ£y Ä‘á»c vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ hÃ¬nh dung cÃ¡ch sá»­ dá»¥ng hÃ m match() khi káº¿t ná»‘i hai dá»¯ liá»‡u.Giáº£ sá»­ chÃºng ta cÃ³ danh sÃ¡ch Ä‘iá»ƒm há»c táº¡i trÆ°á»ng Ä‘áº¡i há»c cá»§a ba sinh viÃªn ngÃ nh actuary cÃ³ mÃ£ sinh viÃªn láº§n lÆ°á»£t lÃ  â€œMSV001â€, â€œMSV002â€, â€œMSV003â€ khi há»c cÃ¡c mÃ´n há»c â€œXÃ¡c suáº¥tâ€, â€œToÃ¡n tÃ i chÃ­nhâ€, vÃ  â€œÄáº§u tÆ° vÃ  thá»‹ trÆ°á»ng tÃ i chÃ­nhâ€. ThÃ´ng tin Ä‘Æ°á»£c lÆ°u trong má»™t dá»¯ liá»‡u tÃªn lÃ  â€œdiem_hoc_DHâ€. Sinh viÃªn ngÃ nh actuary ngoÃ i cÃ¡c mÃ´n há»c á»Ÿ trÆ°á»ng Ä‘áº¡i há»c cÃ³ thá»ƒ thi cÃ¡c mÃ´n há»c táº¡i cÃ¡c hiá»‡p há»™i nghá» nghiá»‡p actuary Ä‘á»ƒ láº¥y chá»©ng chá»‰ hÃ nh nghá». ThÃ´ng tin vá» Ä‘iá»ƒm thi chá»©ng chá»‰ Ä‘Æ°á»£c lÆ°u trong dá»¯ liá»‡u cÃ³ tÃªn lÃ  â€œdiem_chung_chi_Actuaryâ€. Khi xÃ©t tá»‘t nghiá»‡p, sinh viÃªn cÃ³ quyá»n láº¥y Ä‘iá»ƒm thi chá»©ng chá»‰ táº¡i cÃ¡c hiá»‡p há»™i Ä‘á»ƒ thay tháº¿ cho Ä‘iá»ƒm há»c táº¡i trÆ°á»ng Ä‘áº¡i há»c cá»§a mÃ´n há»c tÆ°Æ¡ng á»©ng náº¿u Ä‘iá»ƒm thi chá»©ng chá»‰ cao hÆ¡n. Dá»¯ liá»‡u vá» Ä‘iá»ƒm thi táº¡i trÆ°á»ng Ä‘áº¡i há»c vÃ  thi chá»©ng chá»‰ hÃ nh nghá» nhÆ° sau:\n(#tab:unnamed-chunk-68)Äiá»ƒm thi táº¡i trÆ°á»ng Ä‘áº¡i há»c (diem_hoc_DH)\n\n(#tab:unnamed-chunk-70)Äiá»ƒm thi chá»©ng chá»‰ (diem_chung_chi_Actuary)\nÄá»ƒ tÃ¬m Ä‘Æ°á»£c Ä‘iá»ƒm thi chá»©ng chá»‰ cá»§a viÃªn trong báº£ng â€œdiem_hoc_DHâ€ chÃºng ta pháº£i káº¿t ná»‘i (sá»­ dá»¥ng hÃ m match()) báº£ng nÃ y vá»›i báº£ng â€œdiem_chung_chi_Actuaryâ€ thÃ´ng qua mÃ£ sinh viÃªn vÃ  tÃªn mÃ´n há»c. Viá»‡c káº¿t ná»‘i sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng cÃ¡ch táº¡o ra trÃªn má»—i báº£ng má»™t vÃ©c-tÆ¡ cÃ³ gá»i tÃªn lÃ  \\(key\\) lÃ  tá»• há»£p cá»§a mÃ£ sinh viÃªn vÃ  tÃªn mÃ´n há»c.TrÆ°á»›c háº¿t báº¡n Ä‘á»c cÃ³ thá»ƒ táº¡o hai dá»¯ liá»‡u trÃªn nhÆ° sau:ChÃºng ta táº¡o ra hai vÃ©c-tÆ¡ Ä‘á»ƒ káº¿t ná»‘i hai báº£ng, vÃ©c-tÆ¡ táº¡o ra báº±ng cÃ¡ch káº¿t há»£p tá»« vÃ©c-tÆ¡ chá»©a mÃ£ sinh viÃªn vÃ  vÃ©c-tÆ¡ tÃªn mÃ´n há»cToÃ¡n tá»­ \\%\\% sáº½ cho chÃºng ta biáº¿t nhá»¯ng pháº§n tá»­ nÃ o trong \\(diem\\_hoc\\_DH\\_key\\) náº±m trong \\(diem\\_chung\\_chi\\_Actuary\\_key\\), hay nÃ³i má»™t cÃ¡ch khÃ¡c, sinh viÃªn nÃ o trong báº£ng â€œdiem_hoc_DHâ€ cÃ³ thi chá»©ng chá»‰ tÆ°Æ¡ng á»©ng vá»›i mÃ´n há»c á»Ÿ trÆ°á»ng Ä‘áº¡i há»c:Chá»‰ sá»‘ \\(y\\) lÃ  káº¿t quáº£ cá»§a toÃ¡n tá»­ \\%\\% nÃªn sáº½ cÃ³ dáº¡ng logical. \\(y\\) cÃ³ Ä‘á»™ dÃ i lÃ  9 báº±ng vá»›i sá»‘ dÃ²ng cá»§a dá»¯ liá»‡u \\(diem\\_hoc\\_DH\\) vÃ  cho biáº¿t tÆ°Æ¡ng á»©ng má»—i sinh viÃªn cÃ³ thi chá»©ng chá»‰ mÃ´n há»c tÆ°Æ¡ng á»©ng hay khÃ´ng. Cháº³ng háº¡n nhÆ° muá»‘n táº¡o ra danh sÃ¡ch thi chá»©ng chá»‰ cá»§a sinh viÃªn lá»›p Actuary 60:Äá»ƒ tÃ¬m Ä‘Æ°á»£c Ä‘iá»ƒm thi chá»©ng chá»‰ cá»§a cÃ¡c sinh viÃªn lá»›p Actuary 60 chÃºng ta cáº§n biáº¿t káº¿t ná»‘i mÃ£ sinh viÃªn vÃ  mÃ´n há»c tá»« báº£ng \\(diem\\_hoc\\_DH\\) Ä‘áº¿n báº£ng \\(diem\\_chung\\_chi\\_Actuary\\) báº±ng cÃ¡ch sá»­ dá»¥ng hÃ m match()VÃ©c-tÆ¡ \\(y\\) cÃ³ Ä‘á»™ dÃ i báº±ng 9, cho biáº¿t má»—i dÃ²ng cá»§a dá»¯ liá»‡u \\(diem\\_hoc\\_DH\\) tÆ°Æ¡ng á»©ng vá»›i dÃ²ng thá»© bao nhiÃªu (chá»‰ sá»‘) cá»§a dá»¯ liá»‡u \\(diem\\_chung\\_chi\\_Actuary\\). GiÃ¡ trá»‹ \\(NA\\) trong \\(y\\) cÃ³ Ã½ nghÄ©a lÃ  dÃ²ng tÆ°Æ¡ng á»©ng cá»§a dá»¯ liá»‡u \\(diem\\_hoc\\_DH\\) khÃ´ng xuáº¥t hiá»‡n trong \\(diem\\_chung\\_chi\\_Actuary\\) (sinh viÃªn khÃ´ng thi chá»©ng chá»‰ mÃ´n há»c tÆ°Æ¡ng á»©ng). ChÃºng ta cÃ³ thá»ƒ thÃªm má»™t cá»™t (vÃ©c-tÆ¡) gá»i lÃ  \\(diem\\_CT\\) cho báº£ng \\(diem\\_hoc\\_DH\\)NhÆ° váº­y chÃºng ta Ä‘Ã£ cÃ³ má»™t dá»¯ liá»‡u vá»›i Ä‘iá»ƒm há»c trÃªn lá»›p vÃ  Ä‘iá»ƒm thi chá»©ng chá»‰ cá»§a cÃ¡c sinh viÃªn\n(#tab:unnamed-chunk-77)Äiá»ƒm thi vÃ  Ä‘iÃªm chá»©ng chá»‰\n","code":"\nx<-c(20,40,60,50,30,10) # VÃ©c-tÆ¡ x kiá»ƒu sá»‘\ny<-c(60,10,70) # vÃ©c-tÆ¡ y kiá»ƒu sá»‘\nmatch(y,x) # cho biáº¿t tá»«ng pháº§n tá»­ cá»§a y náº±m á»Ÿ vá»‹ trÃ­ thá»© bao nhiÃªu trong x## [1]  3  6 NA\nx<-c(20,40,60,50,30,10,20,10) # vÃ©c-tÆ¡ x kiá»ƒu sá»‘, giÃ¡ trá»‹ 10 vÃ  20 xuáº¥t hiá»‡n nhiá»u láº§n\ny<-c(10,20) # vÃ©c-tÆ¡ y kiá»ƒu sá»‘\nmatch(y,x)## [1] 6 1\nx<-c(20,40,60,50,30,10) # VÃ©c-tÆ¡ x kiá»ƒu sá»‘\ny<-c(60,10,70) # vÃ©c-tÆ¡ y kiá»ƒu sá»‘\ny %in% x # cho biáº¿t tá»«ng pháº§n tá»­ cá»§a y cÃ³ náº±m trong x hay khÃ´ng## [1]  TRUE  TRUE FALSE\n# du lieu diem_hoc_DH\nMSV <- rep(c( \"MSV001\", \"MSV002\", \"MSV003\"),3)\nMon_hoc <- c(rep(\"XÃ¡c suáº¥t\",3),rep(\"ToÃ¡n tÃ i chÃ­nh\",3),rep(\"Äáº§u tÆ° vÃ  thá»‹ trÆ°á»ng tÃ i chÃ­nh\",3))\nDiem <- c(5,7,9,10,6,8,9,5,10)\ndiem_hoc_DH <- data.frame(MSV, Mon_hoc, Diem)\n\n# du lieu diem_chung_chi_Actuary\nMSV <- c(\"MSV005\", \"MSV002\", \"MSV004\", \"MSV003\", \"MSV002\", \"MSV001\")\nMon_hoc <- c(\"XÃ¡c suáº¥t\", \"XÃ¡c suáº¥t\", \"XÃ¡c suáº¥t\", \"ToÃ¡n tÃ i chÃ­nh\", \"ToÃ¡n tÃ i chÃ­nh\", \"Äáº§u tÆ° vÃ  thá»‹ trÆ°á»ng tÃ i chÃ­nh\")\nDiem <- c(8,9,10,10,9,8)\ndiem_chung_chi_Actuary <- data.frame(MSV, Mon_hoc, Diem)\ndiem_hoc_DH_key<- paste(diem_hoc_DH$MSV, diem_hoc_DH$Mon_hoc)\ndiem_chung_chi_Actuary_key<-paste(diem_chung_chi_Actuary$MSV, diem_chung_chi_Actuary$Mon_hoc)\ny<-diem_hoc_DH_key %in% diem_chung_chi_Actuary_key\ndata.frame(MSV = diem_hoc_DH$MSV[y], # Lá»c vÃ©c-tÆ¡ cá»™t MSV báº±ng vÃ©c-tÆ¡ kiá»ƒu logic y \n           Diem = diem_hoc_DH$Mon_hoc[y]) # Lá»c vÃ©c-tÆ¡ cá»™t tÃªn mÃ´n há»c báº±ng vÃ©c-tÆ¡ kiá»ƒu logic y ##      MSV                           Diem\n## 1 MSV002                       XÃ¡c suáº¥t\n## 2 MSV002                 ToÃ¡n tÃ i chÃ­nh\n## 3 MSV003                 ToÃ¡n tÃ i chÃ­nh\n## 4 MSV001 Äáº§u tÆ° vÃ  thá»‹ trÆ°á»ng tÃ i chÃ­nh\ny<-match(diem_hoc_DH_key,diem_chung_chi_Actuary_key)\ndiem_hoc_DH$diem_CT<-diem_chung_chi_Actuary$Diem[y] # láº¥y vÃ©c-tÆ¡ con báº³ng chá»‰ sá»‘ kiá»ƒu sá»‘"},{"path":"index.html","id":"hÃ m-rank-vÃ -hÃ m-order.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.3.4.3 HÃ m rank() vÃ  hÃ m order().","text":"HÃ m rank(x) tráº£ láº¡i giÃ¡ trá»‹ lÃ  thá»© tá»± (rank) cá»§a má»™t pháº§n tá»­ trong vÃ©c-tÆ¡ \\(x\\) khi sáº¯p xáº¿p \\(x\\) theo thá»© tá»± tÄƒng dáº§n. Thá»© tá»± tÄƒng dáº§n á»Ÿ Ä‘Ã¢y Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»‘i vá»›i cÃ¡c vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±.LÆ°u Ã½ ráº±ng hÃ m rank() cÃ³ má»™t tÃ¹y chá»n quan trá»ng lÃ  \\(ties.method\\). Khi báº¡n Ä‘á»c khÃ´ng sá»­ dá»¥ng tÃ¹y chá»n nÃ y, giÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  \\(\"average\"\\). TÃ¹y chá»n \\(ties.method\\) chá»‰ cÃ³ Ã½ nghÄ©a khi \\(x\\) cÃ³ cÃ¡c giÃ¡ trá»‹ giá»‘ng nhau. Trong trÆ°á»ng há»£p táº¥t cáº£ cÃ¡c pháº§n tá»­ trong \\(x\\) lÃ  Ä‘Ã´i má»™t khÃ¡c nhau, báº¥t ká»³ tÃ¹y chá»n nÃ o Ä‘á»‘i vá»›i \\(ties.method\\) cÅ©ng tráº£ láº¡i má»™t káº¿t quáº£ duy nháº¥t.Khi \\(x\\) cÃ³ giÃ¡ trá»‹ bá»‹ láº·p láº¡i, báº¡n Ä‘á»c hÃ£y quan sÃ¡t vÃ­ dá»¥ sau Ä‘á»ƒ tháº¥y sá»± khÃ¡c biá»‡t khi sá»­ dá»¥ng tÃ¹y chá»n \\(ties.method\\)Khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"first\"\\), giÃ¡ trá»‹ tráº£ láº¡i lÃ  \\(1, 2, 3, 4, 5\\). Ba sá»‘ 10 liá»n nhau á»Ÿ pháº§n Ä‘áº§u cá»§a vÃ©c-tÆ¡ \\(x\\) Ä‘Æ°á»£c xáº¿p thá»© tá»± theo nguyÃªn táº¯c sá»‘ nÃ o xuáº¥t hiá»‡n trÆ°á»›c lÃ  cÃ³ thá»© tá»± NHá» hÆ¡n, Ä‘Ã³ thá»© tá»± cá»§a ba sá»‘ 10 nÃ y trong vÃ©c-tÆ¡ \\(x\\) khi xáº¿p \\(x\\) theo thá»© tá»± tÄƒng dáº§n lÃ  \\(1 \\rightarrow 2 \\rightarrow 3\\). TÆ°Æ¡ng tá»± vá»›i hai sá»‘ 20 á»Ÿ cuá»‘i vec-tá»› \\(x\\), sá»‘ 20 xuáº¥t hiá»‡n trÆ°á»›c Ä‘Æ°á»£c hiá»ƒu lÃ  cÃ³ thá»© tá»± trÆ°á»›c sá»‘ 20 xuáº¥t hiá»‡n sau, Ä‘Ã³ thá»© tá»± cá»§a hai sá»‘ 20 sáº½ lÃ  \\(4 \\rightarrow 5\\)Khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"first\"\\), giÃ¡ trá»‹ tráº£ láº¡i lÃ  \\(1, 2, 3, 4, 5\\). Ba sá»‘ 10 liá»n nhau á»Ÿ pháº§n Ä‘áº§u cá»§a vÃ©c-tÆ¡ \\(x\\) Ä‘Æ°á»£c xáº¿p thá»© tá»± theo nguyÃªn táº¯c sá»‘ nÃ o xuáº¥t hiá»‡n trÆ°á»›c lÃ  cÃ³ thá»© tá»± NHá» hÆ¡n, Ä‘Ã³ thá»© tá»± cá»§a ba sá»‘ 10 nÃ y trong vÃ©c-tÆ¡ \\(x\\) khi xáº¿p \\(x\\) theo thá»© tá»± tÄƒng dáº§n lÃ  \\(1 \\rightarrow 2 \\rightarrow 3\\). TÆ°Æ¡ng tá»± vá»›i hai sá»‘ 20 á»Ÿ cuá»‘i vec-tá»› \\(x\\), sá»‘ 20 xuáº¥t hiá»‡n trÆ°á»›c Ä‘Æ°á»£c hiá»ƒu lÃ  cÃ³ thá»© tá»± trÆ°á»›c sá»‘ 20 xuáº¥t hiá»‡n sau, Ä‘Ã³ thá»© tá»± cá»§a hai sá»‘ 20 sáº½ lÃ  \\(4 \\rightarrow 5\\)Khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"last\"\\), giÃ¡ trá»‹ tráº£ láº¡i lÃ  \\(3, 2, 1, 5, 4\\). Ba sá»‘ 10 liá»n nhau á»Ÿ pháº§n Ä‘áº§u cá»§a vÃ©c-tÆ¡ \\(x\\) Ä‘Æ°á»£c xáº¿p thá»© tá»± theo nguyÃªn táº¯c sá»‘ nÃ o xuáº¥t hiá»‡n trÆ°á»›c lÃ  cÃ³ thá»­ tá»± Lá»šN hÆ¡n, Ä‘Ã³ thá»© tá»± cá»§a ba sá»‘ 10 nÃ y trong vÃ©c-tÆ¡ \\(x\\) khi xáº¿p \\(x\\) theo thá»© tá»± tÄƒng dáº§n lÃ  \\(3 \\rightarrow 2 \\rightarrow 1\\). TÆ°Æ¡ng tá»± vá»›i hai sá»‘ 20 á»Ÿ cuá»‘i vec-tá»› \\(x\\), sá»‘ 20 xuáº¥t hiá»‡n trÆ°á»›c Ä‘Æ°á»£c hiá»ƒu lÃ  cÃ³ thá»© tá»± Lá»šN hÆ¡n sá»‘ 20 xuáº¥t hiá»‡n sau, Ä‘Ã³ thá»© tá»± cá»§a hai sá»‘ 20 sáº½ lÃ  \\(5 \\rightarrow 4\\)Khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"last\"\\), giÃ¡ trá»‹ tráº£ láº¡i lÃ  \\(3, 2, 1, 5, 4\\). Ba sá»‘ 10 liá»n nhau á»Ÿ pháº§n Ä‘áº§u cá»§a vÃ©c-tÆ¡ \\(x\\) Ä‘Æ°á»£c xáº¿p thá»© tá»± theo nguyÃªn táº¯c sá»‘ nÃ o xuáº¥t hiá»‡n trÆ°á»›c lÃ  cÃ³ thá»­ tá»± Lá»šN hÆ¡n, Ä‘Ã³ thá»© tá»± cá»§a ba sá»‘ 10 nÃ y trong vÃ©c-tÆ¡ \\(x\\) khi xáº¿p \\(x\\) theo thá»© tá»± tÄƒng dáº§n lÃ  \\(3 \\rightarrow 2 \\rightarrow 1\\). TÆ°Æ¡ng tá»± vá»›i hai sá»‘ 20 á»Ÿ cuá»‘i vec-tá»› \\(x\\), sá»‘ 20 xuáº¥t hiá»‡n trÆ°á»›c Ä‘Æ°á»£c hiá»ƒu lÃ  cÃ³ thá»© tá»± Lá»šN hÆ¡n sá»‘ 20 xuáº¥t hiá»‡n sau, Ä‘Ã³ thá»© tá»± cá»§a hai sá»‘ 20 sáº½ lÃ  \\(5 \\rightarrow 4\\)Khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"min\"\\), giÃ¡ trá»‹ tráº£ láº¡i lÃ  \\(1, 1, 1, 4, 4\\). Ba sá»‘ 10 liá»n nhau á»Ÿ pháº§n Ä‘áº§u cá»§a vÃ©c-tÆ¡ \\(x\\) cÃ³ thá»© tá»± báº±ng nhau lÃ  1. ÄÃ¢y chÃ­nh lÃ  thá»© tá»± nhá» nháº¥t cá»§a ba sá»‘ khi xáº¿p cÃ¡c sá»‘ nÃ y theo tÃ¹y chá»n \\(ties.method = \"first\"\\) (thá»© tá»± cá»§a 3 sá»‘ khi \\(ties.method = \"first\"\\) lÃ  1, 2, 3). TÆ°Æ¡ng tá»± ta cÃ³ thá»© tá»± cá»§a hai sá»‘ 20 tiáº¿p theo báº±ng nhau vÃ  báº±ng 4 (lÃ  giÃ¡ trá»‹ nhá» nháº¥t trong (4,5)).Khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"min\"\\), giÃ¡ trá»‹ tráº£ láº¡i lÃ  \\(1, 1, 1, 4, 4\\). Ba sá»‘ 10 liá»n nhau á»Ÿ pháº§n Ä‘áº§u cá»§a vÃ©c-tÆ¡ \\(x\\) cÃ³ thá»© tá»± báº±ng nhau lÃ  1. ÄÃ¢y chÃ­nh lÃ  thá»© tá»± nhá» nháº¥t cá»§a ba sá»‘ khi xáº¿p cÃ¡c sá»‘ nÃ y theo tÃ¹y chá»n \\(ties.method = \"first\"\\) (thá»© tá»± cá»§a 3 sá»‘ khi \\(ties.method = \"first\"\\) lÃ  1, 2, 3). TÆ°Æ¡ng tá»± ta cÃ³ thá»© tá»± cá»§a hai sá»‘ 20 tiáº¿p theo báº±ng nhau vÃ  báº±ng 4 (lÃ  giÃ¡ trá»‹ nhá» nháº¥t trong (4,5)).TÃ¹y chá»n \\(\"max\"\\) ngÆ°á»£c láº¡i vá»›i \\(\"min\"\\). Thá»© tá»± cá»§a ba sá»‘ 10 Ä‘áº§u tiÃªn trong \\(x\\) Ä‘á»u báº±ng 3 - lÃ  sá»‘ lá»›n nháº¥t trong (1, 2, 3) Ä‘á»“ng thá»i thá»© tá»± cá»§a hai sá»‘ 20 tiáº¿p theo Ä‘á»u lÃ  5 - lÃ  sá»‘ lá»›n nháº¥t trong (4,5).TÃ¹y chá»n \\(\"max\"\\) ngÆ°á»£c láº¡i vá»›i \\(\"min\"\\). Thá»© tá»± cá»§a ba sá»‘ 10 Ä‘áº§u tiÃªn trong \\(x\\) Ä‘á»u báº±ng 3 - lÃ  sá»‘ lá»›n nháº¥t trong (1, 2, 3) Ä‘á»“ng thá»i thá»© tá»± cá»§a hai sá»‘ 20 tiáº¿p theo Ä‘á»u lÃ  5 - lÃ  sá»‘ lá»›n nháº¥t trong (4,5).Khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"average\"\\), cÅ©ng lÃ  giÃ¡ trá»‹ máº·c Ä‘á»‹nh khi sá»­ dá»¥ng hÃ m \\(rank()\\), thá»© tá»± cá»§a ba sá»‘ 10 á»Ÿ Ä‘áº§u vÃ©c-tÆ¡ \\(x\\) Ä‘Æ°á»£c tÃ­nh lÃ  trung bÃ¬nh cá»§a thá»© tá»± khi xáº¿p theo tÃ¹y chá»n \\(\"first\"\\). Tháº­t váº­y, thá»© tÆ° cá»§a ba sá»‘ khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"first\"\\) lÃ  \\(1 \\rightarrow 2 \\rightarrow 3\\). Thá»© tá»± khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"average\"\\) lÃ \n\\[\n\\cfrac{1 + 2 + 3}{3} = 2\n\\]\nvÃ  thá»© tá»± cá»§a hai sá»‘ 20 á»Ÿ cuá»‘i vÃ©c-tÆ¡ lÃ \n\\[\n\\cfrac{4 + 5}{2} = 4.5\n\\]Khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"average\"\\), cÅ©ng lÃ  giÃ¡ trá»‹ máº·c Ä‘á»‹nh khi sá»­ dá»¥ng hÃ m \\(rank()\\), thá»© tá»± cá»§a ba sá»‘ 10 á»Ÿ Ä‘áº§u vÃ©c-tÆ¡ \\(x\\) Ä‘Æ°á»£c tÃ­nh lÃ  trung bÃ¬nh cá»§a thá»© tá»± khi xáº¿p theo tÃ¹y chá»n \\(\"first\"\\). Tháº­t váº­y, thá»© tÆ° cá»§a ba sá»‘ khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"first\"\\) lÃ  \\(1 \\rightarrow 2 \\rightarrow 3\\). Thá»© tá»± khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"average\"\\) lÃ \n\\[\n\\cfrac{1 + 2 + 3}{3} = 2\n\\]\nvÃ  thá»© tá»± cá»§a hai sá»‘ 20 á»Ÿ cuá»‘i vÃ©c-tÆ¡ lÃ \n\\[\n\\cfrac{4 + 5}{2} = 4.5\n\\]Cuá»‘i cÃ¹ng, khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"random\"\\), thá»© tá»± cá»§a ba sá»‘ 10 á»Ÿ Ä‘áº§u vÃ©c-tÆ¡ \\(x\\) lÃ  má»™t \\(hoÃ¡n\\) \\(vá»‹\\) \\(ngáº«u\\) \\(nhiÃªn\\) cá»§a (1,2,3) - thá»© tá»± cá»§a ba sá»‘ khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"first\"\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng hai láº§n gá»i hÃ m \\(rank()\\) vá»›i tÃ¹y chá»n \\(ties.method = \"random\"\\) cÃ³ thá»ƒ cho káº¿t quáº£ lÃ  khÃ¡c nhau.Cuá»‘i cÃ¹ng, khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"random\"\\), thá»© tá»± cá»§a ba sá»‘ 10 á»Ÿ Ä‘áº§u vÃ©c-tÆ¡ \\(x\\) lÃ  má»™t \\(hoÃ¡n\\) \\(vá»‹\\) \\(ngáº«u\\) \\(nhiÃªn\\) cá»§a (1,2,3) - thá»© tá»± cá»§a ba sá»‘ khi \\(ties.method\\) nháº­n giÃ¡ trá»‹ lÃ  \\(\"first\"\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng hai láº§n gá»i hÃ m \\(rank()\\) vá»›i tÃ¹y chá»n \\(ties.method = \"random\"\\) cÃ³ thá»ƒ cho káº¿t quáº£ lÃ  khÃ¡c nhau.Má»™t hÃ m sá»‘ khÃ¡c tráº£ láº¡i giÃ¡ trá»‹ lÃ  chá»‰ sá»‘ cá»§a vÃ©c-tÆ¡ lÃ  hÃ m order(). CÃ¢u lá»‡nh y<-order(x) tráº£ láº¡i giÃ¡ trá»‹ cho vÃ©c-tÆ¡ \\(y\\) lÃ  cÃ¡c chá»‰ sá»‘ cá»§a \\(x\\) sao cho:\\(y[1]\\) lÃ  chá»‰ sá»‘ cá»§a sá»‘ nhá» nháº¥t trong vÃ©c-tÆ¡ \\(x\\);\\(y[1]\\) lÃ  chá»‰ sá»‘ cá»§a sá»‘ nhá» nháº¥t trong vÃ©c-tÆ¡ \\(x\\);\\(y[2]\\) lÃ  chá»‰ sá»‘ cá»§a sá»‘ nhá» thá»© hai trong vÃ©c-tÆ¡ \\(x\\); â€¦\\(y[2]\\) lÃ  chá»‰ sá»‘ cá»§a sá»‘ nhá» thá»© hai trong vÃ©c-tÆ¡ \\(x\\); â€¦sá»‘ cuá»‘i cÃ¹ng trong vÃ©c-tÆ¡ \\(y\\) lÃ  chá»‰ sá»‘ cá»§a sá»‘ lá»›n nháº¥t trong vÃ©c-tÆ¡ \\(x\\).sá»‘ cuá»‘i cÃ¹ng trong vÃ©c-tÆ¡ \\(y\\) lÃ  chá»‰ sá»‘ cá»§a sá»‘ lá»›n nháº¥t trong vÃ©c-tÆ¡ \\(x\\).Khi muá»‘n láº¥y chá»‰ sá»‘ cá»§a vÃ©c-tÆ¡ \\(x\\) nhÆ°ng theo thá»© tá»± giáº£m dáº§n báº¡n Ä‘á»c sá»­ dá»¥ng tÃ¹y biáº¿n \\(decreasing = TRUE\\) trong hÃ m order(). KhÃ¡i niá»‡m tÄƒng dáº§n vÃ  giáº£m dáº§n cÅ©ng cÃ³ thá»ƒ hiá»ƒu cho cÃ¡c vÃ©c-tÆ¡ kiá»ƒu thá»i gian, kiá»ƒu factor hay kiá»ƒu chuá»—i kÃ½ tá»±.HÃ m order(x) cho káº¿t quáº£ lÃ  6 táº¡i vá»‹ trÃ­ thá»© nháº¥t cÃ³ nghÄ©a lÃ  sá»‘ nhá» nháº¥t trong \\(x\\) náº±m á»Ÿ vá»‹ trÃ­ thá»© sÃ¡u trong vÃ©c-tÆ¡ nÃ y (sá»‘ 10). Vá»‹ trÃ­ thá»© hai trong order(x) nháº­n giÃ¡ trá»‹ lÃ  1 cÃ³ nghÄ©a lÃ  sá»‘ nhá» thá»© hai trong \\(x\\) náº±m á»Ÿ vá»‹ trÃ­ thá»© nháº¥t trong vÃ©c-tÆ¡ nÃ y, vÃ  cá»© tiáº¿p tá»¥c nhÆ° tháº¿. Vá»‹ trÃ­ cuá»‘i cÃ¹ng trong order(x) cÃ³ giÃ¡ trá»‹ lÃ  3 cÃ³ nghÄ©a lÃ  sá»‘ lá»›n nháº¥t trong vÃ©c-tÆ¡ \\(x\\) náº±m á»Ÿ vá»‹ trÃ­ thá»© 3 trong vÃ©c-tÆ¡ nÃ y.HÃ m order(x) cÃ³ thá»ƒ Ä‘Æ°á»£c phá»ng theo Ä‘Æ°á»£c báº±ng cÃ¡ch khá»›p chá»‰ sá»‘ cá»§a vÃ©c-tÆ¡ \\(x\\) vá»›i hÃ m rank(x, ties.method = \"first\"), tháº­t váº­y:Sá»­ dá»¥ng hÃ m order() báº¡n Ä‘á»c cÃ³ thá»ƒ dá»… dÃ ng láº¥y ra cÃ¡c giÃ¡ trá»‹ nhá» (hoáº·c lá»›n) thá»© \\(k\\) trong má»™t vÃ©c-tÆ¡. Cháº³ng háº¡n nhÆ° báº¡n Ä‘á»c muá»‘n láº¥y ra cÃ¢u tweet cÃ³ sá»‘t lÆ°á»£t yÃªu thÃ­ch nhiá»u thá»© hai cá»§a cá»±u tá»•ng thá»‘ng Donald Trump tá»« dá»¯ liá»‡u \\(trump\\_tweet\\), báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m order() nhÆ° sau","code":"\nx<-c(20,40,60,50,30,10) # VÃ©c-tÆ¡ x kiá»ƒu sá»‘\nrank(x) # tÆ°Æ¡ng á»©ng vá»›i sá»‘ lá»›n nháº¥t (60) lÃ  chá»‰ sá»‘ 6, tÆ°Æ¡ng á»©ng vá»›i 10 lÃ  chá»‰ sá»‘ 1## [1] 2 4 6 5 3 1\nx<-c(10,10,10,20,20) # VÃ©c-tÆ¡ x kiá»ƒu sá»‘\nrank(x,ties.method = \"first\") # Trong cÃ¡c giÃ¡ trá»‹ báº±ng nhau, giÃ¡ trá»‹ xuáº¥t hiá»‡n TRÆ¯á»šC cÃ³ rank nhá» hÆ¡n## [1] 1 2 3 4 5\nrank(x,ties.method = \"last\") # Trong cÃ¡c giÃ¡ trá»‹ báº±ng nhau, giÃ¡ trá»‹ xuáº¥t hiá»‡n SAU cÃ³ rank nhá» hÆ¡n## [1] 3 2 1 5 4\nrank(x,ties.method = \"min\") # CÃ¡c giÃ¡ trá»‹ báº±ng nhau cÃ³ rank giá»‘ng nhau vÃ  báº±ng rank nhá» nháº¥t## [1] 1 1 1 4 4\nrank(x,ties.method = \"max\") # CÃ¡c giÃ¡ trá»‹ báº±ng nhau cÃ³ rank giá»‘ng nhau vÃ  báº±ng rank lá»›n nháº¥t## [1] 3 3 3 5 5\nrank(x,ties.method = \"average\") # CÃ¡c giÃ¡ trá»‹ báº±ng nhau cÃ³ rank báº±ng nhau vÃ  báº±ng rank trung bÃ¬nh## [1] 2.0 2.0 2.0 4.5 4.5\nrank(x,ties.method = \"random\") # CÃ¡c giÃ¡ trá»‹ báº±ng nhau cÃ³ rank báº±ng nhau vÃ  báº±ng rank trung bÃ¬nh## [1] 3 2 1 5 4\nx<-c(20,40,60,50,30,10) # VÃ©c-tÆ¡ kiá»ƒu sá»‘\norder(x) # chá»‰ sá»‘ khi xáº¿p x theo thá»© tá»± TÄ‚NG dáº§n## [1] 6 1 5 2 4 3\norder(x, decreasing = TRUE) # chá»‰ sá»‘ khi xáº¿p x theo thá»© tá»± GIáº¢M dáº§n## [1] 3 4 2 5 1 6\nx<-c(20,20,10,10,10) # vÃ©c-tÆ¡ kiá»ƒu sá»‘ cÃ³ cÃ¡c giÃ¡ trá»‹ giá»‘ng nhau\nchiso<-1:length(x) # chá»‰ sá»‘ tÄƒng dáº§n tá»« 1 Ä‘áº¿n Ä‘á»™ dÃ i cá»§a x\nmatch(chiso,rank(x, ties.method = \"first\")) # match chiso vá»›i rank## [1] 3 4 5 1 2\norder(x) # cho káº¿t quáº£ giá»‘ng nhÆ° á»Ÿ trÃªn## [1] 3 4 5 1 2\ny<-order(trump_tweets$favorite_count, decreasing = T)[2] # vá»‹ trÃ­ cá»§a cÃ¢u tweet Ä‘Æ°á»£c like nhiá»u thá»© 2\ntrump_tweets$text[y] # láº¥y ra cÃ¢u tweet Ä‘Æ°á»£c like nhiá»u thá»© hai## [1] \"Why would Kim Jong-un insult me by calling me \\\"old,\\\" when I would NEVER call him \\\"short and fat?\\\" Oh well, I try so hard to be his friend - and maybe someday that will happen!\""},{"path":"index.html","id":"láº­p-trÃ¬nh-r","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.4 Láº­p trÃ¬nh R","text":"Äá»ƒ viáº¿t cÃ¡c chÆ°Æ¡ng trÃ¬nh phá»©c táº¡p hÆ¡n trong R, báº¡n Ä‘á»c sáº½ cáº§n kiá»ƒm soÃ¡t tá»‘t trÃ¬nh tá»± mÃ  cÃ¡c dÃ²ng lá»‡nh cá»§a mÃ¬nh. Má»™t cÃ¡ch cÆ¡ báº£n Ä‘á»ƒ lÃ m Ä‘Æ°á»£c viá»‡c nÃ y lÃ  thá»±c hiá»‡n má»™t sá»‘ cÃ¢u lá»‡nh nháº¥t Ä‘á»‹nh phá»¥ thuá»™c vÃ o má»™t hoáº·c má»™t sá»‘ Ä‘iá»u kiá»‡n hay cÃ²n gá»i lÃ  viáº¿t cÃ¡c cÃ¢u lá»‡nh ráº½ nhÃ¡nh. Má»™t cÃ¡ch kiá»ƒm soÃ¡t khÃ¡c lÃ  sá»­ dá»¥ng vÃ²ng láº·p nháº±m láº·p láº¡i má»™t nhÃ³m cÃ¡c cÃ¢u lá»‡nh má»™t sá»‘ láº§n nháº¥t Ä‘á»‹nh. Trong pháº§n nÃ y, chÃºng ta sáº½ khÃ¡m phÃ¡ nhá»¯ng kiáº¿n thá»©c láº­p trÃ¬nh cÆ¡ báº£n nÃ y trong ngÃ´n ngá»¯ láº­p trÃ¬nh R. CÃ¡c kiáº¿n thá»©c vá» láº­p trÃ¬nh bao gá»“m cÃ³ cÃ¡ch sá»­ dá»¥ng cÃ¢u lá»‡nh ráº½ nhÃ¡nh (-else), cÃ¡ch sá»­ dá»¥ng vÃ²ng láº·p (, , vÃ  repeat) vÃ  má»™t vÃ i cáº¥u trÃºc khÃ¡c giÃºp báº¡n Ä‘á»c Ä‘iá»u khiá»ƒn Ä‘Æ°á»£c cÃ¡ch thá»±c hiá»‡n cÃ¡c dÃ²ng lá»‡nh cá»§a mÃ¬nh.","code":""},{"path":"index.html","id":"cÃ¢u-lá»‡nh-Ä‘iá»u-kiá»‡n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.4.1 CÃ¢u lá»‡nh Ä‘iá»u kiá»‡n","text":"","code":""},{"path":"index.html","id":"cÃ¢u-lá»‡nh-if-vÃ -if-else","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.4.1.1 CÃ¢u lá»‡nh \\(if\\) vÃ  \\(if-else\\)","text":"Báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¢u lá»‡nh Ä‘iá»u kiá»‡u Ä‘á»ƒ thÃ´ng bÃ¡o cho R biáº¿t má»™t cÃ¢u lá»‡nh, hay má»™t nhÃ³m cÃ¢u lá»‡nh chá»‰ thá»±c hiá»‡n khi má»™t Ä‘iá»u kiá»‡n nÃ o Ä‘Ã³ Ä‘Æ°á»£c thá»±c thi. DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch viáº¿t cá»§a cÃ¢u lá»‡nh trong ngÃ´n ngá»¯ RBáº¡n Ä‘á»c cÃ³ thá»ƒ thá»±c hiá»‡n má»™t Ä‘oáº¡n lá»‡nh cÃ³ biá»ƒu thá»©c Ä‘iá»u kiá»‡n cá»¥ thá»ƒ nhÆ° sauKhi thá»±c hiá»‡n nhÃ³m cÃ¡c cÃ¢u lá»‡nh á»Ÿ trÃªn, dÃ²ng lá»‡nh thá»© 3 chá»‰ Ä‘Æ°á»£c thá»±c hiá»‡n náº¿u biá»ƒu thá»©c Ä‘iá»u kiá»‡n Ä‘Æ°á»£c viáº¿t trong dáº¥u ngoáº·c () á»Ÿ dÃ²ng lá»‡nh thá»© 2 nháº­n giÃ¡ trá»‹ lÃ  TRUE. Náº¿u biá»ƒu thá»©c Ä‘iá»u kiá»‡n Ä‘Ã³ nháº­n giÃ¡ trá»‹ lÃ  FALSE, R sáº½ khÃ´ng thá»±c hiá»‡n cÃ¡c dÃ²ng lá»‡nh sá»‘ 3. Sau khi R thá»±c thi cÃ¡c dÃ²ng lá»‡nh 1, biáº¿n \\(x\\) nháº­n giÃ¡ trá»‹ lÃ  1 nÃªn phÃ©p sÃ¡nh \\(x<10\\) sáº½ cho káº¿t quáº£ lÃ  \\(TRUE\\). Ä‘Ã³, dÃ²ng lá»‡nh 3 gÃ¡n giÃ¡ trá»‹ má»›i báº±ng 4 cho biáº¿n \\(y\\) sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n. Báº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm tra Ä‘Æ°á»£c ráº±ng sau khi thá»±c hiá»‡n Ä‘oáº¡n lá»‡nh á»Ÿ trÃªn, giÃ¡ trá»‹ cá»§a biáº¿n \\(y\\) sáº½ báº±ng 4 chá»© khÃ´ng pháº£i lÃ  2 nhÆ° khá»Ÿi táº¡o á»Ÿ dÃ²ng lá»‡nh sá»‘ 1.Khi sá»­ dá»¥ng cÃ¢u lá»‡nh Ä‘iá»u kiá»‡n , sáº½ khÃ´ng cÃ³ cÃ¢u lá»‡nh nÃ o Ä‘Æ°á»£c thá»±c hiá»‡n trong trÆ°á»ng há»£p biá»ƒu thá»©c Ä‘iá»u kiá»‡n nháº­n giÃ¡ trá»‹ lÃ  sai. Trong thá»±c táº¿, Ä‘a pháº§n cÃ¡c Ä‘oáº¡n lá»‡nh ráº½ nhÃ¡nh sáº½ cÃ³ cÃ¡c cÃ¢u lá»‡nh pháº£i thá»±c thi khi biá»ƒu thá»©c Ä‘iá»u kiá»‡n nháº­n giÃ¡ trá»‹ lÃ  sai. Äá»ƒ thá»±c hiá»‡n Ä‘Æ°á»£c viá»‡c nÃ y, báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¢u lá»‡nh káº¿t há»£p vá»›i else nhÆ° sauBáº¡n Ä‘á»c cÃ³ thá»ƒ quan sÃ¡t sá»± thay Ä‘á»•i giÃ¡ trá»‹ cá»§a biáº¿n \\(y\\) sau khi thá»±c hiá»‡n Ä‘oáº¡n lá»‡nh nhÆ° sauDo biá»ƒu thá»©c Ä‘iá»u kiá»‡n \\(x==10\\) nháº­n giÃ¡ trá»‹ lÃ  \\(FALSE\\) nÃªn R sáº½ khÃ´ng thá»±c hiá»‡n dÃ²ng lá»‡nh sá»‘ 3 mÃ  chuyá»ƒn qua thá»±c hiá»‡n dÃ²ng lá»‡nh sá»‘ 5. GiÃ¡ trá»‹ cá»§a \\(y\\) sau khi thá»±c hiá»‡n Ä‘oáº¡n lá»‡nh á»Ÿ trÃªn sáº½ lÃ  8. Náº¿u trong dÃ²ng lá»‡nh 1, báº¡n Ä‘á»c sá»­a giÃ¡ trá»‹ cá»§a \\(x\\) thÃ nh 10 thay vÃ¬ 1, dÃ²ng lá»‡nh 3 sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n vÃ  dÃ²ng lá»‡nh sá»‘ 5 khÃ´ng Ä‘Æ°á»£c thá»±c hiá»‡n Ä‘Ã³ giÃ¡ trá»‹ cá»§a \\(y\\) sau khi thá»±c hiá»‡n Ä‘oáº¡n lá»‡nh lÃºc nÃ y sáº½ lÃ  4.Biá»ƒu thá»©c Ä‘iá»u kiá»‡n trong cÃ¢u lá»‡nh pháº£i lÃ  má»™t biáº¿n kiá»ƒu logic. Náº¿u sÆ¡ Ã½, biá»ƒu thá»©c Ä‘iá»u kiá»‡n lÃ  má»™t vÃ©c-tÆ¡ cá»§a cÃ¡c biáº¿n kiá»ƒu logic, cÃ¢u lá»‡nh sáº½ chá»‰ tÃ­nh Ä‘áº¿n giÃ¡ trá»‹ Ä‘áº§u tiÃªn trong vÃ©c-tÆ¡.Báº¡n Ä‘á»c cÃ³ thá»ƒ sáº½ gáº·p cÃ¢u lá»‡nh ifelse() trong cÃ¡c Ä‘oáº¡n cÃ¢u lá»‡nh cá»§a R. Tuy nhiÃªn Ä‘Ã¢y khÃ´ng pháº£i lÃ  cÃ¡ch viáº¿t cá»§a cÃ¢u lá»‡nh ráº½ nhÃ¡nh. HÃ m ifelse() Ä‘Æ°á»£c sá»­ dá»¥ng khi muá»‘n táº¡o ra má»™t vÃ©c-tÆ¡ tá»« hai vÃ©c-tÆ¡ dá»±a trÃªn giÃ¡ trá»‹ cá»§a má»™t vÃ©c-tÆ¡ kiá»ƒu logic. CÃ¡ch sá»­ dá»¥ng ifelse() Ä‘Æ°á»£c minh há»a thÃ´ng qua vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢yHÃ m ifelse() á»Ÿ trÃªn sáº½ táº¡o ra má»™t vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i báº±ng vá»›i vÃ©c-tÆ¡ \\(x\\) vÃ  tÆ°Æ¡ng á»©ng vá»›i cÃ¡c vá»‹ trÃ­ cho káº¿t quáº£ lÃ  \\(x\\) chia háº¿t cho 2 sáº½ cÃ³ giÃ¡ trá»‹ lÃ  â€œcháºµnâ€ vÃ  tÆ°Æ¡ng á»©ng vá»›i cÃ¡c vá»‹ trÃ­ mÃ  \\(x\\) khÃ´ng chia háº¿t cho 2 sáº½ cÃ³ gÃ­a trá»‹ â€œláº»â€.Khi sá»­ dá»¥ng cÃ¢u lá»‡nh ráº½ nhÃ¡nh Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c yÃªu cáº§u phá»©c táº¡p hÆ¡n, báº¡n Ä‘á»c thÆ°á»ng pháº£i sá»­ dá»¥ng cÃ¡c cÃ¢u lá»‡nh vÃ  else lá»“ng vÃ o nhau Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c káº¿t quáº£. Báº¡n Ä‘á»c cÃ³ thá»ƒ quan sÃ¡t vÃ­ dá»¥ sau: Ä‘á»ƒ viáº¿t má»™t Ä‘oáº¡n cÃ¢u lá»‡nh Ä‘á»ƒ tráº£ ra mÃ n hÃ¬nh giÃ¡ vÃ© vÃ o ráº¡p chiáº¿u phim cá»§a má»™t khÃ¡ch hÃ ng dá»±a trÃªn Ä‘á»™ tuá»•i vÃ  viá»‡c cÃ³ tháº» thÃ nh viÃªn hay khÃ´ng nhÆ° báº£ng á»Ÿ dÆ°á»›i Ä‘Ã¢y, báº¡n Ä‘á»c khÃ´ng thá»ƒ chá»‰ dÃ¹ng má»™t cÃ¢u lá»‡nh Ä‘iá»u kiá»‡n duy nháº¥t.\n(#tab:unnamed-chunk-85)VÃ­ dá»¥ vá» cÃ¢u lá»‡nh Ä‘iá»u kiá»‡n\nGiáº£ sá»­ biáº¿n \\(Age\\) lÃ  biáº¿n kiá»ƒu sá»‘ cho biáº¿t Ä‘á»™ tuá»•i cá»§a khÃ¡ch hÃ ng vÃ  biáº¿n \\(Member\\) lÃ  biáº¿n kiá»ƒu logic nháº­n giÃ¡ trá»‹ \\(TRUE\\) náº¿u khÃ¡ch hÃ ng lÃ  thÃ nh viÃªn vÃ  \\(FALSE\\) náº¿u khÃ¡ch hÃ ng khÃ´ng pháº£i lÃ  thÃ nh viÃªn. Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¢u lá»‡nh Ä‘iá»u kiá»‡n Ä‘á»ƒ ra mÃ n hÃ¬nh giÃ¡ vÃ© cá»§a khÃ¡ch hÃ ng Ä‘Ã³ báº±ng má»™t trong hai cÃ¡ch nhÆ° sau","code":"\nif (\"Biá»ƒu thá»©c Ä‘iá»u kiá»‡n\"){ \n  \"NhÃ³m cÃ¡c cÃ¢u lá»‡nh thá»±c hiá»‡n khi biá»ƒu thá»©c Ä‘iá»u kiá»‡n lÃ  ÄÃšNG\"\n}\nx<-1; y<-2 # DÃ²ng lá»‡nh 1: táº¡o biáº¿n x cÃ³ giÃ¡ trá»‹ lÃ  1 vÃ  biáº¿n y cÃ³ giÃ¡ trá»‹ lÃ  2\nif (x<10){ # DÃ²ng lá»‡nh 2: Náº¿u x nhá» hÆ¡n 10 thÃ¬ thá»±c hiá»‡n cÃ¡c cÃ¢u lá»‡nh náº±m trong {}\n  y<-4 # DÃ²ng lá»‡nh 3: Thay Ä‘á»•i, gÃ¡n giÃ¡ trá»‹ y báº±ng 4\n} # DÃ²ng lá»‡nh 4: káº¿t thÃºc cÃ¢u lá»‡nh if\nif (\"Biá»ƒu thá»©c Ä‘iá»u kiá»‡n\"){ \n  \"NhÃ³m cÃ¡c cÃ¢u lá»‡nh thá»±c hiá»‡n khi biá»ƒu thá»©c Ä‘iá»u kiá»‡n lÃ  ÄÃšNG\"\n} else {\n  \"NhÃ³m cÃ¡c cÃ¢u lá»‡nh thá»±c hiá»‡n khi biá»ƒu thá»©c Ä‘iá»u kiá»‡n lÃ  SAI\"\n}\nx<-1; y<-2 # DÃ²ng lá»‡nh 1: táº¡o biáº¿n x cÃ³ giÃ¡ trá»‹ lÃ  1 vÃ  biáº¿n y cÃ³ giÃ¡ trá»‹ lÃ  2\nif (x==10){ # DÃ²ng lá»‡nh 2: Náº¿u x báº±ng 10 thÃ¬ thá»±c hiá»‡n cÃ¡c cÃ¢u lá»‡nh náº±m trong {} cá»§a if\n  y<-4 # DÃ²ng lá»‡nh 3: Thay Ä‘á»•i, gÃ¡n giÃ¡ trá»‹ y báº±ng 4\n} else { # DÃ²ng lá»‡nh 4: Náº¿u x KHÃC 10 thÃ¬ thá»±c hiá»‡n cÃ¡c cÃ¢u lá»‡nh náº±m trong {} cá»§a else\n  y<-8 # DÃ²ng lá»‡nh 5: Thay Ä‘á»•i, gÃ¡n giÃ¡ trá»‹ y báº±ng 4\n} # DÃ²ng lá»‡nh 6: káº¿t thÃºc cÃ¢u lá»‡nh if-else\ndieukien<-c(TRUE,FALSE,FALSE)\nif (dieukien){ # dieukien lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu logic\n  print(\"Xin chÃ o\") #R CÃ“ cháº¡y dÃ²ng lá»‡nh nÃ y\n} # káº¿t thÃºc cÃ¢u lá»‡nh if\nx<-1:10\nifelse(x%%2==0,\"cháºµn\",\"láº»\") # táº¡o ra vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±##  [1] \"láº»\"   \"cháºµn\" \"láº»\"   \"cháºµn\" \"láº»\"   \"cháºµn\" \"láº»\"   \"cháºµn\" \"láº»\"   \"cháºµn\"\n# CÃ¡ch thá»© nháº¥t: sá»­ dá»¥ng bá»‘n cÃ¢u lá»‡nh if\nAge<-50; Member<-TRUE # táº¡o giÃ¡ trá»‹ cho cÃ¡c biáº¿n Age, Member\nif ((Age < 6) & Member){ # náº¿u khÃ¡ch hÃ ng dÆ°á»›i 6 tuá»•i vÃ  lÃ  thÃ nh viÃªn\n  print(\"70.000 Ä‘á»“ng\")\n}\nif ((Age < 6) & Member){ # náº¿u khÃ¡ch hÃ ng trÃªn 6 tuá»•i vÃ  lÃ  thÃ nh viÃªn\n  print(\"100.000 Ä‘á»“ng\")\n}\nif ((Age < 6) & Member){ # náº¿u khÃ¡ch hÃ ng dÆ°á»›i 6 tuá»•i vÃ  khÃ´ng pháº£i thÃ nh viÃªn\n  print(\"120.000 Ä‘á»“ng\")\n}\nif ((Age < 6) & Member){ # náº¿u khÃ¡ch hÃ ng trÃªn 6 tuá»•i vÃ  khÃ´ng pháº£i thÃ nh viÃªn\n  print(\"150.000 Ä‘á»“ng\")\n}\n# CÃ¡ch thá»© hai: cÃ¢u lá»‡nh if-else\nAge<-50; Member<-TRUE # táº¡o giÃ¡ trá»‹ cho cÃ¡c biáº¿n Age, Member\nif (Age<6){\n  if(Member){\n    print(\"70.000 Ä‘á»“ng\")\n  } else {\n    print(\"100.000 Ä‘á»“ng\")\n  }\n} else {\n  if(Member){\n    print(\"120.000 Ä‘á»“ng\")\n  } else {\n    print(\"150.000 Ä‘á»“ng\")\n  }\n}"},{"path":"index.html","id":"vÃ²ng-láº·p","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.4.2 VÃ²ng láº·p","text":"VÃ²ng láº·p lÃ  má»™t cÆ¡ cháº¿ láº­p trÃ¬nh vá»›i má»¥c Ä‘Ã­ch Ä‘á»ƒ R láº·p Ä‘i láº·p láº¡i viá»‡c cháº¡y má»™t dÃ²ng lá»‡nh hay má»™t Ä‘oáº¡n lá»‡nh cá»¥ thá»ƒ. CÃ³ hai kiá»ƒu viáº¿t láº·p Ä‘Ã³ lÃ  vÃ²ng láº·p hoáº¡t Ä‘á»™ng theo cÃ¡ch cho má»™t pháº§n tá»­ nháº­n láº§n lÆ°á»£t tá»«ng giÃ¡ trá»‹ trong má»™t vÃ©c-tÆ¡ vÃ  vÃ²ng láº·p hoáº¡t Ä‘á»™ng theo cÃ¡ch láº·p láº¡i má»™t Ä‘oáº¡n mÃ£ cho Ä‘áº¿n khi má»™t Ä‘iá»u kiá»‡n cá»¥ thá»ƒ nháº­n giÃ¡ trá»‹ lÃ  \\(FALSE\\). CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng kiá»ƒu vÃ²ng láº·p cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c Ã¡p dá»¥ng khi sá»­ dá»¥ng nhÃ³m cÃ¡c hÃ m apply() trong R vÃ  sáº½ Ä‘Æ°á»£c tháº£o luáº­n á»Ÿ má»™t pháº§n riÃªng cá»§a cuá»‘n sÃ¡ch.","code":""},{"path":"index.html","id":"vÃ²ng-láº·p-for","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.4.2.1 VÃ²ng láº·p for","text":"Nhá»¯ng cÃ¢u lá»‡nh sau dÃ¹ng Ä‘á»ƒ ra mÃ n hÃ¬nh táº¥t cáº£ cÃ¡c giÃ¡ trá»‹ náº±m trong vÃ©c-tÆ¡ \\(qua\\) báº±ng cÃ¡ch sá»­ dá»¥ng má»™t vÃ²ng láº·p forCÃ¡c dÃ²ng lá»‡nh báº¯t Ä‘áº§u tá»« Ä‘áº¿n káº¿t thÃºc dáº¥u ngoáº·c \\({}\\) cá»§a vÃ²ng láº·p cÃ³ nghÄ©a lÃ  cho má»™t biáº¿n \\(ten\\) nháº­n láº§n lÆ°á»£t cÃ¡c giÃ¡ trá»‹ trong vÃ©c-tÆ¡ \\(qua\\) tá»« giÃ¡ trá»‹ á»Ÿ vá»‹ trÃ­ thá»© nháº¥t Ä‘áº¿n giÃ¡ trá»‹ á»Ÿ vá»‹ trÃ­ cuá»‘i cÃ¹ng. Vá»›i má»—i giÃ¡ trá»‹ mÃ  biáº¿n \\(ten\\) nháº­n Ä‘Æ°á»£c, Ä‘oáº¡n lá»‡nh thá»±c hiá»‡n nhÃ³m cÃ¡c cÃ¢u lá»‡nh náº±m trong dáº¥u ngoáº·c \\({}\\) cá»§a vÃ²ng láº·p má»™t láº§n. Trong Ä‘oáº¡n lá»‡nh á»Ÿ trÃªn cÃ¡c cÃ¢u lá»‡nh Ä‘Æ°á»£c láº·p láº¡i lÃ  cÃ¢u lá»‡nh \\(print\\) vá»›i tham sá»‘ lÃ  biáº¿n \\(ten\\).Báº¡n Ä‘á»c hÃ£y thá»­ má»™t vÃ­ dá»¥ khÃ³ hÆ¡n má»™t chÃºt, cháº³ng háº¡n nhÆ° báº¡n muá»‘n tÃ­nh tá»•ng cÃ¡c sá»‘ trong má»™t vÃ©c-tÆ¡ \\(x\\) vÃ  khÃ´ng sá»­ dá»¥ng hÃ m sum() cÃ³ sáºµn trong R. Báº¡n cÃ³ thá»ƒ thá»±c hiá»‡n viá»‡c nÃ y báº³ng má»™t vÃ²ng láº·p nhÆ° sau:Cho biáº¿n tÃªn \\(tong\\) nháº­n giÃ¡ trá»‹ báº±ng 0. \\(tong\\) sáº½ lÃ  giÃ¡ trá»‹ cá»§a tá»•ng sau khi káº¿t thÃºc vÃ²ng láº·pCho má»™t biáº¿n tÃªn \\(gia_tri\\) nháº­n láº§n lÆ°á»£t cÃ¡c giÃ¡ trá»‹ trong vÃ©c-tÆ¡ báº¯t Ä‘áº§u tá»« vá»‹ trÃ­ thá»© nháº¥t, táº¡i má»—i láº§n láº·p tÄƒng giÃ¡ trá»‹ biáº¿n \\(tong\\) lÃªn Ä‘Ãºng báº±ng giÃ¡ trá»‹ cá»§a \\(gia_tri\\)Sau khi vÃ²ng láº·p \\(\\) cháº¡y qua táº¥t cáº£ cÃ¡c giÃ¡ trá»‹ trong vÃ©c-tÆ¡ cáº§n tÃ­nh tá»•ng, biáº¿n \\(tong\\) sáº½ chá»©a giÃ¡ trá»‹ cá»§a tá»•ng cÃ¡c sá»‘ trong vÃ©c-tÆ¡.Giáº£ sá»­ \\(x\\) lÃ  vÃ©c-tÆ¡ \\(Airpassengers\\) - lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu chuá»—i thá»i gian cÃ³ sáºµn trong R chá»©a thÃ´ng tin vá» sá»‘ lÆ°á»£ng khÃ¡ch hÃ ng Ä‘i mÃ¡y bay hÃ ng thÃ¡ng, Ä‘Æ¡n vá»‹ lÃ  nghÃ¬n ngÆ°á»i, tÃ­nh tá»« thÃ¡ng 1 nÄƒm 1949 Ä‘áº¿n thÃ¡ng 12 nÄƒm 1960. ChÃºng ta sá»­ dá»¥ng vÃ²ng láº·p Ä‘á»ƒ tÃ­nh tá»•ng cÃ¡c sá»‘ trong vÃ©c-tÆ¡ sau Ä‘Ã³ sÃ¡nh káº¿t quáº£ vá»›i hÃ m sum() cÃ³ sáºµn.Lá»i khuyÃªn cá»§a chÃºng tÃ´i lÃ  báº¡n Ä‘á»c hÃ£y luÃ´n cá»‘ gáº¯ng viáº¿t cÃ¢u lá»‡nh trong R dÆ°á»›i dáº¡ng Ä‘á»‘i tÆ°á»£ng vec-tÆ¡ náº¿u cÃ³ Sá»­ dá»¥ng vÃ©c-tÆ¡ trong R hiá»‡u quáº£ hÆ¡n nhiá»u cáº£ vá» thá»i gian cháº¡y láº«n sá»± Ä‘Æ¡n giáº£n cá»§a cÃ¡c dÃ²ng lá»‡nh. Tháº­t váº­y, báº¡n Ä‘á»c cÃ³ thá»ƒ xem vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y khi sá»­ dá»¥ng vÃ²ng láº·p cho nhá»¯ng vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i lá»›n vÃ  sÃ¡nh vá»›i tÃ­nh toÃ¡n theo vec-tÆ¡. VÃ©c-tÆ¡ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm tra tÃ­nh hiá»‡u quáº£ lÃ  vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i \\(10^9\\) (1 tá»· pháº§n tá»­).Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng trÃªn mÃ¡y tÃ­nh cá»§a chÃºng tÃ´i, sá»­ dá»¥ng vÃ²ng láº·p Ä‘á»ƒ tÃ­nh tá»•ng cÃ¡c sá»‘ trong vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i \\(10^9\\) máº¥t khoáº£ng 25 giÃ¢y trong khi dÃ¹ng hÃ m sum() trá»±c tiáº¿p trÃªn vÃ©c-tÆ¡ chá»‰ máº¥t hÆ¡n 1 giÃ¢y.Trong cÃ¡c vÃ­ dá»¥ á»Ÿ trÃªn, chÃºng tÃ´i sá»­ dá»¥ng trá»±c tiáº¿p giÃ¡ trá»‹ trong vÃ©c-tÆ¡ Ä‘á»ƒ thá»±c hiá»‡n vÃ²ng láº·p. Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng vÃ²ng láº·p theo chá»‰ sá»‘ cá»§a vÃ©c-tÆ¡ vÃ  cho káº¿t quáº£ tÆ°Æ¡ng tá»±. Cháº³ng háº¡n nhÆ° Ä‘á»‘i vá»›i vÃ©c-tÆ¡ \\(qua\\), báº¡n Ä‘á»c cÃ³ thá»ƒ cho má»™t chá»‰ sá»‘ nháº­n giÃ¡ trá»‹ láº§n lÆ°á»£t tá»« 1 Ä‘áº¿n Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡ \\(qua\\) Ä‘á»ƒ láº¥y tá»«ng pháº§n tá»­ cá»§a vÃ©c-tÆ¡ \\(qua\\):Trong nhiá»u trÆ°á»ng há»£p, báº¡n Ä‘á»c cáº§n pháº£i sá»­ dá»¥ng má»™t vÃ²ng láº·p \\(\\) náº±m trong má»™t vÃ²ng láº·p \\(\\) khÃ¡c Ä‘á»ƒ giáº£i quyáº¿t Ä‘Æ°á»£c váº¥n Ä‘á» cá»§a mÃ¬nh. VÃ­ dá»¥ nhÆ° báº¡n cáº§n ra táº¥t cáº£ cÃ¡c cÃ¡ch káº¿t há»£p giá»¯a hai cÃ¡ch pha cháº¿ lÃ  â€œNÆ°á»›c Ã©pâ€ vÃ  â€œSinh tá»‘â€ vá»›i bá»‘n loáº¡i quáº£ á»Ÿ trÃªn. Báº¡n Ä‘á»c cáº§n sá»­ dá»¥ng 2 vÃ²ng láº·p \\(\\) lá»“ng nhau Ä‘á»ƒ lÃ m Ä‘Æ°á»£c viá»‡c nÃ yTrong vÃ­ dá»¥ á»Ÿ trÃªn, tá»•ng sá»‘ láº§n cÃ¢u lá»‡nh print() Ä‘Æ°á»£c láº·p lÃ  \\(4 \\times 2 = 8 (\\text{láº§n})\\). Má»—i khi viáº¿t vÃ²ng láº·p , Ä‘áº·c biá»‡t lÃ  khi viáº¿t cÃ¡c vÃ²ng láº·p lá»“ng vÃ o nhau, báº¡n Ä‘á»c hÃ£y luÃ´n cÃ¢n nháº¯c thá»i gian R cháº¡y vÃ²ng láº·p. Má»™t cÃ¡ch Ä‘á»ƒ kiá»ƒm tra thá»i gian vÃ²ng láº·p cháº¡y lÃ  thay vÃ¬ cho chá»‰ sá»‘ cháº¡y qua Ä‘á»™ dÃ i cá»§a cáº£ vÃ©c-tÆ¡ thÃ¬ hÃ£y cho vÃ²ng láº·p thá»±c hiá»‡n vá»›i má»™t sá»‘ lÆ°á»£ng nhá» chá»‰ sá»‘ ban Ä‘áº§u Ä‘á»ƒ Æ°á»›c tÃ­nh ra tá»•ng thá»i gian. NÃ³i má»™t cÃ¡ch Ä‘Æ¡n giáº£n, vÃ²ng láº·p \\(\\) cháº¡y qua 100 giÃ¡ trá»‹ ban Ä‘áº§u cá»§a vÃ©c-tÆ¡ sáº½ máº¥t thá»i gian báº±ng khoáº£n \\(\\cfrac{1}{100}\\) thá»i gian Ä‘á»ƒ cháº¡y vÃ²ng láº·p qua 10.000 giÃ¡ trá»‹ cá»§a toÃ n bá»™ vÃ©c-tÆ¡. Thá»i gian Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c vÃ²ng láº·p lá»“ng nhau sáº½ tÄƒng lÃªn theo cáº¥p sá»‘ nhÃ¢n.","code":"\nqua = c(\"chuá»‘i\", \"tÃ¡o\", \"cam\", \"chanh\") # Vec-tÆ¡ chá»©a tÃªn cÃ¡c loáº¡i quáº£\nfor (ten in qua){ # cho biáº¿n ten nháº­n láº§n lÆ°á»£t cÃ¡c giÃ¡ trá»‹ trong vec-tÆ¡ qua\n  print(ten) # in ten ra mÃ n hÃ¬nh\n} # káº¿t thÃºc vÃ²ng láº·p for## [1] \"chuá»‘i\"\n## [1] \"tÃ¡o\"\n## [1] \"cam\"\n## [1] \"chanh\"\ntong<-0\nfor (gia_tri in x){\n  tong<-tong + gia_tri \n}\nprint(tong)\ntong<-0 # Táº¡o biáº¿n tÃªn tong nháº­n giÃ¡ trá»‹ 0\nfor (gia_tri in AirPassengers){ # cho biáº¿n gia_tri nháº­n láº§n lÆ°á»£t cÃ¡c giÃ¡ trá»‹ trong Airpassengers\n  tong<-tong + gia_tri # tÄƒng tong thÃªm giÃ¡ trá»‹ báº±ng gia_tri\n} # káº¿t thÃºc vÃ²ng láº·p\ntong # in tong ra mÃ n hÃ¬nh## [1] 40363\nsum(AirPassengers) # hÃ m sum() cÃ³ sáºµn cÅ©ng cho káº¿t quáº£ tÆ°Æ¡ng tá»±## [1] 40363\nmy_vector<-rep(1,10^9)\n\n## TÃ­nh tá»•ng vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i 10^9 báº±ng vÃ²ng láº·p\nstart<-proc.time()\ntong<-0\nfor (value in my_vector){\n  tong<-tong+value\n}\nproc.time()-start##    user  system elapsed \n##   17.53    0.00   17.54\n## TÃ­nh tá»•ng vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i 10^9 báº±ng vÃ©c-tÆ¡\nstart<-proc.time()\ntong<-sum(my_vector)\nproc.time()-start##    user  system elapsed \n##    0.81    0.00    0.81\nfor (i in 1:length(qua)){ # i sáº½ nháº­n giÃ¡ trá»‹ láº§n lÆ°á»£t 1,2,3,4\n  print(qua[i]) # in ra giÃ¡ trá»‹ thá»© i trong vÃ©c-tÆ¡ qua\n} # káº¿t thÃºc vÃ²ng láº·p## [1] \"chuá»‘i\"\n## [1] \"tÃ¡o\"\n## [1] \"cam\"\n## [1] \"chanh\"\npha_che<-c(\"NÆ°á»›c Ã©p\", \"Sinh tá»‘\") # 2 cÃ¡ch pha cháº¿\nfor (i in 1:length(pha_che)){ # i sáº½ nháº­n giÃ¡ trá»‹ láº§n lÆ°á»£t 1,2\n  for (j in 1:length(qua)){ # Vá»šI Má»I i, j sáº½ nháº­n giÃ¡ trá»‹ láº§n lÆ°á»£t 1,2,3,4\n    print(paste(pha_che[i],qua[j],sep=\" \")) # in ra mÃ n hÃ¬nh pha cháº¿ vÃ  quáº£\n  } # káº¿t thÃºc vÃ²ng láº·p cá»§a j vá»›i má»—i i\n} # káº¿t thÃºc vÃ²ng láº·p cá»§a i## [1] \"NÆ°á»›c Ã©p chuá»‘i\"\n## [1] \"NÆ°á»›c Ã©p tÃ¡o\"\n## [1] \"NÆ°á»›c Ã©p cam\"\n## [1] \"NÆ°á»›c Ã©p chanh\"\n## [1] \"Sinh tá»‘ chuá»‘i\"\n## [1] \"Sinh tá»‘ tÃ¡o\"\n## [1] \"Sinh tá»‘ cam\"\n## [1] \"Sinh tá»‘ chanh\""},{"path":"index.html","id":"vÃ²ng-láº·p-while","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.4.2.2 VÃ²ng láº·p while","text":"VÃ²ng láº·p Ä‘Æ°á»£c gá»i lÃ  vÃ²ng láº·p xÃ¡c Ä‘á»‹nh vÃ¬ náº¿u khÃ´ng cÃ³ thÃªm cÃ¡c cÃ¢u lá»‡nh Ä‘áº·c biá»‡t, ngÆ°á»i viáº¿t cÃ¢u lá»‡nh sáº½ biáº¿t trÆ°á»›c Ä‘Æ°á»£c sá»‘ láº§n vÃ²ng láº·p thá»±c hiá»‡n. Má»™t cÃ¡ch khÃ¡c Ä‘á»ƒ thá»±c hiá»‡n vÃ²ng láº·p lÃ  sá»­ dá»¥ng vÃ²ng láº·p . ÄÃ¢y lÃ  kiá»ƒu vÃ²ng láº·p khÃ´ng xÃ¡c Ä‘á»‹nh, nghÄ©a lÃ  trong nhiá»u trÆ°á»ng há»£p ngÆ°á»i viáº¿t cÃ¢u lá»‡nh sáº½ khÃ´ng biáº¿t trÆ°á»›c Ä‘Æ°á»£c sáº½ vÃ²ng láº·p sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n bao nhiÃªu láº§n. TrÆ°á»›c khi nÃ³i ká»¹ hÆ¡n vá» khÃ¡i niá»‡m khÃ´ng xÃ¡c Ä‘á»‹nh, báº¡n Ä‘á»c hÃ£y lÃ m quen vá»›i cáº¥u trÃºc cá»§a vÃ²ng láº·p trÆ°á»›c. CÃ¡ch viáº¿t má»™t vÃ²ng láº·p nhÆ° sauNguyÃªn táº¯c hoáº¡t Ä‘á»™ng cá»§a vÃ²ng láº·p lÃ  thá»±c hiá»‡n â€œÄoáº¡n cÃ¢u lá»‡nhâ€ náº±m giá»¯a dáº¥u \\({}\\) náº¿u giÃ¡ trá»‹ cá»§a \\(y\\) lÃ  \\(TRUE\\) vÃ  bá» qua vÃ²ng láº·p náº¿u giÃ¡ trá»‹ cá»§a \\(y\\) lÃ  \\(FALSE\\). Náº¿u \\(y\\) nháº­n giÃ¡ trá»‹ lÃ  \\(TRUE\\) vÃ  trong â€œÄoáº¡n cÃ¢u lá»‡nhâ€ khÃ´ng cÃ³ cÃ¡c dÃ²ng lá»‡nh tÃ¡c Ä‘á»™ng lÃ m thay Ä‘á»•i giÃ¡ trá»‹ cá»§a \\(y\\) thÃ¬ \\(y\\) sáº½ luÃ´n luÃ´n nháº­n giÃ¡ trá»‹ lÃ  \\(TRUE\\) vÃ  khi Ä‘Ã³ vÃ²ng láº·p sáº½ láº·p vÃ´ háº¡n.VÃ²ng láº·p dÆ°á»›i Ä‘Ã¢y sáº½ ra tÃªn cÃ¡c pháº§n tá»­ cá»§a vÃ©c-tÆ¡ \\(qua\\) báº±ng cÃ¡ch sá»­ dá»¥ng má»™t chá»‰ sá»‘ tÄƒng dáº§n vÃ  chá»‰ thoÃ¡t ra khá»i vÃ²ng láº·p náº¿u chá»‰ sá»‘ Ä‘Ã³ vÆ°á»£t qua Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡:Trong vÃ­ dá»¥ á»Ÿ trÃªn chÃºng ta Ä‘Ã£ biáº¿t chÃ­nh xÃ¡c khi nÃ o chÃºng ta sáº½ dá»«ng láº¡i vÃ²ng láº·p nÃªn viá»‡c sá»­ dá»¥ng vÃ²ng láº·p sáº½ phá»©c táº¡p hÆ¡n vÃ²ng láº·p . VÃ²ng láº·p sáº½ phÃ¡t huy hiá»‡u quáº£ khi báº¡n Ä‘á»c khÃ´ng biáº¿t chÃ­nh xÃ¡c khi nÃ o chÃºng ta nÃªn dá»«ng viá»‡c thá»±c hiá»‡n láº·p cÃ¡c cÃ¢u lá»‡nh.HÃ£y láº¥y vÃ­ dá»¥ khi báº¡n Ä‘á»c muá»‘n kiá»ƒm tra xem má»™t sá»‘ tá»± nhiÃªn \\(n\\) báº¥t ká»³ cÃ³ pháº£i lÃ  sá»‘ nguyÃªn tá»‘ hay khÃ´ng. Xin Ä‘Æ°á»£c nháº¯c láº¡i ráº±ng sá»‘ nguyÃªn tá»‘ lÃ  cÃ¡c sá»‘ tá»± nhiÃªn chá»‰ cÃ³ hai Æ°á»›c sá»‘ lÃ  sá»‘ 1 vÃ  chÃ­nh nÃ³. Äá»ƒ kiá»ƒm tra xem sá»‘ \\(n\\) cÃ³ pháº£i lÃ  sá»‘ nguyÃªn tá»‘ hay khÃ´ng, báº¡n Ä‘á»c cáº§n kiá»ƒm tra xem \\(n\\) cÃ³ chia háº¿t cho sá»‘ nguyÃªn dÆ°Æ¡ng nÃ o tá»« 2 Ä‘áº¿n sá»‘ tá»± nhiÃªn lÃ  pháº§n nguyÃªn cá»§a \\(\\sqrt{n}\\) hay khÃ´ng. Sá»‘ pháº§n nguyÃªn cá»§a \\(\\sqrt{n}\\) kÃ½ hiá»‡u lÃ  \\([\\sqrt{n}]\\). Náº¿u \\(n\\) chia háº¿t cho má»™t sá»‘ báº¥t ká»³ tá»« 2 Ä‘áº¿n \\([\\sqrt{n}]\\), \\(n\\) khÃ´ng pháº£i lÃ  sá»‘ nguyÃªn tá»‘. Theo nguyÃªn táº¯c nÃ y báº¡n Ä‘á»c cÃ³ thá»ƒ viáº¿t má»™t vÃ²ng láº·p cháº¡y tá»« \\(2\\) Ä‘áº¿n \\([\\sqrt{n}]\\) vÃ  kiá»ƒm tra xem \\(n\\) cÃ³ chia háº¿t cho sá»‘ nÃ o trong dÃ£y nÃ y khÃ´ng. Tuy nhiÃªn vÃ²ng láº·p nhÆ° váº­y sáº½ luÃ´n luÃ´n pháº£i láº·p láº¡i \\([\\sqrt{n}] - 1\\) láº§n. Viáº¿t vÃ²ng láº·p trong trÆ°á»ng há»£p nÃ y sáº½ hiá»‡u quáº£ hÆ¡n ráº¥t nhiá»u bá»Ÿi chá»‰ cáº§n \\(n\\) chia háº¿t cho 1 sá»‘ nÃ o Ä‘Ã³ chÃºng ta cÃ³ thá»ƒ káº¿t thÃºc ngay vÃ²ng láº·p vÃ  káº¿t luáº­n \\(n\\) khÃ´ng pháº£i lÃ  sá»‘ nguyÃªn tá»‘.HÃ£y thá»­ Ã¡p dá»¥ng vÃ²ng láº·p trÃªn má»™t vÃ­ dá»¥ khÃ¡c liÃªn quan Ä‘áº¿n dá»¯ liá»‡u \\(trump\\_tweet\\). Cháº³ng háº¡n nhÆ° báº¡n Ä‘á»c muá»‘n tÃ¬m ra thá»i Ä‘iá»ƒm Ä‘áº§u tiÃªn mÃ  má»™t cÃ¢u tweet Ä‘Æ°á»£c like nhiá»u hÆ¡n 10.000 láº§n. CÃ¢u há»i nÃ y khÃ¡ dá»… náº¿u chÃºng ta tÆ° duy theo tÆ°Æ¡ng tÃ¡c vÃ©c-tÆ¡. Tuy nhiÃªn chÃºng tÃ´i muá»‘n báº¡n Ä‘á»c suy nghÄ© theo hÆ°á»›ng sá»­ dá»¥ng vÃ²ng láº·p. ChÃºng ta sáº½ sá»­ dá»¥ng má»™t chá»‰ sá»‘ tÄƒng dáº§n tá»« 1 vÃ  kiá»ƒm tra xem cÃ¢u tweet Ä‘Ã³ cÃ³ nhiá»u hÆ¡n 10.000 like hay khÃ´ng vÃ  chá»‰ dá»«ng láº¡i viá»‡c kiá»ƒm tra náº¿u gáº·p cÃ¢u tweet nhiá»u hÆ¡n 10.000 like. ChÃºng ta khÃ´ng biáº¿t chÃ­nh xÃ¡c khi nÃ o sáº½ dá»«ng láº¡i, Ä‘Ã³ sá»­ dá»¥ng vÃ²ng láº·p sáº½ há»£p lÃ½ trong trÆ°á»ng há»£p nÃ yMáº·c dÃ¹ pháº§n nÃ y cá»§a cuá»‘n sÃ¡ch Ä‘ang viáº¿t vá» vÃ²ng láº·p nhÆ°ng chÃºng tÃ´i muá»‘n nháº¯c láº¡i ráº±ng báº¡n Ä‘á»c hÃ£y cá»‘ gáº¯ng sá»­ dá»¥ng vÃ©c-tÆ¡ Ä‘á»ƒ tÃ¬m lá»i giáº£i thay vÃ¬ sá»­ dá»¥ng vÃ²ng láº·p khi cÃ³ thá»ƒ. CÃ¹ng cÃ¢u há»i nhÆ° trÃªn, chÃºng ta cÃ³ thá»ƒ cho lá»i giáº£i Ä‘Æ¡n giáº£n hÆ¡n báº±ng cÃ¡ch sá»­ dá»¥ng hÃ m match().Khi lÃ m viá»‡c vá»›i vÃ²ng láº·p nhá»¯ng ngÆ°á»i má»›i lÃ m quen vá»›i láº­p trÃ¬nh ráº¥t dá»… rÆ¡i vÃ o tráº¡ng thÃ¡i vÃ²ng láº·p vÃ´ háº¡n. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ vá» má»™t vÃ²ng láº·p nhÆ° váº­y. Biáº¿n \\(kiem\\_tra\\) nháº­n giÃ¡ trá»‹ ban Ä‘áº§u lÃ  \\(TRUE\\) vÃ  trong cÃ¡c cÃ¢u lá»‡nh náº±m trong vÃ²ng láº·p khÃ´ng cÃ³ cÃ¢u lá»‡nh nÃ o tÃ¡c Ä‘á»™ng Ä‘áº¿n giÃ¡ trá»‹ cá»§a biáº¿n Ä‘Ã³. Báº¡n Ä‘á»c sáº½ tháº¥y giÃ¡ trá»‹ \\(\\) Ä‘Æ°á»£c ra tÄƒng dáº§n vÃ  khÃ´ng bao giá» dá»«ng láº¡i. Báº¡n Ä‘á»c chá»‰ cÃ³ thá»ƒ dá»«ng chÆ°Æ¡ng trÃ¬nh cháº¡y báº±ng cÃ¡ch nháº¥n vÃ o biá»ƒu tÆ°á»Ÿng â€œSTOPâ€ phÃ­a trÃªn bÃªn pháº£i cá»­a sá»• R console.Kinh nghiá»‡m cá»§a chÃºng tÃ´i khi sá»­ dá»¥ng vÃ²ng láº·p khÃ´ng xÃ¡c Ä‘á»‹nh lÃ  luÃ´n luÃ´n sá»­ dá»¥ng má»™t biáº¿n, táº¡m gá»i lÃ  \\(\\), khÃ´ng liÃªn quan Ä‘áº¿n chÆ°Æ¡ng trÃ¬nh cháº¡y vÃ  Ä‘Æ°á»£c gÃ¡n cho giÃ¡ trá»‹ tÄƒng dáº§n trong vÃ²ng láº·p. Trong biá»ƒn thá»©c Ä‘iá»u kiá»‡n luÃ´n luÃ´n kÃ¨m thÃªm má»™t Ä‘iá»u kiá»‡n lÃ  \\(\\) nhá» hÆ¡n sá»‘ láº§n láº·p tá»‘i Ä‘a mÃ  ngÆ°á»i láº­p trÃ¬nh quy Ä‘á»‹nh. Báº¡n Ä‘á»c cÃ³ thá»ƒ quan sÃ¡t Ä‘oáº¡n lá»‡nh sau:CÃ¡c Ä‘oáº¡n cÃ¢u lá»‡nh kiá»ƒu trÃªn sáº½ láº·p tá»‘i Ä‘a lÃ  10.000 láº§n chÃºng ta sá»­ dá»¥ng thÃªm Ä‘iá»u kiá»‡n (<= loop_max)","code":"\nwhile (y){ # y lÃ  má»™t biáº¿n kiá»ƒu logic\n  \"Äoáº¡n cÃ¢u lá»‡nh\"\n}\nqua = c(\"chuá»‘i\", \"tÃ¡o\", \"cam\", \"chanh\") # Vec-tÆ¡ chá»©a tÃªn cÃ¡c loáº¡i quáº£\ni<-1\nwhile (i <= length(qua)){ # TRUE cho Ä‘áº¿n khi i = 5\n  print(qua[i]) # in ra mÃ n hÃ¬nh pháº§n tá»­ thá»© i\n  i<-i+1 # tÄƒng i lÃªn dáº§n Ä‘á»ƒ thoÃ¡t ra khá»i vÃ²ng láº·p\n} # káº¿t thÃºc vÃ²ng láº·p while## [1] \"chuá»‘i\"\n## [1] \"tÃ¡o\"\n## [1] \"cam\"\n## [1] \"chanh\"\nprint(i) # kiá»ƒm tra giÃ¡ trá»‹ cá»§a i khi thoÃ¡t ra khá»i vÃ²ng láº·p## [1] 5\nn<-123454321 # sá»‘ nguyÃªn dÆ°Æ¡ng báº¥t ká»³\nket_qua<-TRUE # káº¿t quáº£ sáº½ thay Ä‘á»•i náº¿u n chia háº¿t cho 1 sá»‘ nÃ o Ä‘Ã³\nuoc_so<-2\nwhile( ket_qua & (uoc_so < n^0.5) ){ # tiáº¿p tá»¥c láº·p náº¿u ket_qua = TRUE VÃ€ Æ°á»›c sá»‘ < n^0.5\n  if(n %% uoc_so == 0){\n    ket_qua<-FALSE # thay Ä‘á»•i giÃ¡ trá»‹ cá»§a ket_qua náº¿u n chia háº¿t cho uoc_so\n  }\n  uoc_so<-uoc_so + 1 # tÄƒng Æ°á»›c sá»‘ thÃªm 1\n}\nket_qua # TRUE náº¿n n nguyÃªn tá»‘## [1] FALSE\nkiem_tra<-TRUE\ni<-0\nwhile(kiem_tra){ # cháº¯c cháº¯n cÃ³ cÃ¢u nhiá»u hÆ¡n 10.000 like nÃªn khÃ´ng cáº§n háº¡n cháº¿ i\n  i<-i+1 # tÄƒng chá»‰ sá»‘ i\n  kiem_tra<-trump_tweets$favorite_count[i] <= 10^4 # tiáº¿p tá»¥c láº·p náº¿u sá»‘ like <=10^4\n}\ntrump_tweets$favorite_count[i] # chá»‰ sá»‘ i lÃ  chá»‰ sá»‘ nhá» nháº¥t mÃ  sá»‘ like nhiá»u hÆ¡n 10.000## [1] 15457\ntrump_tweets$created_at[i] # thá»i Ä‘iá»ƒm viáº¿t cÃ¢u tweet Ä‘Ã³## [1] \"2011-12-21 15:36:36 EST\"\nvitri<-match(TRUE,trump_tweets$favorite_count>10^4) # vitri lÃ  chá»‰ sá»‘ nhá» nháº¥t mÃ  sá»‘ like nhiá»u hÆ¡n 10.000\ntrump_tweets$created_at[vitri] # thá»i Ä‘iá»ƒm viáº¿t cÃ¢u tweet Ä‘Ã³## [1] \"2011-12-21 15:36:36 EST\"\n# HÃƒY Cáº¨N THáº¬N VÃŒ ÄÃ‚Y LÃ€ VÃ’NG Láº¶P VÃ” Háº N\nkiem_tra<-TRUE\nwhile (kiem_tra){ # kiem_tra luÃ´n luÃ´n nháº­n giÃ¡ trá»‹ TRUE\n  print(paste0(\"GiÃ¡ trá»‹ cá»§a i hiá»‡n táº¡i: \", i)) # in ra mÃ n hÃ¬nh pháº§n tá»­ thá»© i\n}\nloop_max<-10^4\ni<-1 # i ban Ä‘áº§u lÃ  1\nkiem_tra<-TRUE\nwhile (kiem_tra & (i<= loop_max)){\n  i<-i+1 # luÃ´n luÃ´n tÄƒng i\n  print(paste0(\"GiÃ¡ trá»‹ cá»§a i hiá»‡n táº¡i: \", i)) # in ra mÃ n hÃ¬nh pháº§n tá»­ thá»© i\n}"},{"path":"index.html","id":"Ä‘iá»u-khiá»ƒn-vÃ²ng-láº·p","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.4.2.3 Äiá»u khiá»ƒn vÃ²ng láº·p","text":"Khi báº¡n Ä‘á»c viáº¿t cÃ¡c vÃ²ng láº·p hoáº·c , R cung cáº¥p cÃ¡c tá»« khÃ³a Ä‘á»ƒ báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘iá»u khiá»ƒn vÃ²ng láº·p. CÃ¡c tá»« khÃ³a Ä‘Ã³ bao gá»“m break vÃ  next. Ã nghÄ©a cá»§a cÃ¡c tá»« khÃ³a nÃ y nhÆ° sau\n(#tab:unnamed-chunk-101)CÃ¡c tá»« khÃ³a Ä‘iá»u khiá»ƒn vÃ²ng láº·p\nBáº¡n Ä‘á»c quan sÃ¡t giÃ¡ trá»‹ tráº£ ra mÃ n hÃ¬nh cá»§a Ä‘oáº¡n cÃ¢u lá»‡nh sau Ä‘á» hiá»ƒu cÃ¡ch sá»­ dá»¥ng next trong vÃ²ng láº·pCÃ³ thá»ƒ tháº¥y ráº±ng trong cÃ¡c loáº¡i quáº£ Ä‘Æ°á»£c ra mÃ n hÃ¬nh khÃ´ng cÃ³ giÃ¡ trá»‹ \\(cam\\) bá»Ÿi vÃ¬ khi biáº¿n \\(ten\\) báº±ng giÃ¡ trá»‹ nÃ y tá»« khÃ³a next Ä‘Ã£ káº¿t thÃºc vÃ²ng láº·p hiá»‡n táº¡i, bá» qua dÃ²ng lá»‡nh print() vÃ  Ä‘i Ä‘áº¿n vÃ²ng láº·p tiáº¿p theo. Váº«n cÃ¡c cÃ¢u lá»‡nh nhÆ° trÃªn nhÆ°ng thay next báº±ng break, chÃºng ta cÃ³ thá»ƒ quan sÃ¡t R tráº£ ra káº¿t quáº£ nhÆ° sauR chá»‰ tráº£ ra tÃªn hai loáº¡i quáº£ lÃ  \\(chuá»‘i\\) vÃ  \\(tÃ¡o\\) bá»Ÿi vÃ¬ khi gáº·p giÃ¡ trá»‹ \\(cam\\) tá»« khÃ³a break Ä‘Ã£ káº¿t thÃºc vÃ²ng láº·p .Trong R cÃ²n cÃ³ má»™t kiá»ƒu viáº¿t vÃ²ng láº·p khÃ´ng xÃ¡c Ä‘á»‹nh khÃ¡c vá»›i vÃ²ng láº·p Ä‘Ã³ lÃ  viáº¿t vÃ²ng láº·p sá»­ dá»¥ng cÃ¢u lá»‡nh repeat. Khi sá»­ dá»¥ng vÃ²ng láº·p repeat báº¡n Ä‘á»c luÃ´n luÃ´n pháº£i sá»­ dá»¥ng tá»« khÃ³a break Ä‘á»ƒ káº¿t thÃºc vÃ²ng láº·p vÃ  trÃ¡nh bá»‹ láº·p vÃ´ háº¡n. CÃ¡ch sá»­ dá»¥ng repeat trong R nhÆ° sauTrong vÃ²ng láº·p repeat á»Ÿ trÃªn, chÃºng tÃ´i sá»­ dá»¥ng Ä‘iá»u kiá»‡n lÃ  \\(\\) báº±ng Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡ Ä‘á»ƒ káº¿t thÃºc vÃ²ng láº·p. Nhá»¯ng báº¡n Ä‘á»c má»›i lÃ m quen vá»›i láº­p trÃ¬nh sáº½ dá»… bá»‹ nháº§m láº«n vá» cÃ¡ch káº¿t thÃºc vÃ²ng láº·p cá»§a vÃ  repeat. CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a hai vÃ²ng láº·p nÃ y lÃ  tÆ°Æ¡ng Ä‘Æ°Æ¡ng nhau nÃªn chÃºng tÃ´i cho ráº±ng nhá»¯ng báº¡n Ä‘á»c chÆ°a quen vá»›i láº­p trÃ¬nh nÃªn chá»‰ chá»n má»™t trong hai cÃ¡ch viáº¿t trong quÃ¡ trÃ¬nh viáº¿t cÃ¢u lá»‡nh.","code":"\nqua = c(\"chuá»‘i\", \"tÃ¡o\", \"cam\", \"chanh\") # Vec-tÆ¡ chá»©a tÃªn cÃ¡c loáº¡i quáº£\nfor (ten in qua){ # cho biáº¿n ten nháº­n láº§n lÆ°á»£t cÃ¡c giÃ¡ trá»‹ trong vec-tÆ¡ qua\n  if (ten == \"cam\"){\n    next # náº¿u ten lÃ  \"cam\" thÃ¬ chuyá»ƒn qua vÃ²ng láº·p tiáº¿p theo\n  }\n  print(ten) # in ten ra mÃ n hÃ¬nh\n} # káº¿t thÃºc vÃ²ng láº·p for## [1] \"chuá»‘i\"\n## [1] \"tÃ¡o\"\n## [1] \"chanh\"\nqua = c(\"chuá»‘i\", \"tÃ¡o\", \"cam\", \"chanh\") # Vec-tÆ¡ chá»©a tÃªn cÃ¡c loáº¡i quáº£\nfor (ten in qua){ # cho biáº¿n ten nháº­n láº§n lÆ°á»£t cÃ¡c giÃ¡ trá»‹ trong vec-tÆ¡ qua\n  if (ten == \"cam\"){\n    break # náº¿u ten lÃ  \"cam\" thÃ¬ káº¿t thÃºc vÃ²ng láº·p ngay láº­p tá»©c\n  }\n  print(ten) # in ten ra mÃ n hÃ¬nh\n} # káº¿t thÃºc vÃ²ng láº·p for## [1] \"chuá»‘i\"\n## [1] \"tÃ¡o\"\nqua = c(\"chuá»‘i\", \"tÃ¡o\", \"cam\", \"chanh\") # Vec-tÆ¡ chá»©a tÃªn cÃ¡c loáº¡i quáº£\ni<-0\nrepeat{\n  i<-i+1 # luÃ´n luÃ´n tÄƒng i\n  print(qua[i]) # in tÃªn ra mÃ n hÃ¬nh\n  if (i== length(qua)){break}\n} # káº¿t thÃºc vÃ²ng láº·p repeat## [1] \"chuá»‘i\"\n## [1] \"tÃ¡o\"\n## [1] \"cam\"\n## [1] \"chanh\""},{"path":"index.html","id":"viáº¿t-hÃ m-sá»‘","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.4.3 Viáº¿t hÃ m sá»‘","text":"HÃ m sá»‘ cÃ³ vai trÃ² quan trá»ng trong R trong táº¥t cáº£ cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh nÃ o khÃ¡c. HÃ m sá»‘ Ä‘áº£m báº£o sá»± chÃ­nh xÃ¡c vÃ  tiá»‡n lá»£i khi láº­p trÃ¬nh trÃ¬nh vÃ  hÃ m sá»‘ lÃ  phÆ°Æ¡ng phÃ¡p chuyá»ƒn giao kiáº¿n thá»©c vÃ  kinh nghiá»‡m hiá»‡u quáº£ tá»« ngÆ°á»i dÃ¹ng nÃ y Ä‘áº¿n ngÆ°á»i dÃ¹ng khÃ¡c.HÃ m sá»‘ Ä‘áº·c biá»‡t cÃ³ Ã½ nghÄ©a khi báº¡n pháº£i thá»±c hiá»‡n má»™t Ä‘oáº¡n cÃ¢u lá»‡nh má»™t cÃ¡ch láº·p Ä‘i láº·p láº¡i vÃ  sá»± thay Ä‘á»•i cá»§a má»™t sá»‘ yáº¿u tá»‘ Ä‘áº§u vÃ o. Thay vÃ¬ pháº£i lÃ m Ä‘i lÃ m láº¡i cÃ´ng viá»‡c Ä‘Ã³ má»™t cÃ¡ch thá»§ cÃ´ng, báº¡n hÃ£y viáº¿t quy trÃ¬nh Ä‘Ã³ thÃ nh má»™t hÃ m sá»‘.HÃ m sá»‘ Ä‘áº·c biá»‡t cÃ³ Ã½ nghÄ©a khi báº¡n pháº£i thá»±c hiá»‡n má»™t Ä‘oáº¡n cÃ¢u lá»‡nh má»™t cÃ¡ch láº·p Ä‘i láº·p láº¡i vÃ  sá»± thay Ä‘á»•i cá»§a má»™t sá»‘ yáº¿u tá»‘ Ä‘áº§u vÃ o. Thay vÃ¬ pháº£i lÃ m Ä‘i lÃ m láº¡i cÃ´ng viá»‡c Ä‘Ã³ má»™t cÃ¡ch thá»§ cÃ´ng, báº¡n hÃ£y viáº¿t quy trÃ¬nh Ä‘Ã³ thÃ nh má»™t hÃ m sá»‘.Khi chÃºng ta muá»‘n chuyá»ƒn giao kinh nghiá»‡m, kiáº¿n thá»©c cá»§a mÃ¬nh cho má»™t ngÆ°á»i khÃ¡c, hÃ£y viáº¿t chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n dÆ°á»›i dáº¡ng hÃ m sá»‘ vÃ  chuyá»ƒn giao. NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ khÃ´ng hiá»ƒu Ä‘Æ°á»£c Ã½ nghÄ©a cá»§a chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n ngay thÃ¬ Ã­t nháº¥t cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c kiáº¿n thá»©c cá»§a báº¡n. Náº¿u báº¡n Ä‘á»c Ä‘á»ƒ Ã½ cÃ¡c thÆ° viá»‡n cÃ i Ä‘áº·t thÃªm trÃªn R Ä‘á»u lÃ  táº­p há»£p cá»§a cÃ¡c hÃ m sá»‘.Khi chÃºng ta muá»‘n chuyá»ƒn giao kinh nghiá»‡m, kiáº¿n thá»©c cá»§a mÃ¬nh cho má»™t ngÆ°á»i khÃ¡c, hÃ£y viáº¿t chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n dÆ°á»›i dáº¡ng hÃ m sá»‘ vÃ  chuyá»ƒn giao. NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ khÃ´ng hiá»ƒu Ä‘Æ°á»£c Ã½ nghÄ©a cá»§a chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n ngay thÃ¬ Ã­t nháº¥t cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c kiáº¿n thá»©c cá»§a báº¡n. Náº¿u báº¡n Ä‘á»c Ä‘á»ƒ Ã½ cÃ¡c thÆ° viá»‡n cÃ i Ä‘áº·t thÃªm trÃªn R Ä‘á»u lÃ  táº­p há»£p cá»§a cÃ¡c hÃ m sá»‘.HÃ m sá»‘ trÃªn R ngoÃ i cÃ¡c hÃ m sáºµn cÃ³ ngay khi báº¡n cÃ i R, cÃ¡c hÃ m sá»‘ náº±m trong cÃ¡c thÆ° viá»‡n mÃ  báº¡n Ä‘á»c cÃ i Ä‘áº·t bá»• sung, vÃ  cÃ¡c hÃ m sá»‘ mÃ  báº¡n Ä‘á»c tá»± Ä‘á»‹nh nghÄ©a.","code":""},{"path":"index.html","id":"hÃ m-sá»‘-do-ngÆ°á»i-dÃ¹ng-tá»±-Ä‘á»‹nh-nghÄ©a.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.4.3.1 HÃ m sá»‘ do ngÆ°á»i dÃ¹ng tá»± Ä‘á»‹nh nghÄ©a.","text":"Tá»« khÃ³a Ä‘á»ƒ khai bÃ¡o má»™t hÃ m sá»‘ lÃ  function(). Äá»ƒ tá»± táº¡o má»™t hÃ m sá»‘ tÃªn lÃ  \\(f\\) nháº­n giÃ¡ trá»‹ lÃ  \\(x^2\\) thÃ¬ báº¡n Ä‘á»c sá»­ dá»¥ng Ä‘oáº¡n cÃ¢u lá»‡nh nhÆ° sau:Thay vÃ¬ sá»­ dá»¥ng tá»« khÃ³a return, báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng tÃªn hÃ m sá»‘ Ä‘á»ƒn gÃ¡n cho giÃ¡ trá»‹ tráº£ láº¡i:ÄÃ´i khi báº¡n Ä‘á»c sáº½ gáº·p cÃ¡c Ä‘oáº¡n lá»‡nh khai bÃ¡o hÃ m sá»‘ khÃ´ng cÃ³ tá»« khÃ³a return vÃ  cÅ©ng khÃ´ng cÃ³ pháº§n gÃ¡n giÃ¡ trá»‹ cho hÃ m sá»‘. Khi Ä‘Ã³ R sáº½ luÃ´n luÃ´n láº¥y giÃ¡ trá»‹ Ä‘Æ°á»£c tráº£ ra cuá»‘i cÃ¹ng Ä‘á»ƒ gÃ¡n giÃ¡ trá»‹ cho hÃ m sá»‘ Ä‘Ã³.CÃ¡ch viáº¿t nÃ y chá»‰ phÃ¹ há»£p cho cÃ¡c hÃ m sá»‘ ngáº¯n gá»n vÃ  chÃºng tÃ´i khuyÃªn báº¡n Ä‘á»c hÃ£y luÃ´n sá»­ dá»¥ng tá»« khÃ³a return khi tráº£ láº¡i giÃ¡ trá»‹ cho hÃ m sá»‘.Sau khi Ä‘Ã£ cháº¡y cÃ¡c Ä‘oáº¡n lá»‡nh khai bÃ¡o hÃ m sá»‘ \\(f(x) = x^2\\), R sáº½ lÆ°u Ä‘á»‘i tÆ°á»£ng cÃ³ tÃªn \\(f\\) lÃ  kiá»ƒu hÃ m sá»‘ lÃªn mÃ´i trÆ°á»ng lÃ m viá»‡c chung. Äá»ƒ gá»i hÃ m sá»‘ vÃ  thá»±c hiá»‡n tÃ­nh toÃ¡n, báº¡n Ä‘á»c cáº§n viáº¿t Ä‘Ãºng tÃªn hÃ m vÃ  cho tham sá»‘ \\(x\\) giÃ¡ trá»‹ phÃ¹ há»£p.Tá»« khÃ³a return() Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tráº£ láº¡i giÃ¡ trá»‹ cho hÃ m sá»‘ \\(f\\) vÃ  R sáº½ gÃ¡n giÃ¡ trá»‹ cho hÃ m sá»‘ \\(f\\) ngay láº­p tá»©c khi gáº·p hÃ m cÃ¢u lá»‡nh \\(return()\\). Náº¿u trong Ä‘oáº¡n cÃ¢u lá»‡nh cá»§a hÃ m sá»‘ \\(f\\) cÃ³ nhiá»u tá»« khÃ³a return, giÃ¡ trá»‹ cá»§a \\(f\\) sáº½ Ä‘Æ°á»£c gÃ¡n báº±ng tá»« khÃ³a return Ä‘áº§u tiÃªn. HÃ£y quan sÃ¡t vÃ­ dá»¥ sau:CÃ¡ch Ä‘áº·t tÃªn hÃ m sá»‘ cÅ©ng giá»‘ng nhÆ° Ä‘áº·t tÃªn biáº¿n trong R, báº¡n Ä‘á»c cáº§n lá»±a chá»n tÃªn há»£p lá»‡ vÃ  trÃ¡nh cÃ¡c tá»« khÃ³a. Biáº¿n \\(x\\) trong pháº§n khai bÃ¡o hÃ m sá»‘ á»Ÿ trÃªn Ä‘Æ°á»£c gá»i lÃ  biáº¿n, tham sá»‘, hoáº·c tÃ¹y biáº¿n. HÃ m sá»‘ trong R cÃ³ thá»ƒ khÃ´ng cÃ³ tham sá»‘ nÃ o hoáº·c cÃ³ thá»ƒ cÃ³ ráº¥t nhiá»u tham sá»‘, má»—i tham sá»‘ lÃ  má»™t kiá»ƒu Ä‘á»‘i tÆ°á»£ng khÃ¡c nhau, viá»‡c nÃ y hoÃ n toÃ n tÃ¹y thuá»™c vÃ o ngÆ°á»i láº­p trÃ¬nh. BÃªn trong dáº¥u \\(\\{\\}\\) cá»§a tá»« khÃ³a function() Ä‘Æ°á»£c gá»i lÃ  mÃ´i trÆ°á»ng cá»¥c bá»™, R sáº½ luÃ´n Æ°u tiÃªn biáº¿n náº±m trong mÃ´i trÆ°á»ng nÃ y trÆ°á»›c táº¥t cáº£ cÃ¡c mÃ´i trÆ°á»ng khÃ¡c. Váº¥n Ä‘á» sáº½ Ä‘Æ°á»£c tháº£o luáº­n á»Ÿ pháº§n tiáº¿p theo. Má»™t Ä‘iá»ƒu cáº§n lÆ°u Ã½ lÃ  khi viáº¿t hÃ m sá»‘ hÃ£y luÃ´n luÃ´n cÃ³ tÃ i liá»‡u Ä‘i kÃ¨m rÃµ rÃ ng Ä‘á»ƒ ngÆ°á»i sá»­ dá»¥ng khÃ¡c, hoáº·c chÃ­nh mÃ¬nh khi sá»­ dá»¥ng cÃ³ thá»ƒ hiá»ƒu hay nhá»› Ä‘Æ°á»£c hÃ m sá»‘ Ä‘Æ°á»£c sá»­ dá»¥ng nhÆ° tháº¿ nÃ o vÃ  vá»›i má»¥c Ä‘Ã­ch gÃ¬.Tham sá»‘ hay biáº¿n sá»‘ lÃ  pháº§n thiáº¿t yáº¿u cá»§a cÃ¡c hÃ m trong R. Trong pháº§n tiáº¿p theo, chÃºng ta sáº½ xem xÃ©t cÃ¡ch tham sá»‘ trong hÃ m sá»‘ hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o, cháº³ng háº¡n nhÆ° cÃ¡ch táº¡o giÃ¡ trá»‹ máº·c Ä‘á»‹nh cho tham sá»‘, cÃ¡ch xá»­ lÃ½ cÃ¡c giÃ¡ trá»‹ tham sá»‘ bá»‹ thiáº¿u, cÃ¡ch bá»• sung vÃ o tham sá»‘ báº±ng cÃ¡ch sá»­ dá»¥ng dáº¥u ba cháº¥m \\(...\\).Äá»ƒ táº¡o giÃ¡ trá»‹ máº·c Ä‘á»‹nh cho tham sá»‘ báº¡n Ä‘á»c cáº§n táº¡o giÃ¡ trá»‹ phÃ¹ há»£p khi khai bÃ¡o hÃ m sá»‘. Táº¡o giÃ¡ trá»‹ máº·c Ä‘á»‹nh cho tham sá»‘ lÃ  quan trá»ng khi báº¡n Ä‘á»c viáº¿t cÃ¡c hÃ m sá»‘ cÃ³ nhiá»u tham sá»‘ bá»Ÿi vÃ¬ khi báº¡n gá»i hÃ m sá»‘ vÃ  quÃªn táº¡o giÃ¡ trá»‹ cho má»™t vÃ i tham sá»‘ nÃ o Ä‘Ã³, R sáº½ sá»­ dá»¥ng giÃ¡ trá»‹ máº·c Ä‘á»‹nh Ä‘á»ƒ tÃ­nh toÃ¡n. HÃ£y xem xÃ©t vÃ­ dá»¥ sau: báº¡n muá»‘n viáº¿t má»™t hÃ m sá»‘ Ä‘á»ƒ tÃ­nh giÃ¡ trá»‹ hiá»‡n táº¡i (present value) cá»§a má»™t dÃ²ng tiá»n Ä‘Æ°á»£c quan sÃ¡t theo nÄƒm vÃ  Ä‘Æ°á»£c lÆ°u trong má»™t vÃ©c-tÆ¡ tÃªn lÃ  \\(CF\\). LÃ£i suáº¥t tÃ­nh theo kiá»ƒu lÃ£i gá»™p lÃ  \\(\\). ChÃºng ta sáº½ sá»­ dá»¥ng giÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  \\(5\\%\\) Ä‘á»ƒ gÃ¡n cho \\(\\)Giáº£ sá»­ dÃ²ng tiá»n cÃ³ giÃ¡ trá»‹ lÃ  $1.000 táº¡i thá»i Ä‘iá»ƒm 1 vÃ  tÄƒng dáº§n $1000 má»—i nÄƒm vÃ  lÃªn Ä‘áº¿n $10.000 táº¡i nÄƒm thá»© 10. Má»©c lÃ£i suáº¥t gá»™p \\(= 10\\%/nÄƒm\\). GiÃ¡ trá»‹ hiá»‡n táº¡i cá»§a dÃ²ng tiá»n Ä‘Æ°á»£c tÃ­nh báº±ng hÃ m \\(PV\\) nhÆ° sauKhi chÃºng ta quÃªn khÃ´ng gÃ¡n giÃ¡ trá»‹ cho tham sá»‘ \\(\\) khi gá»i hÃ m \\(PV\\), R sáº½ cho \\(\\) nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  \\(5\\%\\)Sá»­ dá»¥ng dáº¥u ba cháº¥m \\(...\\) khi khai bÃ¡o tham sá»‘ cá»§a má»™t hÃ m sá»‘ lÃ  phÆ°Æ¡ng phÃ¡p Ä‘á»ƒ ngÆ°á»i láº­p trÃ¬nh sá»­ dá»¥ng tham sá»‘ cÃ³ sáºµn cá»§a má»™t hÃ m sá»‘ khÃ¡c. NguyÃªn táº¯c hoáº¡t Ä‘á»™ng cá»§a cÃ¡ch khai bÃ¡o tham sá»‘ nÃ y thá»ƒ hiá»‡n qua vÃ­ dá»¥ sau: hÃ m \\(PV\\) Ä‘Æ°á»£c xÃ¢y dá»±ng á»Ÿ trÃªn chá»‰ tÃ­nh Ä‘Æ°á»£c dÃ²ng tiá»n táº¡i cÃ¡c thá»i Ä‘iá»ƒm cuá»‘i cÃ¡c nÄƒm. Báº¡n Ä‘á»c muá»‘n hÃ m \\(PV\\) cÃ³ thá»ƒ tÃ­nh Ä‘Æ°á»£c giÃ¡ trá»‹ hiá»‡n táº¡i cá»§a dÃ²ng tiá»n trong cáº£ hai trÆ°á»ng há»£p: dÃ²ng tiá»n báº¯t Ä‘áº§u tá»« thá»i Ä‘iá»ƒm Ä‘áº§u nÄƒm hoáº·c dÃ²ng tiá»n báº¯t Ä‘áº§u tá»« cuá»‘i nÄƒm; báº±ng cÃ¡ch thÃªm vÃ o má»™t tham sá»‘ \\(bat\\_dau\\); khi \\(bat\\_dau = 0\\) thÃ¬ thá»i Ä‘iá»ƒm báº¯t Ä‘áº§u lÃ  Ä‘áº§u nÄƒm thá»© nháº¥t vÃ  khi \\(bat\\_dau = 1\\) thÃ¬ thá»i Ä‘iá»ƒm báº¯t Ä‘áº§u lÃ  cuá»‘i nÄƒm thá»© nháº¥t. Thay vÃ¬ sá»­a láº¡i lÃ m \\(PV\\) chÃºng ta cÃ³ thá»ƒ viáº¿t má»™t hÃ m má»›i, táº¡m gá»i lÃ  \\(PV1\\) vÃ  sá»­ dá»¥ng tham sá»‘ cá»§a hÃ m \\(PV\\)Khi gá»i hÃ m \\(PV1\\) chÃºng ta cáº§n gá»i Ä‘áº§y Ä‘á»§ tham sá»‘:Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡ch mÆ°á»£n tham sá»‘ nÃ y Ä‘á»ƒ sá»­ dá»¥ng cÃ¡c hÃ m sá»‘ cÃ³ sáºµn trong R. Trong vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y, chÃºng tÃ´i tá»± xÃ¢y dá»±ng má»™t hÃ m cÃ³ tÃªn lÃ  myplot() Ä‘á»ƒ váº½ Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm cá»§a má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ \\(x\\) theo chá»‰ sá»‘ cá»§a vÃ©c-tÆ¡ Ä‘Ã³ Ä‘á»“ng thá»i vÃ  mÆ°á»£n cÃ¡c tham sá»‘ \\(main\\), \\(xlab\\), \\(ylab\\) cá»§a hÃ m plot() cÃ³ sáºµn:ChÃºng ta sáº½ sá»­ dá»¥ng hÃ m myplot() Ä‘á»ƒ váº½ Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm cá»§a vÃ©c-tÆ¡ \\(x\\) nháº­n giÃ¡ trá»‹ báº±ng vÃ©c-tÆ¡ kiá»ƒu chuá»—i thá»i gian \\(AirPassengers\\).\nBáº¡n Ä‘á»c cÃ³ thá»ƒ tham kháº£o cÃ¡ch sá»­ dá»¥ng hÃ m plot() trong pháº§n Ä‘á»“ thá»‹ cÆ¡ báº£n trong cuá»‘n sÃ¡ch nÃ y.","code":"\nf<-function(x){ # lÃ  má»™t hÃ m sá»‘ cá»§a biáº¿n x\n  return(x^2) # tráº£ láº¡i giÃ¡ trá»‹ cá»§a hÃ m sá»‘ lÃ  x^2\n}\nf<-function(x){ # lÃ  má»™t hÃ m sá»‘ cá»§a biáº¿n x\n  f<-x^2 # tráº£ láº¡i giÃ¡ trá»‹ cá»§a hÃ m sá»‘ lÃ  x^2\n}\nf<-function(x) x^2\nclass(f) # kiá»ƒu cá»§a Ä‘á»‘i tÆ°á»£ng f lÃ  function## [1] \"function\"\nf(10) # cho tham sá»‘ x giÃ¡ trá»‹ báº±ng 10## [1] 100\nf<-function(x){ # lÃ  má»™t hÃ m sá»‘ cá»§a biáº¿n x\n  return(x^2) # tráº£ láº¡i giÃ¡ trá»‹ cá»§a hÃ m sá»‘ lÃ  x^2 khi gáº·p return\n  return(x^3) # R sáº½ khÃ´ng cháº¡y cÃ¢u lá»‡nh nÃ y\n}\nf(10) # tráº£ láº¡i gÃ¡i trá»‹ lÃ  100\nPV<-function(i = 0.05, CF){  # HÃ m sá»‘ tÃ­nh giÃ¡ trá»‹ hiá»‡n táº¡i cá»§a dÃ²ng tiá»n CF\n  n<-length(CF)\n  discount_factor<-(1+i)^(-(1:n))\n  return (sum(discount_factor * CF))\n}\nMyCF<-seq(1000,10000,length=10)\nPV(i = 0.1, MyCF) # GiÃ¡ trá»‹ hiá»‡n táº¡i cá»§a dÃ²ng tiá»n MyCF táº¡i lÃ£i suáº¥t 10%/nÄƒm## [1] 29035.91\nPV(CF = MyCF) # GiÃ¡ trá»‹ hiá»‡n táº¡i cá»§a dÃ²ng tiá»n MyCF táº¡i lÃ£i suáº¥t 5%/nÄƒm## [1] 39373.78\nPV1<-function(bat_dau,i,...){ # chÃºng ta chá»‰ sá»­ dá»¥ng tham sá»‘ i cá»§a PV, cÃ¡c tham sá»‘ khÃ¡c khai bÃ¡o báº±ng ...\n  if (bat_dau==1) {\n    return (PV(i,...)) # PV1 sá»­ dá»¥ng cÃ¡c tham sá»‘ cÃ²n láº¡i cá»§a PV\n  } else {\n    return ( (1+i)*PV(i,...) ) # PV1 sá»­ dá»¥ng cÃ¡c tham sá»‘ cÃ²n láº¡i cá»§a PV\n  }\n}\nPV1(bat_dau = 0,i = 0.1, CF = MyCF) # dÃ²ng tiá»n báº¯t Ä‘áº§u tá»« Ä‘áº§u nÄƒm thá»© 1## [1] 31939.5\nPV1(bat_dau = 1,i = 0.1, CF = MyCF) # dÃ²ng tiá»n báº¯t Ä‘áº§u tá»« cuá»‘i nÄƒm thá»© 1## [1] 29035.91\nmyplot<-function(x,...){ # hÃ m myplot váº½ Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm\n  n<-length(x) # Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡ x\n  plot(1:n,x,...)\n}\nmyplot(AirPassengers,main=\"Sá»‘ lÆ°á»£ng hÃ nh khÃ¡ch cÃ¡c thÃ¡ng\", \n       ylab = \"Sá»‘ lÆ°á»£ng hÃ nh khÃ¡ch\", # tÃ¹y biáº¿n ylab cá»§a hÃ m plot()\n       xlab = \"\", # tÃ¹y biáº¿n xlab cá»§a hÃ m plot()\n       type = \"l\", color = \"red\") # tÃ¹y biáº¿n type vÃ  color cá»§a hÃ m plot"},{"path":"index.html","id":"hÃ m-sá»‘-Ä‘Æ°á»£c-xÃ¢y-dá»±ng-sáºµn","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.4.3.2 HÃ m sá»‘ Ä‘Æ°á»£c xÃ¢y dá»±ng sáºµn","text":"HÃ m sá»‘ Ä‘Æ°á»£c xÃ¢y dá»±ng sáºµn lÃ  cÃ¡c hÃ m sá»‘ Ä‘Æ°á»£c phÃ¡t triá»ƒn sáºµn trong R vÃ  cÃ¡c hÃ m sá»‘ trong cÃ¡c thÆ° viá»‡n mÃ  báº¡n Ä‘á»c cÃ i Ä‘áº·t thÃªm cho R. Äá»ƒ biáº¿t R hiá»‡n Ä‘ang cÃ³ cÃ¡c thÆ° viá»‡n nÃ o Ä‘ang sáºµn sÃ ng Ä‘á»ƒ sá»­ dá»¥ng, báº¡n Ä‘á»c chá»‰ cáº§n sá»­ dá»¥ng cÃ¢u lá»‡nhÄa sá»‘ cÃ¡c phiÃªn báº£n R Ä‘á»u cÃ³ sáºµn cÃ¡c thÆ° viá»‡n nhÆ° \\(stats\\), \\(graphics\\), \\(utils\\),â€¦ Äá»ƒ biáº¿t cá»¥ thá»ƒ hÆ¡n trong má»™t thÆ° viá»‡n cÃ³ nhá»¯ng Ä‘á»‘i tÆ°á»£ng (hÃ m sá»‘, nhÃ³m cÃ¡c hÃ m sá»‘) nÃ o khÃ¡c, chÃºng ta sá»­ dá»¥ng cÃ¢u lá»‡nhBáº¡n Ä‘á»c sáº½ tháº¥y cá»­a sá»• Script liá»‡t kÃª ra danh sÃ¡ch cÃ¡c hÃ m sá»‘ hoáº·c tÃªn cÃ¡c Ä‘á»‘i tÆ°á»£ng lÆ°u chá»©a nhÃ³m cÃ¡c hÃ m sá»‘ Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t triá»ƒn sáºµn trong thÆ° viá»‡n \\(stats\\). Má»™t vÃ i Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c liá»‡t kÃª ra trong danh sÃ¡ch lÃ  cÃ¡c hÃ m sá»‘: hÃ m AIC(), hÃ m ARMAacf,â€¦ Má»™t sá»‘ Ä‘á»‘i tÆ°á»£ng lÃ  nhÃ³m cÃ¡c hÃ m sá»‘, cháº³ng háº¡n nhÆ° Beta hay Binomal. Khi báº¡n Ä‘á»c thá»­ gá»i \\(Beta\\) trÃªn cá»­a sá»• Console sáº½ gáº·p lá»—i vÃ¬ Ä‘Ã³ khÃ´ng pháº£i lÃ  tÃªn chÃ­nh xÃ¡c cá»§a hÃ m sá»‘. Thay vÃ¬ tháº¿ hÃ£y cháº¡y cÃ¢u lá»‡nh \\(? Beta\\) Ä‘á»ƒ tháº¥y ráº±ng trong Ä‘á»‘i tÆ°á»£ng \\(Beta\\) cá»§a thÆ° viá»‡n \\(stats\\) cÃ³ má»™t nhÃ³m cÃ¡c hÃ m sá»‘ liÃªn quan Ä‘áº¿n phÃ¢n phá»‘i xÃ¡c suáº¥t \\(Beta\\): hÃ m dbeta(), hÃ m pbeta(), hÃ m qbeta(), vÃ  hÃ m rbeta().ChÃºng tÃ´i khÃ´ng bÃ n Ä‘áº¿n viá»‡c lÃ m tháº¿ nÃ o Ä‘á»ƒ biáº¿t sá»­ dá»¥ng hÃ m sá»‘ nÃ o trong má»™t trÆ°á»ng há»£p cá»¥ thá»ƒ bá»Ÿi vÃ¬ Ä‘Æ°Æ¡ng nhiÃªn khÃ´ng cÃ³ cÃ¢u tráº£ lá»i chung cho cÃ¢u há»i nÃ y. Viá»‡c nÃ y tÃ¹y thuá»™c vÃ o chuyÃªn mÃ´n, hiá»ƒu biáº¿t, kháº£ nÄƒng tÃ¬m kiáº¿m cá»§a báº¡n Ä‘á»c. ChÃºng tÃ´i muá»‘n táº­p trung vÃ o viá»‡c Ä‘áº£m báº£o báº¡n Ä‘á»c gá»i Ä‘Ãºng hÃ m sá»‘ mÃ  báº¡n mong muá»‘n. Sáº½ khÃ´ng cÃ³ váº¥n Ä‘á» lá»›n náº¿u tÃªn hÃ m sá»‘ báº¡n cáº§n gá»i lÃ  duy nháº¥t trÃªn cá»­a sá»‘ R báº¡n Ä‘ang lÃ m viá»‡c. Tuy nhiÃªn, khi cÃ³ má»™t vÃ i Ä‘á»‘i tÆ°á»£ng khÃ¡c cÃ³ tÃªn giá»‘ng nhÆ° tÃªn hÃ m sá»‘ báº¡n Ä‘ang sá»­ dá»¥ng, báº¡n sáº½ gáº·p váº¥n Ä‘á».Äá»ƒ lÃ m Ä‘Æ°á»£c viá»‡c nÃ y báº¡n Ä‘á»c nÃªn hiá»ƒu má»™t chÃºt vá» mÃ´i trÆ°á»ng lÃ m viá»‡c vÃ  thá»© tá»± Æ°u tiÃªn khi gá»i tÃªn má»™t Ä‘á»‘i tÆ°á»£ng trong R. Khi báº¡n lÃ m viá»‡c trÃªn R, cÃ³ ba mÃ´i trÆ°á»ng mÃ  R sá»­ dá»¥ng Ä‘á»ƒ lÆ°u trá»¯ cÃ¡c Ä‘á»‘i tÆ°á»£ng. MÃ´i trÆ°á»ng thá»© nháº¥t táº¡m gá»i lÃ  mÃ´i trÆ°á»ng chung (thuáº­t ngá»¯ cÃ´ng nghá»‡ thÃ´ng tin gá»i lÃ  toÃ n cá»¥c), thá»© hai lÃ  mÃ´i trÆ°á»ng cÃ¡c thÆ° viá»‡n, vÃ  cuá»‘i cÃ¹ng lÃ  mÃ´i trÆ°á»ng trong má»™t hÃ m sá»‘ cá»¥ thá»ƒ (thuáº­t ngá»¯ CNTT gá»i lÃ  cá»¥c bá»™). Khi báº¡n gá»i tÃªn má»™t Ä‘á»‘i hay má»™t hÃ m sá»‘, R sáº½ luÃ´n luÃ´n Æ°u tiÃªn theo thá»© tá»± lÃ : mÃ´i trÆ°á»ng cá»¥c bá»™ \\(\\rightarrow\\) mÃ´i trÆ°á»ng chung (toÃ n cá»¥c) \\(\\rightarrow\\) mÃ´i trÆ°á»ng cÃ¡c thÆ° viá»‡n. cÃ³ nhiá»u thÆ° viá»‡n cÃ¹ng má»Ÿ trÃªn R nÃªn Ä‘á»ƒ biáº¿t thá»© tá»± Æ°u tiÃªn cá»§a cÃ¡c thÆ° viá»‡n báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m search(). CÃ¡c thÆ° viá»‡n Ä‘Æ°á»£c Æ°u tiÃªn hÆ¡n sáº½ cÃ³ chá»‰ sá»‘ nhá» hÆ¡n (xuáº¥t hiá»‡n) trÆ°á»›c khi sá»­ dá»¥ng search().NhÃ¬n chung cÃ¡c thÆ° viá»‡n cÃ i Ä‘áº·t thÃªm sáº½ thÆ°á»ng Ä‘Æ°á»£c Æ°u tiÃªn hÆ¡n cÃ¡c thÆ° viá»‡n cÃ³ sáºµn. Náº¿u má»™t hÃ m trong thÆ° viá»‡n cÃ i Ä‘áº·t thÃªm trÃ¹ng tÃªn vá»›i má»™t hÃ m trong thÆ° viá»‡n cÃ³ sáºµn, R Æ°u tiÃªn thÆ° viá»‡n cÃ i Ä‘áº·t thÃªm. Tháº­t váº­y, hÃ m sá»‘ tÃªn filter() lÃ  má»™t hÃ m Ä‘Æ°á»£c xÃ¢y dá»±ng sáºµn trong thÆ° viá»‡n \\(stats\\). Tuy nhiÃªn trong thÆ° viá»‡n \\(dplyr\\) cÅ©ng cÃ³ má»™t hÃ m tÃªn lÃ  filter(). TrÆ°á»›c khi gá»i thÆ° viá»‡n \\(dplyr\\), má»—i khi báº¡n Ä‘á»c gá»i hÃ m filter(), R sáº½ luÃ´n hiá»ƒu Ä‘Ã¢y lÃ  hÃ m filter() cá»§a thÆ° viá»‡n \\(stats\\).Sau khi chÃºng ta gá»i thÆ° viá»‡n \\(dplyr\\), chÃºng ta sáº½ tháº¥y thÆ° viá»‡n \\(dplyr\\) xuáº¥t hiá»‡n trÆ°á»›c thÆ° viá»‡n \\(stats\\) theo thá»© tá»± Æ°u tiÃªn.Trong thÆ° viá»‡n \\(dplyr\\) cÅ©ng cÃ³ má»™t hÃ m tÃªn lÃ  filter(). Theo thá»© tá»± Æ°u tiÃªn náº¿u báº¡n Ä‘á»c gá»i hÃ m filter() thÃ¬ R sáº½ hiá»ƒu Ä‘Ã¢y lÃ  hÃ m filter cá»§a thÆ° viá»‡n \\(dplyr\\). LÃºc nÃ y muá»‘n sá»­ dá»¥ng hÃ m filter() cá»§a thÆ° viá»‡n \\(stats\\) báº¡n Ä‘á»c cáº§n pháº£i sá»­ dá»¥ng tÃªn thÆ° viá»‡n viáº¿t trÆ°á»›c hÃ m nÃ y stats::filter().NhÆ° Ä‘Ã£ nÃ³i á»Ÿ pháº§n trÆ°á»›c, mÃ´i trÆ°á»ng chung cÅ©ng lÃ  mÃ´i trÆ°á»ng Ä‘Æ°á»£c Æ°u tiÃªn trÆ°á»›c mÃ´i trÆ°á»ng cÃ¡c thÆ° viá»‡n. Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y tá»« káº¿t quáº£ hÃ m search(), mÃ´i trÆ°á»ng chung, kÃ½ hiá»‡u \\(.GlobalEnv\\), luÃ´n xuáº¥t hiá»‡n trÆ°á»›c tiÃªn. MÃ´i trÆ°á»ng chung chÃ­nh lÃ  nÆ¡i lÆ°u trá»¯ táº¥t cáº£ cÃ¡c hÃ m sá»‘ hay Ä‘á»‘i tÆ°á»£ng mÃ  báº¡n Ä‘á»c tá»± Ä‘á»‹nh nghÄ©a. MÃ´i trÆ°á»ng chung luÃ´n Ä‘Æ°á»£c Æ°u tiÃªn trÆ°á»›c mÃ´i trÆ°á»ng thÆ° viá»‡n. Äiá»u nÃ y cÃ³ nghÄ©a lÃ  náº¿u báº¡n Ä‘á»c tá»± Ä‘á»‹nh nghÄ©a má»™t biáº¿n, má»™t vÃ©c-tÆ¡, hay hÃ m sá»‘ cÃ³ tÃªn lÃ  \\(filter\\), R sáº½ Æ°u tiÃªn tÃªn \\(filter\\) cho Ä‘á»‘i tÆ°á»£ng mÃ  báº¡n Ä‘á»c tá»± Ä‘á»‹nh nghÄ©a. NhÆ° váº­y, náº¿u báº¡n Ä‘á»c sá»­ dá»¥ng tÃªn \\(filter\\) cho má»™t hÃ m báº¡n tá»± Ä‘á»‹nh nghÄ©a, báº¡n sáº½ cáº§n pháº£i sá»­ dá»¥ng thÃªm tÃªn thÆ° viá»‡n Ä‘á»ƒ gá»i hÃ m filter() tá»« cÃ¡c thÆ° viá»‡n \\(dplyr\\) hoáº·c \\(stats\\).CÃ²n má»™t mÃ´i trÆ°á»ng khÃ¡c, táº¡m gá»i lÃ  mÃ´i trÆ°á»ng cá»¥c bá»™, sáº½ Ä‘Æ°á»£c Æ°u tiÃªn hÆ¡n mÃ´i trÆ°á»ng chung. MÃ´i trÆ°á»ng cá»¥c bá»™ mÃ´ táº£ mÃ´i trÆ°á»ng bÃªn trong má»™t hÃ m sá»‘ mÃ  báº¡n Ä‘á»c tá»± Ä‘á»‹nh nghÄ©a. Giáº£ sá»­ sau khi báº¡n Ä‘á»c tá»± Ä‘á»‹nh nghÄ©a má»™t hÃ m filter() trÃªn mÃ´i trÆ°á»ng chung vÃ  sau Ä‘Ã³ tá»± Ä‘á»‹nh nghÄ©a má»™t hÃ m sá»‘ \\(f\\) cÃ³ sá»­ dá»¥ng má»™t tham sá»‘ (cÃ³ thá»ƒ lÃ  biáº¿n hoáº·c hÃ m sá»‘) cÃ³ tÃªn lÃ  \\(filter\\) thÃ¬ má»—i khi báº¡n Ä‘á»c gá»i hÃ m sá»‘ \\(f\\), Ä‘á»‘i tÆ°á»£ng tÃªn \\(filter\\) sáº½ luÃ´n Ä‘Æ°á»£c hiá»ƒu lÃ  tham sá»‘ cá»§a hÃ m sá»‘ \\(f\\). MÃ´i trÆ°á»ng bÃªn trong hÃ m \\(f\\) Ä‘Æ°á»£c gá»i lÃ  mÃ´i trÆ°á»ng cá»¥c bá»™. Báº¡n Ä‘á»c hÃ£y quan sÃ¡t vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ hiá»ƒu hÆ¡n vá» mÃ´i trÆ°á»ng chung vÃ  mÃ´i trÆ°á»ng cá»¥c bá»™TrÆ°á»›c háº¿t chÃºng ta Ä‘á»‹nh nghÄ©a má»™t hÃ m tÃªn lÃ  \\(filter()\\) trong mÃ´i trÆ°á»ng chung luÃ´n nháº­n giÃ¡ trá»‹ báº±ng háº±ng sá»‘ \\(\\pi\\). LÃºc nÃ y khi chÃºng ta gá»i filter(), R sáº½ hiá»ƒu ráº±ng Ä‘Ã¢y lÃ  hÃ m filter() chÃºng ta tá»± Ä‘á»‹nh nghÄ©a. Sau Ä‘Ã³ chÃºng ta Ä‘á»‹nh nghÄ©a má»™t hÃ m sá»‘ tÃªn lÃ  \\(f\\) Ä‘á»“ng thá»i bÃªn trong hÃ m \\(f\\) chÃºng ta Ä‘á»‹nh nghÄ©a má»™t hÃ m filter() khÃ¡c nháº­n giÃ¡ trá»‹ lÃ  10. HÃ m filter() bÃªn trong hÃ m f Ä‘Æ°á»£c gá»i lÃ  hÃ m sá»‘ trong mÃ´i trÆ°á»ng cá»¥c bá»™.Khi chÃºng ta gá»i hÃ m sá»‘ f, hÃ m sá»‘ nÃ y láº¡i gá»i má»™t hÃ m sá»‘ tÃªn lÃ  filter Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a bÃªn trong hÃ m sá»‘ nÃ³. Bá»Ÿi vÃ¬ R Æ°u tiÃªn mÃ´i trÆ°á»ng cá»¥c bá»™ trÆ°á»›c mÃ´i trÆ°á»ng hÃ m \\(filter\\) bÃªn trong f cÃ³ giÃ¡ trá»‹ báº±ng 10. BÃªn ngoÃ i hÃ m sá»‘ f, chÃºng ta láº¡i gá»i filter() thÃ¬ giÃ¡ trá»‹ tráº£ láº¡i lÃ  \\(\\pi\\) vÃ¬ Ä‘Ã¢y lÃ  mÃ´i trÆ°á»ng chung.Táº¥t cáº£ cÃ¡c hÃ m sá»‘ mÃ  báº¡n Ä‘á»c thÆ°á»ng xuyÃªn sá»­ dá»¥ng hÃ£y lÆ°u trong cÃ¡c file vÃ  má»—i khi cáº§n sá»­ dá»¥ng báº¡n Ä‘á»c chá»‰ cáº§n gá»i tÃªn file Ä‘Ã³ thay vÃ¬ copy toÃ n bá»™ cÃ¡c cÃ¢u lá»‡nh cá»§a cÃ¡c hÃ m sá»‘ vÃ o cá»­a sá»• Script. HÃ m sá»‘ Ä‘á»ƒ gá»i má»™t file lÃªn cá»­a sá»• R báº¡n Ä‘ang sá»­ dá»¥ng lÃ  hÃ m source(). Cháº³ng háº¡n nhÆ° táº¥t cáº£ cÃ¡c hÃ m sá»‘ báº¡n Ä‘á»c tá»± Ä‘á»‹nh nghÃ­a Ä‘Æ°á»£c lÆ°u á»Ÿ má»™t file cÃ³ tÃªn lÃ  â€œmyfunctions.Râ€, báº¡n chá»‰ cáº§n sá»­ dá»¥ng cÃ¢u lá»‡nh sau Ä‘á»ƒ gá»i táº¥t cáº£ cÃ¡c hÃ m sá»‘ lÃªn cá»­a sá»• Ä‘ang lÃ m viá»‡c:","code":"\nsearch() # liá»‡t kÃª danh sÃ¡ch cÃ¡c Ä‘á»‘i tÆ°á»£ng, thÆ° viá»‡n Ä‘ang sáºµn cÃ³ theo thá»© tá»± Æ°u tiÃªn##  [1] \".GlobalEnv\"         \"package:dslabs\"     \"package:ggrepel\"   \n##  [4] \"package:pryr\"       \"package:gridExtra\"  \"package:grid\"      \n##  [7] \"package:forcats\"    \"package:ggplot2\"    \"package:kableExtra\"\n## [10] \"package:knitr\"      \"package:dplyr\"      \"package:readxl\"    \n## [13] \"package:stats\"      \"package:graphics\"   \"package:grDevices\" \n## [16] \"package:utils\"      \"package:datasets\"   \"package:methods\"   \n## [19] \"Autoloads\"          \"package:base\"\nlibrary(help = \"stats\") # liá»‡t kÃª cÃ¡c Ä‘á»‘i tÆ°á»£ng trong thÆ° viá»‡n stats\n? filter # náº¿u chÆ°a gá»i thÆ° viá»‡n dplyr, filter lÃ  hÃ m cá»§a thÆ° viá»‡n stats\nlibrary(dplyr) # gá»i thÆ° viá»‡n dplyr \nsearch() # sau khi gá»i thÆ° viá»‡n dplyr, thÆ° viá»‡n nÃ y Ä‘Æ°á»£c Æ°u tiÃªn trÆ°á»›c stats\nfilter<-function(){return(pi)} #Tá»± Ä‘á»‹nh nghÄ©a hÃ m filter trong mÃ´i trÆ°á»ng chung\nfilter() # hÃ m filter trong .GlobalEnv luÃ´n báº±ng pi ## [1] 3.141593\nf<-function(){\n  filter<-function(){return(10)}  # bÃªn trong hÃ m f, Ä‘á»‹nh nghÄ©a láº¡i hÃ m filter báº±ng 10\n  return(filter())\n}\nf() # tráº£ láº¡i giÃ¡ trá»‹ lÃ  10 vÃ¬ hÃ m filter bÃªn trong f nháº­n giÃ¡ trá»‹ 10## [1] 10\nfilter() # tráº£ láº¡i giÃ¡ trá»‹ pi## [1] 3.141593\nsource(\"ÄÆ°á»ng dáº«n Ä‘áº¿n file/myfunction.R\")"},{"path":"index.html","id":"Ä‘á»“-thá»‹-cÆ¡-báº£n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.5 Äá»“ thá»‹ cÆ¡ báº£n","text":"","code":""},{"path":"index.html","id":"phá»¥-lá»¥c","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"1.6 Phá»¥ lá»¥c","text":"","code":""},{"path":"index.html","id":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","text":"Trong cuá»‘n sÃ¡ch nÃ y chÃºng tÃ´i cá»‘ gáº¯ng trÃ¡nh nháº¯c Ä‘áº¿n cÃ¡c khÃ¡i niá»‡m toÃ¡n há»c phá»©c táº¡p bá»Ÿi Ä‘á»‘i tÆ°á»£ng chÃºng tÃ´i hÆ°á»›ng Ä‘áº¿n lÃ  nhá»¯ng ngÆ°á»i lÃ m viá»‡c vá»›i dá»¯ liá»‡u nhÆ°ng khÃ´ng cÃ³ má»™t ná»n táº£ng chuyÃªn sÃ¢u vá» toÃ¡n há»c. Tuy nhiÃªn Ä‘á»ƒ lÃ m viá»‡c Ä‘Æ°á»£c vá»›i dá»¯ liá»‡u thÃ¬ cÃ¡c kiáº¿n thá»©c vá» ma tráº­n nÃ³i riÃªng vÃ  kiáº¿n thá»©c vá» Ä‘áº¡i sá»‘ tuyáº¿n tÃ­nh nÃ³i chung lÃ  báº¯t buá»™c pháº£i náº¯m vá»¯ng. Äiá»u Ä‘Ã¡ng tiáº¿c lÃ  táº¡i thá»i Ä‘iá»ƒm chÃºng tÃ´i viáº¿t cuá»‘n sÃ¡ch nÃ y, Ä‘a sá»‘ cÃ¡c chÆ°Æ¡ng trÃ¬nh Ä‘Ã o táº¡o dÃ nh cho sinh viÃªn cÃ¡c ngÃ nh kinh táº¿ Ä‘ang cáº¯t giáº£m dáº§n kiáº¿n thá»©c vá» toÃ¡n há»c vÃ  Ä‘áº·c biá»‡t lÃ  kiáº¿n thá»©c Ä‘áº¡i sá»‘ tuyáº¿n tÃ­nh.","code":""},{"path":"index.html","id":"ma-tráº­n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.1 Ma tráº­n","text":"Ma tráº­n cÃ³ Ã½ nghÄ©a Ä‘áº·c biá»‡t quan trá»ng trong phÃ¢n tÃ­ch dá»¯ liá»‡u bá»Ÿi Ä‘a sá»‘ cÃ¡c dá»¯ liá»‡u Ä‘á»u Ä‘Æ°á»£c chuyá»ƒn thÃ nh kiá»ƒu ma tráº­n Ä‘á»ƒ dá»… dÃ ng phÃ¢n tÃ­ch vÃ  tÃ­nh toÃ¡n. CÅ©ng giá»‘ng nhÆ° vÃ©c-tÆ¡, ma tráº­n lÃ  má»™t Ä‘á»‘i tÆ°á»£ng dÃ¹ng Ä‘á»ƒ lÆ°u cÃ¡c biáº¿n cÃ³ cÃ¹ng kiá»ƒu. KhÃ¡c vá»›i vÃ©c-tÆ¡, ma tráº­n lÆ°u pháº§n tá»­ theo hÃ ng vÃ  cá»™t, nghÄ©a lÃ  trong khÃ´ng gian hai chiá»u trong khi vÃ©c-tÆ¡ lÆ°u pháº§n tá»­ trong khÃ´ng gian má»™t chiá»u. Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ hiá»ƒu vÃ©c-tÆ¡ lÃ  má»™t cá»™t trong khi ma tráº­n lÃ  táº­p há»£p cá»§a cÃ¡c cá»™t cÃ³ cÃ¹ng Ä‘á»™ dÃ i. KÃ­ch thÆ°á»›c cá»§a má»™t vÃ©c-tÆ¡ lÃ  chiá»u dÃ i cá»§a vÃ©c-tÆ¡ Ä‘Ã³ trong khi kÃ­ch thÆ°á»›c cá»§a má»™t ma tráº­n lÃ  sá»‘ hÃ ng vÃ  sá»‘ cá»™t cá»§a ma tráº­n Ä‘Ã³.","code":""},{"path":"index.html","id":"khá»Ÿi-táº¡o-ma-tráº­n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.1.1 Khá»Ÿi táº¡o ma tráº­n","text":"HÃ m sá»‘ dÃ¹ng Ä‘á»ƒ táº¡o ra ma tráº­n trong R lÃ  hÃ m matrix(). Khi táº¡o ma tráº­n, báº¡n Ä‘á»c sáº½ luÃ´n luÃ´n pháº£i khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n Ä‘Ã³. Äoáº¡n lá»‡nh sau sáº½ khá»Ÿi táº¡o má»™t ma tráº­n cÃ³ tÃªn lÃ  \\(M\\), cÃ³ 3 hÃ ng, 4 cá»™t, vÃ  giÃ¡ trá»‹ trong ma tráº­n lÃ  cÃ¡c sá»‘ tá»± nhiÃªn tá»« 1 Ä‘áº¿n 12 Ä‘Æ°á»£c sáº¯p xáº¿p theo thá»© tá»±CÃ¡c giÃ¡ trá»‹ dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o cho ma tráº­n lÃ  cÃ¡c sá»‘ tá»« 1 Ä‘áº¿n 12 vÃ  Ä‘Æ°á»£c Ä‘iá»n vÃ o ma tráº­n \\(M\\) theo nguyÃªn táº¯c tá»« trÃªn xuá»‘ng dÆ°á»›i rá»“i tá»« trÃ¡i sang pháº£i, nghÄ©a lÃ  cá»™t thá»© nháº¥t sáº½ Ä‘Æ°á»£c Æ°u tiÃªn cho giÃ¡ trá»‹ trÆ°á»›c; pháº§n tá»­ hÃ ng thá»© nháº¥t cá»§a cá»™t thá»© nháº¥t sáº½ Ä‘Æ°á»£c Ä‘iá»n giÃ¡ trá»‹ trÆ°á»›c, sau Ä‘Ã³ Ä‘áº¿n pháº§n tá»­ á»Ÿ hÃ ng thá»© hai cá»§a cá»™t thá»© nháº¥t, â€¦; sau khi háº¿t cá»™t thá»© nháº¥t R sáº½ tiáº¿p tá»¥c Ä‘iá»n vÃ o giÃ¡ trá»‹ á»Ÿ hÃ ng thá»© nháº¥t cá»§a cá»™t thá»© hai,â€¦, vÃ  cá»© tiáº¿p tá»¥c nhÆ° tháº¿ sau khi táº¥t cáº£ cÃ¡c pháº§n tá»­ trong ma tráº­n Ä‘á»u cÃ³ giÃ¡ trá»‹. VÃ©c-tÆ¡ dÃ¹ng Ä‘á» khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n cÃ³ Ä‘á»™ dÃ i 12 vá»«a Ä‘Ãºng vá»›i sá»‘ pháº§n tá»­ trong ma tráº­n nÃªn cÃ¢u lá»‡nh táº¡o ma tráº­n \\(M\\) á»Ÿ trÃªn hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng. Trong trÆ°á»ng há»£p báº¡n Ä‘á»c sá»­ dá»¥ng vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i khÃ¡c 12 Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n, cÃ¢u lá»‡nh váº«n sáº½ cháº¡y nhÆ°ng cÃ³ kÃ¨m theo cáº£nh bÃ¡o:Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng:Náº¿u vÃ©c-tÆ¡ dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n \\(M\\) cÃ³ Ä‘á»™ dÃ i lá»›n hÆ¡n 12, R sáº½ dÃ¹ng 12 giÃ¡ trá»‹ Ä‘áº§u tiÃªn Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n.Náº¿u vÃ©c-tÆ¡ dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n \\(M\\) cÃ³ Ä‘á»™ dÃ i lá»›n hÆ¡n 12, R sáº½ dÃ¹ng 12 giÃ¡ trá»‹ Ä‘áº§u tiÃªn Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n.Náº¿u vÃ©c-tÆ¡ dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n \\(M\\) cÃ³ Ä‘á»™ dÃ i nhá» hÆ¡n 12, R sáº½ láº·p láº¡i vÃ©c-tÆ¡ Ä‘Ã³ cho Ä‘áº¿n khi cÃ³ Ä‘á»™ dÃ i lá»›n hÆ¡n hoáº·c báº±ng 12 rá»“i sau Ä‘Ã³ dÃ¹ng 12 giÃ¡ trá»‹ Ä‘áº§u tiÃªn Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n.Náº¿u vÃ©c-tÆ¡ dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n \\(M\\) cÃ³ Ä‘á»™ dÃ i nhá» hÆ¡n 12, R sáº½ láº·p láº¡i vÃ©c-tÆ¡ Ä‘Ã³ cho Ä‘áº¿n khi cÃ³ Ä‘á»™ dÃ i lá»›n hÆ¡n hoáº·c báº±ng 12 rá»“i sau Ä‘Ã³ dÃ¹ng 12 giÃ¡ trá»‹ Ä‘áº§u tiÃªn Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n.Khi khá»Ÿi táº¡o ma tráº­n, báº¡n Ä‘á»c cÃ³ thá»ƒ yÃªu cáº§u giÃ¡ trá»‹ Ä‘Æ°á»£c khá»Ÿi táº¡o theo hÃ ng thay vÃ¬ theo cá»™t báº±ng tÃ¹y biáº¿n \\(byrow = TRUE\\) trong hÃ m matrix().Äá»ƒ biáº¿t kÃ­ch cá»¡ cá»§a ma tráº­n, chÃºng ta sá»­ dá»¥ng hÃ m dim(). HÃ m dim() trÃªn ma tráº­n sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ cÃ³ Ä‘á»™ dÃ i lÃ  hai, pháº§n tá»­ thá»© nháº¥t lÃ  sá»‘ hÃ ng, pháº§n tá»­ thá»© hai lÃ  sá»‘ cá»™t cá»§a ma tráº­nMa tráº­n cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c khá»Ÿi táº¡o báº±ng cÃ¡ch ghÃ©p cÃ¡c vÃ©c-tÆ¡ hoáº·c cÃ¡c ma tráº­n khÃ¡c theo hÃ ng hay theo cá»™t báº±ng cÃ¡c hÃ m cbind() hoáº·c rbind():HÃ m cbind() ná»‘i cÃ¡c ma tráº­n cÃ³ cÃ¹ng sá»‘ hÃ ng hoáº·c ma tráº­n vá»›i vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i báº±ng sá»‘ hÃ ng cá»§a ma tráº­n.HÃ m cbind() ná»‘i cÃ¡c ma tráº­n cÃ³ cÃ¹ng sá»‘ hÃ ng hoáº·c ma tráº­n vá»›i vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i báº±ng sá»‘ hÃ ng cá»§a ma tráº­n.TÆ°Æ¡ng tá»±, rbind() ná»‘i cÃ¡c ma tráº­n cÃ³ cÃ¹ng sá»‘ cá»™t hoáº·c ma tráº­n vá»›i vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i báº±ng sá»‘ cá»™t cá»§a ma tráº­n.TÆ°Æ¡ng tá»±, rbind() ná»‘i cÃ¡c ma tráº­n cÃ³ cÃ¹ng sá»‘ cá»™t hoáº·c ma tráº­n vá»›i vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i báº±ng sá»‘ cá»™t cá»§a ma tráº­n.CÃ¡c phÃ©p tÃ­nh toÃ¡n thÃ´ng thÆ°á»ng trÃªn ma tráº­n cÅ©ng cÃ³ nguyÃªn táº¯c giá»‘ng nhÆ° Ä‘á»‘i vá»›i vÃ©c-tÆ¡. CÃ¡c phÃ©p toÃ¡n nhÆ° cá»™ng, trá»«, nhÃ¢n, chia, lÅ©y thá»«a, â€¦, sáº½ tÃ¡c Ä‘á»™ng lÃªn táº¥t cáº£ cÃ¡c pháº§n tá»­ trong ma tráº­n theo thá»© tá»± cá»§a cÃ¡c pháº§n tá»­ xuáº¥t hiá»‡n trÃªn ma tráº­n. Báº¡n Ä‘á»c hÃ£y quan sÃ¡t káº¿t quáº£ cá»§a cÃ¡c vÃ­ dá»¥ sau Ä‘á»ƒ hiá»ƒu cÃ¡ch R thá»±c hiá»‡n cÃ¡c phÃ©p toÃ¡n trÃªn ma tráº­nNhÃ¢n ma tráº­n \\(M\\) kÃ­ch thÆ°á»›c \\(3 \\times 4\\) vá»›i má»™t sá»‘Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng káº¿t quáº£ nháº­n Ä‘Æ°á»£c lÃ  má»™t ma tráº­n cÃ³ kÃ­ch thÆ°á»›c báº±ng vá»›i kÃ­ch thÆ°á»›c cá»§a ma tráº­n \\(M\\) vÃ  má»—i pháº§n tá»­ báº±ng pháº§n tá»­ á»Ÿ vá»‹ trÃ­ tÆ°Æ¡ng á»©ng cá»§a ma tráº­n \\(M\\) nhÃ¢n vá»›i 2.Khi thá»±c hiá»‡n phÃ©p nhÃ¢n thÃ´ng thÆ°á»ng ma tráº­n \\(M\\) vá»›i má»™t ma tráº­n \\(M_1\\) cÃ³ cÃ¹ng kÃ­ch thÆ°á»›c thÃ¬ káº¿t quáº£ nháº­n Ä‘Æ°á»£c lÃ  má»™t ma tráº­n mÃ  má»—i pháº§n tá»­ báº±ng tÃ­ch cá»§a 2 pháº§n tá»­ á»Ÿ vá»‹ trÃ­ tÆ°Æ¡ng á»©ng cá»§a \\(M\\) vÃ  \\(M_1\\). R sáº½ bÃ¡o lá»—i náº¿u thá»±c hiá»‡n phÃ©p nhÃ¢n thÃ´ng thÆ°á»ng giá»¯a hai ma tráº­n khÃ´ng cÃ³ cÃ¹ng kÃ­ch thÆ°á»›c.PhÃ©p nhÃ¢n thÃ´ng thÆ°á»ng cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c thá»±c hiá»‡n giá»¯a ma tráº­n \\(M\\) vá»›i má»™t vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i nhá» hÆ¡n hoáº·c báº±ng sá»‘ pháº§n tá»­ cá»§a \\(M\\). TrÆ°á»›c khi thá»±c hiá»‡p phÃ©p nhÃ¢n, R sáº½ chuyá»ƒn cÃ¡c pháº§n tá»­ trong vÃ©c-tÆ¡ vÃ o má»™t ma tráº­n cÃ³ kÃ­ch thÆ°á»›c tÆ°Æ¡ng á»©ng vá»›i \\(M\\) sau Ä‘Ã³ thá»±c hiá»‡n phÃ©p nhÃ¢n giá»‘ng nhÆ° nhÃ¢n hai ma tráº­n cÃ³ cÃ¹ng kÃ­ch thÆ°á»›c:Khi thá»±c hiá»‡n tÃ­nh toÃ¡n nhÆ° trÃªn, R Ä‘Ã£ tá»± Ä‘á»™ng láº·p láº¡i \\(x\\) cho Ä‘áº¿n khi sá»‘ lÆ°á»£ng pháº§n tá»­ báº±ng vá»›i sá»‘ pháº§n tá»­ cá»§a \\(M\\), Ä‘iá»n cÃ¡c giÃ¡ trá»‹ nÃ y vÃ o má»™t ma tráº­n cÃ³ kÃ­ch thÆ°á»›c báº±ng vá»›i kÃ­ch thÆ°á»›c cá»§a \\(M\\) rá»“i sau Ä‘Ã³ thá»±c hiá»‡n phÃ©p nhÃ¢n. Tháº­t váº­y","code":"\nM<-matrix(1:12, nrow = 3, ncol = 4) # nrow: sá»‘ hÃ ng, ncol: sá»‘ cá»™t\nM # in M ra cá»§a sá»• console##      [,1] [,2] [,3] [,4]\n## [1,]    1    4    7   10\n## [2,]    2    5    8   11\n## [3,]    3    6    9   12\nM<-matrix(1:13, nrow = 3, ncol = 4) # Code cháº¡y kÃ¨m theo cáº£nh bÃ¡o; \nM<-matrix(1:5, nrow = 3, ncol = 4) # Code cháº¡y kÃ¨m theo cáº£nh bÃ¡o; \nM<-matrix(1:12, nrow = 3, ncol = 4, byrow = TRUE) # nrow: sá»‘ hÃ ng, ncol: sá»‘ cá»™t\nM # in M ra cá»§a sá»• console##      [,1] [,2] [,3] [,4]\n## [1,]    1    2    3    4\n## [2,]    5    6    7    8\n## [3,]    9   10   11   12\ndim(M) # ma tráº­n 3 hÃ ng 4 cá»™t## [1] 3 4\ncbind(M,rep(1,3)) # ghÃ©p THEO Cá»˜T, ma tráº­n M (3 hÃ ng, 4 cá»™t) vá»›i vÃ©c-tÆ¡ Ä‘á»™ dÃ i 3##      [,1] [,2] [,3] [,4] [,5]\n## [1,]    1    2    3    4    1\n## [2,]    5    6    7    8    1\n## [3,]    9   10   11   12    1\nrbind(M,rep(1,4)) # ghÃ©p THEO HÃ€NG, ma tráº­n M (3 hÃ ng, 4 cá»™t) vá»›i vÃ©c-tÆ¡ Ä‘á»™ dÃ i 4##      [,1] [,2] [,3] [,4]\n## [1,]    1    2    3    4\n## [2,]    5    6    7    8\n## [3,]    9   10   11   12\n## [4,]    1    1    1    1\nM<-matrix(1:12, nrow = 3, ncol = 4) \nM * 2 # in M*2 ra cá»§a sá»• console##      [,1] [,2] [,3] [,4]\n## [1,]    2    8   14   20\n## [2,]    4   10   16   22\n## [3,]    6   12   18   24\nM<-matrix(1:12, nrow = 3, ncol = 4) \nM1<-matrix(rep(c(0,1),6), nrow = 3, ncol = 4) \nM * M1# in M * M1 ra cá»§a sá»• console##      [,1] [,2] [,3] [,4]\n## [1,]    0    4    0   10\n## [2,]    2    0    8    0\n## [3,]    0    6    0   12\nM<-matrix(1:12, nrow = 3, ncol = 4) \nx<-c(-2,-1,0,1,2) # vÃ©c-tÆ¡ Ä‘á»™ dÃ i 5\nM * x # phÃ©p nhÃ¢n Ä‘Æ°á»£c thá»±c hiá»‡n mÃ  khÃ´ng bÃ¡o lá»—i##      [,1] [,2] [,3] [,4]\n## [1,]   -2    4   -7   20\n## [2,]   -2   10    0  -22\n## [3,]    0  -12    9  -12\ny<-rep(x,3) # láº·p láº¡i x cho Ä‘áº¿n khi sá»‘ pháº§n tá»­ cá»§a vÃ©c-tÆ¡ thu Ä‘Æ°á»£c lá»›n hÆ¡n 12\nM1<-matrix(y[1:12],nrow = 3, ncol = 4) # dÃ¹ng 12 giÃ¡ trá»‹ ban Ä‘áº§u Ä‘á»ƒ táº¡o thÃ nh ma tráº­n cÃ³ cÃ¹ng kÃ­ch thÆ°á»›c 3*4\nM * M1 # káº¿t quáº£ giá»‘ng nhÆ° M * x##      [,1] [,2] [,3] [,4]\n## [1,]   -2    4   -7   20\n## [2,]   -2   10    0  -22\n## [3,]    0  -12    9  -12"},{"path":"index.html","id":"cÃ¡ch-láº¥y-pháº§n-tá»­-con-vÃ -ma-tráº­n-con-cá»§a-ma-tráº­n.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.1.2 CÃ¡ch láº¥y pháº§n tá»­ con vÃ  ma tráº­n con cá»§a ma tráº­n.","text":"TÆ°Æ¡ng tá»± nhÆ° vá»›i vÃ©c-tÆ¡, chÃºng ta sá»­ dá»¥ng \\([]\\) Ä‘á»ƒ láº¥y pháº§n tá»­ con trong ma tráº­n. KhÃ¡c vá»›i vÃ©c-tÆ¡, ma tráº­n cÃ³ chá»‰ sá»‘ hÃ ng vÃ  chá»‰ sá»‘ cá»™t nÃªn chÃºng ta cáº§n cho biáº¿t pháº§n tá»­ Ä‘Æ°á»£c láº¥y ra á»Ÿ hÃ ng thá»© bao nhiÃªu vÃ  cá»™t thá»© bao nhiÃªu:ChÃºng ta cÅ©ng cÃ³ thá»ƒ láº¥y ra vÃ©c-tÆ¡ hÃ ng hoáº·c vÃ©c-tÆ¡ cá»™t cá»§a ma tráº­n báº±ng cÃ¡ch sauÄá»ƒ láº¥y ra má»™t ma tráº­n con cá»§a má»™t ma tráº­n, chÃºng ta cÅ©ng táº¡o vÃ©c-tÆ¡ chá»‰ sá»‘ giá»‘ng nhÆ° cÃ¡ch táº¡o chá»‰ sá»‘ vá»›i vÃ©c-tÆ¡. Thay vÃ¬ chá»‰ táº¡o má»™t vÃ©c-tÆ¡ chá»‰ sá»‘ duy nháº¥t nhÆ° khi lÃ m vá»›i vÃ©c-tÆ¡, chÃºng ta cáº§n táº¡o má»™t vÃ©c-tÆ¡ chá»‰ sá»‘ theo hÃ ng vÃ  má»™t vÃ©c-tÆ¡ chá»‰ sá»‘ theo cá»™t. Báº¡n Ä‘á»c cÃ³ thá»ƒ táº¡o chá»‰ sá»‘ báº±ng má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ hoáº·c vÃ©c-tÆ¡ kiá»ƒu logical hoáº·c káº¿t há»£p cáº£ hai phÆ°Æ¡ng phÃ¡p nÃ y","code":"\nM[2,3] # pháº§n tá»­ á»Ÿ hÃ ng thá»© hai, cá»™t thá»© ba cá»§a ma tráº­n M## [1] 8\nM[,3] # láº¥y ra vÃ©c-tÆ¡ cá»™t thá»© 3 cá»§a ma tráº­n M## [1] 7 8 9\nM[2,] # láº¥y ra vÃ©c-tÆ¡ hÃ ng thá»© 2 cá»§a ma tráº­n M## [1]  2  5  8 11\nchi_so_hang<-c(TRUE,FALSE,TRUE) # Chá»‰ sá»‘ theo hÃ ng kiá»ƒu logical\nchi_so_cot<-c(2,4) # chá»‰ sá»‘ cá»™t theo kiá»ƒu sá»‘\nM[chi_so_hang,chi_so_cot] # ma tráº­n con cá»§a ma tráº­n M##      [,1] [,2]\n## [1,]    4   10\n## [2,]    6   12"},{"path":"index.html","id":"cÃ¡c-phÃ©p-toÃ¡n-trÃªn-ma-tráº­n.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.1.3 CÃ¡c phÃ©p toÃ¡n trÃªn ma tráº­n.","text":"CÃ¡c phÃ©p toÃ¡n trÃªn ma tráº­n cÃ³ Ã½ nghÄ©a Ä‘áº·c biá»‡t trong phÃ¢n tÃ­ch dá»¯ liá»‡u. á» cÃ¡c chÆ°Æ¡ng sÃ¡ch tiáº¿p theo báº¡n Ä‘á»c sáº½ tháº¥y ráº±ng táº¥t cáº£ cÃ¡c tÃ­nh toÃ¡n nháº±m biáº¿n Ä‘á»•i dá»¯ liá»‡u, hoáº·c Æ°á»›c lÆ°á»£ng tham sá»‘ cho cÃ¡c mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u Ä‘á»u dá»±a trÃªn cÃ¡c phÃ©p tÃ­nh toÃ¡n trÃªn ma tráº­n. ChÃºng tÃ´i sáº½ giáº£i thÃ­ch cÃ¡c phÃ©p toÃ¡n nÃ y má»™t cÃ¡ch Ä‘Æ¡n giáº£n nháº¥t Ä‘á»ƒ nhá»¯ng báº¡n Ä‘á»c khÃ´ng cÃ³ ná»n táº£ng chuyÃªn sÃ¢u vá» toÃ¡n cÅ©ng cÃ³ thá»ƒ hiá»ƒu Ä‘Æ°á»£c. Tuy nhiÃªn, Ä‘á»ƒ cÃ³ ká»¹ nÄƒng thÃ nh tháº¡o trong biáº¿n Ä‘á»•i dá»¯ liá»‡u, phÃ¢n tÃ­ch dá»¯ liá»‡u, vÃ  xÃ¢y dá»±ng cÃ¡c mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u, chÃºng tÃ´i khuyÃªn báº¡n Ä‘á»c nÃªn tá»± trang bá»‹ cho mÃ¬nh cÃ¡c kiáº¿n thá»©c vá» Ä‘áº¡i sá»‘ tuyáº¿n tÃ­nh vÃ  giáº£i tÃ­ch vÃ©c-tÆ¡.","code":""},{"path":"index.html","id":"phÃ©p-chuyá»ƒn-vá»‹.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.1.3.1 PhÃ©p chuyá»ƒn vá»‹.","text":"PhÃ©p toÃ¡n chuyá»ƒn vá»‹ (transpose) lÃ  má»™t phÃ©p toÃ¡n biáº¿n Ä‘á»•i má»™t ma tráº­n \\(M\\) kÃ­ch thÆ°á»›c \\(n \\times p\\) (\\(n\\) hÃ ng vÃ  \\(p\\) cá»™t) thÃ nh má»™t ma tráº­n má»›i, kÃ½ hiá»‡u lÃ  \\(M^T\\), cÃ³ kÃ­ch thÆ°á»›c \\(p \\times n\\) (\\(p\\) hÃ ng vÃ  \\(n\\) cá»™t), Ä‘á»“ng thá»i pháº§n tá»­ hÃ ng thá»© \\(j\\) vÃ  cá»™t thá»© \\(\\) cá»§a ma tráº­n \\(M^T\\) báº±ng pháº§n tá»­ á»Ÿ hÃ ng thá»© \\(\\) vÃ  cá»™t thá»© \\(j\\) cá»§a ma tráº­n \\(M\\).\\[\\begin{align}\n\\begin{bmatrix}\nm_{11} & m_{12} & m_{13}\\\\\nm_{21} & m_{22} & m_{23}\n\\end{bmatrix}\n\n\\xrightarrow[\\text{(transpose)}]{\\text{chuyá»ƒn vá»‹}}\n\n\\begin{bmatrix}\nm_{11} & m_{21} \\\\\nm_{12} & m_{22} \\\\\nm_{13} & m_{23}\n\\end{bmatrix}\n\n\\end{align}\\]HÃ m sá»‘ Ä‘á»ƒ thá»±c hiá»‡n phÃ©p chuyá»ƒn vá»‹ ma tráº­n trong R lÃ  hÃ m t()Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng náº¿u thá»±c hiá»‡n phÃ©p chuyá»ƒn vá»‹ hai láº§n liÃªn tiáº¿p ta sáº½ thu Ä‘Æ°á»£c ma tráº­n ban Ä‘áº§u","code":"\nM<-matrix(1:12, nrow = 3, ncol = 4, byrow = TRUE) # nrow: sá»‘ hÃ ng, ncol: sá»‘ cá»™t\nM # in M ra cá»§a sá»• console##      [,1] [,2] [,3] [,4]\n## [1,]    1    2    3    4\n## [2,]    5    6    7    8\n## [3,]    9   10   11   12\nt(M) # ma tráº­n chuyá»ƒn vá»‹ cá»§a ma tráº­n ##      [,1] [,2] [,3]\n## [1,]    1    5    9\n## [2,]    2    6   10\n## [3,]    3    7   11\n## [4,]    4    8   12\nt(t(M)) # ma tráº­n chuyá»ƒn vá»‹ cá»§a ma tráº­n chuyá»ƒn vá»‹ lÃ  ma tráº­n ban Ä‘áº§u ##      [,1] [,2] [,3] [,4]\n## [1,]    1    2    3    4\n## [2,]    5    6    7    8\n## [3,]    9   10   11   12"},{"path":"index.html","id":"phÃ©p-nhÃ¢n-ma-tráº­n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.1.4 PhÃ©p nhÃ¢n ma tráº­n","text":"PhÃ©p nhÃ¢n ma tráº­n (matrix multiplication) cá»§a ma tráº­n \\(\\) vá»›i ma tráº­n \\(B\\) chá»‰ thá»±c hiá»‡n Ä‘Æ°á»£c náº¿u sá»‘ cá»™t cá»§a ma tráº­n \\(\\) báº±ng vá»›i sá»‘ hÃ ng cá»§a ma tráº­n \\(B\\). Giáº£ sá»­ ráº±ng \\(\\) cÃ³ kÃ­ch thÆ°á»›c lÃ  \\(n \\times p\\) vÃ  \\(B\\) cÃ³ kÃ­ch thÆ°á»›c lÃ  \\(p \\times k\\) thÃ¬ káº¿t quáº£ cá»§a phÃ©p nhÃ¢n ma tráº­n cá»§a ma tráº­n \\(\\) vá»›i ma tráº­n \\(B\\) lÃ  má»™t ma tráº­n \\(M\\) cÃ³ kÃ­ch thÆ°á»›c \\(n \\times k\\), pháº§n tá»­ á»Ÿ hÃ ng thá»© \\(\\) vÃ  cá»™t thá»© \\(j\\) cá»§a ma tráº­n \\(M\\) lÃ  tÃ­ch vÃ´ hÆ°á»›ng giá»¯a vÃ©c-tÆ¡ hÃ ng \\(\\) cá»§a ma tráº­n \\(\\) vÃ  vÃ©c-tÆ¡ cá»™t \\(j\\) cá»§a ma tráº­n \\(B\\). Nháº¯c láº¡i vá»›i báº¡n Ä‘á»c ráº±ng tÃ­ch vÃ´ hÆ°á»›ng cá»§a hai vÃ©c-tÆ¡ \\(x\\) vÃ  \\(y\\) (pháº£i) cÃ³ cÃ¹ng Ä‘á»™ dÃ i \\(n\\) Ä‘Æ°á»£c kÃ½ hiá»‡u lÃ  \\(<x,y>\\) vÃ  Ä‘Æ°á»£c tÃ­nh nhÆ° sau\\[\\begin{align}\n<x,y> = \\sum\\limits_{= 1}^n \\ x_i y_i\n\\end{align}\\]trong Ä‘Ã³ \\(x_i\\), \\(y_i\\) láº§n lÆ°á»£t lÃ  pháº§n tá»­ thá»© \\(\\) cá»§a vÃ©c-tÆ¡ \\(x\\) vÃ  vÃ©c-tÆ¡ \\(y\\). Äá»ƒ phÃ¢n biá»‡t vá»›i phÃ©p nhÃ¢n thÃ´ng thÆ°á»ng, chÃºng tÃ´i sá»­ dá»¥ng kÃ½ hiá»‡u \\(*\\) cho phÃ©p nhÃ¢n ma tráº­n mÃ  chá»‰ Ä‘Æ¡n giáº£n kÃ½ hiá»‡u phÃ©p nhÃ¢n ma tráº­n giá»¯a ma tráº­n \\(\\) vÃ  ma tráº­n \\(B\\) lÃ  \\(AB\\). CÃ´ng thá»©c dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ phÃ©p nhÃ¢n ma tráº­n giá»¯a má»™t ma tráº­n cÃ³ 2 hÃ ng vÃ  3 cá»™t vá»›i má»™t ma tráº­n cÃ³ 3 hÃ ng vÃ  4 cá»™t Ä‘á»ƒ Ä‘Æ°á»£c má»™t ma tráº­n cÃ³ kÃ­ch thÆ°á»›c lÃ  2 hÃ ng vÃ  4 cá»™t\\[\\begin{align}\n&& AB = M \\\\\n\n&&\n\n\\begin{bmatrix}\na_{11} & a_{12} & a_{13}\\\\\na_{21} & a_{22} & a_{23}\n\\end{bmatrix}\n\n\\% * \\%\n\n\\begin{bmatrix}\nb_{11} & b_{12} & b_{13} & b_{14} \\\\\nb_{21} & b_{22} & b_{23} & b_{24} \\\\\nb_{31} & b_{32} & b_{33} & b_{34}\n\\end{bmatrix}\n\n=\n\n\\begin{bmatrix}\nm_{11} & m_{12} & m_{13} & m_{14} \\\\\nm_{21} & m_{22} & m_{23} & m_{24} \\\\\n\\end{bmatrix} \\\\\n\n&& m_{ij} = <[,],B[,j]>\n\n\\end{align}\\]\ntrong Ä‘Ã³ \\([,]\\) lÃ  vÃ©c-tÆ¡ hÃ ng \\(\\) cá»§a ma tráº­n \\(\\) vÃ  \\(B[,j]\\) lÃ  vÃ©c-tÆ¡ cá»™t \\(j\\) cá»§a ma tráº­n \\(B\\).ToÃ¡n tá»­ dÃ¹ng Ä‘á»ƒ thá»±c hiá»‡n phÃ©p nhÃ¢n ma tráº­n trong R lÃ  \\(\\% * \\%\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ thá»±c hiá»‡n phÃ©p nhÃ¢n hai ma tráº­n \\(\\) vÃ  \\(B\\) nhÆ° sauChÃºng ta cÃ³ thá»ƒ kiá»ƒm tra giÃ¡ trá»‹ cá»§a pháº§n tá»­ á»Ÿ hÃ ng thá»© 2 vÃ  cá»™t thá»© 3 cá»§a ma tráº­n káº¿t quáº£ (sá»‘ 100) chÃ­nh lÃ  tÃ­ch vÃ´ hÆ°á»›ng giá»¯a vÃ©c-tÆ¡ hÃ ng thá»© hai cá»§a ma tráº­n \\(\\) vÃ  vÃ©c-tÆ¡ cá»™t thá»© ba cá»§a ma tráº­n \\(B\\).\\[\\begin{align}\n<(2,4,6),(7,8,9)> &=& 2 \\times 7 + 4 \\times 8 + 6 \\times 9 \\\\\n&=& 100\n\\end{align}\\]Báº¡n Ä‘á»c cáº§n phÃ¢n biá»‡t giá»¯a phÃ©p nhÃ¢n ma tráº­n (kÃ½ hiá»‡u \\(\\% * \\%\\)) vÃ  phÃ©p nhÃ¢n thÃ´ng thÆ°á»ng (kÃ½ hiá»‡u \\(*\\)) nhÆ° Ä‘Ã£ trÃ¬nh bÃ y á»Ÿ trÃªn. Äá»ƒ trÃ¡nh gÃ¢y nháº§m láº«n, chÃºng tÃ´i luÃ´n sá»­ dá»¥ng cá»¥m tá»« nhÃ¢n ma tráº­n cho phÃ©p nhÃ¢n \\(\\% * \\%\\).","code":"\nA<-matrix(1:6, nrow = 2, ncol = 3) # ma tráº­n kÃ­ch thÆ°á»›c 2 * 3\nprint(A)##      [,1] [,2] [,3]\n## [1,]    1    3    5\n## [2,]    2    4    6\nB<-matrix(1:12, nrow = 3, ncol = 4) # ma tráº­n kÃ­ch thÆ°á»›c 3 * 4\nprint(B)##      [,1] [,2] [,3] [,4]\n## [1,]    1    4    7   10\n## [2,]    2    5    8   11\n## [3,]    3    6    9   12\nM <- A %*% B # káº¿t quáº£ lÃ  ma tráº­n M cÃ³ kich thÆ°á»›c 2 * 4\nprint(M)##      [,1] [,2] [,3] [,4]\n## [1,]   22   49   76  103\n## [2,]   28   64  100  136"},{"path":"index.html","id":"ma-tráº­n-Ä‘Æ°á»ng-chÃ©o-vÃ -ma-tráº­n-Ä‘Æ¡n-vá»‹.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.1.5 Ma tráº­n Ä‘Æ°á»ng chÃ©o vÃ  ma tráº­n Ä‘Æ¡n vá»‹.","text":"CÃ¡c khÃ¡i niá»‡m vÃ  phÃ©p toÃ¡n trÃªn ma tráº­n Ä‘Æ°á»£c trÃ¬nh bÃ y tá»« pháº§n nÃ y sáº½ chá»‰ Ã¡p dá»¥ng trÃªn ma tráº­n vuÃ´ng, nghÄ©a lÃ  ma tráº­n cÃ³ sá»‘ hÃ ng báº±ng vá»›i sá»‘ cá»™t. Trong má»™t ma tráº­n vuÃ´ng, cÃ¡c pháº§n tá»­ náº±m trÃªn Ä‘Æ°á»ng chÃ©o \\(chÃ­nh\\) lÃ  cÃ¡c pháº§n tá»­ cÃ³ chá»‰ sá»‘ hÃ ng báº±ng vá»›i chá»‰ sá»‘ cá»™t, cÃ¡c pháº§n tá»­ náº±m trÃªn Ä‘Æ°á»ng chÃ©o \\(phá»¥\\) lÃ  cÃ¡c pháº§n tá»­ cÃ³ chá»‰ sá»‘ hÃ ng cá»™ng vá»›i chá»‰ sá»‘ cá»™t báº±ng \\((n+1)\\) trong Ä‘Ã³ \\(n\\) lÃ  sá»‘ hÃ ng. Vá»›i ma tráº­n vuÃ´ng \\(M\\) cÃ³ kÃ­ch thÆ°á»›c \\(n \\times n\\) Ä‘Æ°á»ng chÃ©o chÃ­nh cá»§a ma tráº­n Ä‘Æ°á»£c kÃ½ hiá»‡u lÃ  \\(diag(M)\\) xÃ¡c Ä‘á»‹nh nhÆ° sau\\[\\begin{align}\nM\n=\n\\begin{bmatrix}\nm_{11} & m_{12} & m_{13} & m_{14} \\\\\nm_{21} & m_{22} & m_{23} & m_{24} \\\\\nm_{31} & m_{32} & m_{33} & m_{34}\\\\\nm_{41} & m_{42} & m_{43} & m_{44}\n\\end{bmatrix} \\\\\n\ndiag(M) = (m_{11}, m_{22}, m_{33},  m_{44})\n\n\\end{align}\\]Ma tráº­n cÃ³ táº¥t cáº£ cÃ¡c pháº§n tá»­ náº±m \\(ngoÃ i\\) Ä‘Æ°á»ng chÃ©o chÃ­nh báº±ng 0 Ä‘Æ°á»£c gá»i lÃ  ma tráº­n Ä‘Æ°á»ng chÃ©o. HÃ m diag() trong R Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ láº¥y ra vÃ©c-tÆ¡ Ä‘Æ°á»ng chÃ©o chÃ­nh cá»§a má»™t ma tráº­n vuÃ´ng vÃ  Ä‘á»ƒ táº¡o ra má»™t ma tráº­n Ä‘Æ°á»ng chÃ©o hoáº·c cÅ©ng cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ khai bÃ¡o má»™t ma tráº­n Ä‘Æ°á»ng chÃ©o.Ma tráº­n Ä‘Æ¡n vá»‹ kÃ­ch thÆ°á»›c \\(n \\times n\\), thÆ°á»ng Ä‘Æ°á»£c kÃ½ hiá»‡u \\(I_n\\), lÃ  má»™t ma tráº­n Ä‘Æ°á»ng chÃ©o mÃ  táº¥t cáº£ cÃ¡c pháº§n tá»­ trÃªn Ä‘Æ°á»ng chÃ©o chÃ­nh báº±ng 1. Ma tráº­n Ä‘Æ¡n vá»‹ \\(I_n\\) cÃ³ tÃ­nh cháº¥t quan trá»ng lÃ  má»i ma tráº­n \\(M\\) kÃ­ch thÆ°á»›c \\(k \\times n\\) khi thá»±c hiá»‡n phÃ©p nhÃ¢n ma tráº­n vá»›i ma tráº­n \\(I_n\\) sáº½ Ä‘Æ°á»£c káº¿t quáº£ Ä‘Ãºng báº±ng ma tráº­n \\(M\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ quan sÃ¡t vÃ­ dá»¥ sau","code":"\nM<-matrix(1:9, nrow = 3, ncol = 3) # ma tráº­n vuÃ´ng 3 * 3\nprint(M)##      [,1] [,2] [,3]\n## [1,]    1    4    7\n## [2,]    2    5    8\n## [3,]    3    6    9\ndiag(M) # láº¥y ra vÃ©c-tÆ¡ Ä‘Æ°á»ng chÃ©o chÃ­nh cá»§a M## [1] 1 5 9\nM1<-diag(c(1,10,100)) # táº¡o ra ma tráº­n Ä‘Æ°á»ng chÃ©o cÃ³ Ä‘Æ°á»ng chÃ©o chÃ­nh lÃ  (1,10,100)\nprint(M1)##      [,1] [,2] [,3]\n## [1,]    1    0    0\n## [2,]    0   10    0\n## [3,]    0    0  100\nIn<-diag(rep(1,4)) # ma tráº­n Ä‘Æ¡n vá»‹ kÃ­ch thÆ°á»›c 4*4\nprint(In)##      [,1] [,2] [,3] [,4]\n## [1,]    1    0    0    0\n## [2,]    0    1    0    0\n## [3,]    0    0    1    0\n## [4,]    0    0    0    1\nM<-matrix(1:20, nrow = 5, ncol = 4) # ma tráº­n vuÃ´ng 5 * 4\nprint(M %*% In) # káº¿t quáº£ váº«n lÃ  ma tráº­n M##      [,1] [,2] [,3] [,4]\n## [1,]    1    6   11   16\n## [2,]    2    7   12   17\n## [3,]    3    8   13   18\n## [4,]    4    9   14   19\n## [5,]    5   10   15   20"},{"path":"index.html","id":"Ä‘á»‹nh-thá»©c-cá»§a-ma-tráº­n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.1.6 Äá»‹nh thá»©c cá»§a ma tráº­n","text":"Äá»‹nh thá»©c cá»§a ma tráº­n lÃ  má»™t khÃ¡i niá»‡m toÃ¡n há»c phá»©c táº¡p. Pháº§n lá»›n báº¡n Ä‘á»c khi lÃ m quen vá»›i khÃ¡i niá»‡m Ä‘á»‹nh thá»©c trong mÃ´n há»c Ä‘áº¡i sá»‘ tuyáº¿n tÃ­nh sáº½ Ä‘Æ°á»£c giá»›i thiá»‡u vá» cÃ´ng thá»©c tÃ­nh Ä‘á»‹nh thá»©c cá»§a má»™t ma tráº­n, hoáº·c sá»­ dá»¥ng Ä‘á»‹nh thá»©c cá»§a ma tráº­n Ä‘á»ƒ thá»±c hiá»‡n tÃ­nh toÃ¡n nhÆ° giáº£i há»‡ phÆ°Æ¡ng trÃ¬nh thay vÃ¬ thá»±c sá»± hiá»ƒu khÃ¡i niá»‡m Ä‘á»‹nh thá»©c Ä‘Æ°á»£c báº¯t Ä‘áº§u tá»« Ä‘Ã¢u. Äá»‹nh thá»©c lÃ  má»™t giÃ¡ trá»‹ sá»‘ thá»±c Ä‘áº·c trÆ°ng cá»§a má»™t ma tráº­n vuÃ´ng. Äá»‹nh thá»©c cho biáº¿t nhiá»u tÃ­nh cháº¥t quan trá»ng cá»§a ma tráº­n Ä‘Ã³, Ä‘á»“ng thá»i Ä‘á»‹nh thá»©c xuáº¥t hiá»‡n trong ráº¥t nhiá»u tÃ­nh toÃ¡n liÃªn quan Ä‘áº¿n ma tráº­n.HÃ£y báº¯t Ä‘áº§u vá»›i má»™t ma tráº­n vuÃ´ng \\(M\\) kÃ­ch thÆ°á»›c \\(2 \\times 2\\) nhÆ° sau:\n\\[\\begin{align}\nM\n=\n\\begin{bmatrix}\nm_{11} & m_{12}\\\\\nm_{21} & m_{22}\n\\end{bmatrix}\n\\end{align}\\]Äá»‹nh thá»©c cá»§a ma tráº­n \\(M\\) Ä‘Æ°á»£c kÃ½ hiá»‡u lÃ  \\(|M|\\) hoáº·c \\(det(M)\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh bá»Ÿi cÃ´ng thá»©c\n\\[\\begin{align}\ndet(M) = m_{11} \\times m_{22} - m_{12} \\times m_{21}\n\\end{align}\\]Äá»‹nh thá»©c cá»§a ma tráº­n \\(M\\) cÃ³ thá»ƒ biá»ƒu diá»…n dÆ°á»›i dáº¡ng diá»‡n tÃ­ch cá»§a hÃ¬nh bÃ¬nh hÃ nh táº¡o thÃ nh tá»« 4 Ä‘iá»ƒm cÃ³ tá»a Ä‘á»™ \\((0,0)\\), \\((m_{11},m_{12})\\), \\((m_{21},m_{22})\\), vÃ  \\((m_{11}+m_{21}, m_{12}+m_{22})\\). Tháº­t váº­y, giáº£ sá»­ hai ma tráº­n \\(M\\) vÃ  \\(M_1\\) cÃ³ kÃ­ch thÆ°á»›c \\(2 \\times 2\\); ma tráº­n \\(M_1\\) nháº­n Ä‘Æ°á»£c báº±ng cÃ¡ch Ä‘á»•i vá»‹ trÃ­ 2 dÃ²ng cá»§a ma tráº­n \\(M\\)\\[\\begin{align}\nM\n=\n\\begin{bmatrix}\n2 & 1 \\\\\n1 & 3\n\\end{bmatrix}  \\text{  vÃ   } M_1\n=\n\\begin{bmatrix}\n1 & 3 \\\\\n2 & 1\n\\end{bmatrix} \\\\\n\ndet(M) = 5  \\text{  vÃ   } det(M_1) = -5\n\n\\end{align}\\]ChÃºng ta cÃ³ thá»ƒ biá»ƒu diá»…n Ä‘á»‹nh thá»©c cá»§a \\(M\\) vÃ  \\(M_1\\) qua diá»‡n tÃ­ch cá»§a cÃ¡c hÃ¬nh bÃ¬nh hÃ nh nhÆ° hÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y:GiÃ¡ trá»‹ cá»§a Ä‘á»‹nh thá»©c sáº½ cho ta biáº¿t thÃ´ng tin vá» cÃ¡c vÃ©c-tÆ¡ táº¡o nÃªn ma tráº­n:Äá»‹nh thá»©c báº±ng 0 chá»‰ xáº£y ra khi hai vÃ©c-tÆ¡ (hai mÅ©i tÃªn mÃ u xanh vÃ  mÃ u Ä‘á» xuáº¥t phÃ¡t tá»« Ä‘iá»ƒm \\((0,0)\\)) trÃ¹ng nhau hoáº·c Ä‘á»‘i Ä‘á»‰nh nhau. Äiá»u nÃ y chá»‰ xáº£y ra khi vÃ©c-tÆ¡ thá»© nháº¥t báº±ng vÃ©c-tÆ¡ thá»© hai nhÃ¢n vá»›i má»™t sá»‘. Trong trÆ°á»ng há»£p tá»•ng quÃ¡t vá»›i ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\(n \\times n\\), Ä‘á»‹nh thá»©c báº±ng 0 khi má»™t vÃ©c-tÆ¡ nÃ o Ä‘Ã³ lÃ  tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c vÃ©c-tÆ¡ cÃ²n láº¡i.Äá»‹nh thá»©c báº±ng 0 chá»‰ xáº£y ra khi hai vÃ©c-tÆ¡ (hai mÅ©i tÃªn mÃ u xanh vÃ  mÃ u Ä‘á» xuáº¥t phÃ¡t tá»« Ä‘iá»ƒm \\((0,0)\\)) trÃ¹ng nhau hoáº·c Ä‘á»‘i Ä‘á»‰nh nhau. Äiá»u nÃ y chá»‰ xáº£y ra khi vÃ©c-tÆ¡ thá»© nháº¥t báº±ng vÃ©c-tÆ¡ thá»© hai nhÃ¢n vá»›i má»™t sá»‘. Trong trÆ°á»ng há»£p tá»•ng quÃ¡t vá»›i ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\(n \\times n\\), Ä‘á»‹nh thá»©c báº±ng 0 khi má»™t vÃ©c-tÆ¡ nÃ o Ä‘Ã³ lÃ  tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c vÃ©c-tÆ¡ cÃ²n láº¡i.Äá»‹nh thá»©c gáº§n báº±ng 0 nghÄ©a lÃ  gÃ³c táº¡o bá»Ÿi 2 vÃ©c-tÆ¡ ráº¥t gáº§n 0 hoáº·c táº¡o vá»›i nhau má»™t gÃ³c xáº¥p xá»‰ 180 Ä‘á»™. Ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\(n \\times n\\) cÃ³ Ä‘á»‹nh thá»©c xáº¥p xá»‰ báº±ng 0 nghÄ©a lÃ  má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh giá»¯a cÃ¡c vÃ©c-tÆ¡ cá»§a ma tráº­n lÃ  ráº¥t cháº·t cháº½.Äá»‹nh thá»©c gáº§n báº±ng 0 nghÄ©a lÃ  gÃ³c táº¡o bá»Ÿi 2 vÃ©c-tÆ¡ ráº¥t gáº§n 0 hoáº·c táº¡o vá»›i nhau má»™t gÃ³c xáº¥p xá»‰ 180 Ä‘á»™. Ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\(n \\times n\\) cÃ³ Ä‘á»‹nh thá»©c xáº¥p xá»‰ báº±ng 0 nghÄ©a lÃ  má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh giá»¯a cÃ¡c vÃ©c-tÆ¡ cá»§a ma tráº­n lÃ  ráº¥t cháº·t cháº½.Dáº¥u cá»§a Ä‘á»‹nh thá»©c cho ta biáº¿t vá»‹ trÃ­ cá»§a cÃ¡c vÃ©c-tÆ¡. VÃ©c-tÆ¡ hÃ ng thá»© nháº¥t tÆ°Æ¡ng á»©ng vá»›i mÃ u xanh dÆ°Æ¡ng trong khi vÃ©c-tÆ¡ hÃ ng thá»© hai tÆ°Æ¡ng á»©ng vá»›i mÃ u Ä‘á». Dáº¥u cá»§a Ä‘á»‹nh thá»©c dÆ°Æ¡ng chá»‰ khi vÃ©c-tÆ¡ mÃ u xanh dÆ°Æ¡ng náº±m phÃ­a trÃªn (bÃªn trÃ¡i) vÃ©c-tÆ¡ mÃ u Ä‘á», vÃ  dáº¥u cá»§a Ä‘á»‹nh thá»©c lÃ  Ã¢m chá»‰ khi vÃ©c-tÆ¡ mÃ u xanh dÆ°Æ¡ng náº±m phÃ­a dÆ°á»›i (bÃªn pháº£i) vÃ©c-tÆ¡ mÃ u Ä‘á».Dáº¥u cá»§a Ä‘á»‹nh thá»©c cho ta biáº¿t vá»‹ trÃ­ cá»§a cÃ¡c vÃ©c-tÆ¡. VÃ©c-tÆ¡ hÃ ng thá»© nháº¥t tÆ°Æ¡ng á»©ng vá»›i mÃ u xanh dÆ°Æ¡ng trong khi vÃ©c-tÆ¡ hÃ ng thá»© hai tÆ°Æ¡ng á»©ng vá»›i mÃ u Ä‘á». Dáº¥u cá»§a Ä‘á»‹nh thá»©c dÆ°Æ¡ng chá»‰ khi vÃ©c-tÆ¡ mÃ u xanh dÆ°Æ¡ng náº±m phÃ­a trÃªn (bÃªn trÃ¡i) vÃ©c-tÆ¡ mÃ u Ä‘á», vÃ  dáº¥u cá»§a Ä‘á»‹nh thá»©c lÃ  Ã¢m chá»‰ khi vÃ©c-tÆ¡ mÃ u xanh dÆ°Æ¡ng náº±m phÃ­a dÆ°á»›i (bÃªn pháº£i) vÃ©c-tÆ¡ mÃ u Ä‘á».Vá»›i cÃ¡c ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\(n \\times n\\); \\(n \\geq 3\\) Ä‘á»‹nh thá»©c cá»§a ma tráº­n Ä‘Æ°á»£c tÃ­nh báº±ng cÃ¡ch lá»±a chá»n má»™t dÃ²ng (hoáº·c cá»™t) thá»© \\(\\) báº¥t ká»³ vÃ  sau Ä‘Ã³ thá»±c hiá»‡n phÃ©p khai triá»ƒn\n\\[\\begin{align}\ndet(M) = \\sum\\limits_{j = 1}^n (-1)^{+j} \\times m_{ij} \\times det(M_{-,-j})\n\\end{align}\\]\ntrong Ä‘Ã³ \\(M_{-,-j}\\) mÃ  ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\((n-1) \\times (n-1)\\) nháº­n Ä‘Æ°á»£c sau khi bá» Ä‘i hÃ ng thá»© \\(\\) vÃ  cá»™t thá»© \\(j\\) cá»§a ma tráº­n \\(M\\).Äá»‹nh thá»©c cá»§a ma tráº­n \\(M\\) kÃ­ch thÆ°á»›c \\(3 \\times 3\\) cÃ³ thá»ƒ tÃ­nh toÃ¡n dá»±a trÃªn Ä‘á»‹nh thá»©c cá»§a cÃ¡c ma tráº­n con vÃ  lá»±a chá»n hÃ ng \\(=2\\) nhÆ° sau\\[\\begin{align}\n& & M\n=\n\\begin{bmatrix}\nm_{11} & m_{12} & m_{13}  \\\\\nm_{21} & m_{22} & m_{23} \\\\\nm_{31} & m_{32} & m_{33}\n\\end{bmatrix} \\\\\n\n& & det(M) = - m_{21} \\times \\begin{vmatrix}\nm_{12} & m_{13}  \\\\\nm_{32} & m_{33}\n\\end{vmatrix} + m_{22} \\times \\begin{vmatrix}\nm_{11} & m_{13}  \\\\\nm_{31} & m_{33}  \n\\end{vmatrix} - m_{23} \\times \\begin{vmatrix}\nm_{11} & m_{12}  \\\\\nm_{31} & m_{32}  \n\\end{vmatrix}\n\\end{align}\\]HÃ m det() trong R Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ­nh Ä‘á»‹nh thá»©c cá»§a ma tráº­n.Má»™t vÃ i tÃ­nh cháº¥t quan trá»ng cá»§a Ä‘á»‹nh thá»©c:Äá»‹nh thá»©c cá»§a má»™t ma tráº­n Ä‘Æ°á»ng chÃ©o báº±ng tÃ­ch cÃ¡c pháº§n tá»­ náº±m trÃªn Ä‘Æ°á»ng chÃ©o chÃ­nh cá»§a ma tráº­n Ä‘Ã³. Ma tráº­n Ä‘Æ°á»ng chÃ©o lÃ  má»™t trÆ°á»ng há»£p Ä‘áº·c biá»‡t cá»§a ma tráº­n tam giÃ¡c. Ma tráº­n tam giÃ¡c trÃªn lÃ  ma tráº­n cÃ³ táº¥t cáº£ cÃ¡c pháº§n tá»­ náº±m phÃ­a dÆ°á»›i Ä‘Æ°á»ng chÃ©o chÃ­nh nháº­n giÃ¡ trá»‹ báº±ng 0. TÆ°Æ¡ng tá»±, ma tráº­n tÃ¢m giÃ¡c dÆ°á»›i lÃ  ma tráº­n cÃ³ táº¥t cáº£ cÃ¡c pháº§n tá»­ náº±m phÃ­a trÃªn Ä‘Æ°á»ng chÃ©o chÃ­nh nháº­n giÃ¡ trá»‹ báº±ng 0. CÃ¡c ma tráº­n tam giÃ¡c cÃ³ tÃ­nh cháº¥t nhÆ° Ä‘Ã£ phÃ¡t biá»ƒu á»Ÿ trÃªn: Ä‘á»‹nh thá»©c cá»§a cÃ¡c ma tráº­n nÃ y báº±ng tÃ­ch cÃ¡c pháº§n tá»­ náº±m trÃªn Ä‘Æ°á»ng chÃ©o chÃ­nh.Äá»‹nh thá»©c cá»§a ma tráº­n chuyá»ƒn vá»‹ báº±ng Ä‘á»‹nh thá»©c cá»§a ma tráº­n ban Ä‘áº§u\n\\[\\begin{align}\ndet(M) = det(M^T)\n\\end{align}\\]Äá»‹nh thá»©c cá»§a tÃ­ch hai ma tráº­n báº±ng tÃ­ch cá»§a cÃ¡c Ä‘á»‹nh thá»©c.\n\\[\\begin{align}\ndet(\\% * \\% B) = det() \\times det(B)\n\\end{align}\\]","code":"\nM<-matrix(c(2,1,1,3),nrow = 2,ncol = 2,byrow = TRUE)\ndet(M)## [1] 5\nM<-matrix(1:16,nrow = 4,ncol = 4) \nM[lower.tri(M)]<-0 # cho cÃ¡c pháº§n tá»­ phÃ­a dÆ°á»›i Ä‘Æ°á»ng chÃ©o chÃ­nh báº±ng 0\nprint(M) # ma tráº­n M lÃ  ma tráº­n tam giÃ¡c trÃªn##      [,1] [,2] [,3] [,4]\n## [1,]    1    5    9   13\n## [2,]    0    6   10   14\n## [3,]    0    0   11   15\n## [4,]    0    0    0   16\nprint(c(det(M), prod(diag(M)))) # Ä‘á»‹nh thá»©c cá»§a M báº±ng tÃ­ch cÃ¡c sá»‘ trÃªn Ä‘Æ°á»ng chÃ©o chÃ­nh## [1] 1056 1056\nM<-matrix(rnorm(16),nrow = 4,ncol = 4) \nprint(c(det(M),det(t(M))))## [1] -4.377982 -4.377982\nM<-matrix(rnorm(16),nrow = 4,ncol = 4) \nM1<-matrix(rnorm(16),nrow = 4,ncol = 4) \nprint(c(det(M%*%M1),det(M)*det(M1))) ## [1] 0.09626011 0.09626011"},{"path":"index.html","id":"ma-tráº­n-nghá»‹ch-Ä‘áº£o","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.1.7 Ma tráº­n nghá»‹ch Ä‘áº£o","text":"Ma tráº­n nghá»‹ch Ä‘áº£o cá»§a má»™t ma tráº­n vuÃ´ng \\(M\\), thÆ°á»ng Ä‘Æ°á»£c kÃ½ hiá»‡u \\(M^{-1}\\), lÃ  ma tráº­n vuÃ´ng cÃ³ cÃ¹ng kÃ­ch thÆ°á»›c vá»›i ma tráº­n \\(M\\) vÃ  thá»a mÃ£n tÃ­nh cháº¥t: phÃ©p nhÃ¢n ma tráº­n giá»¯a ma tráº­n \\(M\\) vá»›i ma tráº­n nghá»‹ch Ä‘áº£o \\(M^{-1}\\) sáº½ cho káº¿t quáº£ lÃ  má»™t ma tráº­n Ä‘Æ¡n vá»‹. KhÃ´ng pháº£i ma tráº­n vuÃ´ng nÃ o cÅ©ng cÃ³ ma tráº­n nghá»‹ch Ä‘áº£o; chá»‰ cÃ³ cÃ¡c ma tráº­n cÃ³ Ä‘á»‹nh thá»©c khÃ¡c lÃ  cÃ³ ma tráº­n nghá»‹ch Ä‘áº£o. CÃ¡c ma tráº­n cÃ³ ma tráº­n nghá»‹ch Ä‘áº£o Ä‘Æ°á»£c cÃ²n Ä‘Æ°á»£c gá»i lÃ  cÃ¡c ma tráº­n kháº£ nghá»‹ch. CÃ¡c ma tráº­n kháº£ nghá»‹ch luÃ´n cÃ³ má»™t ma tráº­n nghá»‹ch Ä‘áº£o duy nháº¥t.\\[\\begin{align}\nM \\% * \\% M^{-1} = I_n\n\\end{align}\\]Hai láº§n láº¥y nghá»‹ch Ä‘áº£o liÃªn tiáº¿p vá»›i má»™t ma tráº­n kháº£ nghá»‹ch sáº½ quay trá»Ÿ láº¡i ma tráº­n ban Ä‘áº§u, hay nÃ³i má»™t cÃ¡ch khÃ¡c ma tráº­n nghá»‹ch Ä‘áº£o cá»§a ma tráº­n \\(M^{-1}\\) chÃ­nh lÃ  ma tráº­n \\(M\\)\n\\[\\begin{align}\nM^{-1} \\% * \\% M = I_n\n\\end{align}\\]PhÆ°Æ¡ng phÃ¡p chung Ä‘á»ƒ tÃ­nh toÃ¡n ma tráº­n nghá»‹ch Ä‘áº£o lÃ  dá»±a trÃªn cÃ¡c ma tráº­n liÃªn há»£p (adjugate matrix). Ma tráº­n liÃªn há»£p cá»§a ma tráº­n \\(M\\) Ä‘Æ°á»£c kÃ½ hiá»‡u lÃ  \\(adj(M)\\) lÃ  ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\(n \\times n\\) mÃ  pháº§n tá»­ á»Ÿ hÃ ng thá»© \\(\\), cá»™t thá»© \\(j\\) Ä‘Æ°á»£c tÃ­nh báº±ng\n\\[\\begin{align}\nadj(M)_{ij} = (-1)^{j+} det(M_{-j,-})\n\\end{align}\\]\nKhi tÃ­nh toÃ¡n Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M\\), chÃºng tÃ´i Ä‘Ã£ sá»­ dá»¥ng kÃ½ hiá»‡u \\(M_{-,-j}\\) cho ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\((n-1) \\times (n-1)\\) nháº­n Ä‘Æ°á»£c sau khi bá» Ä‘i hÃ ng thá»© \\(\\) vÃ  cá»™t thá»© \\(j\\) cá»§a ma tráº­n \\(M\\). Báº¡n Ä‘á»c lÆ°u Ã½ ráº±ng cÃ³ sá»± thay Ä‘á»•i vá»‹ trÃ­ cá»§a \\(\\) vÃ  \\(j\\) trong váº¿ pháº£i cá»§a phÆ°Æ¡ng trÃ¬nh á»Ÿ trÃªn. Ma tráº­n nghá»‹ch Ä‘áº£o \\(M^{-1}\\) Ä‘Æ°á»£c tÃ­nh tá»« ma tráº­n liÃªn há»£p nhÆ° sau\n\\[\\begin{align}\nM^{-1} = \\cfrac{1}{det(M)} adj(M)_{ij}\n\\end{align}\\]NhÃ¬n chung, Ä‘á»ƒ tÃ­nh toÃ¡n ma tráº­n nghá»‹ch Ä‘áº£o cá»§a má»™t ma tráº­n kÃ­ch thÆ°á»›c \\(n \\times n\\), chÃºng ta sáº½ pháº£i tÃ­nh toÃ¡n Ä‘á»‹nh thá»©c cá»§a ma tráº­n ban Ä‘áº§u vÃ  Ä‘á»‹nh thá»©c cá»§a \\(n^2\\) ma tráº­n vuÃ´ng cÃ³ kÃ­ch thÆ°á»›c \\((n-1) \\times (n-1)\\). Vá»›i cÃ¡c ma tráº­n vuÃ´ng cÃ³ kÃ­ch thÆ°á»›c lá»›n, viá»‡c tÃ­nh toÃ¡n sá»­ dá»¥ng cÃ´ng thá»©c nhÆ° trÃªn sáº½ tá»‘n nhiá»u thá»i gian vÃ  bá»™ nhá»›. CÃ³ nhiá»u thuáº­t toÃ¡n Ä‘á»ƒ tÃ­nh xáº¥p xá»‰ ma tráº­n nghá»‹ch Ä‘áº£o cá»§a má»™t ma tráº­n. TrÃ¬nh bÃ y cÃ¡c thuáº­t toÃ¡n nÃ y á»Ÿ Ä‘Ã¢y lÃ  khÃ´ng cáº§n thiáº¿t. R sá»­ dá»¥ng hÃ m solve() Ä‘á»ƒ tÃ­nh toÃ¡n ma tráº­n nghá»‹ch Ä‘áº£o.CÃ¡c tÃ­nh toÃ¡n liÃªn quan Ä‘áº¿n Ä‘á»‹nh thá»©c cáº§n nhá»›Äá»‹nh thá»©c cá»§a ma tráº­n sau khi nhÃ¢n táº¥t cáº£ cÃ¡c pháº§n tá»­ vá»›i má»™t sá»‘\n\\[\\begin{align}\ndet(\\lambda M) = \\lambda^n \\times det(M)\n\\end{align}\\]Äá»‹nh thá»©c cá»§a ma tráº­n sau khi nhÃ¢n táº¥t cáº£ cÃ¡c pháº§n tá»­ vá»›i má»™t sá»‘\n\\[\\begin{align}\ndet(\\lambda M) = \\lambda^n \\times det(M)\n\\end{align}\\]Äá»‹nh thá»©c cá»§a ma tráº­n chuyá»ƒn vá»‹ \\(M^{-T}\\) báº±ng Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M\\)\n\\[\\begin{align}\ndet(M^T) = det(M)\n\\end{align}\\]Äá»‹nh thá»©c cá»§a ma tráº­n chuyá»ƒn vá»‹ \\(M^{-T}\\) báº±ng Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M\\)\n\\[\\begin{align}\ndet(M^T) = det(M)\n\\end{align}\\]TÃ­ch cá»§a Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M^{-1}\\) vá»›i Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M\\) báº±ng 1.\n\\[\\begin{align}\ndet(M^{-1}) \\times det(M) = det(I_n) = 1\n\\end{align}\\]TÃ­ch cá»§a Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M^{-1}\\) vá»›i Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M\\) báº±ng 1.\n\\[\\begin{align}\ndet(M^{-1}) \\times det(M) = det(I_n) = 1\n\\end{align}\\]","code":"\nM<-matrix(rnorm(16),nrow = 4,ncol = 4) \nM1<-solve(M) # ma tráº­n M1 lÃ  ma tráº­n nghá»‹ch Ä‘áº£o cá»§a ma tráº­n M\nM1 %*% M # tÃ­ch cá»§a M1 vá»›i M lÃ  ma tráº­n Ä‘Æ¡n vá»‹##               [,1]          [,2]          [,3]          [,4]\n## [1,]  1.000000e+00 -1.387779e-16 -2.220446e-16 -1.040834e-16\n## [2,] -2.081668e-17  1.000000e+00  0.000000e+00  1.387779e-17\n## [3,] -6.938894e-18  1.110223e-16  1.000000e+00 -2.775558e-17\n## [4,] -3.469447e-17  1.665335e-16  1.110223e-16  1.000000e+00\nM %*% M1 # tÃ­ch cá»§a M vá»›i M1 lÃ  ma tráº­n Ä‘Æ¡n vá»‹##               [,1]          [,2]          [,3]          [,4]\n## [1,]  1.000000e+00 -1.734723e-17 -3.053113e-16  3.122502e-17\n## [2,] -5.551115e-17  1.000000e+00  5.551115e-17 -1.144917e-16\n## [3,]  0.000000e+00  0.000000e+00  1.000000e+00  5.551115e-17\n## [4,]  0.000000e+00  1.873501e-16  2.775558e-17  1.000000e+00"},{"path":"index.html","id":"máº£ng-nhiá»u-chiá»u","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.2 Máº£ng nhiá»u chiá»u","text":"Ma tráº­n lÆ°u pháº§n tá»­ trong hai chiá»u mÃ  chÃºng ta gá»i lÃ  hÃ ng vÃ  cá»™t. Äa sá»‘ dá»¯ liá»‡u kiá»ƒu báº£ng biá»ƒu truyá»n thá»‘ng Ä‘á»u cÃ³ thá»ƒ biá»ƒu diá»…n dÆ°á»›i dáº¡ng ma tráº­n. Tuy nhiÃªn cÃ³ nhá»¯ng kiá»ƒu dá»¯ liá»‡u mÃ  khi biá»ƒu diá»…n dÆ°á»›i dáº¡ng ma tráº­n hai chiá»u lÃ  khÃ´ng dá»… dÃ ng vÃ  cÃ³ thá»ƒ gÃ¢y nháº§m láº«n cho ngÆ°á»i sá»­ dá»¥ng. CÃ³ thá»ƒ ká»ƒ Ä‘áº¿n dá»¯ liá»‡u kiá»ƒu hÃ¬nh áº£nh. Khi báº¡n Ä‘á»c lÆ°u má»™t bá»©c áº£nh mÃ u lÃªn trÃªn mÃ¡y tÃ­nh Ä‘iá»‡n tá»­, bá»©c áº£nh sáº½ Ä‘Æ°á»£c sá»‘ hÃ³a thÃ nh má»™t máº£ng ba chiá»u, bao gá»“m cÃ³ chiá»u cao, chiá»u rá»™ng cá»§a áº£nh vÃ  má»™t chiá»u thá»© ba lÃ  mÃ u sáº¯c cá»§a Ä‘iá»ƒm áº£nh. Phá»©c táº¡p hÆ¡n ná»¯a náº¿u dá»¯ liá»‡u lÃ  má»™t Ä‘oáº¡n phim, hay má»™t hÃ¬nh Ä‘á»™ng, báº¡n Ä‘á»c sáº½ cáº§n pháº£i sá»­ dá»¥ng thÃªm chiá»u thá»© tÆ° Ä‘á»ƒ mÃ´ táº£ thá»i gian xuáº¥t hiá»‡n cá»§a má»—i hÃ¬nh áº£nh trong Ä‘oáº¡n phim.ThÃ´ng thÆ°á»ng thÃ¬ ngÆ°á»i lÃ m viá»‡c vá»›i dá»¯ liá»‡u sáº½ Ä‘á»•i cÃ¡c máº£ng nhiá»u chiá»u vá» máº£ng hai chiá»u hoáº·c má»™t chiá»u (vÃ©c-tÆ¡) Ä‘á»ƒ dá»… dÃ ng xá»­ lÃ½. CÃ¡c thao tÃ¡c cÆ¡ báº£n khi lÃ m viá»‡c vá»›i máº£ng nhiá»u chiá»u lÃ  cáº§n thiáº¿t Ä‘á»ƒ thá»±c hiá»‡n xá»­ lÃ½ dá»¯ liá»‡u má»™t cÃ¡ch chÃ­nh xÃ¡c.","code":""},{"path":"index.html","id":"khá»Ÿi-táº¡o-máº£ng-nhiá»u-chiá»u","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.2.1 Khá»Ÿi táº¡o máº£ng nhiá»u chiá»u","text":"Äá»ƒ táº¡o máº£ng nhiá»u chiá»u báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m \\(array()\\).Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y R hiá»ƒn thá»‹ máº£ng ba chiá»u \\(Ar\\) kÃ­ch thÆ°á»›c \\(2 \\times 3 \\times 4\\) nhÆ° lÃ  sá»± káº¿t há»£p cá»§a 4 ma tráº­n kÃ­ch thÆ°á»›c \\(2 \\times 3\\). TÆ°Æ¡ng tá»± nhÆ° khi khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n, sá»‘ lÆ°á»£ng pháº§n tá»­ Ä‘Æ°a vÃ o trong máº£ng pháº£i báº±ng vá»›i sá»‘ pháº§n tá»­ cá»§a máº£ng, trong trÆ°á»ng há»£p máº£ng \\(Ar\\) á»Ÿ trÃªn lÃ  vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i 24 tÆ°Æ¡ng á»©ng vá»›i \\(2 \\times 3 \\times 4 = 24\\) pháº§n tá»­ cá»§a máº£ng.Äá»ƒ láº¥y ra cÃ¡c pháº§n tá»­ con (má»™t biáº¿n, má»™t ma tráº­n, hay 1 máº£ng nhiá»u chiá»u) tá»« má»™t nhiá»u máº£ng, báº¡n Ä‘á»c sá»­ dá»¥ng \\([]\\) giá»‘ng nhÆ° khi lÃ m vá»›i ma tráº­n. LÆ°u Ã½ ráº±ng khi láº¥y pháº§n tá»­ con tá»« má»™t máº£ng, báº¡n Ä‘á»c cáº§n pháº£i sá»­ dá»¥ng chá»‰ sá»‘ cho táº¥t cáº£ cÃ¡c chiá»u.Thá»© tá»± cÃ¡c pháº§n tá»­ khi Ä‘iá»n vÃ o máº£ng khi sá»­ dá»¥ng hÃ m trong hÃ m array() sáº½ lÃ  Æ°u tiÃªn ma tráº­n kÃ­ch thÆ°á»›c \\(2 \\times 3\\) tÆ°Æ¡ng á»©ng vá»›i chá»‰ sá»‘ \\([,,1]\\) trÆ°á»›c, rá»“i Ä‘áº¿n ma tráº­n kÃ­ch thÆ°á»›c \\(2 \\times 3\\) tÆ°Æ¡ng á»©ng vá»›i chá»‰ sá»‘ \\([,,2]\\),â€¦, vÃ  tiáº¿p tá»¥c nhÆ° tháº¿ cho Ä‘áº¿n khi táº¥t cáº£ cÃ¡c pháº§n tá»­ cá»§a máº£ng Ä‘Æ°á»£c gÃ¡n giÃ¡ trá»‹.","code":"\nAr<-array(1:24,dim=c(2,3,4)) # máº£ng 3 chiá»u\nAr # hiá»ƒn thá»‹ máº£ng 3 chiá»u Ar## , , 1\n## \n##      [,1] [,2] [,3]\n## [1,]    1    3    5\n## [2,]    2    4    6\n## \n## , , 2\n## \n##      [,1] [,2] [,3]\n## [1,]    7    9   11\n## [2,]    8   10   12\n## \n## , , 3\n## \n##      [,1] [,2] [,3]\n## [1,]   13   15   17\n## [2,]   14   16   18\n## \n## , , 4\n## \n##      [,1] [,2] [,3]\n## [1,]   19   21   23\n## [2,]   20   22   24\nAr[1,2,1] # pháº§n tá»­ cÃ³ cÃ¡c chá»‰ sá»‘ 1 - 2 - 1 ## [1] 3\nAr[,,1] # ma tráº­n 2 * 3##      [,1] [,2] [,3]\n## [1,]    1    3    5\n## [2,]    2    4    6\nAr[,c(1,3),c(1,4)] # máº£ng tráº­n 2 * 2 * 2## , , 1\n## \n##      [,1] [,2]\n## [1,]    1    5\n## [2,]    2    6\n## \n## , , 2\n## \n##      [,1] [,2]\n## [1,]   19   23\n## [2,]   20   24"},{"path":"index.html","id":"sá»­-dá»¥ng-máº£ng-nhiá»u-chiá»u-Ä‘á»ƒ-biáº¿n-Ä‘á»•i-dá»¯-liá»‡u-kiá»ƒu-hÃ¬nh-áº£nh","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.2.2 Sá»­ dá»¥ng máº£ng nhiá»u chiá»u Ä‘á»ƒ biáº¿n Ä‘á»•i dá»¯ liá»‡u kiá»ƒu hÃ¬nh áº£nh","text":"Äá»ƒ báº¡n Ä‘á»c cÃ³ cÃ¡i nhÃ¬n trá»±c quan hÆ¡n vá» máº£ng nhiá»u chiá»u, chÃºng ta sáº½ thá»±c hiá»‡n cÃ¡c phÃ©p biáº¿n Ä‘á»•i, tÃ­nh toÃ¡n trÃªn má»™t dá»¯ liá»‡u cá»¥ thá»ƒ. NhÆ° chÃºng tÃ´i Ä‘Ã£ nÃ³i á»Ÿ trÃªn, máº£ng nhiá»u chiá»u lÃ  má»™t Ä‘á»‘i tÆ°á»£ng thÃ­ch há»£p dÃ¹ng Ä‘á»ƒ lÆ°u dá»¯ liá»‡u kiá»ƒu hÃ¬nh áº£nh. ThÆ° viá»‡n \\(imager\\) Ä‘Æ°á»£c cÃ i thÃªm trÃªn R cÃ³ cÃ¡c hÃ m thÃ­ch há»£p Ä‘á»ƒ lÃ m viá»‡c vá»›i dá»¯ liá»‡u kiá»ƒu hÃ¬nh áº£nh. ChÃºng ta sáº½ sá»­ dá»¥ng má»™t máº£ng nhiá»u chiá»u Ä‘á»ƒ lÆ°u má»™t bá»©c áº£nh vÃ  thá»±c hiá»‡n cÃ¡c phÃ©p biáº¿n Ä‘á»•i bá»©c áº£nh Ä‘Ã³ sá»­ dá»¥ng tÃ­nh toÃ¡n trÃªn máº£ng nhiá»u chiá»u.HÃ m load.image() trong thÆ° viá»‡n \\(imager\\) cÃ³ thá»ƒ Ä‘á»c cÃ¡c file hÃ¬nh áº£nh cÃ³ Ä‘á»‹nh dáº¡ng \\(png\\), \\(jpeg\\), hoáº·c \\(bmp\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘á»c má»™t hÃ¬nh áº£nh cÃ³ má»™t trong cÃ¡c Ä‘á»‹nh dáº¡ng ká»ƒ trÃªnÄá»ƒ biáº¿t \\(img\\) lÃ  kiá»ƒu Ä‘á»‘i tÆ°á»£ng nÃ o, báº¡n Ä‘á»c dÃ¹ng hÃ m class()R cho biáº¿t Ä‘Ã¢y lÃ  má»™t Ä‘á»‘i tÆ°á»£ng kiá»ƒu \\(cimg\\). Kiá»ƒu Ä‘á»‘i tÆ°á»£ng nÃ y vá» báº£n cháº¥t lÃ  má»™t máº£ng bá»‘n chiá»u. Chiá»u thá»© nháº¥t lÃ  cho biáº¿t chiá»u rá»™ng cá»§a bá»©c áº£nh, chiá»u thá»© hai cho biáº¿t chiá»u cao cá»§a bá»©c áº£nh, chiá»u thá»© ba luÃ´n báº±ng 1 Ä‘á»‘i vá»›i dá»¯ liá»‡u kiá»ƒu áº£nh vÃ  chiá»u thá»© tÆ° báº±ng 3 náº¿u bá»©c áº£nh lÃ  áº£nh mÃ u.Äá»‘i tÆ°á»£ng kiá»ƒu \\(cimg\\) cho phÃ©p báº¡n Ä‘á»c thá»±c hiá»‡n cÃ¡c biáº¿n Ä‘á»•i, tÃ­nh toÃ¡n giá»‘ng nhÆ° trÃªn má»™t máº£ng nhiá»u chiá»u mÃ  khÃ´ng cáº§n pháº£i chuyá»ƒn Ä‘á»•i sang kiá»ƒu máº£ng. Cháº³ng háº¡n nhÆ° Ä‘á»ƒ biáº¿t bá»©c áº£nh Ä‘Æ°á»£c lÆ°u bá»Ÿi Ä‘á»‘i tÆ°á»£ng tÃªn \\(img\\) cÃ³ bao nhiÃªu chiá»u, chÃºng ta sá»­ dá»¥ng hÃ m dim() giá»‘ng nhÆ° vá»›i máº£ngBá»©c áº£nh Ä‘Æ°á»£c lÆ°u bá»Ÿi Ä‘á»‘i tÆ°á»£ng \\(img\\) á»Ÿ trÃªn lÃ  má»™t bá»©c áº£nh mÃ u cÃ³ chiá»u rá»™ng 535 vÃ  chiá»u cao 595. Chiá»u thá»© ba báº±ng 1 nghÄ©a lÃ  Ä‘Ã¢y lÃ  má»™t bá»©c áº£nh (chiá»u thá»© ba lá»›n hÆ¡n 1 khi Ä‘á»‘i tÆ°á»£ng lÃ  hÃ¬nh áº£nh Ä‘á»™ng). Chiá»u thá»© tÆ° báº±ng 3 Ä‘áº¡i diá»‡n cho 3 mÃ u Ä‘á» (Red), mÃ u xanh lÃ¡ cÃ¢y (Green), vÃ  mÃ u xanh da trá»i (Blue). Báº¡n Ä‘á»c cÃ³ thá»ƒ hÃ¬nh dung má»™t bá»©c áº£nh mÃ u á»Ÿ trÃªn nhÆ° lÃ  sá»± káº¿t há»£p cá»§a ba ma tráº­n cÃ¹ng kÃ­ch thÆ°á»›c \\(535 \\times 595\\), ma tráº­n thá»© nháº¥t Ä‘áº¡i diá»‡n cho mÃ u Ä‘á», ma tráº­n thá»© hai Ä‘áº¡i diá»‡n cho mÃ u xanh lÃ¡ cÃ¢y vÃ  ma tráº­n thá»© ba Ä‘áº¡i diá»‡n cho mÃ u xanh da trá»i. Má»—i giÃ¡ trá»‹ trong ma tráº­n lÃ  má»™t sá»‘ trong khoáº£ng tá»« 0 Ä‘áº¿n 1. GiÃ¡ trá»‹ 0 tÆ°Æ¡ng á»©ng vá»›i mÃ u Ä‘en vÃ  giÃ¡ trá»‹ cÃ ng gáº§n 1 thÃ¬ mÃ u sáº¯c cá»§a Ä‘iá»ƒm Ä‘Ã³ cÃ ng gáº§n mÃ u mÃ  ma tráº­n Ä‘áº¡i diá»‡n. Äá»ƒ quan sÃ¡t ma tráº­n tÆ°Æ¡ng á»©ng vá»›i má»—i mÃ u, báº¡n Ä‘á»c cáº§n gÃ¡n giÃ¡ trá»‹ cá»§a 2 ma tráº­n cÃ²n láº¡i báº±ng 0 trÆ°á»›c khi hiá»ƒn thá»‹.HÃ m .cimg() Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ Ä‘á»•i má»™t máº£ng bá»‘n chiá»u sang kiá»ƒu \\(cimg\\) Ä‘á»ƒ cÃ³ thá»ƒ hiá»ƒn thá»‹ khi sá»­ dá»¥ng hÃ m plot(). LÆ°u Ã½ ráº±ng hÃ£y luÃ´n sá»­ dá»¥ng chiá»u thá»© ba báº±ng 1 vÃ  chiá»u thá»© tÆ° báº±ng 3 náº¿u báº¡n muá»‘n táº¡o áº£nh mÃ u. CÃ¡c cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y táº¡o ra cÃ¡c bá»©c áº£nh mÃ  cÃ¡c giÃ¡ trá»‹ trong cÃ¡c ma tráº­n mÃ u sáº¯c hoÃ n toÃ n lÃ  cÃ¡c giÃ¡ trá»‹ ngáº«u nhiÃªn phÃ¢n phá»‘i Ä‘á»u (uniform) trong khoáº£ng (0,1).Tham sá»‘ \\(interpolate\\) nháº­n giÃ¡ trá»‹ báº±ng \\(FALSE\\) cÃ³ nghÄ©a lÃ  cÃ¡c Ä‘iá»ƒm áº£nh giá»¯ nguyÃªn giÃ¡ trá»‹. Tham sá»‘ nÃ y cÃ³ giÃ¡ trá»‹ lÃ  máº·c Ä‘á»‹nh lÃ  \\(TRUE\\). Khi \\(interpolate\\) nháº­n giÃ¡ trá»‹ báº±ng \\(TRUE\\) hÃ¬nh áº£nh hiá»ƒn thá»‹ sáº½ cÃ³ sá»± giao thoa vá» mÃ u sáº¯c táº¡i viá»n cÃ¡c Ä‘iá»ƒm áº£nh vÃ  lÃ m cho áº£nh nhÃ¬n mÆ°á»£t mÃ  hÆ¡n.Vá» báº£n cháº¥t, xá»­ lÃ½ áº£nh trÃªn mÃ¡y tÃ­nh Ä‘iá»‡n tá»­ chÃ­nh lÃ  xá»­ lÃ½ cÃ¡c con sá»‘ náº±m trong máº£ng nhiá»u chiá»u. ChÃºng tÃ´i sáº½ giá»›i thiá»‡u má»™t vÃ i ká»¹ thuáº­t xá»­ lÃ½ Ä‘Æ¡n giáº£n trÃªn áº£nh Ä‘á»ƒ báº¡n Ä‘á»c cÃ³ thá»ƒ hiá»ƒu hÆ¡n vá» xá»­ lÃ½ máº£ng nhiá»u chiá»u. TrÆ°á»›c háº¿t lÃ  thao tÃ¡c cáº¯t áº£nh. Cáº¯t áº£nh chÃ­nh lÃ  má»™t phÃ©p láº¥y máº£ng con tá»« má»™t máº£ng ban Ä‘áº§u. Tháº­t váº­y,Tiáº¿p theo, chÃºng ta sáº½ thá»±c hiá»‡n tÄƒng hoáº·c giáº£m Ä‘á»™ sÃ¡ng cá»§a áº£nh. TÄƒng hoáº·c giáº£m Ä‘á»™ sÃ¡ng cá»§a áº£nh tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i viá»‡c Ä‘iá»u chá»‰nh Ä‘á»“ng thá»i cÃ¡c sá»‘ trong máº£ng nhiá»u chiá»u gáº§n hÆ¡n Ä‘áº¿n giÃ¡ trá»‹ 1 hoáº·c gáº§n hÆ¡n Ä‘áº¿n giÃ¡ trá»‹ 0. ChÃºng ta thá»±c hiá»‡n nhÆ° sauMá»™t ká»¹ thuáº­t xá»­ lÃ½ áº£nh khÃ¡c lÃ  giáº£m kÃ­ch thÆ°á»›c cá»§a áº£nh. Giáº£ sá»­ báº¡n Ä‘á»c muá»‘n giáº£m kÃ­ch thÆ°á»›c áº£nh má»—i chiá»u 50%. Äá»ƒ lÃ m Ä‘Æ°á»£c viá»‡c nÃ y, má»—i ma tráº­n kÃ­ch thÆ°á»›c \\(n \\times m\\) sáº½ Ä‘Æ°á»£c Ä‘á»•i thÃ nh ma tráº­n kÃ­ch thÆ°á»›c \\([n/2] \\times [m/2]\\) trong Ä‘Ã³ \\([n/2]\\) lÃ  pháº§n nguyÃªn cá»§a sá»‘ \\(n/2\\). NguyÃªn táº¯c chuyá»ƒn tá»« ma tráº­n ban Ä‘áº§u sang ma tráº­n cÃ³ kÃ­ch thÆ°á»›c nhá» hÆ¡n lÃ  má»—i Ã´ \\(2 \\times 2\\) cá»§a ma tráº­n ban Ä‘áº§u Ä‘Æ°á»£c chuyá»ƒn thÃ nh 1 sá»‘ trong ma tráº­n má»›i","code":"\n#install.packages(\"imager\")\nlibrary(imager)\nsetwd(\"../KHDL_KTKD/Image\")\nimg<-load.image(\"cat.jpg\") # Ä‘á»c hÃ¬nh áº£nh tÃªn \"cat\" vÃ o \nplot(img)\nclass(img)## [1] \"cimg\"         \"imager_array\" \"numeric\"\ndim(img) # máº£ng bá»‘n chiá»u: chiá»u rá»™ng * chiá»u cao * chiá»u thá»i gian * chiá»u mÃ u sáº¯c## [1] 535 595   1   3\nimg_red<-img\nimg_red[,,1,2:3]<-0 # cho 2 ma tráº­n mÃ u xanh lÃ¡ cÃ¢y vÃ  xanh da trá»i báº±ng 0\n\nimg_green<-img\nimg_green[,,1,c(1,3)]<-0 # cho 2 ma tráº­n mÃ u Ä‘á» vÃ  xanh da trá»i báº±ng 0\n\nimg_blue<-img\nimg_blue[,,1,1:2]<-0 # cho 2 ma tráº­n mÃ u xanh lÃ¡ cÃ¢y vÃ  Ä‘á» báº±ng 0\n\npar(mfrow = c(1,3))\nplot(img_red, main = \"Chá»‰ giá»¯a láº¡i mÃ u Ä‘á»\")\nplot(img_green, main = \"Chá»‰ giá»¯a láº¡i mÃ u xanh lÃ¡ cÃ¢y\")\nplot(img_blue, main = \"Chá»‰ giá»¯a láº¡i mÃ u xanh da trá»i\")\nimg1<-array(runif(5*5*1*3),dim=c(5,5,1,3)) # bá»©c áº£nh mÃ u kÃ­ch thÆ°á»›c 5*5\nimg1<-as.cimg(img1)\n\nimg2<-array(runif(1000*1000*1*3),dim=c(1000,1000,1,3)) # bá»©c áº£nh mÃ u kÃ­ch thÆ°á»›c 1000*1000\nimg2<-as.cimg(img2)\n\npar(mfrow = c(1,2))\nplot(img1, interpolate = FALSE, main = \"áº¢nh nhiá»…u kÃ­ch thÆ°á»›c 5 * 5\") \nplot(img2, interpolate = FALSE, main = \"áº¢nh nhiá»…u kÃ­ch thÆ°á»›c 1000 * 1000\")\nn<-dim(img)[1] # chiá»u rá»™ng cá»§a áº£nh\nk<-round(n/2) # Ä‘iá»ƒm giá»¯a Ä‘á»ƒ chia áº£nh lÃ m hai ná»­a\nimg1<-img[1:k,,,] # img1 lÃ  ná»­a bÃªn trÃ¡i cá»§a áº£nh\nimg2<-img[(k+1):n,,,] # img2 lÃ  ná»­a bÃªn pháº£i cá»§a áº£nh\npar(mfrow = c(1,2))\nplot(as.cimg(img1), main = \"Ná»­a bÃªn trÃ¡i\") \nplot(as.cimg(img2), main = \"Ná»­a bÃªn pháº£i\")\nimg1<-img + (1 - img) * 0.3 # img1 lÃ  bá»©c áº£nh sau khi tÄƒng Ä‘á»™ sÃ¡ng lÃªn 30% \nimg2<-img - img * 0.3 # img2 lÃ  bá»©c áº£nh sau khi giáº£m Ä‘á»™ sÃ¡ng Ä‘i 30%\npar(mfrow = c(1,3))\nplot(img, rescale = FALSE, main= \"áº¢nh ban Ä‘áº§u\") \nplot(as.cimg(img1), rescale = FALSE, main = \"TÄƒng Ä‘á»™ sÃ¡ng\") \nplot(as.cimg(img2),rescale = FALSE, main = \"Giáº£m Ä‘á»™ sÃ¡ng\")\ngiamchieu<-function(M,k){\n  n<-dim(M)[1]; m<-dim(M)[2]\n  n1<-round(n/k)-1; m1<-round(m/k)-1\n  M1<-matrix(0,n1,m1)\n  for (i in 1:n1){\n    for (j in 1:m1){\n      i1<-(k*(i-1)+1):(k*i)\n      j1<-(k*(j-1)+1):(k*j)\n      M1[i,j]<-mean(M[i1,j1],na.rm=TRUE)\n    }\n  }\n  return(M1)\n}\n\nn<-dim(img)[1]; m<-dim(img)[2]\nk1<-10; k2<-20\nn1<-round(n/k1)-1; m1<-round(m/k1)-1\nn2<-round(n/k2)-1; m2<-round(m/k2)-1\n\nimg1<-array(0,dim=c(n1,m1,1,3));\nimg2<-array(0,dim=c(n2,m2,1,3));\n\nfor (i in 1:3){ \n  img1[,,1,i]<-giamchieu(img[,,1,i],k1)\n  img2[,,1,i]<-giamchieu(img[,,1,i],k2)\n}\n\npar(mfrow = c(1,3))\nplot(img, interpolate = FALSE, main= \"áº¢nh ban Ä‘áº§u\") \nplot(as.cimg(img1), interpolate = FALSE, main = \"Giáº£m kÃ­ch thÆ°á»›c 1:10\") \nplot(as.cimg(img2), interpolate = FALSE, main = \"Giáº£m kÃ­ch thÆ°á»›c 1:20\")"},{"path":"index.html","id":"list","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.3 List","text":"KhÃ´ng giá»‘ng nhÆ° vÃ©c-tÆ¡, ma tráº­n, hay máº£ng nhiá»u chiá»u, \\(list\\) lÃ  má»™t cáº¥u trÃºc trong R mÃ  cÃ³ thá»ƒ chá»©a nhiá»u kiá»ƒu Ä‘á»‘i tÆ°á»£ng khÃ¡c nhau bao gá»“m biáº¿n, vÃ©c-tÆ¡, ma tráº­n, vÃ  cáº£ cÃ¡c \\(list\\) khÃ¡c. Vá»›i nhá»¯ng báº¡n Ä‘á»c Ä‘Ã£ há»c qua Python, \\(list\\) cÅ©ng giá»‘ng nhÆ° má»™t \\(dictionary\\). Äá»‘i vá»›i cÃ¡c báº¡n Ä‘á»c Ä‘Ã£ há»c qua ngÃ´n ngá»¯ láº­p trÃ¬nh C++, \\(list\\) tÆ°Æ¡ng tá»± nhÆ° má»™t \\(struct\\). \\(list\\) Ä‘Ã³ng vai trÃ² quan trá»ng trong R, Ä‘áº·c biá»‡t lÃ  trong viáº¿t hÃ m sá»‘ vÃ  láº­p trÃ¬nh hÆ°á»›ng Ä‘á»‘i tÆ°á»£ng.Trong pháº§n nÃ y cá»§a cuá»‘n sÃ¡ch, chÃºng ta sáº½ tÃ¬m hiá»ƒu cÃ¡ch táº¡o ra \\(list\\) vÃ  á»©ng dá»¥ng cáº¥u trÃºc cá»§a \\(list\\) Ä‘á»ƒ phá»¥c vá»¥ cÃ´ng viá»‡c phÃ¢n tÃ­ch dá»¯ liá»‡u má»™t cÃ¡ch hiá»‡u quáº£ nháº¥t.","code":""},{"path":"index.html","id":"khá»Ÿi-táº¡o-list-vÃ -chá»‰-sá»‘-cá»§a-list.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.3.1 Khá»Ÿi táº¡o \\(list\\) vÃ  chá»‰ sá»‘ cá»§a \\(list\\).","text":"HÃ m sá»‘ Ä‘á»ƒ táº¡o ra má»™t \\(list\\) trong R lÃ  hÃ m list(). Giáº£ sá»­ chÃºng ta muá»‘n táº¡o thÃ nh má»™t Ä‘á»‘i tÆ°á»£ng cÃ³ tÃªn \\(SV1\\) chá»©a cÃ¡c thÃ´ng tin vá» má»™t sinh viÃªnTÃªn cá»§a sinh viÃªn: Ä‘Æ°á»£c lÆ°u trong má»™t biáº¿n kiá»ƒu chuá»—i kÃ½ tá»±.TÃªn cá»§a sinh viÃªn: Ä‘Æ°á»£c lÆ°u trong má»™t biáº¿n kiá»ƒu chuá»—i kÃ½ tá»±.NgÃ y sinh cá»§a sinh viÃªn: Ä‘Æ°á»£c lÆ°u trong má»™t biáº¿n kiá»ƒu thá»i gian.NgÃ y sinh cá»§a sinh viÃªn: Ä‘Æ°á»£c lÆ°u trong má»™t biáº¿n kiá»ƒu thá»i gian.Giá»›i tÃ­nh cá»§a sinh viÃªn: Ä‘Æ°á»£c lÆ°u trong má»™t biáº¿n kiá»ƒu logic, giÃ¡ trá»‹ \\(TRUE\\) tÆ°Æ¡ng á»©ng vá»›i giá»›i tÃ­nh Nam, vÃ  \\(FALSE\\) tÆ°Æ¡ng á»©ng vá»›i giá»›i tÃ­nh ná»¯.Giá»›i tÃ­nh cá»§a sinh viÃªn: Ä‘Æ°á»£c lÆ°u trong má»™t biáº¿n kiá»ƒu logic, giÃ¡ trá»‹ \\(TRUE\\) tÆ°Æ¡ng á»©ng vá»›i giá»›i tÃ­nh Nam, vÃ  \\(FALSE\\) tÆ°Æ¡ng á»©ng vá»›i giá»›i tÃ­nh ná»¯.Báº£ng Ä‘iá»ƒm cá»§a sinh viÃªn: lÃ  má»™t \\(data.frame\\) cÃ³ 2 cá»™t, 1 cá»™t lÃ  tÃªn mÃ´n há»c vÃ  má»™t cá»™t lÃ  Ä‘iá»ƒm cá»§a mÃ´n há»c tÆ°Æ¡ng á»©ng.Báº£ng Ä‘iá»ƒm cá»§a sinh viÃªn: lÃ  má»™t \\(data.frame\\) cÃ³ 2 cá»™t, 1 cá»™t lÃ  tÃªn mÃ´n há»c vÃ  má»™t cá»™t lÃ  Ä‘iá»ƒm cá»§a mÃ´n há»c tÆ°Æ¡ng á»©ng.ChÃºng ta sá»­ dá»¥ng hÃ m list() Ä‘á»ƒ táº¡o ra má»™t \\(list\\) cÃ³ tÃªn \\(SV1\\) nhÆ° sauBáº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y \\(SV1\\) cÃ³ bá»‘n Ä‘á»‘i tÆ°á»£ng con cÃ³ tÃªn lÃ  \\(Ten\\), \\(Ngay\\_sinh\\), \\(Gioi\\_tinh\\), vÃ  \\(Bang\\_diem\\). Má»—i Ä‘á»‘i tÆ°á»£ng con cÃ³ má»™t kiá»ƒu giÃ¡ trá»‹ khÃ¡c nhau, riÃªng Ä‘á»‘i tÆ°á»£ng con \\(Bang\\_diem\\) lÃ  má»™t dá»¯ liá»‡u (\\(data.frame\\)).Äá»ƒ láº¥y ra má»™t Ä‘á»‘i tÆ°á»£ng con cá»§a \\(list\\) báº¡n Ä‘á»c sá»­ dá»¥ng kÃ½ hiá»‡u \\(\\$\\). Cháº³ng háº¡n báº¡n Ä‘á»c muá»‘n hiá»ƒn thá»‹ báº£ng Ä‘iá»ƒm cá»§a sinh viÃªn cÃ³ thÃ´ng tin Ä‘Æ°á»£c lÆ°u trong \\(list\\) SV1, báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¢u lá»‡nh sauÄá»ƒ biáº¿t tÃªn cÃ¡c Ä‘á»‘i tÆ°á»£ng trong má»™t \\(list\\), báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m names()Má»™t cÃ¡ch khÃ¡c Ä‘á»ƒ láº¥y ra má»™t Ä‘á»‘i tÆ°á»£ng con cá»§a \\(list\\) lÃ  sá»­ dá»¥ng chá»‰ sá»‘ cá»§a Ä‘á»‘i tÆ°á»£ng. báº£ng Ä‘iá»ƒm náº±m á»Ÿ vá»‹ trÃ­ thá»© 4 trong list nÃªn báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¢u lá»‡nh sauBáº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng Ä‘á»ƒ láº¥y ra pháº§n tá»­ con, chÃºng ta cáº§n pháº£i sá»­ dá»¥ng hai láº§n dáº¥u ngoáº·c vuÃ´ng. Náº¿u chá»‰ sá»­ dá»¥ng má»™t dáº¥u ngoáº·c vuÃ´ng, pháº§n tá»­ Ä‘Æ°á»£c láº¥y ra sáº½ lÃ  1 list cÃ³ 1 pháº§n tá»­ vÃ  pháº§n tá»­ duy nháº¥t lÃ  báº£ng Ä‘iá»ƒm.Äá»ƒ thÃªm má»™t Ä‘á»‘i tÆ°á»£ng vÃ o \\(list\\), chÃºng ta cÃ³ thá»ƒ Ä‘áº·t tÃªn trá»±c tiáº¿p cho Ä‘á»‘i tÆ°á»£ng má»›i vÃ  gÃ¡n giÃ¡ trá»‹ cho Ä‘á»‘i tÆ°á»£ng. VÃ­ dá»¥ nhÆ° chÃºng ta muá»‘n thÃªm thÃ´ng tin vá» quÃª quÃ¡n cá»§a sinh viÃªn vÃ o má»™t Ä‘á»‘i tÆ°á»£ng cÃ³ tÃªn lÃ  \\(que\\_quan\\)Äá»ƒ xÃ³a Ä‘i má»™t Ä‘á»‘i tÆ°á»£ng khá»i list, chÃºng ta gÃ¡n cho Ä‘á»‘i tÆ°á»£ng Ä‘Ã³ giÃ¡ trá»‹ báº±ng \\(NULL\\)NhÆ° chÃºng ta Ä‘Ã£ tháº£o luáº­n trong pháº§n giá»›i thiá»‡u, \\(list\\) lÃ  má»™t cáº¥u trÃºc nhiá»u lá»›p, nghÄ©a lÃ  má»™t list cÃ³ thá»ƒ chá»©a cÃ¡c Ä‘á»‘i tÆ°á»£ng cÃ³ kiá»ƒu \\(list\\). Tháº­t váº­y, giáº£ sá»­ chÃºng ta cÃ³ list \\(SV2\\) chá»©a cÃ¡c thÃ´ng tin tÆ°Æ¡ng á»©ng cá»§a má»™t sinh viÃªn khÃ¡cChÃºng ta cÃ³ thá»ƒ táº¡o má»™t \\(list\\) cÃ³ tÃªn lÃ  \\(DS\\) chá»©a thÃ´ng tin cá»§a cáº£ 2 sinh viÃªnÄá»ƒ xem báº£ng Ä‘iá»ƒm cá»§a sinh viÃªn thá»© hai, chÃºng ta cáº§n sá»­ dá»¥ng 2 láº§n kÃ½ hiá»‡u \\(\\$\\):","code":"\nSV1<-list(Ten = \"Nguyá»…n Äá»©c Nam\",\n          Ngay_sinh = as.Date(\"2000-06-20\"),\n          Gioi_tinh = TRUE,\n          Bang_diem = data.frame(Mon_hoc = c(\"Giáº£i tÃ­ch\", \"Äáº¡i sá»‘\", \"XÃ¡c suáº¥t\"),\n                                 Diem = c(6.5, 8.5, 7.0)))\nstr(SV1) # xem cáº¥u trÃºc cá»§a list SV1## List of 4\n##  $ Ten      : chr \"Nguyá»…n Äá»©c Nam\"\n##  $ Ngay_sinh: Date[1:1], format: \"2000-06-20\"\n##  $ Gioi_tinh: logi TRUE\n##  $ Bang_diem:'data.frame':   3 obs. of  2 variables:\n##   ..$ Mon_hoc: chr [1:3] \"Giáº£i tÃ­ch\" \"Äáº¡i sá»‘\" \"XÃ¡c suáº¥t\"\n##   ..$ Diem   : num [1:3] 6.5 8.5 7\nSV1$Bang_diem # hiá»ƒn thá»‹ báº£ng Ä‘iá»ƒm##     Mon_hoc Diem\n## 1 Giáº£i tÃ­ch  6.5\n## 2    Äáº¡i sá»‘  8.5\n## 3  XÃ¡c suáº¥t  7.0\nnames(SV1)## [1] \"Ten\"       \"Ngay_sinh\" \"Gioi_tinh\" \"Bang_diem\"\nSV1[[4]] # sá»­ dá»¥ng 2 láº§n dáº¥u ngoáº·c vuÃ´ng##     Mon_hoc Diem\n## 1 Giáº£i tÃ­ch  6.5\n## 2    Äáº¡i sá»‘  8.5\n## 3  XÃ¡c suáº¥t  7.0\nSV1[4] # lÃ  má»™t list cÃ³ 1 pháº§n tá»­## $Bang_diem\n##     Mon_hoc Diem\n## 1 Giáº£i tÃ­ch  6.5\n## 2    Äáº¡i sá»‘  8.5\n## 3  XÃ¡c suáº¥t  7.0\nSV1$que_quan<-\"HÃ  Ná»™i\" # ThÃªm vÃ o má»™t pháº§n tá»­ cÃ³ tÃªn que_quan lÃ  má»™t biáº¿n\nstr(SV1) # list SV1 Ä‘Ã£ cÃ³ thÃªm pháº§n tá»­ thá»© nÄƒm## List of 5\n##  $ Ten      : chr \"Nguyá»…n Äá»©c Nam\"\n##  $ Ngay_sinh: Date[1:1], format: \"2000-06-20\"\n##  $ Gioi_tinh: logi TRUE\n##  $ Bang_diem:'data.frame':   3 obs. of  2 variables:\n##   ..$ Mon_hoc: chr [1:3] \"Giáº£i tÃ­ch\" \"Äáº¡i sá»‘\" \"XÃ¡c suáº¥t\"\n##   ..$ Diem   : num [1:3] 6.5 8.5 7\n##  $ que_quan : chr \"HÃ  Ná»™i\"\nSV1$que_quan<-NULL # xÃ³a pháº§n tá»­ cÃ³ tÃªn que_quan khá»i SV1\nstr(SV1) # list SV1 chá»‰ cÃ²n 4 pháº§n tá»­## List of 4\n##  $ Ten      : chr \"Nguyá»…n Äá»©c Nam\"\n##  $ Ngay_sinh: Date[1:1], format: \"2000-06-20\"\n##  $ Gioi_tinh: logi TRUE\n##  $ Bang_diem:'data.frame':   3 obs. of  2 variables:\n##   ..$ Mon_hoc: chr [1:3] \"Giáº£i tÃ­ch\" \"Äáº¡i sá»‘\" \"XÃ¡c suáº¥t\"\n##   ..$ Diem   : num [1:3] 6.5 8.5 7\nSV2<-list(Ten = \"Nguyá»…n Thá»‹ Loan\",\n          Ngay_sinh = as.Date(\"2000-05-13\"),\n          Gioi_tinh = FALSE,\n          Bang_diem = data.frame(Mon_hoc = c(\"XÃ¡c suáº¥t\", \"Thá»‘ng kÃª\", \"Há»c mÃ¡y\",\"AI\"),\n                                 Diem = c(7.0, 9.5, 10.0, 9.0)),\n          Que_quan = \"HÃ  Ná»™i\")\nDS<-list(SV1 = SV1,SV2 = SV2) # DS lÃ  má»™t list cÃ³ 2 pháº§n tá»­, má»—i pháº§n tá»­ lÃ  1 list\nstr(DS) # xem cáº¥u trÃºc cá»§a list DS## List of 2\n##  $ SV1:List of 4\n##   ..$ Ten      : chr \"Nguyá»…n Äá»©c Nam\"\n##   ..$ Ngay_sinh: Date[1:1], format: \"2000-06-20\"\n##   ..$ Gioi_tinh: logi TRUE\n##   ..$ Bang_diem:'data.frame':    3 obs. of  2 variables:\n##   .. ..$ Mon_hoc: chr [1:3] \"Giáº£i tÃ­ch\" \"Äáº¡i sá»‘\" \"XÃ¡c suáº¥t\"\n##   .. ..$ Diem   : num [1:3] 6.5 8.5 7\n##  $ SV2:List of 5\n##   ..$ Ten      : chr \"Nguyá»…n Thá»‹ Loan\"\n##   ..$ Ngay_sinh: Date[1:1], format: \"2000-05-13\"\n##   ..$ Gioi_tinh: logi FALSE\n##   ..$ Bang_diem:'data.frame':    4 obs. of  2 variables:\n##   .. ..$ Mon_hoc: chr [1:4] \"XÃ¡c suáº¥t\" \"Thá»‘ng kÃª\" \"Há»c mÃ¡y\" \"AI\"\n##   .. ..$ Diem   : num [1:4] 7 9.5 10 9\n##   ..$ Que_quan : chr \"HÃ  Ná»™i\"\nDS$SV2$Bang_diem # Xem báº£ng Ä‘iá»ƒm cá»§a sinh viÃªn thá»© hai##    Mon_hoc Diem\n## 1 XÃ¡c suáº¥t  7.0\n## 2 Thá»‘ng kÃª  9.5\n## 3  Há»c mÃ¡y 10.0\n## 4       AI  9.0"},{"path":"index.html","id":"sá»­-dá»¥ng-list-vá»›i-hÃ m-sá»‘","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.3.2 Sá»­ dá»¥ng \\(list\\) vá»›i hÃ m sá»‘","text":"Háº§u nhÆ° táº¥t cáº£ cÃ¡c hÃ m sá»‘ Ä‘Æ°á»£c xÃ¢y dá»±ng sáºµn trong R Ä‘á»u cho káº¿t quáº£ Ä‘áº§u ra dÆ°á»›i dáº¡ng \\(list\\). Báº¡n Ä‘á»c quan sÃ¡t giÃ¡ trá»‹ Ä‘áº§u ra cá»§a hÃ m cÃ³ tÃªn lÃ  uniroot() nhÆ° sauHÃ m uniroot() Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ¬m nghiá»‡m duy nháº¥t cá»§a má»™t hÃ m sá»‘ trÃªn má»™t khoáº£ng. Äoáº¡n cÃ¢u lá»‡nh á»Ÿ trÃªn sá»­ dá»¥ng hÃ m \\(uniroot()\\) Ä‘á»ƒ tÃ¬m nghiá»‡m duy nháº¥t cá»§a phÆ°Æ¡ng trÃ¬nh \\(x^2 - 1/4 = 0\\) trÃªn khoáº£ng \\((0,1)\\). Káº¿t quáº£ cá»§a hÃ m uniroot() lÃ  má»™t list cÃ³ 5 pháº§n tá»­ Ä‘á»u lÃ  cÃ¡c biáº¿n kiá»ƒu sá»‘ vá»›i tÃªn tÆ°Æ¡ng á»©ng lÃ  \\(root\\), \\(f.root\\), \\(iter\\), \\(init.\\), vÃ  $ estim.prec$. CÃ¡c hÃ m sá»‘ phá»©c táº¡p hÆ¡n sáº½ cÃ³ cáº¥u trÃºc cá»§a káº¿t quáº£ Ä‘áº§u ra phá»©c táº¡p hÆ¡n ráº¥t nhiá»u. Báº¡n Ä‘á»c cáº§n Ä‘á»c ká»¹ hÆ°á»›ng dáº«n cá»§a cÃ¡c hÃ m Ä‘á»ƒ hiá»ƒu má»—i Ä‘á»‘i tÆ°á»£ng con cá»§a káº¿t quáº£ Ä‘áº§u ra cÃ³ Ã½ nghÄ©a nhÆ° tháº¿ nÃ o.Báº¡n Ä‘á»c cÅ©ng nÃªn sá»­ dá»¥ng kiá»ƒu \\(list\\) Ä‘á»ƒ lÃ m Ä‘áº§u ra cho cÃ¡c hÃ m sá»‘ tá»± xÃ¢y dá»±ng. ChÃºng ta sáº½ quay trá»Ÿ láº¡i vÃ­ dá»¥ vá» xÃ¢y dá»±ng hÃ m sá»‘ \\(PV\\) Ä‘á»ƒ tÃ­nh giÃ¡ trá»‹ hiá»‡n táº¡i cá»§a má»™t dÃ²ng tiá»n. Äá»‘i vá»›i má»™t dÃ²ng tiá»n tÆ°Æ¡ng lai, ngoÃ i giÃ¡ trá»‹ hiá»‡n táº¡i, báº¡n Ä‘á»c cÃ³ thá»ƒ quan tÃ¢m Ä‘áº¿n cÃ¡c giÃ¡ trá»‹ khÃ¡c nhÆ° Macaulay Duration, Modified Duration, Dollar Duration, Convexity (Ã½ nghÄ©a vÃ  cÃ¡ch tÃ­nh cÃ¡c giÃ¡ trá»‹ nÃ y á»Ÿ trong pháº§n phá»¥ lá»¥c cá»§a chÆ°Æ¡ng nÃ y).ChÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m summary_CF() Ä‘á»ƒ tÃ­nh toÃ¡n cÃ¡c Ä‘áº·c trÆ°ng cá»§a má»™t trÃ¡i phiáº¿u vá»›i cÃ¡c thÃ´ng sá»‘ nhÆ° sau:\n(#tab:unnamed-chunk-174)CÃ¡c thÃ´ng sá»‘ cá»§a má»™t trÃ¡i phiáº¿u\nChÃºng ta táº¡o ra dÃ²ng tiá»n tÆ°Æ¡ng lai cá»§a trÃ¡i phiáº¿u vá»›i cÃ¡c thÃ´ng sá»‘ nhÆ° trÃªn vÃ  sau Ä‘Ã³ sá»­ dá»¥ng hÃ m summary_CF()Chuyá»ƒn sang má»™t vÃ­ dá»¥ khÃ¡c khi sá»­ dá»¥ng \\(list\\) lÃ m Ä‘áº§u ra cho má»™t hÃ m sá»‘ tá»± xÃ¢y dá»±ng. Khi báº¡n Ä‘á»c tÃ¬m hiá»ƒu vá» giÃ¡ trá»‹ cá»§a má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘, chÃºng ta thÆ°á»ng tÃ­nh toÃ¡n cÃ¡c giÃ¡ trá»‹ Ä‘áº·c trÆ°ng nhÆ° giÃ¡ trá»‹ trung bÃ¬nh, giÃ¡ trá»‹ lá»›n nháº¥t, nhá» nháº¥t, cÃ¡c phÃ¢n vá»‹, vÃ  muá»‘n xem phÃ¢n phá»‘i cÃ¡c giÃ¡ trá»‹ trong vÃ©c-tÆ¡ Ä‘Ã³ nhÆ° tháº¿ nÃ o. ChÃºng ta cÃ³ thá»ƒ tá»± viáº¿t má»™t hÃ m sá»‘ Ä‘á»ƒ thá»±c hiá»‡n viá»‡c nÃ y vá»›i Ä‘áº§u ra lÃ  má»™t \\(list\\)ChÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m summary_vec() Ä‘á»ƒ tá»•ng há»£p thÃ´ng tin vá» lá»£i suáº¥t tÃ­nh theo ngÃ y cá»§a chá»‰ sá»‘ FTSE (chá»‰ sá»‘ cá»• phiáº¿u cá»§a 100 cÃ´ng ty cÃ³ giÃ¡ trá»‹ vá»‘n hÃ³a thá»‹ trÆ°á»ng lá»›n nháº¥t niÃªm yáº¿t trÃªn Sá»Ÿ giao dá»‹ch chá»©ng khoÃ¡n London) trong nÄƒm 1991 Ä‘áº¿n nÄƒm 1999. Chá»‰ sá»‘ nÃ y Ä‘Æ°á»£c lÆ°u trong dá»¯ liá»‡u \\(EuStockMarkets\\) cÃ³ sáºµn trong R.Má»™t lá»£i tháº¿ khÃ¡c cá»§a Ä‘á»‘i tÆ°á»£ng kiá»ƒu \\(list\\) lÃ  Ä‘áº©y nhanh tá»‘c Ä‘á»™ tÃ­nh toÃ¡n khi dÃ¹ng cÃ¡c hÃ m há» apply(). ChÃºng ta sáº½ tháº£o luáº­n váº¥n Ä‘á» nÃ y trong pháº§n tiáº¿p theo cá»§a cuá»‘n sÃ¡ch.","code":"\nf<-function(x) x^2 - 1/4\nresult<-uniroot(f,c(0,1))\nclass(result) # Ä‘á»‘i tÆ°á»£ng result cÃ³ kiá»ƒu list## [1] \"list\"\nstr(result) # xem cáº¥u trÃºc cá»§a Ä‘á»‘i tÆ°á»£ng result## List of 5\n##  $ root      : num 0.5\n##  $ f.root    : num -2.85e-05\n##  $ iter      : int 6\n##  $ init.it   : int NA\n##  $ estim.prec: num 6.1e-05\nsummaryCF<-function(i,CF){\n  n<-length(CF)\n  PV<-sum(CF/((1+i)^(1:n)))\n  Mac_D<-sum(CF*(1:n)/((1+i)^(1:n)))/PV\n  Mod_D<-Mac_D/(1+i)\n  Dollar_D<-PV*Mod_D*100\n  Convexity<-Mod_D\n  ket_qua<-list(PV = PV, Mac_D = Mac_D, Mod_D = Mod_D, \n               Dollar_D = Dollar_D, Convexity = Convexity)\n  return(ket_qua)\n}\n# Nháº­p liá»‡u\nF<-10 # má»‡nh giÃ¡ trÃ¡i phiáº¿u, Ä‘Æ¡n vá»‹ tá»· Ä‘á»“ng \nT<-12 # 12 cho Ä‘áº¿n ngÃ y Ä‘Ã¡o háº¡n\nc<-9.25/100 # lÃ£i suáº¥t coupon\ni<-5/100 # lÃ£i suáº¥t dÃ¹ng Ä‘á»ƒ chiáº¿t kháº¥u\nCF<-c(rep(c*F,(T-2)),c*F+F) # DÃ²ng tiá»n tÆ°Æ¡ng lai cá»§a trÃ¡i phiáº¿u\nsummaryCF(i,CF)## $PV\n## [1] 13.53023\n## \n## $Mac_D\n## [1] 7.884908\n## \n## $Mod_D\n## [1] 7.509436\n## \n## $Dollar_D\n## [1] 10160.44\n## \n## $Convexity\n## [1] 7.509436\nsummary_vec<-function(x){\n  do_dai<-length(x) # Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡\n  ty_le_na<-paste(round(sum(is.na(x))/do_dai*100,2),\"%\") # % giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c\n  gioi_han<-c(min(x,na.rm=TRUE),max(x,na.rm=TRUE)) # lá»›n nháº¥t vÃ  nhá» nháº¥t\n  trung_binh<-mean(x,na.rm=TRUE)\n  do_lech_chuan<-sd(x,na.rm=TRUE)\n  phan_vi<-quantile(x,c(0.01,0.1,0.25,0.5,0.75,0.9,0.99),na.rm=TRUE)\n  do_thi<-ggplot(data=data.frame(x=x), aes(x=x))+\n    geom_histogram(color = \"black\", fill = \"blue\",alpha = 0.5)+\n    xlab(\"\")+ylab(\"\")\n  result<-list(do_dai = do_dai, ty_le_na = ty_le_na, gioi_han = gioi_han,\n               trung_binh = trung_binh, do_lech_chuan = do_lech_chuan, \n               phan_vi = phan_vi, do_thi = do_thi)\n  return(result)\n}\nchi_so<-EuStockMarkets[,4] # láº¥y chá»‰ sá»‘ FTSE ra tá»« cá»™t thá»© 4 cá»§a EuStockMarkets\nn<-length(chi_so) # Ä‘á»™ dÃ i cá»§a chuá»—i chá»‰ sá»‘ chá»©ng khoÃ¡n\nloi_suat<-log(chi_so[2:n]/chi_so[1:(n-1)]) # lá»£i suáº¥t cá»§a chá»‰ sá»‘\nsummary_vec(loi_suat)## $do_dai\n## [1] 1859\n## \n## $ty_le_na\n## [1] \"0 %\"\n## \n## $gioi_han\n## [1] -0.04139903  0.05439552\n## \n## $trung_binh\n## [1] 0.0004319851\n## \n## $do_lech_chuan\n## [1] 0.007957728\n## \n## $phan_vi\n##            1%           10%           25%           50%           75% \n## -2.060655e-02 -9.139666e-03 -4.318778e-03  8.021069e-05  5.253592e-03 \n##           90%           99% \n##  9.714781e-03  1.931723e-02 \n## \n## $do_thi"},{"path":"index.html","id":"cÃ¡c-hÃ m-há»-apply","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.4 CÃ¡c hÃ m há» apply()","text":"NhÃ³m hÃ m apply() lÃ  nhÃ³m hÃ m cÃ³ sáºµn trong R cho phÃ©p báº¡n Ä‘á»c thá»±c hiá»‡n láº·p Ä‘i láº·p láº¡i má»™t hÃ m sá»‘ trÃªn nhiá»u Ä‘á»‘i tÆ°á»£ng. Vá» cÆ¡ báº£n nhÃ³m hÃ m nÃ y hoáº¡t Ä‘á»™ng giá»‘ng nhÆ° má»™t vÃ²ng láº·p nhÆ°ng cÃ¢u lá»‡nh viáº¿t báº±ng nhÃ³m hÃ m nÃ y sáº½ cháº¡y nhanh hÆ¡n vÃ  Ä‘Æ¡n giáº£n hÆ¡n viáº¿t vÃ²ng láº·p ráº¥t nhiá»ƒu.CÃ¡c hÃ m mÃ  chÃºng tÃ´i sáº½ giá»›i thiá»‡u Ä‘áº¿n báº¡n Ä‘á»c trong pháº§n nÃ y bao gá»“m apply(), lapply() vÃ  sapply. CÃ²n nhiá»u hÃ m khÃ¡c thuá»™c nhÃ³m hÃ m nÃ y nhÆ° vapply(), tapply(), mapply(), â€¦, nhÆ°ng vá» nguyÃªn táº¯c hoáº¡t Ä‘á»™ng cá»§a cÃ¡c hÃ m nÃ y lÃ  tÆ°Æ¡ng tá»± vÃ  chá»‰ khÃ¡c á»Ÿ chá»— chÃºng Ã¡p dá»¥ng trÃªn cÃ¡c loáº¡i Ä‘á»‘i tÆ°á»£ng khÃ¡c nhau nÃªn báº¡n Ä‘á»c cÃ³ thá»ƒ tá»± tÃ¬m hiá»ƒu mÃ  khÃ´ng gáº·p khÃ³ khÄƒn nÃ o.","code":""},{"path":"index.html","id":"hÃ m-apply","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.4.1 HÃ m apply()","text":"Cho má»™t vÃ©c-tÆ¡ \\(x\\) kiá»ƒu sá»‘ vÃ  má»™t hÃ m \\(f\\), cháº³ng háº¡n nhÆ° \\(f(x) = x^2\\). Khi báº¡n Ä‘á»c viáº¿t f(x) R sáº½ hiá»ƒu ráº±ng báº¡n Ä‘ang thá»±c hiá»‡n hÃ m sá»‘ \\(f\\) cho tá»«ng pháº§n tá»­ cá»§a vÃ©c-tÆ¡ \\(x\\) vÃ  sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  má»™t vÃ©c-tÆ¡ mÃ  tá»«ng pháº§n tá»­ tÆ°Æ¡ng á»©ng lÃ  bÃ¬nh phÆ°Æ¡ng cá»§a cÃ¡c pháº§n tá»­ trong \\(x\\). Viá»‡c thá»±c hiá»‡n hÃ m \\(f\\) trÃªn vÃ©c-tÆ¡ \\(x\\) diá»…n ra má»™t cÃ¡ch Ä‘á»“ng thá»i vÃ  hiá»‡u quáº£ hÆ¡n vá»›i viá»‡c viáº¿t má»™t vÃ²ng láº·p Ä‘á»ƒ tÃ­nh hÃ m \\(f\\) trÃªn tá»«ng pháº§n tá»­ cá»§a \\(x\\).Äiá»u gÃ¬ xáº£y ra khi \\(x\\) khÃ´ng pháº£i lÃ  má»™t vÃ©c-tÆ¡ Ä‘á»“ng cÃ¡c pháº§n tá»­ con cá»§a \\(x\\) khÃ´ng pháº£i lÃ  má»™t biáº¿n, cháº³ng háº¡n nhÆ°\\(x\\) lÃ  má»™t ma tráº­n vÃ  báº¡n muá»‘n tÃ­nh toÃ¡n má»™t hÃ m \\(f\\) trÃªn cÃ¡c pháº§n tá»­ con cá»§a \\(x\\) lÃ  má»™t vÃ©c-tÆ¡ hÃ ng hoáº·c má»™t vÃ©c-tÆ¡ cá»™t.\\(x\\) lÃ  má»™t ma tráº­n vÃ  báº¡n muá»‘n tÃ­nh toÃ¡n má»™t hÃ m \\(f\\) trÃªn cÃ¡c pháº§n tá»­ con cá»§a \\(x\\) lÃ  má»™t vÃ©c-tÆ¡ hÃ ng hoáº·c má»™t vÃ©c-tÆ¡ cá»™t.\\(x\\) lÃ  má»™t dá»¯ liá»‡u vÃ  báº¡n muá»‘n thá»±c hiá»‡n má»™t hÃ m \\(f\\) trÃªn táº¥t cáº£ cÃ¡c cá»™t dá»¯ liá»‡u.\\(x\\) lÃ  má»™t dá»¯ liá»‡u vÃ  báº¡n muá»‘n thá»±c hiá»‡n má»™t hÃ m \\(f\\) trÃªn táº¥t cáº£ cÃ¡c cá»™t dá»¯ liá»‡u.\\(x\\) lÃ  má»™t list vÃ  báº¡n muá»‘n thá»±c hiá»‡n má»™t hÃ m \\(f\\) trÃªn táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng con cá»§a \\(x\\).\\(x\\) lÃ  má»™t list vÃ  báº¡n muá»‘n thá»±c hiá»‡n má»™t hÃ m \\(f\\) trÃªn táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng con cá»§a \\(x\\).CÃ¡c hÃ m thuá»™c há» apply() sáº½ giÃºp báº¡n Ä‘á»c thá»±c hiá»‡n tÃ¡c tÃ­nh toÃ¡n nhÆ° váº­y. CÃ¡ch viáº¿t hÃ m apply() nhÆ° sau:trong Ä‘Ã³ \\(x\\) lÃ  má»™t ma tráº­n, má»™t máº£ng nhiá»u chiá»u, hoáº·c má»™t dá»¯ liá»‡u; \\(MARGIN\\) lÃ  má»™t sá»‘, hoáº·c vÃ©c-tÆ¡ chá»‰ sá»‘ cho biáº¿t hÃ m sáº½ Ã¡p dá»¥ng trÃªn chiá»u (hoáº·c cÃ¡c chiá»u) nÃ o, vÃ  \\(FUN\\) lÃ  hÃ m sá»‘ mÃ  báº¡n muá»‘n thá»±c hiá»‡n. VÃ­ dá»¥ nhÆ° báº¡n Ä‘á»c muá»‘n tÃ­nh giÃ¡ trá»‹ trung bÃ¬nh cá»§a má»—i cá»™t cá»§a má»™t ma tráº­n \\(M\\), hÃ£y sá»­ dá»¥ng cÃ¢u lá»‡nh nhÆ° sauDo ma tráº­n \\(M\\) cÃ³ 5 cá»™t nÃªn giÃ¡ trá»‹ tráº£ láº¡i lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ cÃ³ Ä‘á»™ dÃ i báº±ng 5. VÃ©c-tÆ¡ nÃ y chá»©a giÃ¡ trá»‹ lÃ  trung bÃ¬nh cá»§a cÃ¡c cá»™t thá»© tá»± 1, 2, 3, 4, vÃ  5 cá»§a ma tráº­n \\(M\\).Vá» nguyÃªn táº¯c Ä‘á»‘i tÆ°á»£ng sá»­ dá»¥ng trong hÃ m apply() lÃ  ma tráº­n hoáº·c máº£ng nhiá»u chiá»u. Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m apply() trÃªn Ä‘á»‘i tÆ°á»£ng lÃ  dá»¯ liá»‡u (data.frame). Khi Ä‘á»‘i tÆ°á»£ng cá»§a hÃ m apply() cÃ³ tá»« 3 chiá»u trá»Ÿ lÃªn, giÃ¡ trá»‹ cá»§a tÃ¹y biáº¿n \\(MARGIN\\) cÃ³ thá»ƒ lÃ  má»™t sá»‘ hoáº·c má»™t vÃ©c-tÆ¡. Tháº­t váº­y,GiÃ¡ trá»‹ tráº£ láº¡i sáº½ lÃ  má»™t vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i lÃ  2, pháº§n tá»­ thá»© nháº¥t lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a cÃ¡c pháº§n tá»­ thuá»™c ma tráº­n kÃ­ch thÆ°á»›c \\(5 \\times 2\\) thá»© nháº¥t (ma tráº­n \\(Ar[,,1]\\)) vÃ  pháº§n tá»­ thá»© hai lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a cÃ¡c pháº§n tá»­ thuá»™c ma tráº­n kÃ­ch thÆ°á»›c \\(5 \\times 2\\) thá»© hai (ma tráº­n \\(Ar[,,2]\\)). ChÃºng ta cÃ³ thá»ƒ kiá»ƒm tra káº¿t quáº£ nhÆ° sau:ChÃºng ta cÃ³ thá»ƒ Ã¡p dá»¥ng Ä‘á»“ng thá»i hÃ m mean() theo chiá»u thá»© 2 vÃ  chiá»u thá»© 3 trÃªn máº£ng \\(Ar\\) nhÆ° sauKáº¿t quáº£ thu Ä‘Æ°á»£c sáº½ lÃ  má»™t ma tráº­n kÃ­ch thÆ°á»›c \\(2 \\times 2\\) mÃ  cÃ¡c pháº§n tá»­ sáº½ tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ trung bÃ¬nh:Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,1] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,1,1]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,1] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,1,1]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,2] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,1,2]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,2] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,1,2]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [2,1] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,2,1]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [2,1] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,2,1]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [2,2] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,2,2]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [2,2] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,2,2]\\)ChÃºng ta cÃ³ thá»ƒ sÃ¡nh giÃ¡ trá»‹ trung bÃ¬nh cá»§a cÃ¡c vÃ©c-tÆ¡ vá»›i ma tráº­n káº¿t quáº£ cá»§a hÃ m apply():HÃ m sá»‘ sá»­ dá»¥ng vá»›i tÃ¹y biáº¿n \\(FUN\\) cÃ³ thá»ƒ lÃ  hÃ m sá»‘ cÃ³ sáºµn trong R vÃ  cÃ¡c thÆ° viá»‡n cÃ i Ä‘áº·t bá»• sung, hoáº·c cÅ©ng cÃ³ thá»ƒ lÃ  má»™t hÃ m sá»‘ mÃ  báº¡n Ä‘á»c tá»± xÃ¢y dá»±ng. Khi cÃ¡c cÃ¢u lá»‡nh cá»§a hÃ m sá»‘ tá»± xÃ¢y dá»±ng ngáº¯n gá»n, báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a hÃ m sá»‘ Ä‘Ã³ bÃªn trong hÃ m apply(). GiÃ¡ trá»‹ Ä‘áº§u ra cá»§a hÃ m sá»‘ Ä‘Æ°á»£c tá»± Ä‘á»‹nh nghÄ©a cÅ©ng cÃ³ thá»ƒ lÃ  má»™t vÃ©c-tÆ¡, tháº­m chÃ­ lÃ  má»™t ma tráº­n hay lÃ  má»™t máº£ng nhiá»u chiá»u, tháº­m chÃ­ lÃ  má»™t \\(list\\). Náº¿u káº¿t quáº£ Ä‘áº§u ra cá»§a hÃ m sá»­ dá»¥ng trong apply() lÃ  má»™t ma tráº­n hoáº·c máº£ng nhiá»u chiá»u, R sáº½ chuyá»ƒn ma tráº­n hoáº·c máº£ng nhiá»u chiá»u vá» dáº¡ng vÃ©c-tÆ¡. Trong trÆ°á»ng há»£p Ä‘áº§u ra cá»§a hÃ m tá»± Ä‘á»‹nh nghÄ©a lÃ  má»™t \\(list\\), giÃ¡ trá»‹ Ä‘áº§u ra sáº½ lÃ  má»™t ma tráº­n hoáº·c máº£ng nhiá»u chiá»u mÃ  má»—i pháº§n tá»­ con lÃ  má»™t list. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ mÃ  giÃ¡ trá»‹ Ä‘áº§u ra lÃ  má»™t vÃ©c-tÆ¡ ba chiá»u.Káº¿t quáº£ nháº­n Ä‘Æ°á»£c sáº½ lÃ  má»™t ma tráº­n kÃ­ch thÆ°á»›c \\(3 \\times 5\\). Cá»™t thá»© nháº¥t cá»§a ma tráº­n káº¿t quáº£ nháº­n giÃ¡ trá»‹ (1, 10.5, 20) tÆ°Æ¡ng á»©ng vá»›i cÃ¡c giÃ¡ trá»‹ \\(min\\), \\(mean\\), vÃ  \\(max\\) cá»§a vÃ©c-tÆ¡ \\(M[,1]\\).Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ tá»± xÃ¢y dá»±ng hÃ m sá»‘ trÃªn mÃ´i trÆ°á»ng chung sau Ä‘Ã³ gá»i tÃªn hÃ m sá»‘ nÃ y trong hÃ m apply(). Náº¿u hÃ m sá»‘ tá»± xÃ¢y dá»±ng lÃ  hÃ m sá»‘ cÃ³ tham sá»‘ khÃ¡c ngoÃ i \\(x\\), báº¡n Ä‘á»c cáº§n pháº£i khai bÃ¡o giÃ¡ trá»‹ cho tham sá»‘ Ä‘Ã³ trong mÃ´i trÆ°á»ng cá»¥c bá»™ cá»§a hÃ m apply():Khi tham sá»‘ cá»§a hÃ m sá»‘ mÃ  báº¡n Ä‘á»c muá»‘n Ã¡p dá»¥ng trÃªn ma tráº­n lÃ  khÃ´ng cá»‘ Ä‘á»‹nh mÃ  thay Ä‘á»•i theo má»™t chiá»u cá»§a \\(x\\) thÃ¬ khÃ´ng nÃªn khai bÃ¡o giÃ¡ trá»‹ cá»§a tham sá»‘ theo dáº¡ng vÃ©c-tÆ¡ trong hÃ m apply(). Tháº­t váº­y, giáº£ sá»­ báº¡n Ä‘á»c muá»‘n tÃ­nh cÃ¡c giÃ¡ trá»‹ phÃ¢n vá»‹ á»Ÿ má»©c xÃ¡c suáº¥t 10% vÃ  90% láº§n lÆ°á»£t cá»§a vÃ©c-tÆ¡ hÃ ng thá»© nháº¥t vÃ  vÃ©c-tÆ¡ hÃ ng thá»© hai cá»§a má»™t ma tráº­n M kÃ­ch thÆ°á»›c \\(2 \\times 10\\). HÃ m sá»‘ quantile(x, probs = p) lÃ  hÃ m sá»‘ cÃ³ sáºµn trong R Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ­nh giÃ¡ trá»‹ phÃ¢n vá»‹ táº¡i má»©c xÃ¡c suáº¥t \\(p\\) cá»§a vÃ©c-tÆ¡ sá»‘ \\(x\\). HÃ£y quan sÃ¡t káº¿t quáº£ cá»§a hÃ m apply() khi sá»­ dá»¥ng tham sá»‘ \\(probs\\) cá»§a hÃ m quantile() dÆ°á»›i dáº¡ng vÃ©c-tÆ¡:Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng káº¿t quáº£ cá»§a hÃ m apply() khi tham sá»‘ \\(probs\\) lÃ  má»™t vÃ©c-tÆ¡ lÃ  má»™t ma tráº­n, trong Ä‘Ã³ cá»™t thá»© nháº¥t lÃ  giÃ¡ trá»‹ phÃ¢n vá»‹ táº¡i cÃ¡c má»©c xÃ¡c suáº¥t 10% vÃ  90% cá»§a vÃ©c-tÆ¡ \\(M[1,]\\) vÃ  cá»™t thá»© hai giÃ¡ trá»‹ phÃ¢n vá»‹ táº¡i cÃ¡c má»©c xÃ¡c suáº¥t 10% vÃ  90% cá»§a vÃ©c-tÆ¡ \\(M[2,]\\). GiÃ¡ trá»‹ chÃºng ta mong muá»‘n láº¥y ra chÃ­nh lÃ  cÃ¡c sá»‘ náº±m trÃªn Ä‘Æ°á»ng chÃ©o chÃ­nh cá»§a ma tráº­n káº¿t quáº£. Sáº½ khÃ´ng cÃ³ khÃ³ khÄƒn gÃ¬ náº¿u sá»‘ lÆ°á»£ng hÃ ng cá»§a ma tráº­n \\(M\\) nhá». Báº¡n Ä‘á»c sáº½ gáº·p váº¥n Ä‘á» khi sá»‘ lÆ°á»£ng vÃ©c-tÆ¡ Ä‘Æ°á»£c Ã¡p dá»¥ng lÃ  lá»›n bá»Ÿi kÃ­ch thÆ°á»›c cá»§a ma tráº­n káº¿t quáº£ sáº½ tÄƒng lÃªn theo cáº¥p sá»‘ nhÃ¢n. Tháº­t váº­y, náº¿u \\(M\\) cÃ³ \\(n\\) hÃ ng vÃ  hÃ m sá»‘ Ä‘Æ°á»£c Ã¡p dá»¥ng cÃ³ 1 tham sá»‘, ma tráº­n káº¿t quáº£ sáº½ cÃ³ kÃ­ch thÆ°á»›c sáº½ lÃ  $ n n$ náº¿u báº¡n Ä‘á»c sá»­ dá»¥ng trá»±c tiáº¿p hÃ m apply(). Cháº³ng háº¡n nhÆ° báº¡n muá»‘n tÃ­nh giÃ¡ trá»‹ phÃ¢n vá»‹ á»Ÿ cÃ¡c má»©c xÃ¡c suáº¥t 10%, 30%, 50%, 70%, vÃ  90% cá»§a láº§n lÆ°á»£t cÃ¡c vÃ©c-tÆ¡ hÃ ng thá»© 1, 2, 3, 4, vÃ  5 cá»§a má»™t ma tráº­n \\(M\\) kÃ­ch thÆ°á»›c \\(5 \\times 10\\).Äiá»u gÃ¬ xáº£y ra khi ma tráº­n \\(M\\) cÃ³ \\(10^4\\) vÃ©c-tÆ¡ hÃ ng? Ma tráº­n káº¿t quáº£ sáº½ cÃ³ kÃ­ch thÆ°á»›c lÃ  \\(10^4 \\times 10^4\\). Khi ma tráº­n \\(M\\) cÃ³ \\(10^5\\) vÃ©c-tÆ¡ hÃ ng? Ma tráº­n káº¿t quáº£ sáº½ cÃ³ kÃ­ch thÆ°á»›c lÃ  \\(10^5 \\times 10^5\\) vÃ  R sáº½ bÃ¡o lá»—i vÃ¬ bá»™ nhá»› khÃ´ng Ä‘á»§ Ä‘á»ƒ lÆ°u má»™t ma tráº­n cÃ³ kÃ­ch thÆ°á»›c nhÆ° váº­y.Má»™t cÃ¡ch Ä‘Æ¡n giáº£n Ä‘á»ƒ tiáº¿t kiá»‡m thá»i gian vÃ  bá»™ nhá»› khi Ã¡p dá»¥ng hÃ m sá»‘ cÃ³ tham sá»‘ lÃ  hÃ£y thÃªm tham sá»‘ vÃ o nhÆ° lÃ  má»™t pháº§n cá»§a ma tráº­n \\(M\\) vÃ  Ä‘iá»u chá»‰nh láº¡i hÃ m quantile() trÆ°á»›c khi sá»­ dá»¥ng hÃ m apply()","code":"\nx<-1:5; f<-function(x) x^2\nf(x) # f Ä‘Æ°á»£c Ã¡p dá»¥ng trÃªn tá»«ng pháº§n tá»­ cá»§a x## [1]  1  4  9 16 25\napply(x, MARGIN, FUN, ...)\nM<-matrix(1:100,20,5) # ma tráº­n kÃ­ch thÆ°á»›c 20 * 5\napply(M, MARGIN = 2, FUN = mean) # MARGIN = 2 nghÄ©a lÃ  Ã¡p dá»¥ng theo cá»™t (1 nghÄ©a lÃ  theo hÃ ng)  ## [1] 10.5 30.5 50.5 70.5 90.5\nAr<-array(1:20,dim=c(5,2,2)) # máº£ng kÃ­ch thÆ°á»›c 5 * 2 * 2\napply(Ar, MARGIN = 3, FUN = mean) # MARGIN = 3 nghÄ©a lÃ  Ã¡p dá»¥ng hÃ m mean theo chiá»u thá»© 3  ## [1]  5.5 15.5\nmean(Ar[,,1]) # báº±ng pháº§n tá»­ thá»© nháº¥t khi dÃ¹ng apply## [1] 5.5\nmean(Ar[,,2]) # báº±ng pháº§n tá»­ thá»© hai khi dÃ¹ng apply## [1] 15.5\napply(Ar, MARGIN = c(2,3), mean) # MARGIN = c(2,3) nghÄ©a lÃ  Ã¡p dá»¥ng hÃ m mean theo chiá»u thá»© 2 vÃ  3  ##      [,1] [,2]\n## [1,]    3   13\n## [2,]    8   18\nmean(Ar[,1,1]) # báº±ng pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,1] cá»§a ma tráº­n káº¿t quáº£## [1] 3\nmean(Ar[,1,2]) # báº±ng pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,2] cá»§a ma tráº­n káº¿t quáº£## [1] 13\nmean(Ar[,2,1]) # báº±ng pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,2] cá»§a ma tráº­n káº¿t quáº£## [1] 8\nmean(Ar[,2,2]) # báº±ng pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,2] cá»§a ma tráº­n káº¿t quáº£## [1] 18\napply(M, 2, function(x) c(min(x),mean(x),max(x))) ##      [,1] [,2] [,3] [,4]  [,5]\n## [1,]  1.0 21.0 41.0 61.0  81.0\n## [2,] 10.5 30.5 50.5 70.5  90.5\n## [3,] 20.0 40.0 60.0 80.0 100.0\nM[,1]##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20\nc(min(M[,1]), mean(M[,1]), max(M[,1]))## [1]  1.0 10.5 20.0\nmy_range<-function(x, a) (max(x^a) - min(x^a)) # hÃ m sá»‘ cÃ³ tham sá»‘ khÃ¡c lÃ  a\napply(M, 2, my_range, a = 2) # cáº§n khai bÃ¡o giÃ¡ trá»‹ tham sá»‘ a cá»§a my_range trong hÃ m apply## [1]  399 1159 1919 2679 3439\nM<-matrix(1:20,2,10) # ma tráº­n 2 * 10\napply(M, 1, quantile, probs = c(0.1,0.9)) # MARGIN = 1 nghÄ©a lÃ  tÃ­nh theo cÃ¡c hÃ ng cá»§a M##     [,1] [,2]\n## 10%  2.8  3.8\n## 90% 17.2 18.2\nquantile(M[1,],0.1) # giÃ¡ trá»‹ mong muá»‘n## 10% \n## 2.8\nquantile(M[2,],0.9) # giÃ¡ trá»‹ mong muá»‘n##  90% \n## 18.2\nM<-matrix(1:50,5,10) # ma tráº­n 5 * 10\napply(M, 1, quantile, probs = c(0.1,0.3,0.5,0.7,0.9)) # ma tráº­n káº¿t quáº£ kÃ­ch thÆ°á»›c 5 * 5##     [,1] [,2] [,3] [,4] [,5]\n## 10%  5.5  6.5  7.5  8.5  9.5\n## 30% 14.5 15.5 16.5 17.5 18.5\n## 50% 23.5 24.5 25.5 26.5 27.5\n## 70% 32.5 33.5 34.5 35.5 36.5\n## 90% 41.5 42.5 43.5 44.5 45.5\ndiag(apply(M, 1, quantile, probs = c(0.1,0.3,0.5,0.7,0.9))) # láº¥y ra Ä‘Æ°á»ng chÃ©o chÃ­nh## [1]  5.5 15.5 25.5 35.5 45.5\nM1<-cbind(M,c(0.1,0.3,0.5,0.7,0.9)) # thÃªm tham sá»‘ vÃ o cá»™t cuá»‘i cá»§a ma tráº­n M\nmy_quantile<-function(x){ # Ä‘á»‹nh nghÄ©a láº¡i hÃ m quantile mÃ  tham sá»‘ p lÃ  giÃ¡ trá»‹ cuá»‘i cÃ¹ng trong vÃ©c-tÆ¡\n  n<-length(x)\n  quantile(x[1:(n-1)], x[n])\n}\napply(M1, 1, my_quantile) # Ã¡p dá»¥ng hÃ m má»›i trÃªn ma tráº­n má»›i## [1]  5.5 15.5 25.5 35.5 45.5"},{"path":"index.html","id":"hÃ m-lapply-vÃ -sapply.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.4.2 HÃ m lapply() vÃ  sapply().","text":"CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng cá»§a lapply() tÆ°Æ¡ng tá»± nhÆ° apply() vÃ  chá»‰ khÃ¡c á»Ÿ Ä‘á»‘i tÆ°á»£ng Ã¡p dá»¥ng vÃ  cáº¥u trÃºc cá»§a káº¿t quáº£ Ä‘áº§u ra. lapply() thÆ°á»ng Ã¡p dá»¥ng trÃªn cÃ¡c Ä‘á»‘i tÆ°á»£ng kiá»ƒu \\(list\\) hoáº·c cÃ¡c kiá»ƒu Ä‘á»‘i tÆ°á»£ng mÃ  cÃ³ thá»ƒ sá»­ dá»¥ng kÃ½ hiá»‡u \\(\\$\\) Ä‘á»ƒ gá»i pháº§n tá»­ con cháº³ng háº¡n nhÆ° \\(data.frame\\) hoáº·c \\(tibbles\\). ChÃºng ta sáº½ tháº£o luáº­n vá» cÃ¡c Ä‘á»‘i tÆ°á»£ng nÃ y á»Ÿ pháº§n sau cá»§a cuá»‘n sÃ¡ch. Khi báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m lapply(), báº¡n khÃ´ng cáº§n pháº£i sá»­ dá»¥ng tÃ¹y biáº¿n \\(MARGIN\\) bá»Ÿi vÃ¬ lapply() sáº½ luÃ´n luÃ´n hiá»ƒu cÃ¡c Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c tÃ¡c Ä‘á»™ng Ä‘áº¿n lÃ  táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng con cá»§a \\(list\\).Káº¿t quáº£ cá»§a lapply() lÃ  má»™t list cÃ³ sá»‘ lÆ°á»£ng pháº§n tá»­ vÃ  tÃªn cÃ¡c pháº§n tá»­ con giá»‘ng vá»›i vÃ©c-tÆ¡ \\(x\\). Trong trÆ°á»ng há»£p Ã¡p dá»¥ng hÃ m mean(), má»—i giÃ¡ trá»‹ náº±m trong \\(list\\) káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a pháº§n tá»­ cÃ³ tÃªn tÆ°Æ¡ng á»©ng náº±m trong \\(list\\) ban Ä‘áº§u. hÃ m mean() khÃ´ng thá»ƒ sá»­ dá»¥ng vá»›i má»™t \\(list\\) nÃªn pháº§n tá»­ \\(x4\\) cá»§a káº¿t quáº£ nháº­n giÃ¡ trá»‹ \\(NA\\).HÃ m sapply() cÃ³ cÆ¡ cháº¿ hoáº¡t Ä‘á»™ng hoÃ n toÃ n tÆ°Æ¡ng tá»± nhÆ° lapply() vÃ  chá»‰ khÃ¡c á»Ÿ chá»— káº¿t quáº£ Ä‘áº§u ra lÃ  dÆ°á»›i dáº¡ng vÃ©c-tÆ¡, ma tráº­n, hoáº·c máº£ng. Tháº­t váº­y, váº«n vá»›i Ä‘á»‘i tÆ°á»£ng \\(x\\) kiá»ƒu \\(list\\) á»Ÿ trÃªn, chÃºng ta sá»­ dá»¥ng sapply() thay vÃ¬ lapply() sáº½ cho káº¿t quáº£ dÆ°á»›i dáº¡ng vÃ©c-tÆ¡ thay vÃ¬ dÆ°á»›i dáº¡ng \\(list\\)CÃ¡c hÃ m lapply() vÃ  sapply() thÆ°á»ng xuyÃªn Ä‘Æ°á»£c sá»­ dá»¥ng khi lÃ m viá»‡c vá»›i dá»¯ liá»‡u vÃ¬ R lÆ°u dá»¯ liá»‡u dÆ°á»›i dáº¡ng cÃ¡c \\(data.frame\\) hoáº·c \\(tibbles\\). Khi sá»­ dá»¥ng cÃ¡c hÃ m lapply() vÃ  sapply() vá»›i dá»¯ liá»‡u, cÃ¡c Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c tÃ¡c Ä‘á»™ng Ä‘áº¿n sáº½ luÃ´n luÃ´n lÃ  cÃ¡c vÃ©c-tÆ¡ cá»™t. HÃ£y quan sÃ¡t vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y khi sá»­ dá»¥ng sapply() Ä‘á»ƒ tÃ­nh tá»· lá»‡ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cá»§a má»—i vÃ©c-tÆ¡ cá»™t cá»§a má»™t dá»¯ liá»‡u cÃ³ tÃªn lÃ  \\(gapminder\\) náº±m trong thÆ° viá»‡n \\(dslabs\\).","code":"\nx <- list(x1 = 1:10, \n          x2 = c(TRUE,FALSE,TRUE,TRUE), \n          x3 = matrix(1:6,2,3), \n          x4 = list(x41 = c(1,2), x42 = c(3,4)) )\nlapply(x, mean) # Ã¡p dá»¥ng hÃ m mean trÃªn táº¥t cáº£ cÃ¡c pháº§n tá»­ con cá»§a x## $x1\n## [1] 5.5\n## \n## $x2\n## [1] 0.75\n## \n## $x3\n## [1] 3.5\n## \n## $x4\n## [1] NA\nsapply(x, mean) # Ã¡p dá»¥ng hÃ m mean trÃªn táº¥t cáº£ cÃ¡c pháº§n tá»­ con cá»§a x##   x1   x2   x3   x4 \n## 5.50 0.75 3.50   NA\nlibrary(dslabs)\ns1<-sapply(gapminder, function(x) sum(is.na(x))/length(x)) # tá»· lá»‡ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cá»§a má»—i cá»™t trong dá»¯ liá»‡u\ns1<-sort(s1) # sáº¯p xáº¿p s1 theo thá»© tá»± tÄƒng dáº§n\nprint(s1) # hiá»ƒn thá»‹ s1##          country             year  life_expectancy        continent \n##       0.00000000       0.00000000       0.00000000       0.00000000 \n##           region       population        fertility infant_mortality \n##       0.00000000       0.01754386       0.01773352       0.13779042 \n##              gdp \n##       0.28183973\nbarplot(s1,col = \"lightskyblue\", \n        ylab = \"Tá»· lá»‡\",\n        xlab = \"TÃªn biáº¿n/cá»™t\",\n        main = \"Tá»· lá»‡ missing value cá»§a cÃ¡c cá»™t dá»¯ liá»‡u Gapminder\")"},{"path":"index.html","id":"phá»¥-lá»¥c-1","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.5 Phá»¥ lá»¥c","text":"","code":""},{"path":"index.html","id":"kiáº¿n-thá»©c-nÃ¢ng-cao-liÃªn-quan-Ä‘áº¿n-ma-tráº­n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.5.1 Kiáº¿n thá»©c nÃ¢ng cao liÃªn quan Ä‘áº¿n ma tráº­n","text":"CÃ¡c kiáº¿n thá»©c liÃªn quan Ä‘áº¿n ma tráº­n trong pháº§n nÃ y Ä‘Ã²i há»i báº¡n Ä‘á»c cáº§n cÃ³ kiáº¿n thá»©c nÃ¢ng cao hÆ¡n. Náº¿u báº¡n Ä‘á»c cáº£m tháº¥y khÃ´ng cáº§n thiáº¿t cÃ³ thá»ƒ bá» qua vÃ¬ cÃ¡c kiáº¿n thá»©c Ä‘Æ°á»£c sá»­ dá»¥ng trong pháº§n nÃ y sáº½ Ä‘Æ°á»£c nháº¯c láº¡i khi cÃ³ á»©ng dá»¥ng cá»¥ thá»ƒ.","code":""},{"path":"index.html","id":"giÃ¡-trá»‹-riÃªng-vÃ -vÃ©c-tÆ¡-riÃªng-cá»§a-ma-tráº­n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.5.1.1 GiÃ¡ trá»‹ riÃªng vÃ  vÃ©c-tÆ¡ riÃªng cá»§a ma tráº­n","text":"","code":""},{"path":"index.html","id":"ma-tráº­n-hiá»‡p-phÆ°Æ¡ng-sai","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.5.1.2 Ma tráº­n hiá»‡p phÆ°Æ¡ng sai","text":"","code":""},{"path":"index.html","id":"cÃ¡c-giÃ¡-trá»‹-Ä‘áº·c-trÆ°ng-cá»§a-má»™t-dÃ²ng-tiá»n-tÆ°Æ¡ng-lai","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.5.2 CÃ¡c giÃ¡ trá»‹ Ä‘áº·c trÆ°ng cá»§a má»™t dÃ²ng tiá»n tÆ°Æ¡ng lai","text":"","code":""},{"path":"index.html","id":"giÃ¡-trá»‹-hiá»‡n-táº¡i-vÃ -tá»·-suáº¥t-sinh-lá»i-ná»™i-bá»™","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.5.2.1 GiÃ¡ trá»‹ hiá»‡n táº¡i vÃ  tá»· suáº¥t sinh lá»i ná»™i bá»™","text":"GiÃ¡ trá»‹ hiá»‡n táº¡i cá»§a má»™t dÃ²ng tiá»n \\(CF\\) vá»›i lÃ£i suáº¥t \\(\\) tÃ­nh theo kiá»ƒu gá»™p Ä‘Æ°á»£c tÃ­nh nhÆ° sau\n\\[\\begin{align}\nPV(CF) = \\sum\\limits_{t=1}^n \\ \\cfrac{CF_t}{(1+)^t}\n\\end{align}\\]GiÃ¡ trá»‹ hiá»‡n táº¡i cá»§a má»™t dÃ²ng tiá»n lÃ  má»™t thÆ°á»›c Ä‘o cho giÃ¡ trá»‹ cá»§a tÃ i sáº£n táº¡o ra dÃ²ng tiá»n Ä‘Ã³. NhÃ¬n chung, tÃ i sáº£n nÃ o cÃ³ giÃ¡ trá»‹ hiá»‡n táº¡i lá»›n hÆ¡n thÃ¬ cÃ³ giÃ¡ trá»‹ cao hÆ¡n.Tá»· suáº¥t sinh lá»i ná»™i bá»™ (Internal rate return hay IRR) lÃ  má»©c lÃ£i suáº¥t \\(i_0\\) mÃ  tÃ­nh theo má»©c lÃ£i suáº¥t nÃ y giÃ¡ trá»‹ hiá»‡n táº¡i cá»§a má»™t dÃ²ng tiá»n báº±ng 0. Tá»· suáº¥t sinh lá»i ná»™i bá»™ khÃ´ng tá»“n táº¡i náº¿u dÃ²ng tiá»n tÆ°Æ¡ng lai cá»§a má»™t tÃ i sáº£n chá»‰ cÃ³ giÃ¡ trá»‹ dÆ°Æ¡ng (hoáº·c Ã¢m).","code":""},{"path":"index.html","id":"durations-vÃ -convexity","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"2.5.2.2 Durations vÃ  convexity","text":"Duration khÃ´ng pháº£i lÃ  thÆ°á»›c Ä‘o thá»i gian tá»« lÃºc báº¯t Ä‘áº§u Ä‘áº¿n lÃºc Ä‘Ã¡o háº¡n cá»§a dÃ²ng tiá»n mÃ  lÃ  má»™t thÆ°á»›c Ä‘o cho sá»± nháº¡y cáº£m cá»§a giÃ¡ trá»‹ hiá»‡n táº¡i cá»§a dÃ²ng tiá»n theo sá»± thay Ä‘á»•i cá»§a lÃ£i suáº¥t.","code":"## \n## Attaching package: 'dplyr'## The following object is masked from 'package:gridExtra':\n## \n##     combine## The following object is masked from 'package:kableExtra':\n## \n##     group_rows## The following objects are masked from 'package:stats':\n## \n##     filter, lag## The following objects are masked from 'package:base':\n## \n##     intersect, setdiff, setequal, union## \n## Attaching package: 'lubridate'## The following objects are masked from 'package:base':\n## \n##     date, intersect, setdiff, union"},{"path":"index.html","id":"phÃ¢n-tÃ­ch-dá»¯-liá»‡u-báº±ng-r","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"3 PhÃ¢n tÃ­ch dá»¯ liá»‡u báº±ng R","text":"Trong pháº§n nÃ y cá»§a cuá»‘n sÃ¡ch, báº¡n sáº½ tÃ¬m hiá»ƒu vá» cÃ¡c ká»¹ thuáº­t phÃ¢n tÃ­ch dá»¯ liá»‡u, bao gá»“m cÃ³ tiá»n xá»­ lÃ½ dá»¯ liá»‡u, sáº¯p xáº¿p dá»¯ liá»‡u vÃ  trá»±c quan hÃ³a dá»¯ liá»‡u.Tiá»n xá»­ lÃ½ dá»¯ liá»‡u bao gá»“m táº¥t cáº£ cÃ¡c ká»¹ thuáº­t Ä‘Æ°a dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R vÃ  biáº¿n Ä‘á»•i thÃ nh Ä‘á»‹nh dáº¡ng Ä‘á»ƒ cÃ³ thá»ƒ lÃ m viá»‡c Ä‘Æ°á»£c.Tiá»n xá»­ lÃ½ dá»¯ liá»‡u bao gá»“m táº¥t cáº£ cÃ¡c ká»¹ thuáº­t Ä‘Æ°a dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R vÃ  biáº¿n Ä‘á»•i thÃ nh Ä‘á»‹nh dáº¡ng Ä‘á»ƒ cÃ³ thá»ƒ lÃ m viá»‡c Ä‘Æ°á»£c.Sáº¯p xáº¿p dá»¯ liá»‡u bao gá»“m cÃ¡c bÆ°á»›c biáº¿n Ä‘á»•i, chuyá»ƒn hÃ³a dá»¯ liá»‡u thÃ nh Ä‘á»‹nh dáº¡nh Ä‘á»ƒ cÃ³ thá»ƒ trá»±c quan hÃ³a, phÃ¢n tÃ­ch, vÃ  xÃ¢y dá»±ng mÃ´ hÃ¬nh.Sáº¯p xáº¿p dá»¯ liá»‡u bao gá»“m cÃ¡c bÆ°á»›c biáº¿n Ä‘á»•i, chuyá»ƒn hÃ³a dá»¯ liá»‡u thÃ nh Ä‘á»‹nh dáº¡nh Ä‘á»ƒ cÃ³ thá»ƒ trá»±c quan hÃ³a, phÃ¢n tÃ­ch, vÃ  xÃ¢y dá»±ng mÃ´ hÃ¬nh.Trá»±c quan hÃ³a dá»¯ liá»‡u lÃ  má»™t nghá»‡ thuáº­t biáº¿n Ä‘á»•i dá»¯ liá»‡u dÆ°á»›i dáº¡ng cÃ¡c con sá»‘, chuá»—i kÃ½ tá»±,â€¦, thÃ nh cÃ¡c biá»ƒu Ä‘á»“, Ä‘á»“ thá»‹ hay hÃ¬nh áº£nh sá»­ dá»¥ng cÃ¡c hÃ¬nh dáº¡ng, mÃ u sáº¯c, khoáº£ng cÃ¡ch Ä‘á»ƒ con ngÆ°á»i dá»… dÃ ng nháº­n thá»©c vÃ  hiá»ƒu vá» dá»¯ liá»‡u. Trá»±c quan hÃ³a dá»¯ liá»‡u cÃ²n cÃ³ thá»ƒ giÃºp ngÆ°á»i phÃ¢n tÃ­ch tÃ¬m ra nhá»¯ng giÃ¡ trá»‹ áº©n chá»©a trong dá»¯ liá»‡u.Trá»±c quan hÃ³a dá»¯ liá»‡u lÃ  má»™t nghá»‡ thuáº­t biáº¿n Ä‘á»•i dá»¯ liá»‡u dÆ°á»›i dáº¡ng cÃ¡c con sá»‘, chuá»—i kÃ½ tá»±,â€¦, thÃ nh cÃ¡c biá»ƒu Ä‘á»“, Ä‘á»“ thá»‹ hay hÃ¬nh áº£nh sá»­ dá»¥ng cÃ¡c hÃ¬nh dáº¡ng, mÃ u sáº¯c, khoáº£ng cÃ¡ch Ä‘á»ƒ con ngÆ°á»i dá»… dÃ ng nháº­n thá»©c vÃ  hiá»ƒu vá» dá»¯ liá»‡u. Trá»±c quan hÃ³a dá»¯ liá»‡u cÃ²n cÃ³ thá»ƒ giÃºp ngÆ°á»i phÃ¢n tÃ­ch tÃ¬m ra nhá»¯ng giÃ¡ trá»‹ áº©n chá»©a trong dá»¯ liá»‡u.","code":""},{"path":"index.html","id":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","text":"","code":""},{"path":"index.html","id":"Ä‘á»‘i-tÆ°á»£ng-dÃ¹ng-Ä‘á»ƒ-lÆ°u-dá»¯-liá»‡u-trong-r","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"4.1 Äá»‘i tÆ°á»£ng dÃ¹ng Ä‘á»ƒ lÆ°u dá»¯ liá»‡u trong R","text":"Hai kiá»ƒu Ä‘á»‘i tÆ°á»£ng thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ lÆ°u dá»¯ liá»‡u trong R lÃ  \\(data.frame\\) vÃ  \\(tibble\\). ChÃºng ta sáº½ tháº£o luáº­n vá» \\(data.frame\\) trÆ°á»›c vÃ¬ Ä‘Ã¢y lÃ  kiá»ƒu lÆ°u dá»¯ liá»‡u phá»• biáº¿n. Kiá»ƒu \\(tibble\\) vá»›i má»™t vÃ i Æ°u Ä‘iá»ƒm hÆ¡n \\(data.frame\\) sáº½ Ä‘Æ°á»£c tháº£o luáº­n trong pháº§n tiáº¿p theo.","code":""},{"path":"index.html","id":"data.frame-lÃ -gÃ¬","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"4.1.1 \\(data.frame\\) lÃ  gÃ¬?","text":"\\(data.frame\\) lÃ  Ä‘á»‘i tÆ°á»£ng phá»• biáº¿n nháº¥t Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u trÃªn cá»­a sá»• lÃ m viá»‡c cá»§a R. Hiá»ƒu má»™t cÃ¡ch Ä‘Æ¡n giáº£n, má»™t \\(data.frame\\) lÃ  má»™t báº£ng excel mÃ  má»—i cá»™t tÆ°Æ¡ng á»©ng vá»›i má»™t vÃ©c-tÆ¡ vÃ  má»—i dÃ²ng tÆ°Æ¡ng á»©ng vá»›i má»™t quan sÃ¡t. Ngay khi cÃ i Ä‘áº·t R, Ä‘Ã£ cÃ³ nhiá»u Ä‘á»‘i tÆ°á»£ng lÃ  dá»¯ liá»‡u kiá»ƒu \\(data.frame\\) Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trá»¯ trong R vÃ  sáºµn sÃ ng sá»­ dá»¥ng mÃ  khÃ´ng cáº§n gá»i thÆ° viá»‡n bá»• sung. Äá»ƒ biáº¿t trÃªn cá»­a sá»• Rstudio Ä‘ang sá»­ dá»¥ng cÃ³ nhá»¯ng dá»¯ liá»‡u nÃ o, báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¢u lá»‡nh data()Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y trÃªn cá»­a sá»• R Script xuáº¥t hiá»‡n má»™t cá»­a sá»• má»›i vá»›i danh sÃ¡ch táº¥t cáº£ cÃ¡c dá»¯ liá»‡u sáºµn cÃ³ trong R vÃ  dá»¯ liá»‡u sáºµn cÃ³ trong cÃ¡c thÆ° viá»‡n Ä‘Æ°á»£c cÃ i Ä‘áº·t thÃªm mÃ  báº¡n Ä‘á»c Ä‘ang gá»i ra trÃªn cá»­a sá»• lÃ m viá»‡c. Äá»ƒ biáº¿t trong má»™t thÆ° viá»‡n Ä‘ang Ä‘Æ°á»£c gá»i ra trÃªn cá»­a sá»• Rstudio cÃ³ nhá»¯ng dá»¯ liá»‡u nÃ o, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng lá»‡nh data() kÃ¨m vá»›i tÃ¹y chá»n \\(package\\)Trong danh sÃ¡ch dá»¯ liá»‡u cá»§a thÆ° viá»‡n \\(dslabs\\), báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y má»™t Ä‘á»‘i tÆ°á»£ng cÃ³ tÃªn \\(murders\\). ÄÃ¢y lÃ  má»™t \\(data.frame\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm tra kiá»ƒu cá»§a Ä‘á»‘i tÆ°á»£ng nÃ y báº±ng hÃ m class()ThÃ´ng thÆ°á»ng Ä‘á»ƒ cÃ³ hiá»ƒu biáº¿t ban Ä‘áº§u vá» má»™t Ä‘á»‘i tÆ°á»£ng kiá»ƒu \\(data.frame\\), báº¡n Ä‘á»c nÃªn báº¯t Ä‘áº§u báº±ng Ä‘á»c mÃ´ táº£ vá» dá»¯ liá»‡u (náº¿u cÃ³) báº±ng cÃ¡ch sá»­ dá»¥ng ?NhÃ³m cÃ¡c cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y giÃºp báº¡n Ä‘á»c hiá»ƒu Ä‘Æ°á»£c cáº¥u trÃºc cá»§a dá»¯ liá»‡u trong \\(data.frame\\) Ä‘Ã³HÃ m head() hiá»ƒn thá»‹ nhanh cÃ¡c dÃ²ng Ä‘áº§u tiÃªn cá»§a dá»¯ liá»‡u cho báº¡n Ä‘á»c cÃ¡i nhÃ¬n ban Ä‘áº§u, tuy nhiÃªn hÃ m head() khÃ´ng hiá»‡u quáº£ khi dá»¯ liá»‡u cÃ³ nhiá»u cá»™t.HÃ m head() hiá»ƒn thá»‹ nhanh cÃ¡c dÃ²ng Ä‘áº§u tiÃªn cá»§a dá»¯ liá»‡u cho báº¡n Ä‘á»c cÃ¡i nhÃ¬n ban Ä‘áº§u, tuy nhiÃªn hÃ m head() khÃ´ng hiá»‡u quáº£ khi dá»¯ liá»‡u cÃ³ nhiá»u cá»™t.HÃ m View() cho hiá»ƒn thá»‹ vá» dá»¯ liá»‡u dá»… nhÃ¬n nháº¥t. HÃ m View() cÃ³ háº¡n cháº¿ khi dá»¯ liá»‡u cÃ³ quÃ¡ nhiá»u dÃ²ng hoáº·c nhiá»u cá»™t vÃ  thá»i gian hiá»ƒn thá»‹ lÃ¢u hÆ¡n vá»›i head().HÃ m View() cho hiá»ƒn thá»‹ vá» dá»¯ liá»‡u dá»… nhÃ¬n nháº¥t. HÃ m View() cÃ³ háº¡n cháº¿ khi dá»¯ liá»‡u cÃ³ quÃ¡ nhiá»u dÃ²ng hoáº·c nhiá»u cá»™t vÃ  thá»i gian hiá»ƒn thá»‹ lÃ¢u hÆ¡n vá»›i head().HÃ m str() lÃ  cÃ¡ch hiá»ƒn thá»‹ dá»¯ liá»‡u má»™t cÃ¡ch tá»•ng quÃ¡t vÃ  hiá»‡u quáº£ hÆ¡n vá»›i head() hoáº·c View(). Káº¿t quáº£ tá»« hÃ m str() vá»›i dá»¯ liá»‡u \\(murders\\) cho tháº¥y Ä‘Ã¢y lÃ  má»™t dá»¯ liá»‡u dáº¡ng báº£ng vá»›i 5 cá»™t (5 variables) vÃ  51 dÃ²ng (51 observations). NgoÃ i ra, sá»­ dá»¥ng hÃ m str() báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y Ä‘Æ°á»£c kiá»ƒu dá»¯ liá»‡u cá»§a tá»«ng cá»™t; cháº³ng háº¡n nhÆ° cá»™t \\(state\\) lÃ  cá»™t chá»©a dá»¯ liá»‡u kiá»ƒu \\(character\\); cá»™t \\(region\\) cÃ³ kiá»ƒu dá»¯ liá»‡u lÃ  \\(factor\\),â€¦HÃ m str() lÃ  cÃ¡ch hiá»ƒn thá»‹ dá»¯ liá»‡u má»™t cÃ¡ch tá»•ng quÃ¡t vÃ  hiá»‡u quáº£ hÆ¡n vá»›i head() hoáº·c View(). Káº¿t quáº£ tá»« hÃ m str() vá»›i dá»¯ liá»‡u \\(murders\\) cho tháº¥y Ä‘Ã¢y lÃ  má»™t dá»¯ liá»‡u dáº¡ng báº£ng vá»›i 5 cá»™t (5 variables) vÃ  51 dÃ²ng (51 observations). NgoÃ i ra, sá»­ dá»¥ng hÃ m str() báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y Ä‘Æ°á»£c kiá»ƒu dá»¯ liá»‡u cá»§a tá»«ng cá»™t; cháº³ng háº¡n nhÆ° cá»™t \\(state\\) lÃ  cá»™t chá»©a dá»¯ liá»‡u kiá»ƒu \\(character\\); cá»™t \\(region\\) cÃ³ kiá»ƒu dá»¯ liá»‡u lÃ  \\(factor\\),â€¦Má»™t hÃ m sá»‘ hiá»‡u quáº£ khÃ¡c thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ báº¡n Ä‘á»c cÃ³ cÃ¡i nhÃ¬n tá»•ng quan vá» dá»¯ liá»‡u lÃ  hÃ m summary(). ChÃºng ta cÃ³ thá»ƒ quan sÃ¡t káº¿t quáº£ khi sá»­ dá»¥ng hÃ m `summary() vá»›i dá»¯ liá»‡u \\(murders\\) nhÆ° sauHÃ m summary() cho biáº¿t thÃ´ng chi tiáº¿t hÆ¡n vá» giÃ¡ trá»‹ trong má»—i cá»™t.Cá»™t \\(state\\) vÃ  cá»™t \\(abb\\) lÃ  cá»™t mÃ  giÃ¡ trá»‹ trong Ä‘Ã³ lÃ  kiá»ƒu \\(character\\)Cá»™t \\(state\\) vÃ  cá»™t \\(abb\\) lÃ  cá»™t mÃ  giÃ¡ trá»‹ trong Ä‘Ã³ lÃ  kiá»ƒu \\(character\\)Cá»™t \\(region\\) lÃ  kiá»ƒu factor, cÃ³ thá»ƒ nháº­n má»™t trong bá»‘n giÃ¡ trá»‹ lÃ  \\(Northeast\\), \\(South\\), \\(North\\) \\(Central\\), hoáº·c \\(West\\) vÃ  cho biáº¿t má»—i giÃ¡ trá»‹ xuáº¥t hiá»‡n bao nhiÃªu láº§n trong cá»™t dá»¯ liá»‡u.Cá»™t \\(region\\) lÃ  kiá»ƒu factor, cÃ³ thá»ƒ nháº­n má»™t trong bá»‘n giÃ¡ trá»‹ lÃ  \\(Northeast\\), \\(South\\), \\(North\\) \\(Central\\), hoáº·c \\(West\\) vÃ  cho biáº¿t má»—i giÃ¡ trá»‹ xuáº¥t hiá»‡n bao nhiÃªu láº§n trong cá»™t dá»¯ liá»‡u.CÃ¡c cá»™t \\(population\\) vÃ  \\(total\\) lÃ  cÃ¡c cá»™t kiá»ƒu sá»‘. ChÃºng ta cÃ³ thá»ƒ tháº¥y cÃ¡c giÃ¡ trá»‹ lá»›n nháº¥t, nhá» nháº¥t, giÃ¡ trá»‹ trung bÃ¬nh vÃ  cÃ¡c giÃ¡ trá»‹ tá»© phÃ¢n vá»‹. Báº¡n Ä‘á»c cÃ³ thá»ƒ hÃ¬nh dung ra phÃ¢n phá»‘i cá»§a cÃ¡c giÃ¡ trá»‹ trong cá»™t giÃ¡ trá»‹ kiá»ƒu sá»‘.CÃ¡c cá»™t \\(population\\) vÃ  \\(total\\) lÃ  cÃ¡c cá»™t kiá»ƒu sá»‘. ChÃºng ta cÃ³ thá»ƒ tháº¥y cÃ¡c giÃ¡ trá»‹ lá»›n nháº¥t, nhá» nháº¥t, giÃ¡ trá»‹ trung bÃ¬nh vÃ  cÃ¡c giÃ¡ trá»‹ tá»© phÃ¢n vá»‹. Báº¡n Ä‘á»c cÃ³ thá»ƒ hÃ¬nh dung ra phÃ¢n phá»‘i cá»§a cÃ¡c giÃ¡ trá»‹ trong cá»™t giÃ¡ trá»‹ kiá»ƒu sá»‘.Trong trÆ°á»ng há»£p cá»™t cÃ³ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c, hÃ m summary() cÅ©ng sáº½ cho biáº¿t cÃ³ bao nhiÃªu giÃ¡ trá»‹ nÃ y trong má»—i cá»™t.Trong trÆ°á»ng há»£p cá»™t cÃ³ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c, hÃ m summary() cÅ©ng sáº½ cho biáº¿t cÃ³ bao nhiÃªu giÃ¡ trá»‹ nÃ y trong má»—i cá»™t.Äá»ƒ láº¥y ra má»™t cá»™t dá»¯ liá»‡u cá»§a má»™t \\(data.frame\\) chÃºng ta sá»­ dá»¥ng \\(\\$\\). Cháº³ng háº¡n nhÆ° Ä‘á»ƒ láº¥y giÃ¡ trá»‹ cá»™t \\(population\\) cá»§a dá»¯ liá»‡u \\(murders\\):NhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, kiá»ƒu dá»¯ liá»‡u cá»§a cá»™t \\(region\\) lÃ  kiá»ƒu \\(factor\\). Vá» báº£n cháº¥t, vÃ©c-tÆ¡ kiá»ƒu \\(factor\\) lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± nhÆ°ng Ä‘Æ°á»£c lÆ°u theo má»™t cÃ¡ch hiá»‡u quáº£ hÆ¡n, tiáº¿t kiá»‡m bá»™ nhá»›, vÃ  thuáº­n lá»£i cho ngÆ°á»i sá»­ dá»¥ng khi phÃ¢n tÃ­ch dá»¯ liá»‡u.Dá»¯ liá»‡u kiá»ƒu factor sáº½ lÆ°u vÃ©c-tÆ¡ chuá»—i kÃ½ tá»± dÆ°á»›i dáº¡ng vec-tÆ¡ sá»‘ tá»± nhiÃªn vÃ  má»—i chuá»—i kÃ½ tá»± sáº½ Ä‘Æ°á»£c cho tÆ°Æ¡ng á»©ng vá»›i má»™t sá»‘ tá»± nhiÃªn. CÃ¡c lÆ°u nÃ y hiá»‡u quáº£ hÆ¡n vá» bá»™ nhá»› khi lÃ m viá»‡c vá»›i cÃ¡c vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± náº¿u cÃ³ nhiá»u chuá»—i kÃ½ tá»± bá»‹ láº·p láº¡i trong vÃ©c-tÆ¡. Äá»ƒ biáº¿t má»™t vec-tÆ¡ dáº¡ng factor cÃ³ bao nhiÃªu giÃ¡ trá»‹ riÃªng biá»‡t, má»—i giÃ¡ trá»‹ riÃªng biá»‡t Ä‘Æ°á»£c cho tÆ°Æ¡ng á»©ng vá»›i sá»‘ tá»± nhiÃªn nÃ o, vÃ  má»—i giÃ¡ trá»‹ riÃªng biá»‡t Ä‘Æ°á»£c láº·p láº¡i bao nhiÃªu láº§n trong vÃ©c-tÆ¡, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m summary() hoáº·c hÃ m table()Káº¿t quáº£ tá»« hÃ m table() cho tháº¥y cá»™t \\(region\\) cÃ³ 4 giÃ¡ trá»‹; cÃ¡ch cho tÆ°Æ¡ng á»©ng má»—i chuá»—i kÃ½ tá»± vá»›i cÃ¡c sá»‘ láº§n lÆ°á»£t lÃ  \\(Northeast \\rightarrow 1\\) ; \\(South \\rightarrow 2\\); \\(North Central \\rightarrow 3\\), vÃ  \\(West \\rightarrow 4\\); táº§n suáº¥t xuáº¥t hiá»‡n cá»§a má»—i giÃ¡ trá»‹ cÅ©ng Ä‘Æ°á»£c cho trong báº£ng: cÃ³ 9 giÃ¡ trá»‹ \\(Northeast\\), cÃ³ 17 giÃ¡ trá»‹ \\(South\\), cÃ³ 12 giÃ¡ trá»‹ \\(North Central\\), vÃ  13 giÃ¡ trá»‹ \\(West\\).Khi lÆ°u dá»¯ liá»‡u kiá»ƒu factor thay vÃ¬ chuá»—i kÃ½ tá»± nghÄ©a lÃ  báº¡n Ä‘á»c Ä‘ang Ä‘á»‹nh nghÄ©a dá»¯ liá»‡u lÃ  kiá»ƒu biáº¿n rá»i ráº¡c (categorial variable). Biáº¿n cÃ³ thá»ƒ trá»±c tiáº¿p Ä‘Æ°a vÃ o cÃ¡c mÃ´ hÃ¬nh vÃ  khÃ´ng cáº§n thá»±c hiá»‡n thÃªm biáº¿n Ä‘á»•i nÃ o khÃ¡c.Trong háº§u háº¿t cÃ¡c trÆ°á»ng há»£p báº¡n Ä‘á»c sáº½ dÃ¹ng R Ä‘á»ƒ xá»­ lÃ½ dá»¯ liá»‡u tá»« nguá»“n ngoÃ i vÃ o. ChÃºng ta sáº½ sá»­ dá»¥ng cÃ¡c hÃ m cÃ³ sáºµn trong R Ä‘á»c dá»¯ liá»‡u vÃ  káº¿t quáº£ Ä‘áº§u ra cá»§a hÃ m nÃ y sáº½ lÃ  cÃ¡c \\(data.frame\\). Trong má»™t vÃ i trÆ°á»ng há»£p, báº¡n Ä‘á»c sáº½ pháº£i tá»± táº¡o \\(data.frame\\). CÃ¢u lá»‡nh Ä‘á»ƒ táº¡o má»™t \\(data.frame\\) (tÃªn \\(df\\)) vá»›i cÃ¡c cá»™t cÃ³ tÃªn láº§n lÆ°á»£t lÃ  \\(id\\), \\(names\\), \\(grades\\), vÃ  \\(result\\) Ä‘Æ°á»£c viáº¿t nhÆ° sauÄá»‘i tÆ°á»£ng kiá»ƒu \\(data.frame\\) cÃ³ má»™t vÃ i nhÆ°á»£c Ä‘iá»ƒm khi sá»­ dá»¥ng Ä‘á»ƒ lÆ°u dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R. Ä‘Ã³ kiá»ƒu Ä‘á»‘i tÆ°á»£ng má»›i Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘á»ƒ kháº¯c phá»¥c cÃ¡c nhÆ°á»£c Ä‘iá»ƒm nÃ y, Ä‘Ã³ lÃ  \\(tibble\\). Pháº§n tiáº¿p theo chÃºng ta sáº½ tháº£o luáº­n vá» Ä‘á»‘i tÆ°á»£ng nÃ y.","code":"\ndata()\nlibrary(dslabs) # gá»i thÆ° viá»‡n dslabs lÃªn trÃªn mÃ n hÃ¬nh \ndata(package = \"dslabs\") # cho biáº¿t cÃ³ nhá»¯ng data nÃ o trong thÆ° viá»‡n dslabs\nclass(murders) # trÃªn mÃ n hÃ¬nh console sáº½ cho biáº¿t Ä‘Ã¢y lÃ  má»™t data frame## [1] \"data.frame\"\n? murders # trÃªn cá»­a sá»• help sáº½ hiá»ƒn thá»‹ mÃ´ táº£ vá» murders\nView(murders) # Hiá»ƒn thá»‹ data.frame dÆ°á»›i dáº¡ng báº£ng \nhead(murders,k = 5) # Hiá»ƒn thá»‹ k dÃ²ng Ä‘áº§u tiÃªn cá»§a data.frame##        state abb region population total\n## 1    Alabama  AL  South    4779736   135\n## 2     Alaska  AK   West     710231    19\n## 3    Arizona  AZ   West    6392017   232\n## 4   Arkansas  AR  South    2915918    93\n## 5 California  CA   West   37253956  1257\n## 6   Colorado  CO   West    5029196    65\nstr(murders) # Hiá»ƒn thá»‹ cáº¥u trÃºc cá»§a data.frame.## 'data.frame':    51 obs. of  5 variables:\n##  $ state     : chr  \"Alabama\" \"Alaska\" \"Arizona\" \"Arkansas\" ...\n##  $ abb       : chr  \"AL\" \"AK\" \"AZ\" \"AR\" ...\n##  $ region    : Factor w/ 4 levels \"Northeast\",\"South\",..: 2 4 4 2 4 4 1 2 2 2 ...\n##  $ population: num  4779736 710231 6392017 2915918 37253956 ...\n##  $ total     : num  135 19 232 93 1257 ...\nsummary(murders) # in ra mÃ n hÃ¬nh cá»™t population cá»§a data.frame murders##     state               abb                      region     population      \n##  Length:51          Length:51          Northeast    : 9   Min.   :  563626  \n##  Class :character   Class :character   South        :17   1st Qu.: 1696962  \n##  Mode  :character   Mode  :character   North Central:12   Median : 4339367  \n##                                        West         :13   Mean   : 6075769  \n##                                                           3rd Qu.: 6636084  \n##                                                           Max.   :37253956  \n##      total       \n##  Min.   :   2.0  \n##  1st Qu.:  24.5  \n##  Median :  97.0  \n##  Mean   : 184.4  \n##  3rd Qu.: 268.0  \n##  Max.   :1257.0\nmurders$population # in ra mÃ n hÃ¬nh cá»™t population cá»§a data.frame murders\n# summary(murders$region) # Tá»•ng há»£p thÃ´ng tin cá»§a vec-tÆ¡ dáº¡ng factor\ntable(murders$region) # cho káº¿t quáº£ tÆ°Æ¡ng tá»± nhÆ° summary## \n##     Northeast         South North Central          West \n##             9            17            12            13\ndf<-data.frame( # hÃ m data.frame() dÃ¹ng Ä‘á»ƒ táº¡o data.frame tÃªn df\n      id = paste(\"SV\",1:5), # cá»™t cÃ³ tÃªn lÃ  ID nháº­n giÃ¡ trá»‹ \"SV1\",...,\"SV5\"\n      names = c(\"You\", \"Me\", \"Him\", \"Her\", \"John\"), # Cá»™t names\n      grades = c(5.5, 1.5, 10.0, 9.0, 7.6), # Cá»™t grades\n      result = c(TRUE, FALSE,TRUE, TRUE, TRUE)) # Cá»™t result"},{"path":"index.html","id":"tibble-lÃ -má»™t-cáº£i-tiáº¿n-cá»§a-data.frame","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"4.1.2 \\(tibble\\) lÃ  má»™t cáº£i tiáº¿n cá»§a \\(data.frame\\)?","text":"Vá» cÆ¡ báº£n má»™t \\(tibble\\) lÃ  cÅ©ng cÃ³ thá»ƒ hiá»ƒu lÃ  má»™t \\(data.frame\\) vá»›i má»™t vÃ i Ä‘iá»u chá»‰nh Ä‘á»ƒ giÃºp viá»‡c láº¥y dá»¯ liá»‡u tá»« nguá»“n bÃªn ngoÃ i vÃ o phÃ¢n tÃ­ch trá»Ÿ nÃªn dá»… dÃ ng hÆ¡n. á» má»©c Ä‘á»™ phÃ¢n tÃ­ch dá»¯ liá»‡u thÃ´ng thÆ°á»ng, sá»± khÃ¡c khÃ¡c nhau giá»¯a \\(tibble\\) vÃ  \\(data.frame\\) lÃ  khÃ´ng Ä‘Ã¡ng ká»ƒ. Náº¿u cáº§n liá»‡t kÃª ra sá»± khÃ¡c nhau cÆ¡ báº£n giá»¯u hai Ä‘á»‘i tÆ°á»£ng nÃ y thÃ¬ cÃ³ thá»ƒ ká»ƒ Ä‘áº¿n:Thá»© nháº¥t: khi má»™t \\(tibble\\) ra mÃ n hÃ¬nh sáº½ chá»‰ cÃ³ 10 dÃ²ng Ä‘áº§u Ä‘Æ°á»£c hiá»ƒn thá»‹ vÃ  sá»‘ lÆ°á»£ng cá»™t cá»§a má»™t \\(tibble\\) luÃ´n luÃ´n khá»›p vá»›i kÃ­ch thÆ°á»›c cá»­a sá»• R Console, Ä‘á»“ng thá»i kiá»ƒu dá»¯ liá»‡u cá»§a má»—i cá»™t sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ ngay dÆ°á»›i tÃªn cá»™tThá»© hai: khi láº¥y dá»¯ liá»‡u tá»« bÃªn ngoÃ i vÃ o trong R, \\(tibble\\) khÃ´ng Ä‘á»•i tÃªn cá»™t dÃ¹ tÃªn cá»™t khÃ´ng pháº£i lÃ  kiá»ƒu tÃªn Ä‘Æ°á»£c phÃ©p trong R. Äá»“ng thá»i, khi táº¡o má»™t \\(tibble\\), báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘áº·t tÃªn cá»™t lÃ  má»™t kiá»ƒu tÃªn khÃ´ng Ä‘Æ°á»£c phÃ©p sá»­ dá»¥ng vá»›i tÃªn biáº¿n thÃ´ng thÆ°á»ng.Thá»© hai: khi láº¥y dá»¯ liá»‡u tá»« bÃªn ngoÃ i vÃ o trong R, \\(tibble\\) khÃ´ng Ä‘á»•i tÃªn cá»™t dÃ¹ tÃªn cá»™t khÃ´ng pháº£i lÃ  kiá»ƒu tÃªn Ä‘Æ°á»£c phÃ©p trong R. Äá»“ng thá»i, khi táº¡o má»™t \\(tibble\\), báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘áº·t tÃªn cá»™t lÃ  má»™t kiá»ƒu tÃªn khÃ´ng Ä‘Æ°á»£c phÃ©p sá»­ dá»¥ng vá»›i tÃªn biáº¿n thÃ´ng thÆ°á»ng.Cuá»‘i cÃ¹ng, khi dá»¯ liá»‡u tá»« bÃªn ngoÃ i Ä‘Æ°á»£c lÆ°u vÃ o má»™t \\(tibble\\), kiá»ƒu dá»¯ liá»‡u sáº½ khÃ´ng thay Ä‘á»•i.Cuá»‘i cÃ¹ng, khi dá»¯ liá»‡u tá»« bÃªn ngoÃ i Ä‘Æ°á»£c lÆ°u vÃ o má»™t \\(tibble\\), kiá»ƒu dá»¯ liá»‡u sáº½ khÃ´ng thay Ä‘á»•i.Äá»ƒ táº¡o má»™t \\(tibble\\), báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m tibble(). Báº¡n Ä‘á»c cÃ³ thá»ƒ táº¡o ra má»™t dá»¯ liá»‡u cÃ³ 3 cá»™t mÃ  tÃªn cÃ¡c cá»™t Ä‘á»u khÃ´ng thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m tÃªn biáº¿n trong R nhÆ° sauNáº¿u thay tháº¿ Ä‘oáº¡n lá»‡nh trÃªn báº±ng hÃ m data.frame() thÃ¬ hÃ m \\(data.frame\\) Ä‘Æ°á»£c táº¡o thÃ nh sáº½ tá»± Ä‘á»™ng thay Ä‘á»•i tÃªn cá»™tBáº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng dá»¯ liá»‡u cÃ³ tÃªn \\(df\\) náº¿u Ä‘Æ°á»£c lÆ°u dÆ°á»›i dáº¡ng \\(data.frame\\) thÃ¬ tÃªn cÃ¡c cá»™t Ä‘Ã£ Ä‘Æ°á»£c tá»± Ä‘á»™ng thay Ä‘á»•i cho thÃ­ch há»£p vá»›i tÃªn biáº¿n. Nhá»¯ng Ä‘iá»ƒm khÃ¡c nhau giá»¯a \\(tibble\\) vÃ  \\(data.frame\\) sáº½ Ä‘Æ°á»£c tiáº¿p tá»¥c tháº£o luáº­n á»Ÿ cÃ¡c pháº§n tiáº¿p theo khi chÃºng tÃ´i giá»›i thiá»‡u vá» cÃ¡c hÃ m dÃ¹ng Ä‘á»ƒ nháº­p dá»¯ liá»‡u vÃ o R.","code":"\nlibrary(tibble)\ntrump_tweets # in má»™t data frame ra mÃ n hÃ¬nh sáº½ khÃ´ng hiá»‡u quáº£\n# HÃ m as_tibble Ä‘á»•i data.frame sang tibble\nas_tibble(trump_tweets) # Hiá»ƒn thá»‹ 1 tibble hiá»‡u quáº£ hÆ¡n.\ntib<-tibble( # hÃ m tibble dÃ¹ng Ä‘á»ƒ táº¡o tibble\n  \":D\" = c(1,2,3), # cÃ³ thá»ƒ dÃ¹ng tÃªn cá»™t lÃ  \":D\"\n  \":p\" = c(\"X\",\"Y\",\"Z\"), # cÃ³ thá»ƒ dÃ¹ng tÃªn cá»™t lÃ  \":p\"\n  \"1\" = 2 # cÃ³ thá»ƒ dÃ¹ng tÃªn cá»™t lÃ  \"1\"\n)\ntib## # A tibble: 3 Ã— 3\n##    `:D` `:p`    `1`\n##   <dbl> <chr> <dbl>\n## 1     1 X         2\n## 2     2 Y         2\n## 3     3 Z         2\ndf<-data.frame( # táº¡o data.frame thay vÃ¬ tibble\n  \":D\" = c(1,2,3), # data.frame sáº½ Ä‘á»•i tÃªn cá»™t cho phÃ¹ há»£p\n  \":p\" = c(\"X\",\"Y\",\"Z\"), # data.frame sáº½ Ä‘á»•i tÃªn cá»™t cho phÃ¹ há»£p\n  \"1\" = 2 # data.frame sáº½ Ä‘á»•i tÃªn cá»™t cho phÃ¹ há»£p\n)\ndf # hÃ£y quan sÃ¡t xem tÃªn cá»™t cá»§a df thay Ä‘á»•i nhÆ° tháº¿ nÃ o##   X.D X.p X1\n## 1   1   X  2\n## 2   2   Y  2\n## 3   3   Z  2"},{"path":"index.html","id":"nháº­p-dá»¯-liá»‡u-báº±ng-hÃ m-sáºµn-cÃ³.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"4.1.3 Nháº­p dá»¯ liá»‡u báº±ng hÃ m sáºµn cÃ³.","text":"Danh sÃ¡ch cÃ¡c hÃ m sáºµn cÃ³ trong R vÃ  kiá»ƒu dá»¯ liá»‡u tÆ°Æ¡ng á»©ng cÃ³ thá»ƒ nháº­p Ä‘Æ°á»£c liá»‡t kÃª trong cÃ¡c báº£ng sau:\n(#tab:unnamed-chunk-14)Danh sÃ¡ch hÃ m cÃ³ sáºµn Ä‘á»ƒ láº¥y dá»¯ liá»‡u tá»« nguá»“n bÃªn ngoÃ i\nKhi láº¥y dá»¯ liá»‡u tá»« cÃ¡c nguá»“n bÃªn ngoÃ i vÃ o báº±ng cÃ¡c cÃ¢u lá»‡nh cÃ³ sáºµn, tÃªn cá»§a cÃ¡c cá»™t dá»¯ liá»‡u cÃ³ thá»ƒ bá»‹ thay Ä‘á»•i má»™t sá»‘ tÃªn cá»™t khÃ´ng thá»ƒ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ Ä‘áº·t tÃªn cá»§a \\(data.frame\\). Ä‘Ã³, báº¡n Ä‘á»c hÃ£y luÃ´n kiá»ƒm tra láº¡i tÃªn cÃ¡c cá»™t dá»¯ liá»‡u sau khi Ä‘á»c. HÃ m names() cho biáº¿t tÃªn cÃ¡c cá»™t cá»§a má»™t \\(data.frame\\).Äá»ƒ Ä‘á»•i tÃªn cá»§a \\(data.frame\\) á»Ÿ trÃªn, báº¡n Ä‘á»c cáº§n gÃ¡n \\(names(df)\\) báº±ng má»™t vÃ©c-tÆ¡ chá»©a tÃªn cÃ¡c cá»™t. HÃ£y Ä‘áº£m báº£o ráº±ng Ä‘á»™ dÃ i cá»§a vec-tÆ¡ chá»©a tÃªn cá»™t báº±ng sá»‘ cá»™t cá»§a \\(data.frame\\)","code":"\ndf<-read.csv(header = TRUE, \n              text = \"@1,@2 \n                      1,2 \n                      3,4\") # sá»­ dá»¥ng read.csv Ä‘á»ƒ Ä‘á»c Ä‘oáº¡n text\nnames(df) # hiá»ƒn thá»‹ tÃªn cá»§a cÃ¡c cá»™t## [1] \"X.1\" \"X.2\"\nnames(df)<-c(\"@1\",\"@2\") # Ä‘á»•i tÃªn 2 cá»™t cá»§a data.frame df\ndf # in data.frame df##   @1 @2\n## 1  1  2\n## 2  3  4"},{"path":"index.html","id":"nháº­p-dá»¯-liá»‡u-báº±ng-thÆ°-viá»‡n-readr.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"4.1.4 Nháº­p dá»¯ liá»‡u báº±ng thÆ° viá»‡n \\(readr\\).","text":"CÃ¡c cÃ¢u lá»‡nh Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u cá»§a thÆ° viá»‡n \\(readr\\) tÆ°Æ¡ng tá»± nhÆ° cÃ¡c cÃ¢u lá»‡nh sáºµn cÃ³, nhÆ°ng Ä‘áº·c biá»‡t hiá»‡u quáº£ hÆ¡n vá» thá»i gian Ä‘á»c dá»¯ liá»‡u. HÃ m sá»‘ dÃ¹ng Ä‘á»ƒ Ä‘á»c cÃ¡c file Ä‘á»‹nh dáº¡ng \\(csv\\) trong thÆ° viá»‡n \\(readr\\) lÃ  hÃ m read_csv(). Äá»ƒ sÃ¡nh thá»i gian Ä‘á»c dá»¯ liá»‡u vÃ o R cá»§a hÃ m read_csv() vÃ  hÃ m read.csv() chÃºng ta sáº½ táº¡o hai file dá»¯ liá»‡u bao gá»“m test1.csv vÃ  test2.csvBáº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm tra kÃ­ch thÆ°á»›c cá»§a cÃ¡c file test1.csv vÃ  test2.csv láº§n lÆ°á»£t lÃ  khoáº£ng 18 Mega byte vÃ  180 Mega byte. ChÃºng ta sáº½ kiá»ƒm tra thá»i gian mÃ  cÃ¡c hÃ m read.csv() vÃ  read_csv() nháº­p dá»¯ liá»‡u Ä‘á»‘i vá»›i dá»¯ liá»‡u test1.csv trÆ°á»›c:Äá»‘i vá»›i dá»¯ liá»‡u \\(test1.csv\\) thÃ¬ thá»i gian nháº­p dá»¯ liá»‡u cá»§a read_csv() cÃ³ nhanh hÆ¡n nhÆ°ng khÃ´ng cÃ³ sá»± khÃ¡c biá»‡t Ä‘Ã¡ng ká»ƒ. Tuy nhiÃªn sá»± khÃ¡c biá»‡t sáº½ rÃµ rÃ ng khi nháº­p dá»¯ liá»‡u \\(test2.csv\\). Báº¡n Ä‘á»c cÃ¢n nháº¯c khi dÃ¹ng hÃ m read.csv() Ä‘á»c dá»¯ liá»‡u thá»i gian nháº­p dá»¯ liá»‡u cÃ³ thá»ƒ lÃªn Ä‘áº¿n hÆ¡n 20 phÃºt.HÃ m read_csv() sáº½ máº¥t khoáº£ng 2 phÃºt Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u \\(test2.csv\\), nghÄ©a lÃ  thá»i gian tiáº¿t kiÃªm lÃªn Ä‘áº¿n hÆ¡n 10 láº§n! Danh sÃ¡ch cÃ¡c hÃ m Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u trong gÃ³i lá»‡nh \\(readr\\) nhÆ° sau\n(#tab:unnamed-chunk-19)Danh sÃ¡ch hÃ m Ä‘á»c dá»¯ liá»‡u cá»§a readr\nMá»™t sá»± khÃ¡c biá»‡t cÆ¡ báº£n khÃ¡c cá»§a cÃ¡c hÃ m Ä‘á»c dá»¯ liá»‡u trong readr Ä‘Ã³ lÃ  dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u vÃ o má»™t Tibble thay vÃ¬ má»™t Data frame. Äiá»u nÃ y giÃºp cho dá»¯ liá»‡u khÃ´ng bá»‹ thay Ä‘á»•i Ä‘á»‹nh dáº¡ng vÃ  giá»¯ nguyÃªn tÃªn cá»™t. CÃ¡c lÆ°u Ã½ khÃ¡c khi báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¡c hÃ m sá»‘ Ä‘á»c dá»¯ liá»‡u cá»§a readrCÃ¡c hÃ m sá»‘ trong readr luÃ´n hiá»ƒu hÃ ng Ä‘áº§u tiÃªn cá»§a dá»¯ liá»‡u lÃ  tÃªn cá»§a má»—i cá»™t. Ä‘Ã³, báº¡n Ä‘á»c cáº§n sá»­ dá»¥ng tham sá»‘ \\(col_names = FALSE\\) náº¿u khÃ´ng muá»‘n readr hiá»ƒu hÃ ng Ä‘áº§u tiÃªn lÃ  tÃªn cá»§a má»—i cá»™t dá»¯ liá»‡u.Trong nhiá»u file dá»¯ liá»‡u cÃ¡c hÃ ng Ä‘áº§u tiÃªn lÃ  cÃ¡c mÃ´ táº£ vá» dá»¯ liá»‡u nÃªn khi sá»­ dá»¥ng readr, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng tÃ¹y biáº¿n \\(skip = k\\) Ä‘á»ƒ loáº¡i bá» \\(k\\) dÃ²ng Ä‘áº§u tiÃªn trong file dá»¯ liá»‡u.Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng tham sá»‘ \\(col_names\\) Ä‘á»ƒ gÃ¡n giÃ¡ trá»‹ cho tÃªn cÃ¡c cá»™t, tuy nhiÃªn lá»i khuyÃªn cá»§a chÃºng tÃ´i lÃ  báº¡n Ä‘á»c hÃ£y Ä‘áº·t tÃªn cho cÃ¡c cá»™t báº±ng hÃ m \\(names()\\) sau khi lÆ°u dá»¯ liá»‡u vÃ o tibble Ä‘á»ƒ trÃ¡nh sá»± phá»©c táº¡p khÃ´ng Ä‘Ã¡ng cÃ³.CÃ¡ch sá»­ dá»¥ng cÃ¡c hÃ m khÃ¡c ngoÃ i read_csv() báº¡n Ä‘á»c cÃ³ thá»ƒ tham kháº£o trong hÆ°á»›ng dáº«n cá»§a gÃ³i lá»‡nh \\(readr\\). Sau khi Ä‘á»c qua hÆ°á»›ng dáº«n, báº¡n Ä‘á»c hÃ£y thá»­ kiá»ƒm tra xem cÃ¡c cÃ¢u lá»‡nh sau cÃ³ váº¥n Ä‘á» gÃ¬ vÃ  náº¿u cÃ³ thá»ƒ, báº¡n Ä‘á»c hÃ£y thá»­ lá»±a chá»n hÃ m hoáº·c thÃªm tham sá»‘ phÃ¹ há»£p Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u","code":"\nx<-matrix(rnorm(10^6),10^2,10^4) # táº¡o thÃ nh 1 ma tráº­n 100 hÃ ng, 10^4 cá»™t\nwrite.csv(x,\"test1.csv\") # lÆ°u ma tran thanh file .csv\nx<-matrix(rnorm(10^7),10^2,10^5) # táº¡o thÃ nh 1 ma tráº­n 100 hÃ ng, 10^5 cá»™t\nwrite.csv(x,\"test2.csv\") # lÆ°u ma tran thanh file .csv\nstart<-proc.time() # lÆ°u láº¡i thá»i Ä‘iá»ƒm trÆ°á»›c khi cháº¡y read.csv\ndat<-read.csv(\"test1.csv\") # dÃ¹ng hÃ m read.csv Ä‘á»ƒ load dá»¯ liá»‡u \nproc.time() - start # tÃ­nh thá»i gian hÃ m read.csv cháº¡y\n\nstart<-proc.time() # lÆ°u láº¡i thá»i Ä‘iá»ƒm trÆ°á»›c khi cháº¡y read_csv\ndat<-read_csv(\"test1.csv\") # dÃ¹ng hÃ m read_csv Ä‘á»ƒ load dá»¯ liá»‡u \nproc.time() - start # tÃ­nh thá»i gian hÃ m read_csv cháº¡y\nstart<-proc.time() # lÆ°u láº¡i thá»i Ä‘iá»ƒm trÆ°á»›c khi cháº¡y read.csv\ndat<-read.csv(\"test2.csv\") # !!! THá»œI GIAN CHáº Y CÃ“ THá»‚ LÃŠN Äáº¾N 20-25 phÃºt\nproc.time() - start # tÃ­nh thá»i gian hÃ m read.csv cháº¡y\n\nstart<-proc.time() # lÆ°u láº¡i thá»i Ä‘iá»ƒm trÆ°á»›c khi cháº¡y read_csv\ndat<-read_csv(\"test2.csv\") # dÃ¹ng hÃ m read_csv Ä‘á»ƒ load dá»¯ liá»‡u \nproc.time() - start # tÃ­nh thá»i gian hÃ m read_csv cháº¡y\nlibrary(readr)\n# Káº¿t quáº£ sáº½ lÃ  má»™t Tibble 1 hÃ ng vÃ  3 cá»™t\nread_csv(\"1,2,3 \n         4,5,6\") # tÃªn cÃ¡c cá»™t lÃ  \"1\", \"2\", vÃ  \"3\"## # A tibble: 1 Ã— 3\n##     `1`   `2`   `3`\n##   <dbl> <dbl> <dbl>\n## 1     4     5     6\n# Káº¿t quáº£ sáº½ lÃ  má»™t Tibble 2 hÃ ng vÃ  3 cá»™t\nread_csv(\"1,2,3 \n         4,5,6\", col_names = FALSE) # readr tá»± Ä‘á»™ng Ä‘áº·t tÃªn cÃ¡c cá»™t X1, X2, X3## # A tibble: 2 Ã— 3\n##      X1    X2    X3\n##   <dbl> <dbl> <dbl>\n## 1     1     2     3\n## 2     4     5     6\n# Káº¿t quáº£ sáº½ lÃ  má»™t Tibble 2 hÃ ng vÃ  3 cá»™t\nread_csv(\"TrÆ°á»ng ÄHKTQD\n        Khoa toÃ¡n Kinh táº¿\n         1,2,3 \n         4,5,6\", col_names = FALSE, skip = 2) # readr sáº½ khÃ´ng Ä‘á»c 2 dÃ²ng Ä‘áº§u## Rows: 2 Columns: 3\n## â”€â”€ Column specification â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Delimiter: \",\"\n## dbl (3): X1, X2, X3\n## \n## â„¹ Use `spec()` to retrieve the full column specification for this data.\n## â„¹ Specify the column types or set `show_col_types = FALSE` to quiet this message.## # A tibble: 2 Ã— 3\n##      X1    X2    X3\n##   <dbl> <dbl> <dbl>\n## 1     1     2     3\n## 2     4     5     6\nread_csv(\"x,y\\n1,2,3\\n4,5,6\") # \\n thay cho xuá»‘ng dÃ²ng\nread_csv(\"x,y,z\\n1,2\\n1,2,3,4\") \nread_csv(\"x,y\\n\\\",1,\\n,a,b\",col_names = FALSE) \nread_csv(\"x;y\\n1;2\\nx;y\") # Thá»­ hÃ m sá»‘ khÃ¡c\nread_csv(\"x|y\\n1|2\") # Thá»­ hÃ m sá»‘ khÃ¡c"},{"path":"index.html","id":"tÆ°Æ¡ng-tÃ¡c-giá»¯a-r-vÃ -microsoft-excel","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"4.1.5 TÆ°Æ¡ng tÃ¡c giá»¯a R vÃ  Microsoft Excel","text":"","code":""},{"path":"index.html","id":"Ä‘á»c-dá»¯-liá»‡u-lÆ°u-dÆ°á»›i-Ä‘á»‹nh-dáº¡ng-cá»§a-excel","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"4.1.5.1 Äá»c dá»¯ liá»‡u lÆ°u dÆ°á»›i Ä‘á»‹nh dáº¡ng cá»§a Excel","text":"Microsoft Excel lÃ  ráº¥t phá»• biáº¿n trong mÃ´i trÆ°á»ng lÃ m viá»‡c cÃ´ng sá»Ÿ. Ä‘Ã³, dá»¯ liá»‡u nháº­n sáº½ cÃ³ thá»ƒ lÃ  cÃ¡c file Ä‘á»‹nh dáº¡ng (.xls, .xlsx, .xlsb, .xlsm â€¦ ). CÃ¡c gÃ³i lá»‡nh \\(openxlsx\\) vÃ  \\(readxl\\) thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u tá»« cÃ¡c file cÃ³ Ä‘á»‹nh dáº¡ng nhÆ° váº­y.","code":""},{"path":"index.html","id":"tÆ°Æ¡ng-tÃ¡c-vá»›i-microsoft-excel-báº±ng-gÃ³i-lá»‡nh-openxlsx","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"4.1.5.2 TÆ°Æ¡ng tÃ¡c vá»›i Microsoft Excel báº±ng gÃ³i lá»‡nh \\(openxlsx\\)","text":"NgoÃ i viá»‡c láº¥y dá»¯ liá»‡u tá»« cÃ¡c file Ä‘Æ°á»£c lÆ°u dÆ°á»›i Ä‘á»‹nh dáº¡nh cá»§a Excel, báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng gÃ³i lá»‡nh \\(openxlsx\\) Ä‘á»ƒ lÃ m viá»‡c vá»›i cÃ¡c excel workbook thay vÃ¬ lÃ m viá»‡c trá»±c tiáº¿p trÃªn workbook.","code":""},{"path":"index.html","id":"láº¥y-dá»¯-liá»‡u-tá»«-má»™t-há»‡-cÆ¡-sá»Ÿ-dá»¯-liá»‡u","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"4.1.6 Láº¥y dá»¯ liá»‡u tá»« má»™t há»‡ cÆ¡ sá»Ÿ dá»¯ liá»‡u","text":"CÃ³ thá»ƒ sá»­ dá»¥ng R nhÆ° má»™t cÃ´ng cá»¥ Ä‘á»ƒ káº¿t ná»‘i vÃ  thá»±c hiá»‡n cÃ¡c cÃ¢u lá»‡nh truy váº¥n vÃ o cÃ¡c cÆ¡ sá»Ÿ dá»¯ liá»‡u. Äá»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u nÃ y, trÆ°á»›c tiÃªn, báº¡n Ä‘á»c cáº§n pháº£i cÃ i Ä‘áº·t má»™t Open Database Connectivity (ODBC), Ä‘Æ°á»£c gá»i lÃ  káº¿t ná»‘i cÆ¡ sá»Ÿ dá»¯ liá»‡u má»Ÿ. Káº¿t ná»‘i nÃ y giÃºp cho há»‡ Ä‘iá»u hÃ nh mÃ¡y tÃ­nh tÆ°Æ¡ng thÃ­ch vá»›i há»‡ quáº£n lÃ½ cÆ¡ sá»Ÿ dá»¯ liá»‡u mÃ  báº¡n sá»­ dá»¥ng. NhÃ³m tÃ¡c giáº£ sá»­ dá»¥ng há»‡ Ä‘iá»u hÃ nh Windows vÃ  há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL nÃªn chÃºng tÃ´i sáº½ lá»±a chá»n ODBC phÃ¹ há»£p. Báº¡n Ä‘á»c tham kháº£o táº¡i Ä‘á»‹a chá»‰ https://dev.mysql.com/downloads/connector/odbc/. Táº¡i thá»i Ä‘iá»ƒm nhÃ³m tÃ¡c giáº£ viáº¿t cuá»‘n sÃ¡ch nÃ y ODBC cho há»‡ Ä‘iá»u hÃ nh Windows Ä‘ang lÃ  phiÃªn báº£n 8.0Sau khi cÃ i Ä‘áº·t ODBC lÃªn há»‡ Ä‘iá»u hÃ nh, báº¡n Ä‘á»c Ä‘Ã£ cÃ³ thá»ƒ sá»­ dá»¥ng R Ä‘á»ƒ truy cáº­p vÃ o má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u vÃ  thá»±c hiá»‡n cÃ¡c cÃ¢u lá»‡nh truy váº¥n dá»¯ liá»‡u trÃªn cÆ¡ sá»Ÿ dá»¯ liá»‡u Ä‘Ã³ trÃªn R vá»›i sá»± trá»£ giÃºp cá»§a thÆ° viá»‡n \\(DBI\\). Sau khi cÃ i Ä‘áº·t thÆ° viá»‡n \\(DBI\\), báº¡n Ä‘á»c cáº§n táº¡o má»™t káº¿t ná»‘i giá»¯a R vÃ  cÆ¡ sá»Ÿ dá»¯ liá»‡u báº±ng hÃ m \\(dbConnect\\).Trong Ä‘Ã³ â€œten_serveâ€ lÃ  Ä‘á»‹a chá»‰ local hoáº·c server lÆ°u trá»¯ cÆ¡ sá»Ÿ dá»¯ liá»‡u, â€œdb_nameâ€ lÃ  tÃªn cá»§a cÆ¡ sá»Ÿ dá»¯ liá»‡u, ID vÃ  password láº§n lÆ°á»£t lÃ  tÃªn vÃ  password mÃ  báº¡n Ä‘á»c tá»± táº¡o hoáº·c Ä‘Æ°á»£c cáº¥p Ä‘á»ƒ truy cáº­p vÃ o cÆ¡ sá»Ÿ dá»¯ liá»‡u. Sau khi Ä‘Ã£ táº¡o Ä‘Æ°á»£c káº¿t ná»‘i, báº¡n Ä‘á»c cÃ³ thá»ƒ thá»±c hiá»‡n báº¥t ká»³ cÃ¢u lá»‡nh truy váº¥n dá»¯ liá»‡u nÃ o tá»« R vá»›i hÃ m â€œDBI::dbGetQuery()â€. Cháº³ng háº¡n, báº¡n Ä‘á»c muá»‘n láº¥y ra thÃ´ng tin cá»§a táº¥t cáº£ nhá»¯ng ngÆ°á»i cÃ³ ngÃ y sinh lÃ  ngÃ y 01 thÃ¡ng 01 nÄƒm 2000 tá»« má»™t báº£ng cÃ³ tÃªn lÃ  Life_Insured tá»« má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u tÃªn lÃ  \\(tktdb\\), báº¡n Ä‘á»c thá»±c hiá»‡n nhÆ° sauTIP: Khi lÃ m viá»‡c vá»›i dá»¯ liá»‡u Ä‘Æ°á»£c trÃ­ch xuáº¥t tá»« má»™t há»‡ cÆ¡ sá»Ÿ dá»¯ liá»‡u, báº¡n Ä‘á»c hÃ£y cá»‘ gáº¯ng thá»±c hiá»‡n cÃ¡c phÃ©p biáº¿n Ä‘á»•i, sáº¯p xáº¿p dá»¯ liá»‡u báº±ng SQL thay vÃ¬ thá»±c hiá»‡n biáº¿n Ä‘á»•i trÃªn R vÃ¬ cÃ¡c há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u thá»±c hiá»‡n cÃ¡c chá»©c nÄƒng nÃ y nhanh hÆ¡n R ráº¥t nhiá»u.","code":"\nlibrary(DBI)\ncon <- dbConnect(odbc::odbc(), .connection_string = \"Driver={MySQL ODBC 8.0 Unicode Driver};\", \n    Server = \"ten_serve\", Database = \"db_name\", UID = \"ID\", PWD = \"password\")\nsql<-\"select * from tktdb.Life_Insured \n      where DOB = '2000-01-01'\" # Viáº¿t Ä‘Ãºng cÃ¢u lá»‡nh truy váº¥n tá»« MySQL\ndf<-DBI::dbGetQuery(sql) # data.frame df sáº½ lÆ°u káº¿t quáº£ cá»§a cÃ¢u lá»‡nh truy váº¥n"},{"path":"index.html","id":"bÃ i-táº­p","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"4.2 BÃ i táº­p","text":"","code":""},{"path":"index.html","id":"phá»¥-lá»¥c-2","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"4.3 Phá»¥ lá»¥c","text":"","code":""},{"path":"index.html","id":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","text":"Tiá»n xá»­ lÃ½ dá»¯ liá»‡u lÃ  má»™t cÃ´ng viá»‡c Ä‘Ã²i há»i sá»± tá»‰ má»‰, cáº©n tháº­n vÃ  cÅ©ng lÃ  má»™t trong nhá»¯ng bÆ°á»›c quan trá»ng nháº¥t trong má»™t quy trÃ¬nh lÃ m viá»‡c vá»›i dá»¯ liá»‡u. Tiá»n xá»­ lÃ½ dá»¯ liá»‡u lÃ  táº­p há»£p táº¥t cáº£ cÃ¡c bÆ°á»›c ká»¹ thuáº­t nháº±m Ä‘áº£m báº£o cho dá»¯ liá»‡u báº¡n sá»­ dá»¥ng Ä‘á»ƒ phÃ¢n tÃ­ch Ä‘Æ°á»£c Ä‘áº£m báº£o vá» Ä‘á»‹nh dáº¡ng, giÃ¡ trá»‹ vÃ  Ã½ nghÄ©a. Hiá»ƒu má»™t cÃ¡ch Ä‘Æ¡n giáº£n, tiá»n xá»­ lÃ½ dá»¯ liá»‡u lÃ  biáº¿n dá»¯ liá»‡u thÃ´ thÃ nh dá»¯ liá»‡u cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c Ä‘á»ƒ phÃ¢n tÃ­ch vÃ  Ä‘Æ°a ra káº¿t quáº£.Khi lÃ m viá»‡c vá»›i dá»¯ liá»‡u, thá»±c táº¿ lÃ  Ä‘áº¿n hÆ¡n 50% cÃ¡c trÆ°á»ng há»£p báº¡n Ä‘á»c sáº½ nháº­n Ä‘Æ°á»£c nhá»¯ng dá»± liá»‡u dáº¡ng thÃ´ chÆ°a qua xá»­ lÃ½. Náº¿u nhá»¯ng dá»¯ liá»‡u nÃ y Ä‘Æ°á»£c nháº­p vÃ  xuáº¥t ra qua má»™t há»‡ thá»‘ng Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘áº§y Ä‘á»§, tiá»n xá»­ lÃ½ dá»¯ liá»‡u chá»‰ cáº§n qua má»™t vÃ i bÆ°á»›c cÆ¡ báº£n Ä‘á»ƒ Ä‘i Ä‘áº¿n káº¿t quáº£. Trong trÆ°á»ng há»£p dá»¯ liá»‡u báº¡n nháº­n Ä‘Æ°á»£c lÃ  dá»¯ liá»‡u Ä‘Æ°á»£c nháº­p má»™t cÃ¡ch thá»§ cÃ´ng, thÃ´ng qua nhiá»u ngÆ°á»i nháº­p thÃ¬ Ä‘Ã¢y thá»±c sá»± sáº½ lÃ  má»™t váº¥n Ä‘á» lá»›n. Tiá»n xá»­ lÃ½ dá»¯ liá»‡u trong hoÃ n cáº£nh nhÆ° váº­y cÃ³ thá»ƒ chiáº¿m 80% - 90% thá»i gian cÃ´ng viá»‡c cá»§a báº¡n!.","code":""},{"path":"index.html","id":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u-lÃ -gÃ¬","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.1 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u lÃ  gÃ¬?","text":"CÃ¡c váº¥n Ä‘á» thÆ°á»ng gáº·p pháº£i khi lÃ m viá»‡c vá»›i má»™t dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau thÆ°á»ng xuáº¥t phÃ¡t tá»« hai váº¥n Ä‘á»Dá»¯ liá»‡u sai Ä‘á»‹nh dáº¡ng: trong cÃ¹ng má»™t cá»™t dá»¯ liá»‡u cÃ³ cÃ¡c biáº¿n kiá»ƒu khÃ¡c nhau hoáº·c kiá»ƒu cá»§a biáº¿n khÃ´ng Ä‘Ãºng nhÆ° quy Æ°á»›c.Dá»¯ liá»‡u sai Ä‘á»‹nh dáº¡ng: trong cÃ¹ng má»™t cá»™t dá»¯ liá»‡u cÃ³ cÃ¡c biáº¿n kiá»ƒu khÃ¡c nhau hoáº·c kiá»ƒu cá»§a biáº¿n khÃ´ng Ä‘Ãºng nhÆ° quy Æ°á»›c.Dá»¯ liá»‡u chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c hoáº·c chá»©a cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai (outliers).Dá»¯ liá»‡u chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c hoáº·c chá»©a cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai (outliers).VÃ­ dá»¥ nhÆ° báº¡n Ä‘á»c nháº­n Ä‘Æ°á»£c dá»¯ liá»‡u vá» 3 á»©ng cá»­ viÃªn tá»« bá»™ pháº­n nhÃ¢n sá»± nhÆ° sau vá»›i yÃªu cáº§u vá» cho biáº¿t Ä‘á»™ tuá»•i trung bÃ¬nh cá»§a nhá»¯ng á»©ng cá»­ viÃªn vÃ  tá»· lá»‡ Nam/Ná»¯ á»©ng tuyá»ƒn\n(#tab:unnamed-chunk-27)Dá»¯ liá»‡u thÃ´ tá»« nguá»“n bÃªn ngoÃ i\nÄÃ¢y lÃ  má»™t dá»¯ liá»‡u khÃ´ng thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ phÃ¢n tÃ­ch Ä‘Æ°á»£c bá»Ÿi vÃ¬ giÃ¡ trá»‹ trong cÃ¡c cá»™t ngÃ y sinh lÃ  khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng ngÃ y thÃ¡ng Ä‘á»“ng thá»i cÃ³ cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c á»Ÿ cá»™t giá»›i tÃ­nh. Náº¿u sá»­ dá»¥ng dá»¯ liá»‡u nÃ y Ä‘á»ƒ phÃ¢n tÃ­ch mÃ  bá» qua viá»‡c tiá»n xá»­ lÃ½ dá»¯ liá»‡u thÃ¬ káº¿t quáº£ sáº½ sai lá»‡ch hoÃ n toÃ n vá»›i báº£n cháº¥t cá»§a dá»¯ liá»‡u:TÃ­nh Ä‘á»™ tuá»•i trung bÃ¬nh cá»§a cÃ¡c á»©ng cá»­ viÃªn lÃ  khÃ´ng thá»ƒ thá»±c hiá»‡n Ä‘Æ°á»£c vá»›i dá»¯ liá»‡u nÃ y bá»Ÿi vÃ¬ cá»™t ngÃ y sinh Ä‘ang lÃ  dáº¡ng chuá»—i kÃ½ tá»± vÃ  Ä‘á»‹nh dáº¡ng ngÃ y thÃ¡ng lÃ  ráº¥t lá»™n xá»™nTÃ­nh Ä‘á»™ tuá»•i trung bÃ¬nh cá»§a cÃ¡c á»©ng cá»­ viÃªn lÃ  khÃ´ng thá»ƒ thá»±c hiá»‡n Ä‘Æ°á»£c vá»›i dá»¯ liá»‡u nÃ y bá»Ÿi vÃ¬ cá»™t ngÃ y sinh Ä‘ang lÃ  dáº¡ng chuá»—i kÃ½ tá»± vÃ  Ä‘á»‹nh dáº¡ng ngÃ y thÃ¡ng lÃ  ráº¥t lá»™n xá»™nNáº¿u bá» qua nhá»¯ng giÃ¡ trá»‹ khÃ´ng cÃ³ quan sÃ¡t, tá»· lá»‡ giá»›i tÃ­nh Nam lÃ  100%. Liá»‡u con sá»‘ nÃ y cÃ³ thá»±c sá»± Ä‘Ãºng?Náº¿u bá» qua nhá»¯ng giÃ¡ trá»‹ khÃ´ng cÃ³ quan sÃ¡t, tá»· lá»‡ giá»›i tÃ­nh Nam lÃ  100%. Liá»‡u con sá»‘ nÃ y cÃ³ thá»±c sá»± Ä‘Ãºng?Tiá»n xá»­ lÃ½ dá»¯ liá»‡u khÃ´ng chá»‰ bao gá»“m cÃ¡c cÃ´ng cá»¥ ká»¹ thuáº­t mÃ  cÃ²n yÃªu cáº§u cáº£ kiáº¿n thá»©c phá»• thÃ´ng vÃ  kiáº¿n thá»©c nghiá»‡p vá»¥ cá»§a ngÆ°á»i lÃ m dá»¯ liá»‡u. Khi cÃ³ váº¥n Ä‘á» gÃ¢y khÃ³ hiá»ƒu vá» dá»¯ liá»‡u nháº­n Ä‘Æ°á»£c, Ä‘iá»u háº¿t cáº§n lÃ m Ä‘Ã³ lÃ  liÃªn há»‡ vá»›i ngÆ°á»i chá»§ dá»¯ liá»‡u Ä‘á»ƒ kiá»ƒm tra láº¡i thÃ´ng tin. Khi viá»‡c nÃ y lÃ  khÃ´ng thá»ƒ thá»±c hiá»‡n Ä‘Æ°á»£c, ngÆ°á»i xá»­ lÃ½ dá»¯ liá»‡u sáº½ pháº£i Ä‘Æ°a ra cÃ¡c phÃ¡n Ä‘oÃ¡n vá» dá»¯ liá»‡u Ä‘Ã³ dá»±a trÃªn hiá»ƒu biáº¿t cá»§a mÃ¬nh.Vá»›i cá»™t ngÃ y sinh cá»§a cÃ¡c nhÃ¢n viÃªn:GiÃ¡ trá»‹ â€œ01/02/98â€ cÃ³ kháº£ nÄƒng cao lÃ  ngÃ y 01 thÃ¡ng 02 nÄƒm 1998 quy Æ°á»›c phá»• biáº¿n á»Ÿ Viá»‡t Nam lÃ  viáº¿t theo thá»© tá»± ngÃ y -> thÃ¡ng -> nÄƒm.GiÃ¡ trá»‹ â€œ01/02/98â€ cÃ³ kháº£ nÄƒng cao lÃ  ngÃ y 01 thÃ¡ng 02 nÄƒm 1998 quy Æ°á»›c phá»• biáº¿n á»Ÿ Viá»‡t Nam lÃ  viáº¿t theo thá»© tá»± ngÃ y -> thÃ¡ng -> nÄƒm.GiÃ¡ trá»‹ â€œ12/17/1999â€ cÃ³ kháº£ nÄƒng cao lÃ  ngÃ y 17 thÃ¡ng 12 nÄƒm 1999. Khi gáº·p cÃ¡c trÆ°á»ng há»£p nÃ y nhiá»u kháº£ nÄƒng ngÆ°á»i nháº­p dá»¯ liá»‡u sá»­ dá»¥ng format ngÃ y thÃ¡ng cá»§a Microsoft Excel.GiÃ¡ trá»‹ â€œ12/17/1999â€ cÃ³ kháº£ nÄƒng cao lÃ  ngÃ y 17 thÃ¡ng 12 nÄƒm 1999. Khi gáº·p cÃ¡c trÆ°á»ng há»£p nÃ y nhiá»u kháº£ nÄƒng ngÆ°á»i nháº­p dá»¯ liá»‡u sá»­ dá»¥ng format ngÃ y thÃ¡ng cá»§a Microsoft Excel.GiÃ¡ trá»‹ â€œ1-1-1992â€ cÃ³ kháº£ nÄƒng cao lÃ  ngÃ y 01 thÃ¡ng 01 nÄƒm 1992.GiÃ¡ trá»‹ â€œ1-1-1992â€ cÃ³ kháº£ nÄƒng cao lÃ  ngÃ y 01 thÃ¡ng 01 nÄƒm 1992.NhÆ° váº­y vá»›i má»—i giÃ¡ trá»‹ trong cá»™t ngÃ y sinh, báº¡n Ä‘á»c cáº§n má»™t phÃ©p biáº¿n Ä‘á»•i khÃ¡c nhauVec-tÆ¡ \\(DOB\\) chá»©a giÃ¡ trá»‹ ngÃ y sinh dáº¡ng ngÃ y thÃ¡ng cá»§a cÃ¡c á»©ng cá»­ viÃªn vÃ  báº¡n Ä‘á»c Ä‘Ã£ cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c hÃ m sá»‘ cÃ³ sáºµn Ä‘á»ƒ tÃ­nh tuá»•i cá»§a cÃ¡c á»©ng cá»­ viÃªn.Vá»›i cá»™t giá»›i tÃ­nh cá»§a nhÃ¢n viÃªn:Giá»›i tÃ­nh cá»§a á»©ng cá»­ viÃªn Tráº§n VÄƒn CÆ°á»ng lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c tuy nhiÃªn theo tÃªn cá»§a á»©ng cá»­ viÃªn thÃ¬ nhiá»u kháº£ nÄƒng Ä‘Ã¢y lÃ  Nam.Giá»›i tÃ­nh cá»§a á»©ng cá»­ viÃªn Tráº§n VÄƒn CÆ°á»ng lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c tuy nhiÃªn theo tÃªn cá»§a á»©ng cá»­ viÃªn thÃ¬ nhiá»u kháº£ nÄƒng Ä‘Ã¢y lÃ  Nam.Giá»›i tÃ­nh cá»§a á»©ng cá»­ viÃªn LÃª Thá»‹ Loan lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c tuy nhiÃªn theo tÃªn cá»§a á»©ng cá»­ viÃªn thÃ¬ nhiá»u kháº£ nÄƒng Ä‘Ã¢y lÃ  Ná»¯.Giá»›i tÃ­nh cá»§a á»©ng cá»­ viÃªn LÃª Thá»‹ Loan lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c tuy nhiÃªn theo tÃªn cá»§a á»©ng cá»­ viÃªn thÃ¬ nhiá»u kháº£ nÄƒng Ä‘Ã¢y lÃ  Ná»¯.Sau nhá»¯ng bÆ°á»›c xá»­ lÃ½ nhÆ° trÃªn, chÃºng ta Ä‘Ã£ cÃ³ má»™t dá»¯ liá»‡u Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng chÃ­nh xÃ¡c vÃ  Ä‘Ã£ cÃ³ thá»ƒ Ä‘Æ°a ra cÃ¡c phÃ¢n tÃ­ch vá» dá»¯ liá»‡u\n(#tab:unnamed-chunk-30)Dá»¯ liá»‡u sau tiá»n xá»­ lÃ½\nÄÃ¢y lÃ  má»™t vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh cá»§a tiá»n xá»­ lÃ½ dá»¯ liá»‡u. Dá»¯ liá»‡u báº¡n Ä‘á»c nháº­n Ä‘Æ°á»£c sáº½ hiáº¿m khi Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng chuáº©n vÃ  sáºµn sÃ ng Ä‘á»ƒ phÃ¢n tÃ­ch giá»‘ng nhÆ° nhá»¯ng dá»¯ liá»‡u sáºµn cÃ³ trÃªn R. Äá»ƒ xá»­ lÃ½ nhá»¯ng giÃ¡ trá»‹ sai Ä‘á»‹nh dáº¡ng, vÃ  Ä‘iá»n vÃ o dá»¯ liá»‡u cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t, loáº¡i bá» cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai, â€¦, ngÆ°á»i lÃ m dá»¯ liá»‡u pháº£i sá»­ dá»¥ng kiáº¿n thá»©c phá»• thÃ´ng vÃ  kiáº¿n thá»©c nghiá»‡p vá»¥ Ä‘á»ƒ dÆ°a ra dá»± Ä‘oÃ¡n tá»‘t nháº¥t cÃ³ thá»ƒ.","code":"\nDOB<-rep(as.Date(\"1900-01-01\"),3) # táº¡o vector dáº¡ng date Ä‘á»™ dÃ i 3\nDOB[1]<-as.Date(\"01/02/98\", format = \"%d/%m/%y\")\nDOB[2]<-as.Date(\"12/17/1999\", format = \"%m/%d/%Y\")\nDOB[3]<-as.Date(\"1-1-1992\", format = \"%d-%m-%Y\")"},{"path":"index.html","id":"Ä‘á»‹nh-dáº¡ng-láº¡i-cÃ¡c-cá»™t-dá»¯-liá»‡u-sá»­-dá»¥ng-thÆ°-viá»‡n-readr","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.2 Äá»‹nh dáº¡ng láº¡i cÃ¡c cá»™t dá»¯ liá»‡u sá»­ dá»¥ng thÆ° viá»‡n \\(readr\\)","text":"","code":""},{"path":"index.html","id":"quy-táº¯c-Ä‘á»‹nh-Ä‘áº¡ng-cá»™t-cá»§a-readr","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.2.1 Quy táº¯c Ä‘á»‹nh Ä‘áº¡ng cá»™t cá»§a \\(readr\\)","text":"Má»—i thÆ° viá»‡n Ä‘á»c dá»¯ liá»‡u sáº½ cÃ³ cÃ¡c quy táº¯c khÃ¡c nhau khi Ä‘á»c vÃ  Ä‘á»‹nh dáº¡ng láº¡i dá»¯ liá»‡u khi lÆ°u trÃªn R. ChÃºng ta sáº½ táº­p trung vÃ o cÃ¡ch thÆ° viá»‡n â€œreadrâ€ Ä‘á»c dá»¯ liá»‡u. Khi Ä‘á»c má»™t file vÃ o R, cÃ¡c hÃ m Ä‘á»c dá»¯ liá»‡u cá»§a thÆ° viá»‡n \\(readr\\) cá»‘ gáº¯ng dá»± Ä‘oÃ¡n kiá»ƒu dá»¯ liá»‡u cá»§a tá»«ng cá»™t báº±ng cÃ¡ch sá»­ dá»¥ng 1000 hÃ ng dá»¯ liá»‡u Ä‘áº§u tiÃªn dá»±a trÃªn nguyÃªn táº¯c nhÆ° sau:LÆ°u Ã½ ráº±ng cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n viá»‡c \\(readr\\) dá»± Ä‘oÃ¡n kiá»ƒu dá»¯ liá»‡u cá»§a má»™t cá»™t. Khi Ä‘á»c dá»¯ liá»‡u kiá»ƒu sá»‘, viá»‡c sá»­ dá»¥ng dáº¥u tháº­p phÃ¢n lÃ  â€˜.â€™ (dá»¯ liá»‡u tá»« cÃ¡c nÆ°á»›c sá»­ dá»¥ng ngÃ´n ngá»¯ tiáº¿ng Anh) hay â€˜,â€™ (dá»¯ liá»‡u tá»« Viá»‡t Nam, PhÃ¡p) cÃ³ thá»ƒ lÃ m cho giÃ¡ trá»‹ cá»§a biáº¿n kiá»ƒu sá»‘ thay Ä‘á»•i vá» báº£n cháº¥t. Báº¡n Ä‘á»c khÃ´ng sá»­ dá»¥ng tham sá»‘ nÃ o khÃ¡c khi sá»­ dá»¥ng \\(readr\\), sá»‘ tháº­p phÃ¢n luÃ´n Ä‘Æ°á»£c hiá»ƒu lÃ  â€˜.â€™ khi báº¡n Ä‘á»c sá»­ dá»¥ng read_csv() vÃ  sá»‘ tháº­p phÃ¢n sáº½ lÃ  â€˜,â€™ náº¿u báº¡n Ä‘á»c dÃ¹ng read_csv2().Tá»« káº¿t quáº£ trÃªn cÃ³ thá»ƒ tháº¥y ráº±ng \\(readr\\) sáº½ bá» qua dáº¥u â€˜,â€™ trong cÃ¡c sá»‘ khi báº¡n Ä‘á»c dÃ¹ng read_csv() vÃ  bá» qua â€˜.â€™ vá»›i biáº¿n kiá»ƒu sá»‘ khi báº¡n Ä‘á»c dÃ¹ng read_csv2(). Äá»‘i vá»›i biáº¿n kiá»ƒu logic, báº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm tra kiá»ƒu dá»¯ liá»‡u cá»§a cÃ¡c cá»™t dÆ°á»›i Ä‘Ã¢y Ä‘á»u lÃ  kiá»ƒu logic sau khi dá»¯ liá»‡u Ä‘Æ°á»£c Ä‘á»c báº±ng read_csv()Äá»ƒ hiá»ƒu ká»¹ hÆ¡n cÃ¡ch \\(readr\\) dá»± Ä‘oÃ¡n kiá»ƒu giÃ¡ trá»‹ trong cá»™t, báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘á»c hÆ°á»›ng dáº«n cá»§a hÃ m guess_parse().","code":"\nfile<-\"C1;C2;C3;C4; C5\n         1e-10;2.2;1.0;TRUE; 1.0.0.0\n         Inf;3,2;1,000.0;1;10%\" \nread_csv2(file)## # A tibble: 2 Ã— 5\n##        C1    C2    C3 C4    C5     \n##     <dbl> <dbl> <dbl> <chr> <chr>  \n## 1   1e-10  22      10 TRUE  1.0.0.0\n## 2 Inf       3.2     1 1     10%\nfile<-\"X1,X2,X3,X4,X5,X6\n        TRUE,t,True,false,F,\n        F,F,FALSE,T,f,True\"\nread_csv(file)## # A tibble: 2 Ã— 6\n##   X1    X2    X3    X4    X5    X6   \n##   <lgl> <lgl> <lgl> <lgl> <lgl> <lgl>\n## 1 TRUE  TRUE  TRUE  FALSE FALSE NA   \n## 2 FALSE FALSE FALSE TRUE  FALSE TRUE"},{"path":"index.html","id":"Ä‘á»‹nh-dáº¡ng-cá»™t-báº±ng-cÃ¡c-hÃ m-parse_","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.2.2 Äá»‹nh dáº¡ng cá»™t báº±ng cÃ¡c hÃ m parse_*()","text":"Vá»›i cÃ¡c cá»™t mÃ  khÃ´ng thá»ƒ xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c kiá»ƒu dá»¯ liá»‡u, thÆ° viá»‡n \\(readr\\) sáº½ lÆ°u dÆ°á»›i dáº¡ng vec-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±. Äá»ƒ lÃ m viá»‡c Ä‘Æ°á»£c trÃªn dá»¯ liá»‡u, báº¡n Ä‘á»c cáº§n Ä‘á»‹nh dáº¡ng láº¡i cÃ¡c cá»™t cho Ä‘Ãºng vá»›i mong muá»‘n. CÃ¡c hÃ m thuá»™c nhÃ³m parse_*() trong thÆ° viá»‡n \\(readr\\) há»— trá»£ báº¡n Ä‘á»c lÃ m viá»‡c nÃ y. NhÃ³m hÃ m parse_*() cÃ³ Ä‘áº§u vÃ o lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± vÃ  Ä‘áº§u ra sáº½ lÃ  kiá»ƒu dá»¯ liá»‡u mÃ  báº¡n Ä‘á»c mong muá»‘n. Äá»‘i vá»›i má»—i kiá»ƒu dá»¯ liá»‡u, hÃ m parse_*() tÆ°Æ¡ng á»©ng sáº½ cÃ³ cÃ¡c tÃ¹y biáº¿n phÃ¹ há»£p. Trong pháº§n tiáº¿p theo cá»§a cuá»‘n sÃ¡ch chÃºng tÃ´i sáº½ láº§n lÆ°á»£t giá»›i thiá»‡u cÃ¡c nhÃ³m hÃ m parse_*() tÆ°Æ¡ng á»©ng vá»›i biáº¿n kiá»ƒu logic, biáº¿n kiá»ƒu sá»‘, biáº¿n kiá»ƒu thá»i gian vÃ  biáº¿n kiá»ƒu chuá»—i kÃ½ tá»±.","code":""},{"path":"index.html","id":"Ä‘á»‹nh-dáº¡ng-vÃ©c-tÆ¡-kiá»ƒu-logic.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.2.2.1 Äá»‹nh dáº¡ng vÃ©c-tÆ¡ kiá»ƒu logic.","text":"Äá»‹nh dáº¡ng láº¡i má»™t vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± thÃ nh kiá»ƒu logic lÃ  Ä‘Æ¡n giáº£n nháº¥t. HÃ m sá»‘ sá»­ dá»¥ng trong trÆ°á»ng há»£p nÃ y lÃ  parse_logical(). Báº¡n Ä‘á»c hÃ£y quan sÃ¡t vÃ­ dá»¥ sau:Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng táº¥t cáº£ cÃ¡c giÃ¡ trá»‹ náº±m trong vÃ©c-tÆ¡ \\(x\\) á»Ÿ trÃªn, ngoáº¡i trá»« hai kÃ½ tá»± Ä‘áº·c biá»‡t Ä‘Ã£ Ä‘Æ°á»£c khai bÃ¡o trong hÃ m parse_logical() lÃ  \\(\".\"\\) vÃ  \\(\"@\"\\), thÃ¬ chá»‰ cÃ³ sá»‘ 2 lÃ  khÃ´ng thá»ƒ Ä‘á»•i sang biáº¿n kiá»ƒu logic. parse_logical() tá»± Ä‘á»™ng Ä‘á»•i kÃ½ tá»± \\(\"1\"\\) thÃ nh \\(TRUE\\) vÃ  kÃ½ tá»± \\(\"0\"\\) thÃ nh \\(FALSE\\). Trong trÆ°á»ng há»£p vÃ©c-tÆ¡ \\(x\\) cÃ³ kÃ­ch thÆ°á»›c lá»›n, cÃ¡c pháº§n tá»­ khÃ´ng thá»ƒ Ä‘á»•i sang kiá»ƒu logic sáº½ Ä‘Æ°á»£c lÆ°u vÃ o má»™t \\(tibble\\). Báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m problems() Ä‘á»ƒ láº¥y cÃ¡c cÃ¡c giÃ¡ trá»‹ nÃ y.Cá»™t \\(row\\) cho biáº¿t vá»‹ trÃ­ cá»§a cÃ¡c pháº§n tá»­ trong vÃ©c-tÆ¡ \\(x1\\) khÃ´ng thá»ƒ Ä‘á»•i sang kiá»ƒu logic. GiÃ¡ trá»‹ cá»§a cÃ¡c pháº§n tá»­ nÃ y náº±m trong cá»™t \\(actual\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ quan sÃ¡t cÃ¡c giÃ¡ trá»‹ trong cá»™t \\(actual\\) Ä‘á»ƒ tÃ¬m hiá»ƒu nguyÃªn nhÃ¢n táº¡i sao parse_logical() khÃ´ng thá»ƒ hoáº¡t Ä‘á»™ng trÃªn cÃ¡c giÃ¡ trá»‹ nÃ y.","code":"\nx<-c(\"TRUE\",\"True\",\"1\",\"0\",\"2\",\".\",\"@\",\"FALSE\",\"false\",\"f\",\"F\",\"T\",\"t\",\"true\",\"false\")\nparse_logical(x, na = c(\".\", \"@\"))##  [1]  TRUE  TRUE  TRUE FALSE    NA    NA    NA FALSE FALSE FALSE FALSE  TRUE\n## [13]  TRUE  TRUE FALSE\n## attr(,\"problems\")\n## # A tibble: 1 Ã— 4\n##     row   col expected           actual\n##   <int> <int> <chr>              <chr> \n## 1     5    NA 1/0/T/F/TRUE/FALSE 2\nx1<-sample(x, 10^4, replace = TRUE)\ny<-parse_logical(x1)\nproblems(y)## # A tibble: 1,915 Ã— 4\n##      row   col expected           actual\n##    <int> <int> <chr>              <chr> \n##  1     3    NA 1/0/T/F/TRUE/FALSE 2     \n##  2    13    NA 1/0/T/F/TRUE/FALSE 2     \n##  3    21    NA 1/0/T/F/TRUE/FALSE .     \n##  4    28    NA 1/0/T/F/TRUE/FALSE @     \n##  5    32    NA 1/0/T/F/TRUE/FALSE @     \n##  6    33    NA 1/0/T/F/TRUE/FALSE 2     \n##  7    34    NA 1/0/T/F/TRUE/FALSE .     \n##  8    39    NA 1/0/T/F/TRUE/FALSE .     \n##  9    47    NA 1/0/T/F/TRUE/FALSE 2     \n## 10    55    NA 1/0/T/F/TRUE/FALSE .     \n## # â€¦ with 1,905 more rows"},{"path":"index.html","id":"Ä‘á»‹nh-dáº¡ng-vÃ©c-tÆ¡-kiá»ƒu-sá»‘.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.2.2.2 Äá»‹nh dáº¡ng vÃ©c-tÆ¡ kiá»ƒu sá»‘.","text":"Khi \\(readr\\) khÃ´ng thá»ƒ tá»± Ä‘á»‹nh dáº¡ng má»™t vÃ©c-tÆ¡ cÃ³ kiá»ƒu sá»‘, cÃ¡c váº¥n Ä‘á» thÆ°á»ng gáº·p pháº£i lÃ :CÃ¡ch Ä‘Ã¡nh sá»‘ tháº­p phÃ¢n cá»§a cÃ¡c sá»‘ trong vÃ©c-tÆ¡. Táº¡i Viá»‡t Nam sá»‘ tháº­p phÃ¢n Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  dáº¥u â€œ,â€ trong khi R hiá»ƒu sá»‘ tháº­p phÃ¢n lÃ  dáº¥u â€œ.â€. Nhiá»u quá»‘c gia khÃ¡c trÃªn tháº¿ giá»›i cÅ©ng sá»­ dá»¥ng dáº¥u tháº­p phÃ¢n lÃ  dáº¥u â€œ,â€.CÃ¡ch Ä‘Ã¡nh sá»‘ tháº­p phÃ¢n cá»§a cÃ¡c sá»‘ trong vÃ©c-tÆ¡. Táº¡i Viá»‡t Nam sá»‘ tháº­p phÃ¢n Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  dáº¥u â€œ,â€ trong khi R hiá»ƒu sá»‘ tháº­p phÃ¢n lÃ  dáº¥u â€œ.â€. Nhiá»u quá»‘c gia khÃ¡c trÃªn tháº¿ giá»›i cÅ©ng sá»­ dá»¥ng dáº¥u tháº­p phÃ¢n lÃ  dáº¥u â€œ,â€.CÃ¡ch viáº¿t cÃ¡c sá»‘ sá»­ dá»¥ng cÃ¹ng vá»›i cÃ¡c kÃ½ tá»± â€œ.â€ hoáº·c â€œ,â€ Ä‘á»ƒ ngÆ°á»i Ä‘á»c dá»… dÃ ng Ä‘á»c sá»‘ Ä‘Ã³. Cháº³ng háº¡n nhÆ° táº¡i Viá»‡t Nam, chÃºng ta viáº¿t sá»‘ 1 tá»· nhÆ° sau: 1.000.000.000; táº¡i Thá»¥y Sá»¹ sá»‘ 1 tá»· Ä‘Æ°á»£c viáº¿t thÃ nh 1â€™000â€™000â€™000; chÃºng ta cáº§n Ä‘á»‹nh dáº¡ng láº¡i cho cÃ¡c giÃ¡ trá»‹ kiá»ƒu nhÆ° váº­y Ä‘á»ƒ R hiá»ƒu Ä‘Æ°á»£c Ä‘Ã¢y lÃ  cÃ¡c con sá»‘.CÃ¡ch viáº¿t cÃ¡c sá»‘ sá»­ dá»¥ng cÃ¹ng vá»›i cÃ¡c kÃ½ tá»± â€œ.â€ hoáº·c â€œ,â€ Ä‘á»ƒ ngÆ°á»i Ä‘á»c dá»… dÃ ng Ä‘á»c sá»‘ Ä‘Ã³. Cháº³ng háº¡n nhÆ° táº¡i Viá»‡t Nam, chÃºng ta viáº¿t sá»‘ 1 tá»· nhÆ° sau: 1.000.000.000; táº¡i Thá»¥y Sá»¹ sá»‘ 1 tá»· Ä‘Æ°á»£c viáº¿t thÃ nh 1â€™000â€™000â€™000; chÃºng ta cáº§n Ä‘á»‹nh dáº¡ng láº¡i cho cÃ¡c giÃ¡ trá»‹ kiá»ƒu nhÆ° váº­y Ä‘á»ƒ R hiá»ƒu Ä‘Æ°á»£c Ä‘Ã¢y lÃ  cÃ¡c con sá»‘.Khi cÃ¡c con sá»‘ Ä‘i kÃ¨m theo Ä‘Æ¡n vá»‹, cháº³ng háº¡n nhÆ° Ä‘i kÃ¨m vá»›i kÃ½ hiá»‡u tiá»n tá»‡: â€œ100.000 Ä‘á»“ngâ€, â€œ100.000 vndâ€, hoáº·c Ä‘i kÃ¨m vá»›i kÃ½ hiá»‡u % nhÆ° â€œ50%â€, chÃºng ta \\(readr\\) cÅ©ng sáº½ khÃ´ng thá»ƒ tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i sang kiá»ƒu sá»‘.Khi cÃ¡c con sá»‘ Ä‘i kÃ¨m theo Ä‘Æ¡n vá»‹, cháº³ng háº¡n nhÆ° Ä‘i kÃ¨m vá»›i kÃ½ hiá»‡u tiá»n tá»‡: â€œ100.000 Ä‘á»“ngâ€, â€œ100.000 vndâ€, hoáº·c Ä‘i kÃ¨m vá»›i kÃ½ hiá»‡u % nhÆ° â€œ50%â€, chÃºng ta \\(readr\\) cÅ©ng sáº½ khÃ´ng thá»ƒ tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i sang kiá»ƒu sá»‘.Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng parse_double() hoáº·c parse_number() khi gáº·p pháº£i cÃ¡c váº¥n Ä‘á» á»Ÿ trÃªn. Cháº³ng háº¡n nhÆ° khi gáº·p váº¥n Ä‘á» vá» dáº¥u â€œ,â€ Ä‘á»‘i vá»›i dáº¥u tháº­p phÃ¢n (vá»›i cÃ¡c sá»‘ tháº­p phÃ¢n viáº¿t theo kiá»ƒu Viá»‡t Nam), báº¡n Ä‘á»c sá»­ dá»¥ng parse_number() vá»›i tÃ¹y biáº¿n locale = locale(decimal_mark = \",\") Ä‘á»ƒ Ä‘á»‹nh dáº¡ng cho vÃ©c-tÆ¡ kiá»ƒu kÃ½ tá»±:Khi gáº·p pháº£i váº¥n Ä‘á» vá» thá»© hai, chÃºng ta sá»­ dá»¥ng tÃ¹y biáº¿n \\(grouping\\_mark\\) trong hÃ m \\(locate()\\). Trong vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y sá»­ dá»¥ng Ä‘á»“ng thá»i hai tÃ¹y biáº¿n \\(decimal\\_mark\\) vÃ  \\(grouping\\_mark\\) cá»§a hÃ m locate()Khi gáº·p pháº£i chuá»—i kÃ½ tá»± chá»©a biáº¿n kiá»ƒu sá»‘ Ä‘i kÃ¨m vá»›i Ä‘Æ¡n vá»‹ tiá»n tá»‡, hoáº·c dáº¥u â€œ%â€, hÃ m \\(parse_number()\\) váº«n ráº¥t hiá»‡u quáº£ trong viá»‡c Ä‘á»•i chuá»—i kÃ½ tá»± vá» kiá»ƒu sá»‘","code":"\nx<-c(\"0,5\",\"1,5\") # vÃ©c-tÆ¡ chá»©a cÃ¡c sá»‘ 0,5 vÃ  1,5; dáº¥u tháº­p phÃ¢n lÃ  dáº¥u \",\"\nparse_number(x, locale = locale(decimal_mark = \",\"))## [1] 0.5 1.5\nx<-c(\"1.000,5\",\"1.000.000,5\") # vÃ©c-tÆ¡ chá»©a cÃ¡c sá»‘ 1000,5 vÃ  1000000,5; dáº¥u tháº­p phÃ¢n lÃ  dáº¥u \",\"\nparse_number(x, locale = locale(decimal_mark = \",\",\n                                grouping_mark = \".\"))## [1]    1000.5 1000000.5\nx<-c(\"1.000,5 Ä‘á»“ng\",\"1.000.000,5 vnd\")\nparse_number(x, locale = locale(decimal_mark = \",\",\n                                grouping_mark = \".\"))## [1]    1000.5 1000000.5"},{"path":"index.html","id":"Ä‘á»‹nh-dáº¡ng-vÃ©c-tÆ¡-kiá»ƒu-thá»i-gian","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.2.2.3 Äá»‹nh dáº¡ng vÃ©c-tÆ¡ kiá»ƒu thá»i gian","text":"HÃ m sá»‘ parse_datetime() cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ chuyá»ƒn Ä‘á»•i cÃ¡c vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± sang vÃ©c-tÆ¡ kiá»ƒu thá»i gian vÃ  vÃ©c-tÆ¡ kiá»ƒu ngÃ y thÃ¡ng.Hai tÃ¹y biáº¿n cá»§a hÃ m parse_datetime() mÃ  báº¡n Ä‘á»c cáº§n lÆ°u Ã½ lÃ  \\(na\\) vÃ  \\(format\\). TÃ¹y biáº¿n \\(na\\) nhÆ° Ä‘Ã£ sá»­ dá»¥ng á»Ÿ pháº§n trÆ°á»›c lÃ  má»™t vÃ©c-tÆ¡ chá»©a cÃ¡c giÃ¡ trá»‹ mÃ  báº¡n Ä‘á»c cho ráº±ng Ä‘Ã¢y lÃ  cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c. Trong vÃ©c-tÆ¡ \\(x\\) á»Ÿ trÃªn, giÃ¡ trá»‹ â€œ01#01#1990â€ náº¿u khÃ´ng cÃ³ trong tÃ¹y biáº¿n \\(na\\) sáº½ cÃ³ káº¿t quáº£ lÃ  má»™t ngÃ y thÃ¡ng cÃ³ Ã½ nghÄ©a trong vÃ©c-tÆ¡ káº¿t quáº£. Tuy nhiÃªn, báº±ng má»™t cÃ¡ch nÃ o Ä‘Ã³, náº¿u báº¡n Ä‘á»c biáº¿t ráº±ng giÃ¡ trá»‹ nÃ y ngÆ°á»i nháº­p liá»‡u Ä‘Æ°a vÃ o khÃ´ng quan sÃ¡t Ä‘Æ°á»£c biáº¿n Ä‘Ã³, viá»‡c chuyá»ƒn Ä‘á»•i biáº¿n thÃ nh giÃ¡ trá»‹ ngÃ y thÃ¡ng sáº½ lÃ m sai lá»‡ch phÃ¢n tÃ­ch. Ä‘Ã³ báº¡n Ä‘á»c cáº§n khai bÃ¡o giÃ¡ trá»‹ nÃ y vÃ o trong vÃ©c-tÆ¡ \\(na\\).TÃ¹y biáº¿n \\(format\\) trong hÃ m parse_datetime() lÃ  Ä‘á»ƒ báº¡n Ä‘á»c gá»£i Ã½ cho R Ä‘á»‹nh dáº¡ng cá»§a biáº¿n kiá»ƒu ngÃ y thÃ¡ng. Khi gÃ¡n giÃ¡ trá»‹ cho \\(format\\) báº¡n Ä‘á»c cáº§n lÆ°u Ã½Má»—i thÃ nh pháº§n cá»§a biáº¿n thá»i gian (ngÃ y, thÃ¡ng, nÄƒm, giá», phÃºt, giÃ¢y,â€¦) Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a báº¯t Ä‘áº§u báº±ng \\(\"%\"\\) vÃ  theo sau 1 chá»¯ cÃ¡i, cháº³ng háº¡n nhÆ° báº¡n Ä‘á»c sá»­ dá»¥ng â€œ%Yâ€ khi muá»‘n nÃ³i vá»›i R ráº±ng biáº¿n kiá»ƒu thá»i gian náº±m trong chuá»—i kÃ½ tá»± Ä‘Æ°á»£c sá»­ dá»¥ng 4 chá»¯ sá»‘ Ä‘á»ƒ chá»‰ Ä‘á»‹nh.Má»—i thÃ nh pháº§n cá»§a biáº¿n thá»i gian (ngÃ y, thÃ¡ng, nÄƒm, giá», phÃºt, giÃ¢y,â€¦) Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a báº¯t Ä‘áº§u báº±ng \\(\"%\"\\) vÃ  theo sau 1 chá»¯ cÃ¡i, cháº³ng háº¡n nhÆ° báº¡n Ä‘á»c sá»­ dá»¥ng â€œ%Yâ€ khi muá»‘n nÃ³i vá»›i R ráº±ng biáº¿n kiá»ƒu thá»i gian náº±m trong chuá»—i kÃ½ tá»± Ä‘Æ°á»£c sá»­ dá»¥ng 4 chá»¯ sá»‘ Ä‘á»ƒ chá»‰ Ä‘á»‹nh.CÃ¡c kÃ½ tá»± khÃ´ng liÃªn quan Ä‘áº¿n cÃ¡c thÃ nh pháº§n cá»§a thá»i gian, ngoáº¡i trá»« cÃ¡c khoáº£ng tráº¯ng phÃ­a trÆ°á»›c vÃ  sau biáº¿n thá»i gian, cáº§n pháº£i Ä‘Æ°á»£c khai bÃ¡o chÃ­nh xÃ¡c.CÃ¡c kÃ½ tá»± khÃ´ng liÃªn quan Ä‘áº¿n cÃ¡c thÃ nh pháº§n cá»§a thá»i gian, ngoáº¡i trá»« cÃ¡c khoáº£ng tráº¯ng phÃ­a trÆ°á»›c vÃ  sau biáº¿n thá»i gian, cáº§n pháº£i Ä‘Æ°á»£c khai bÃ¡o chÃ­nh xÃ¡c.Tá»« vÃ­ dá»¥ trÃªn báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ngCáº§n khai bÃ¡o chÃ­nh xÃ¡c cÃ¡c kÃ½ tá»± náº±m giá»¯a cÃ¡c biáº¿n thá»i gian. KÃ½ tá»± \\(\"@\"\\) náº±m giá»¯a cÃ¡c giÃ¡ trá»‹ ngÃ y, thÃ¡ng, nÄƒm; phÃ¢n tÃ¡ch giá»¯a ngÃ y thÃ¡ng vá»›i thá»i gian trong ngÃ y lÃ  kÃ½ tá»± \\(\"-\"\\); phÃ¢n tÃ¡ch giá»¯a cÃ¡c thÃ nh pháº§n cá»§a thá»i gian trong ngÃ y lÃ  kÃ½ tá»± \\(\"#\"\\). Táº¥t cáº£ Ä‘á»u cáº§n pháº£i Ä‘Æ°á»£c khai bÃ¡o chÃ­nh xÃ¡c vá»›i tÃ¹y biáº¿n \\(format\\). GiÃ¡ trá»‹ thá»© ba trong vÃ©c-tÆ¡ \\(x\\) gáº·p váº¥n Ä‘á» vÃ¬ phÃ¢n tÃ¡ch giá»¯a cÃ¡c thÃ nh pháº§n cá»§a thá»i gian trong ngÃ y sá»­ dá»¥ng dáº¥u â€œ:â€Cáº§n khai bÃ¡o chÃ­nh xÃ¡c cÃ¡c kÃ½ tá»± náº±m giá»¯a cÃ¡c biáº¿n thá»i gian. KÃ½ tá»± \\(\"@\"\\) náº±m giá»¯a cÃ¡c giÃ¡ trá»‹ ngÃ y, thÃ¡ng, nÄƒm; phÃ¢n tÃ¡ch giá»¯a ngÃ y thÃ¡ng vá»›i thá»i gian trong ngÃ y lÃ  kÃ½ tá»± \\(\"-\"\\); phÃ¢n tÃ¡ch giá»¯a cÃ¡c thÃ nh pháº§n cá»§a thá»i gian trong ngÃ y lÃ  kÃ½ tá»± \\(\"#\"\\). Táº¥t cáº£ Ä‘á»u cáº§n pháº£i Ä‘Æ°á»£c khai bÃ¡o chÃ­nh xÃ¡c vá»›i tÃ¹y biáº¿n \\(format\\). GiÃ¡ trá»‹ thá»© ba trong vÃ©c-tÆ¡ \\(x\\) gáº·p váº¥n Ä‘á» vÃ¬ phÃ¢n tÃ¡ch giá»¯a cÃ¡c thÃ nh pháº§n cá»§a thá»i gian trong ngÃ y sá»­ dá»¥ng dáº¥u â€œ:â€CÃ¡c khoáº£ng tráº¯ng náº±m trÆ°á»›c vÃ  sau cÃ¡c chuá»—i kÃ½ tá»± Ä‘Æ°á»£c bá» qua vÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n káº¿t quáº£.CÃ¡c khoáº£ng tráº¯ng náº±m trÆ°á»›c vÃ  sau cÃ¡c chuá»—i kÃ½ tá»± Ä‘Æ°á»£c bá» qua vÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n káº¿t quáº£.Äá»ƒ biáº¿t chÃ­nh xÃ¡c cÃ¡ch gÃ¡n giÃ¡ trá»‹ cho tÃ¹y biáº¿n \\(format\\), báº¡n Ä‘á»c nÃªn tham kháº£o hÆ°á»›ng dáº«n sá»­ dá»¥ng hÃ m parse_datetime(). ChÃºng tÃ´i tÃ³m táº¯t cÃ¡ch Ä‘á»‹nh dáº¡ng cÃ¡c thÃ nh pháº§n cá»§a má»™t biáº¿n thá»i gian trong báº£ng dÆ°á»›i Ä‘Ã¢y:LÆ°u Ã½ ráº±ng khi báº¡n Ä‘á»c sá»­ dá»¥ng %y, cÃ¡c kÃ½ tá»± â€œ00â€ Ä‘áº¿n â€œ69â€ sáº½ Ä‘Æ°á»£c chuyá»ƒn thÃ nh nÄƒm 2000 Ä‘áº¿n nÄƒm 2069 trong khi cÃ¡c kÃ½ tá»± tá»« â€œ70â€ Ä‘áº¿n 99 sáº½ Ä‘Æ°á»£c chuyá»ƒn thÃ nh nÄƒm 1970 Ä‘áº¿n 1999. NgoÃ i ra, thÃ nh pháº§n thÃ¡ng cá»§a biáº¿n thá»i gian trong nhiá»u dá»¯ liá»‡u thÆ°á»ng Ä‘Æ°á»£c viáº¿t dÆ°á»›i dáº¡ng chuá»—i kÃ½ tá»± thay vÃ¬ sá»­ dá»¥ng sá»‘. Ä‘Ã³ báº¡n Ä‘á»c cáº§n cÃ¡c gá»£i Ã½ %b hoáº·c %B Ä‘á»ƒ R cÃ³ thá»ƒ hiá»ƒu Ä‘Æ°á»£c:","code":"\nx<-c(\"1/2/2023\", \"23/10/2023 \", \"01/01/1900\")\nparse_datetime(x, format = \"%d/%m/%Y\",\n               na = c(\"01/01/1900\"))## [1] \"2023-02-01 UTC\" \"2023-10-23 UTC\" NA\nx<-c(\" 1@2@2023-23#25#01  \", \"  23@10@2023-01#06#59 \", \"01@01@2023-00:00:00\")\nparse_datetime(x, format = \"%d@%m@%Y-%H#%M#%S\")## [1] \"2023-02-01 23:25:01 UTC\" \"2023-10-23 01:06:59 UTC\"\n## [3] NA\nx<-c(\"sep 21, 23 \", \"  JAN 1, 69 \", \"Dec 25, 70\")\nparse_datetime(x, format = \"%b %d, %y\")## [1] \"2023-09-21 UTC\" \"1969-01-01 UTC\" \"1970-12-25 UTC\""},{"path":"index.html","id":"Ä‘á»‹nh-dáº¡ng-cá»™t-kiá»ƒu-chuá»—i-kÃ½-tá»±","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.2.3 Äá»‹nh dáº¡ng cá»™t kiá»ƒu chuá»—i kÃ½ tá»±","text":"Khi báº¡n Ä‘á»c dÃ¹ng \\(readr\\) Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u tá»« nguá»“n ngoÃ i vÃ o R, cá»™t dá»¯ liá»‡u khÃ´ng rÃµ Ä‘á»‹nh dáº¡ng sáº½ Ä‘Æ°á»£c lÆ°u dÆ°á»›i dáº¡ng vÃ©c-tÆ¡ chuá»—i kÃ½ tá»±. Váº­y táº¡i sao cáº§n Ä‘á»‹nh dáº¡ng láº¡i thÃ nh vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±? Nghe cÃ³ váº» vÃ´ lÃ½ nhÆ°ng Ä‘Ã¢y láº¡i lÃ  váº¥n Ä‘á» phá»©c táº¡p nháº¥t trong Ä‘á»‹nh dáº¡ng láº¡i cá»™t dá»¯ liá»‡u. Äá»ƒ hiá»ƒu váº¥n Ä‘á» nÃ y báº¡n Ä‘á»c cáº§n tÃ¬m hiá»ƒu má»™t chÃºt vá» cÃ¡ch mÃ¡y tÃ­nh Ä‘iá»‡n tá»­ lÆ°u vÃ  má»Ÿ má»™t chuá»—i kÃ½ tá»±. Giáº£ sá»­ báº¡n Ä‘á»c muá»‘n gá»­i má»™t dá»¯ liá»‡u chá»©a kÃ½ tá»± â€œâ€ Ä‘áº¿n má»™t mÃ¡y tÃ­nh khÃ¡c. Sau khi viáº¿t kÃ½ tá»± â€œâ€ lÃªn má»™t pháº§n má»m soáº¡n tháº£o vÄƒn báº£n nÃ o, báº¡n Ä‘á»c sáº½ cáº§n lÆ°u kÃ½ tá»± â€œâ€ lÃªn mÃ¡y tÃ­nh cá»§a báº¡n. Táº¥t nhiÃªn mÃ¡y tÃ­nh cá»§a báº¡n sáº½ khÃ´ng thá»ƒ ghi nhá»› chá»¯ â€œâ€ má»™t cÃ¡ch tÆ°á»£ng hÃ¬nh mÃ  sáº½ mÃ£ hÃ³a (hay thuáº­t ngá»¯ chuyÃªn ngÃ nh gá»i lÃ  \\(encode\\)) chá»¯ â€œâ€ thÃ nh má»™t Ä‘oáº¡n mÃ£ nhá»‹ phÃ¢n bao gá»“m 0 vÃ  1 mÃ  mÃ¡y tÃ­nh cÃ³ thá»ƒ lÆ°u Ä‘Æ°á»£c. Khi báº¡n gá»­i dá»¯ liá»‡u sang má»™t mÃ¡y tÃ­nh khÃ¡c, Ä‘oáº¡n mÃ£ bao gá»“m 0 vÃ  1 Ä‘Ã³ sáº½ Ä‘Æ°á»£c gá»­i Ä‘i. Khi mÃ¡y tÃ­nh Ä‘iá»‡n tá»­ khÃ¡c má»Ÿ dá»¯ liá»‡u, Ä‘oáº¡n mÃ£ nhá»‹ phÃ¢n sáº½ Ä‘Æ°á»£c giáº£i mÃ£ (thuáº­t ngá»¯ chuyÃªn ngÃ nh gá»i lÃ  \\(decode\\)) Ä‘á»ƒ hiá»ƒn thá»‹. Sáº½ khÃ´ng cÃ³ váº¥n Ä‘á» gÃ¬ xáº£y ra náº¿u quy táº¯c mÃ£ hÃ³a vÃ  giáº£i mÃ£ Ä‘Æ°á»£c thá»‘ng nháº¥t vÃ  chá»¯ â€œâ€ sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ chÃ­nh xÃ¡c trÃªn mÃ¡y tÃ­nh thá»© hai.Thá»±c táº¿ lÃ  trÆ°á»›c khi cÃ³ bá»™ mÃ£ hÃ³a vÃ  quy táº¯c mÃ£ hÃ³a chung Ä‘Æ°á»£c cÃ´ng nháº­n rá»™ng rÃ£i nhÆ° Unicode vÃ  UTF-8, ráº¥t khÃ³ Ä‘á»ƒ cÃ³ sá»± thá»‘ng nháº¥t quy táº¯c mÃ£ hÃ³a kÃ½ tá»±. May máº¯n lÃ  Ä‘áº¿n thá»i Ä‘iá»ƒm chÃºng tÃ´i viáº¿t cuá»‘n sÃ¡ch nÃ y Ä‘a sá»‘ cÃ¡c há»‡ Ä‘iá»u hÃ nh, há»‡ soáº¡n tháº£o vÄƒn báº£n,â€¦ Ä‘á»u sá»­ dá»¥ng báº£ng mÃ£ Unicode vÃ  bá»™ mÃ£ hÃ³a UTF-8. Giáº£i thÃ­ch chi tiáº¿t vá» bá»™ mÃ£ hÃ³a hay quy táº¯c mÃ£ hÃ³a lÃ  ráº¥t phá»©c táº¡p vÃ  vÆ°á»£t quÃ¡ ná»™i dung cá»§a cuá»‘n sÃ¡ch nÃ y. ChÃºng tÃ´i chá»‰ cáº§n báº¡n Ä‘á»c hiá»ƒu vá» Unicode vÃ  UTF-8 nhÆ° sau:Unicode lÃ  má»™t báº£ng mÃ£ chuáº©n Ä‘Æ°á»£c cÃ´ng nháº­n rá»™ng rÃ£i cho biáº¿t quy táº¯c cho tÆ°Æ¡ng á»©ng háº§u háº¿t cÃ¡c kÃ½ tá»± tá»« Ä‘Æ¡n giáº£n Ä‘áº¿n phá»©c táº¡p, ká»ƒ cáº£ cÃ¡c ngÃ´n ngá»¯ sá»­ dá»¥ng kÃ½ tá»± tÆ°á»£ng hÃ¬nh phá»©c táº¡p nhÆ° chá»¯ HÃ¡n cá»§a tiáº¿ng Trung Quá»‘c, tiáº¿ng Nháº­t, chá»¯ NÃ´m cá»§a tiáº¿ng Viá»‡t, vá»›i má»™t sá»‘ náº±m giá»¯a sá»‘ 0 Ä‘áº¿n sá»‘ \\(10FFFF\\) khi viáº¿t theo há»‡ 16. Má»™t sá»‘ khi viáº¿t trong há»‡ 16 cÃ³ thá»ƒ sá»­ dá»¥ng (0, 1, â€¦, 9, , B, C, D, E, F) Ä‘á»ƒ biá»ƒu diá»…n, Ä‘Ã³ sá»‘ cÃ¡c kÃ½ tá»± mÃ  báº£ng mÃ£ Unicode cÃ³ thá»ƒ Ä‘Æ°a vÃ o lÃ  \\(16^4 + 16^5 = 1.114.112\\) kÃ½ tá»±, bao gá»“m \\(16^5\\) sá»‘ tá»« 0 Ä‘áº¿n FFFFF vÃ  \\(16^4\\) sá»‘ tá»« 100000 Ä‘áº¿n 10FFFF.Unicode lÃ  má»™t báº£ng mÃ£ chuáº©n Ä‘Æ°á»£c cÃ´ng nháº­n rá»™ng rÃ£i cho biáº¿t quy táº¯c cho tÆ°Æ¡ng á»©ng háº§u háº¿t cÃ¡c kÃ½ tá»± tá»« Ä‘Æ¡n giáº£n Ä‘áº¿n phá»©c táº¡p, ká»ƒ cáº£ cÃ¡c ngÃ´n ngá»¯ sá»­ dá»¥ng kÃ½ tá»± tÆ°á»£ng hÃ¬nh phá»©c táº¡p nhÆ° chá»¯ HÃ¡n cá»§a tiáº¿ng Trung Quá»‘c, tiáº¿ng Nháº­t, chá»¯ NÃ´m cá»§a tiáº¿ng Viá»‡t, vá»›i má»™t sá»‘ náº±m giá»¯a sá»‘ 0 Ä‘áº¿n sá»‘ \\(10FFFF\\) khi viáº¿t theo há»‡ 16. Má»™t sá»‘ khi viáº¿t trong há»‡ 16 cÃ³ thá»ƒ sá»­ dá»¥ng (0, 1, â€¦, 9, , B, C, D, E, F) Ä‘á»ƒ biá»ƒu diá»…n, Ä‘Ã³ sá»‘ cÃ¡c kÃ½ tá»± mÃ  báº£ng mÃ£ Unicode cÃ³ thá»ƒ Ä‘Æ°a vÃ o lÃ  \\(16^4 + 16^5 = 1.114.112\\) kÃ½ tá»±, bao gá»“m \\(16^5\\) sá»‘ tá»« 0 Ä‘áº¿n FFFFF vÃ  \\(16^4\\) sá»‘ tá»« 100000 Ä‘áº¿n 10FFFF.UTF-8 lÃ  quy táº¯c lÆ°u cÃ¡c sá»‘ viáº¿t trong há»‡ 16 cá»§a báº£ng mÃ£ Unicode thÃ nh cÃ¡c chuá»—i nhá»‹ phÃ¢n 0 vÃ  1 mÃ  mÃ¡y tÃ­nh cÃ³ thá»ƒ phÃ¢n biá»‡t Ä‘Æ°á»£c. Sá»‘ 8 á»Ÿ Ä‘Ã¢y cÃ³ nghÄ©a lÃ  8 bit hay má»™t byte lÃ  8 giÃ¡ trá»‹ 0 vÃ  1 Ä‘á»©ng liá»n nhau. Má»™t kÃ½ tá»± báº¥t ká»³ trong báº£ng mÃ£ Unicode Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c mÃ£ hÃ³a thÃ nh 1, 2, 3 hoáº·c nhiá»u byte theo quy táº¯c mÃ£ hÃ³a UTF-8.UTF-8 lÃ  quy táº¯c lÆ°u cÃ¡c sá»‘ viáº¿t trong há»‡ 16 cá»§a báº£ng mÃ£ Unicode thÃ nh cÃ¡c chuá»—i nhá»‹ phÃ¢n 0 vÃ  1 mÃ  mÃ¡y tÃ­nh cÃ³ thá»ƒ phÃ¢n biá»‡t Ä‘Æ°á»£c. Sá»‘ 8 á»Ÿ Ä‘Ã¢y cÃ³ nghÄ©a lÃ  8 bit hay má»™t byte lÃ  8 giÃ¡ trá»‹ 0 vÃ  1 Ä‘á»©ng liá»n nhau. Má»™t kÃ½ tá»± báº¥t ká»³ trong báº£ng mÃ£ Unicode Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c mÃ£ hÃ³a thÃ nh 1, 2, 3 hoáº·c nhiá»u byte theo quy táº¯c mÃ£ hÃ³a UTF-8.Quay trá»Ÿ láº¡i váº¥n Ä‘á» Ä‘á»‹nh dáº¡ng láº¡i dá»¯ liá»‡u kiá»ƒu chuá»—i kÃ½ tá»±, sáº½ khÃ´ng cÃ³ váº¥n Ä‘á» xáº£y ra náº¿u ngÆ°á»i nháº­p liá»‡u sá»­ dá»¥ng bá»™ mÃ£ hÃ³a UTF-8 bá»Ÿi \\(readr\\) luÃ´n sá»­ dá»¥ng UTF-8 Ä‘á»ƒ giáº£i mÃ£. Trong thá»±c táº¿ thÃ¬ váº«n cÃ²n má»™t sá»‘ há»‡ thá»‘ng, hoáº·c há»‡ soáº¡n tháº£o vÄƒn báº£n sá»­ dá»¥ng cÃ¡ch mÃ£ hÃ³a khÃ´ng tÆ°Æ¡ng thÃ­ch vá»›i UTF-8. Giáº£ sá»­ khi Ä‘á»c má»™t dá»¯ liá»‡u tá»« nguá»“n ngoÃ i vÃ o báº±ng read_csv() vÃ  cho káº¿t quáº£ nhÆ° sauCá»™t \\(\\) cá»§a dá»¯ liá»‡u Ä‘Ã£ khÃ´ng Ä‘Æ°á»£c lÆ°u báº±ng mÃ£ hÃ³a UTF-8 nÃªn thÆ° viá»‡n \\(readr\\) khÃ´ng hiá»ƒn thá»‹ Ä‘Æ°á»£c cÃ¡c giÃ¡ trá»‹ cÃ³ Ã½ nghÄ©a. Äá»ƒ Ä‘á»‹nh dáº¡ng láº¡i cá»™t dá»¯ liá»‡u, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m parse_character() vá»›i tÃ¹y biáº¿n \\(encoding\\). KhÃ´ng dá»… Ä‘á»ƒ biáº¿t Ä‘Æ°á»£c dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c mÃ£ hÃ³a báº±ng bá»™ mÃ£ hÃ³a nÃ o. ThÆ° viá»‡n \\(readr\\) cung cáº¥p hÃ m guess_encoding() há»— trá»£ báº¡n Ä‘á»c dá»± Ä‘oÃ¡n má»™t biáº¿n kiá»ƒu chuá»—i kÃ½ tá»± Ä‘Ã£ Ä‘Æ°á»£c mÃ£ hÃ³a báº³ng bá»™ mÃ£ hÃ³a nÃ o. Tuy nhiÃªn tráº£i nghiá»‡m cá»§a chÃºng tÃ´i vá»›i hÃ m sá»‘ nÃ y lÃ  khÃ´ng tá»‘t. Lá»i khuyÃªn cá»§a chÃºng tÃ´i lÃ  báº¡n Ä‘á»c náº¿u cÃ³ thá»ƒ hÃ£y tÃ¬m hiá»ƒu nguá»“n gá»‘c cá»§a dá»¯ liá»‡u: dá»¯ liá»‡u Ä‘Æ°á»£c sÃ­nh ra tá»« Ä‘Ã¢u, há»‡ thá»‘ng nÃ o,â€¦ Trong trÆ°á»ng há»£p viá»‡c nÃ y lÃ  khÃ´ng thÃª, báº¡n Ä‘á»c hÃ£y thá»­ giáº£i mÃ£ Ä‘oáº¡n vÄƒn báº£n báº±ng má»™t sá»‘ bá»™ mÃ£ hÃ³a thÆ°á»ng gáº·p cho Ä‘áº¿n khi gáº·p Ä‘Æ°á»£c káº¿t quáº£ mong muá»‘n! Trong trÆ°á»ng há»£p dá»¯ liá»‡u á»Ÿ trÃªn nguá»“n lÃ  tiáº¿ng Viá»‡t nÃªn chÃºng ta cÃ³ thá»ƒ thá»­ cÃ¡cKáº¿t quáº£ khi sá»­ dá»¥ng bá»™ mÃ£ \\(Latin2\\) Ä‘Ã£ cho má»™t vÃ i giÃ¡ trá»‹ cÃ³ Ã½ nghÄ©a, chÃºng ta tiáº¿p tá»¥c thá»­ vá»›i \\(Latin1\\)May máº¯n lÃ  cá»™t dá»¯ liá»‡u Ä‘á»u Ä‘Ã£ cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c vá»›i chÃºng ta. Äá»‘i vá»›i cá»™t \\(B\\) cá»§a dá»¯ liá»‡u báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng parse_numbder() nhÆ° Ä‘Ã£ trÃ¬nh bÃ y á»Ÿ trÃªn. Dá»¯ liá»‡u sau khi Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng láº¡i Ä‘Ã£ dá»… hiá»ƒu hÆ¡n ráº¥t nhiá»u","code":"\nx<-read_csv(\"../KHDL_KTKD/Dataset/Book1.csv\")\nx## # A tibble: 5 Ã— 2\n##   A              B         \n##   <chr>          <chr>     \n## 1 \"l\\xea\"        20.000 vnd\n## 2 \"t\\xe1o\"       35.000 vnd\n## 3 \"qu\\xfdt\"      30.000 vnd\n## 4 \"c\\xe0 t\\xedm\" 5.500 vnd \n## 5 \"m\\xedt\"       10.000 vnd\nparse_character(x$A, locale = locale(encoding = \"Latin2\"))## [1] \"lÄ™\"     \"tÃ¡o\"    \"quÃ½t\"   \"cÅ• tÃ­m\" \"mÃ­t\"\nparse_character(x$A, locale = locale(encoding = \"Latin1\"))## [1] \"lÃª\"     \"tÃ¡o\"    \"quÃ½t\"   \"cÃ  tÃ­m\" \"mÃ­t\"\ntibble(Name = parse_character(x$A, locale = locale(encoding = \"Latin1\")), \n      Price = parse_number(x$B, locale = locale(grouping_mark = \".\")))## # A tibble: 5 Ã— 2\n##   Name   Price\n##   <chr>  <dbl>\n## 1 lÃª     20000\n## 2 tÃ¡o    35000\n## 3 quÃ½t   30000\n## 4 cÃ  tÃ­m  5500\n## 5 mÃ­t    10000"},{"path":"index.html","id":"giÃ¡-trá»‹-ngoáº¡i-lai-vÃ -giÃ¡-trá»‹-khÃ´ng-quan-sÃ¡t-Ä‘Æ°á»£c.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.3 GiÃ¡ trá»‹ ngoáº¡i lai vÃ  giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.","text":"GiÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c lÃ  cÃ¡c giÃ¡ trá»‹ xuáº¥t hiá»‡n dÆ°á»›i dáº¡ng \\(NA\\) trong dá»¯ liá»‡u sau khi nháº­p vÃ o R. CÃ³ nhiá»u lÃ½ khÃ¡c nhau dáº«n Ä‘áº¿n viá»‡c dá»¯ liá»‡u khÃ´ng quan sÃ¡t Ä‘Æ°á»£c, cháº³ng háº¡n nhÆ° thÃ´ng tin ngÆ°á»i lÃ m dá»¯ liá»‡u cung cáº¥p khÃ´ng Ä‘áº§y Ä‘á»§, nhá»¯ng ngÆ°á»i cung cáº¥p dá»¯ liá»‡u tá»« chá»‘i chia sáº» thÃ´ng tin, há»‡ thá»‘ng quáº£n lÃ½ dá»¯ liá»‡u bá»‹ lá»—i, hoáº·c cÅ©ng cÃ³ thá»ƒ ngÆ°á»i quáº£n lÃ½ xÃ³a dá»¯ liá»‡u vÃ¬ lÃ½ báº£o máº­t. GiÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c ngoÃ i cÃ¡c giÃ¡ trá»‹ \\(NA\\) xuáº¥t hiá»‡n trong dá»¯ liá»‡u, mÃ  cÃ²n lÃ  cÃ¡c giÃ¡ trá»‹ khÃ´ng phÃ¹ há»£p vá»›i kiá»ƒu dá»¯ liá»‡u hoáº·c miá»n giÃ¡ trá»‹ cá»§a cá»™t dá»¯ liá»‡u. Äá»‘i vá»›i má»™t vÃ i há»‡ thá»‘ng khi dá»¯ liá»‡u Ä‘Æ°á»£c xuáº¥t ra giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c váº«n Ä‘Æ°á»£c ghi nháº­n báº±ng má»™t giÃ¡ trá»‹ nÃ o Ä‘Ã³. Báº¡n Ä‘á»c cáº§n cáº©n trá»ng khi lÃ m viá»‡c vá»›i nhá»¯ng dá»¯ liá»‡u kiá»ƒu nhÆ° váº­y.GiÃ¡ trá»‹ ngoáº¡i lai hay cÃ²n Ä‘Æ°á»£c gá»i lÃ  giÃ¡ trá»‹ báº¥t thÆ°á»ng lÃ  má»™t Ä‘iá»ƒm dá»¯ liá»‡u hoáº·c má»™t quan sÃ¡t sai khÃ¡c Ä‘Ã¡ng ká»ƒ vá»›i Ä‘a sá»‘ cÃ¡c quan sÃ¡t khÃ¡c. Má»™t giÃ¡ trá»‹ ngoáº¡i lai xuáº¥t hiá»‡n trong dá»¯ liá»‡u cÃ³ thá»ƒ lÃ  lá»—i trong quáº£n lÃ½ dá»¯ liá»‡u, sai sá»‘ trong Ä‘o lÆ°á»ng hoáº·c cÅ©ng cÃ³ thá»ƒ báº£n cháº¥t phÃ¢n phá»‘i cá»§a dá»¯ liá»‡u. TÃ¹y theo nguá»“n gÃ´c cá»§a giÃ¡ trá»‹ ngoáº¡i lai mÃ  chÃºng ta cÃ³ cÃ¡ch xá»­ lÃ½ dá»¯ liá»‡u khÃ¡c nhau.Khi khÃ´ng Ä‘Æ°á»£c xá»­ lÃ½ thÃ­ch há»£p, giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c vÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai cÃ³ thá»ƒ lÃ m sai lá»‡ch káº¿t luáº­n cá»§a táº¥t cáº£ cÃ¡c phÃ¢n tÃ­ch vá» dá»¯ liá»‡u, khiáº¿n ngÆ°á»i quáº£n lÃ½ Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh sai láº§m. Báº¡n Ä‘á»c quan sÃ¡t vÃ­ dá»¥ sau:Trong dá»¯ liá»‡u á»Ÿ trÃªn, máº·c dÃ¹ chá»‰ cÃ³ 1 giÃ¡ trá»‹ Ä‘ang lÃ  \\(NA\\) á»Ÿ cá»™t giá»›i tÃ­nh nhÆ°ng náº¿u quan sÃ¡t ká»¹ báº¡n Ä‘á»c sáº½ nháº­n ra ráº±ng:Cá»™t \\(name\\): giÃ¡ trá»‹ â€œ12345â€ khÃ´ng thá»ƒ lÃ  tÃªn cá»§a má»™t sinh viÃªn, Ä‘Ã³ Ä‘Ã¢y cÅ©ng lÃ  má»™t giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.Cá»™t \\(name\\): giÃ¡ trá»‹ â€œ12345â€ khÃ´ng thá»ƒ lÃ  tÃªn cá»§a má»™t sinh viÃªn, Ä‘Ã³ Ä‘Ã¢y cÅ©ng lÃ  má»™t giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.Cá»™t \\(Age\\): thá»© nháº¥t, giÃ¡ trá»‹ á»Ÿ hÃ ng thá»© hai cá»§a cá»™t \\(Age\\) lÃ  kiá»ƒu chuá»—i kÃ½ tá»±. Thá»© hai, tuá»•i cá»§a má»™t sinh viÃªn khÃ´ng thá»ƒ lÃ  sá»‘ Ã¢m, nÃªn giÃ¡ trá»‹ \\(-1\\) khÃ´ng phÃ¹ há»£p vá»›i miá»n giÃ¡ trá»‹ cá»§a cá»™t nÃ y. Cá»™t \\(Age\\) cÃ³ hai giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.Cá»™t \\(Age\\): thá»© nháº¥t, giÃ¡ trá»‹ á»Ÿ hÃ ng thá»© hai cá»§a cá»™t \\(Age\\) lÃ  kiá»ƒu chuá»—i kÃ½ tá»±. Thá»© hai, tuá»•i cá»§a má»™t sinh viÃªn khÃ´ng thá»ƒ lÃ  sá»‘ Ã¢m, nÃªn giÃ¡ trá»‹ \\(-1\\) khÃ´ng phÃ¹ há»£p vá»›i miá»n giÃ¡ trá»‹ cá»§a cá»™t nÃ y. Cá»™t \\(Age\\) cÃ³ hai giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.Cá»™t \\(Gender\\): cÃ³ giÃ¡ trá»‹ lÃ  kÃ½ tá»± \\(N\\) khÃ´ng rÃµ lÃ  thá»ƒ hiá»‡n cho giá»›i tÃ­nh Nam hay Ná»¯, giÃ¡ trá»‹ nÃ y cÅ©ng lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.Cá»™t \\(Gender\\): cÃ³ giÃ¡ trá»‹ lÃ  kÃ½ tá»± \\(N\\) khÃ´ng rÃµ lÃ  thá»ƒ hiá»‡n cho giá»›i tÃ­nh Nam hay Ná»¯, giÃ¡ trá»‹ nÃ y cÅ©ng lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.Cá»™t \\(MSV\\): Giáº£ sá»­ báº±ng má»™t cÃ¡ch nÃ o Ä‘Ã³, báº¡n Ä‘á»c biáº¿t ráº±ng mÃ£ sinh viÃªn pháº£i lÃ  má»™t Ä‘oáº¡n kÃ½ tá»± cÃ³ Ä‘á»™ dÃ i lÃ  8, bao gá»“m Ä‘oáº¡n kÃ½ tá»± â€œMSVâ€ vÃ  theo sau lÃ  5 chá»¯ sá»‘, thÃ¬ giÃ¡ trá»‹ â€œMS34â€ cÅ©ng lÃ  má»™t giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c á»Ÿ cá»™t mÃ£ sinh viÃªn.Cá»™t \\(MSV\\): Giáº£ sá»­ báº±ng má»™t cÃ¡ch nÃ o Ä‘Ã³, báº¡n Ä‘á»c biáº¿t ráº±ng mÃ£ sinh viÃªn pháº£i lÃ  má»™t Ä‘oáº¡n kÃ½ tá»± cÃ³ Ä‘á»™ dÃ i lÃ  8, bao gá»“m Ä‘oáº¡n kÃ½ tá»± â€œMSVâ€ vÃ  theo sau lÃ  5 chá»¯ sá»‘, thÃ¬ giÃ¡ trá»‹ â€œMS34â€ cÅ©ng lÃ  má»™t giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c á»Ÿ cá»™t mÃ£ sinh viÃªn.Äá»ƒ xÃ¡c Ä‘á»‹nh dá»¯ liá»‡u cÃ³ giÃ¡ trá»‹ ngoáº¡i lai hay khÃ´ng cáº§n sá»­ dá»¥ng cÃ¡c kiáº¿n thá»©c vá» thá»‘ng kÃª toÃ¡n:Cá»™t \\(Height\\) cÃ³ giÃ¡ trá»‹ chiá»u cao á»Ÿ hÃ ng thá»© nháº¥t lÃ  1,76 cm. GiÃ¡ trá»‹ nÃ y quÃ¡ nhá» Ä‘á»ƒ lÃ m chiá»u cao cá»§a má»™t ngÆ°á»i bÃ¬nh thÆ°á»ng. Nhiá»u kháº£ nÄƒng khi Ä‘o chiá»u cao cá»§a sinh viÃªn, ngÆ°á»i nháº­p dá»¯ liá»‡u Ä‘Ã£ ghi láº¡i theo Ä‘Æ¡n vá»‹ mÃ©t.Cá»™t \\(Height\\) cÃ³ giÃ¡ trá»‹ chiá»u cao á»Ÿ hÃ ng thá»© nháº¥t lÃ  1,76 cm. GiÃ¡ trá»‹ nÃ y quÃ¡ nhá» Ä‘á»ƒ lÃ m chiá»u cao cá»§a má»™t ngÆ°á»i bÃ¬nh thÆ°á»ng. Nhiá»u kháº£ nÄƒng khi Ä‘o chiá»u cao cá»§a sinh viÃªn, ngÆ°á»i nháº­p dá»¯ liá»‡u Ä‘Ã£ ghi láº¡i theo Ä‘Æ¡n vá»‹ mÃ©t.Cá»™t \\(Weight\\) cÃ³ giÃ¡ trá»‹ cÃ¢n náº·ng cá»§a hÃ ng thá»© 4 lÃ  150 kg. Máº·c dÃ¹ dá»¯ liá»‡u cÃ³ ráº¥t Ã­t quan sÃ¡t Ä‘á»ƒ Ä‘Æ°a ra káº¿t luáº­n phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a cÃ¢n náº·ng cá»§a sinh viÃªn lÃ  gÃ¬, tuy nhiÃªn vá»›i kiáº¿n thá»©c thá»±c táº¿ chÃºng ta cÃ³ thá»ƒ káº¿t luáº­n ráº±ng 150 kg lÃ  má»™t cÃ¢n náº·ng lá»›n báº¥t thÆ°á»ng vá»›i cÃ¡c giÃ¡ trá»‹ cÃ¢n náº·ng cÃ²n láº¡i. ÄÃ¢y nhiá»u kháº£ nÄƒng lÃ  má»™t giÃ¡ trá»‹ ngoáº¡i lai.Cá»™t \\(Weight\\) cÃ³ giÃ¡ trá»‹ cÃ¢n náº·ng cá»§a hÃ ng thá»© 4 lÃ  150 kg. Máº·c dÃ¹ dá»¯ liá»‡u cÃ³ ráº¥t Ã­t quan sÃ¡t Ä‘á»ƒ Ä‘Æ°a ra káº¿t luáº­n phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a cÃ¢n náº·ng cá»§a sinh viÃªn lÃ  gÃ¬, tuy nhiÃªn vá»›i kiáº¿n thá»©c thá»±c táº¿ chÃºng ta cÃ³ thá»ƒ káº¿t luáº­n ráº±ng 150 kg lÃ  má»™t cÃ¢n náº·ng lá»›n báº¥t thÆ°á»ng vá»›i cÃ¡c giÃ¡ trá»‹ cÃ¢n náº·ng cÃ²n láº¡i. ÄÃ¢y nhiá»u kháº£ nÄƒng lÃ  má»™t giÃ¡ trá»‹ ngoáº¡i lai.Äá»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c vÃ  giÃ¡ trá»‹ ngoáº¡i lai tÃ¹y thuá»™c vÃ o tá»«ng dá»¯ liá»‡u cá»¥ thá»ƒ vÃ  kiáº¿n thá»©c tá»•ng há»£p vÃ  kiáº¿n thá»©c chuyÃªn mÃ´n cá»§a ngÆ°á»i xá»­ lÃ½ dá»¯ liá»‡u vÃ  náº±m ngoÃ i pháº¡m vi tháº£o luáº­n cá»§a cuá»‘n sÃ¡ch nÃ y. Dá»¯ liá»‡u á»Ÿ trÃªn chá»‰ lÃ  má»™t dá»¯ liá»‡u nhá» vÃ  Ä‘Æ¡n giáº£n nÃªn viá»‡c xÃ¡c Ä‘á»‹nh cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c vÃ  giÃ¡ trá»‹ ngoáº¡i lai lÃ  khÃ´ng khÃ³. ChÃºng ta biáº¿n Ä‘á»•i cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c thÃ nh \\(NA\\) nhÆ° sauÄá»‘i vá»›i cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai, chÃºng ta sáº½ Ä‘á»•i giÃ¡ trá»‹ bá»‹ ghi nháº­n sai Ä‘Æ¡n vá»‹ vá» Ä‘Ãºng Ä‘Æ¡n vá»‹. Vá»›i giÃ¡ trá»‹ cÃ¢n náº·ng 150 kg, dá»¯ liá»‡u nhá», báº¡n Ä‘á»c cÃ³ thá»ƒ giá»¯ nguyÃªn giÃ¡ trá»‹ nÃ y hoáº·c thay tháº¿ giÃ¡ trá»‹ nÃ y báº±ng giÃ¡ trá»‹ lá»›n nháº¥t cá»§a nhá»¯ng ngÆ°á»i cÃ³ cÃ¢n náº·ng thÃ´ng thÆ°á»ng.Dá»¯ liá»‡u sau khi xá»­ lÃ½ giÃ¡ trá»‹ ngoáº¡i lai vÃ  Ä‘á»‹nh nghÄ©a láº¡i cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c nhÆ° sau:HÃ m sá»‘ .na(df) tráº£ láº¡i giÃ¡ trá»‹ lÃ  \\(TRUE\\) náº¿u dá»¯ liá»‡u lÃ  quan sÃ¡t lÃ  \\(NA\\) vÃ  tráº£ láº¡i giÃ¡ trá»‹ \\(FALSE\\) náº¿u khÃ´ng pháº£i \\(NA\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ dÃ¹ng hÃ m .na() káº¿t há»£p vá»›i hÃ m sum() Ä‘á»ƒ tÃ­nh toÃ¡n má»—i cá»™t cÃ³ bao nhiÃªu giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c vÃ  tá»· lá»‡ sá»‘ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c trÃªn má»—i cá»™t lÃ  bao nhiÃªu:Vá»›i nhá»¯ng dá»¯ liá»‡u nhá» thÃ¬ hiá»ƒn thá»‹ trá»±c tiáº¿p sá»‘ lÆ°á»£ng giÃ¡ trá»‹ \\(NA\\) trong má»—i cá»™t lÃ  hiá»‡u quáº£ nháº¥t. Khi dá»¯ liá»‡u cÃ³ nhiá»u quan sÃ¡t vÃ  nhiá»u biáº¿n, báº¡n Ä‘á»c nÃªn sá»­ dá»¥ng Ä‘á»“ thá»‹ Ä‘á»ƒ mÃ´ táº£ sá»‘ lÆ°á»£ng hoáº·c tá»· lá»‡ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cá»§a má»—i cá»™t. VÃ­ dá»¥ nhÆ° vá»›i dá»¯ liá»‡u \\(gapminder\\) cá»§a thÆ° viá»‡n \\(dslabs\\), sá»­ dá»¥ng Ä‘á»“ thá»‹ \\(barplot\\) Ä‘á»ƒ mÃ´ táº£ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c sáº½ hiá»‡u quáº£ hÆ¡n:Xá»­ lÃ½ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c dá»±a trÃªn kinh nghiá»‡m vÃ  hiá»ƒu biáº¿t vá» dá»¯ liá»‡u cá»§a báº¡n Ä‘á»c luÃ´n lÃ  Æ°u tiÃªn trÆ°á»›c tiÃªn. Náº¿u chÃºng ta khÃ´ng cÃ³ kinh nghiá»‡m vÃ  hiá»ƒu biáº¿t vá» dá»¯ liá»‡u, cÃ¡c ká»¹ thuáº­t xá»­ lÃ½ dá»±a trÃªn cÃ¡c nguyÃªn táº¯c cá»§a xÃ¡c suáº¥t thá»‘ng kÃª sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng.","code":"## # A tibble: 4 Ã— 6\n##   MSV      Name            Age                Gender `Height (cm)` `Weight (kg)`\n##   <chr>    <chr>           <chr>              <chr>          <dbl>         <dbl>\n## 1 MSV00001 12345           30                 Nam             1.76            68\n## 2 MSV43241 Nguyá»…n VÄƒn An   Nháº­p sai ngÃ y sinh N             169               72\n## 3 MSV65432 LÃª Thá»‹ Loan     -1                 Ná»¯            155               48\n## 4 MSV34    Tráº§n Máº¡nh CÆ°á»ng 15                 <NA>          175              150\ndf$MSV[(nchar(df$MSV)!=8)]<-NA # mÃ£ sinh viÃªn khÃ´ng cÃ³ 8 kÃ½ tá»± lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c\ndf$Name[df$Name==\"12345\"]<-NA\ndf$Age<-parse_number(df$Age, na = c(\"-1\")) # tuá»•i cÃ³ giÃ¡ trá»‹ (-1) lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c\ndf$Gender[df$Gender == \"N\"]<-NA\ndf$Height[1]<-df$Height[1] * 100 # Ä‘á»•i Ä‘Æ¡n vá»‹ Ä‘o tá»« mÃ©t sang cm\ndf## # A tibble: 4 Ã— 6\n##   MSV      Name              Age Gender `Height (cm)` `Weight (kg)`\n##   <chr>    <chr>           <dbl> <chr>          <dbl>         <dbl>\n## 1 MSV00001 <NA>               30 Nam             1.76            68\n## 2 MSV43241 Nguyá»…n VÄƒn An      NA <NA>          169               72\n## 3 MSV65432 LÃª Thá»‹ Loan        NA Ná»¯            155               48\n## 4 <NA>     Tráº§n Máº¡nh CÆ°á»ng    15 <NA>          175              150\nsapply(df,function(x) sum(is.na(x))) # cho biáº¿t má»—i cá»™t dá»¯ liá»‡u cÃ³ bao nhiÃªu giÃ¡ trá»‹ NA##         MSV        Name         Age      Gender Height (cm) Weight (kg) \n##           1           1           2           2           0           0\nsapply(df,function(x) sum(is.na(x))/length(x)) # cho biáº¿t tá»· lá»‡ giÃ¡ trá»‹ NA trong má»—i cá»™t##         MSV        Name         Age      Gender Height (cm) Weight (kg) \n##        0.25        0.25        0.50        0.50        0.00        0.00\ny<-sapply(gapminder,function(x) sum(is.na(x))/length(x)*100) # cho biáº¿t tá»· lá»‡ giÃ¡ trá»‹ NA trong má»—i cá»™t\nbarplot(sort(y), main = \"Tá»· lá»‡ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c\",\n        ylab = \"ÄÆ¡n vá»‹ %\",\n        xlab = \"\",\n        col = \"lightskyblue\")"},{"path":"index.html","id":"giÃ¡-trá»‹-ngoáº¡i-lai.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.3.1 GiÃ¡ trá»‹ ngoáº¡i lai.","text":"GiÃ¡ trá»‹ ngoáº¡i lai, hay cÃ²n gá»i lÃ  giÃ¡ trá»‹ báº¥t thÆ°á»ng, lÃ  nhá»¯ng giÃ¡ trá»‹ mÃ  khÃ¡c xa táº­p há»£p cÃ¡c giÃ¡ trá»‹ cÃ²n láº¡i. KhÃ´ng cÃ³ má»™t Ä‘á»‹nh nghÄ©a Ä‘á»‹nh lÆ°á»£ng chÃ­nh xÃ¡c nÃ o cho khÃ¡i niá»‡m nhÆ° tháº¿ nÃ o lÃ  khÃ¡c xa cÃ¡c giÃ¡ trá»‹ cÃ²n láº¡i. Ä‘Ã³, tÃ¹y theo báº£n cháº¥t cá»§a dá»¯ liá»‡u vÃ  tÃ¹y theo quan Ä‘iá»ƒm cá»§a ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u mÃ  má»™t hay má»™t sá»‘ giÃ¡ trá»‹ cÃ³ kháº£ nÄƒng lÃ  giÃ¡ trá»‹ ngoáº¡i lai hay khÃ´ng. GiÃ¡ trá»‹ ngoáº¡i lai thÆ°á»ng chá»‰ Ä‘Æ°á»£c nháº¯c Ä‘áº¿n vá»›i cÃ¡c dá»¯ liá»‡u cÃ³ sá»‘ quan sÃ¡t Ä‘á»§ lá»›n Ä‘á»ƒ Ä‘Æ°a ra káº¿t luáº­n cÃ³ Ã½ nghÄ©a thá»‘ng kÃª.Khi dá»¯ liá»‡u cÃ³ 10 quan sÃ¡t nhÆ° hÃ¬nh bÃªn trÃ¡i, cÃ³ 8 quan sÃ¡t mÃ u xanh da trá»i náº±m gáº§n nhau hÆ¡n, Ä‘iá»ƒm mÃ u cam hÆ¡i xa hÆ¡n táº­p há»£p cÃ¡c Ä‘iá»ƒm mÃ u xanh da trá»i má»™t chÃºt, cÃ²n Ä‘iá»ƒm mÃ u Ä‘á» náº±m xa hÆ¡n. Khi gáº·p dá»¯ liá»‡u nhÆ° váº­y, chÃºng ta cÃ³ thá»ƒ káº¿t luáº­n Ä‘iá»ƒm mÃ u Ä‘á» lÃ  giÃ¡ trá»‹ ngoáº¡i lai, cÃ²n káº¿t luáº­n Ä‘iá»ƒm mÃ u cam cÃ³ pháº£i ngoáº¡i lai hay khÃ´ng thÃ¬ cÃ²n tÃ¹y thuá»™c vÃ o Ã½ tÆ°á»Ÿng cá»§a ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u. Chuyá»ƒn sang hÃ¬nh bÃªn pháº£i vá»›i dá»¯ liá»‡u cÃ³ 100 quan sÃ¡t. CÃ¡c Ä‘iá»ƒm mÃ u xanh da trá»i Ä‘á»‹nh hÃ¬nh khÃ¡ rÃµ miá»n giÃ¡ trá»‹ cá»§a trung tÃ¢m cá»§a dá»¯ liá»‡u lÃ  náº±m xung quanh Ä‘iá»ƒm (3,3). ChÃºng ta cÃ³ thá»ƒ káº¿t luáº­n má»™t cÃ¡ch khÃ¡ cháº¯c cháº¯n ráº±ng Ä‘iá»ƒm mÃ u Ä‘á» lÃ  má»™t giÃ¡ trá»‹ ngoáº¡i lai. Äiá»ƒm mÃ u cam, máº·c dÃ¹ náº±m khÃ¡ xa trung tÃ¢m cá»§a dá»¯ liá»‡u, nhÆ°ng Ä‘á»ƒ káº¿t luáº­n ráº±ng cÃ³ pháº£i giÃ¡ trá»‹ ngoáº¡i lai hay khÃ´ng váº«n phá»¥ thuá»™c vÃ o Ã½ tÆ°á»Ÿng cá»§a ngÆ°á»i phÃ¢n tÃ­ch.Nguá»“n gá»‘c cá»§a giÃ¡ trá»‹ ngoáº¡i lai lÃ  cÃ³ thá»ƒ cÃ³ nhiá»u nguyÃªn nhÃ¢n khÃ¡c nhau, bao gá»“m cáº£ nguyÃªn nhÃ¢n khÃ¡ch quan hoáº·c nguyÃªn nhÃ¢n chá»§ quan. CÃ¡c nguyÃªn nhÃ¢n khÃ¡ch quan cÃ³ thá»ƒ nguá»“n sinh dá»¯ liá»‡u, hay há»‡ thá»‘ng quáº£n lÃ½ dá»¯ liá»‡u gáº·p sá»± cá»‘, lá»—i trong quÃ¡ trÃ¬nh truyá»n hoáº·c sao chÃ©p dá»¯ liá»‡u. NguyÃªn nhÃ¢n chá»§ quan bao gá»“m cÃ³ cÃ¡c hÃ nh vi gian láº­n, lá»—i nháº­p vÃ  sao chÃ©p dá»¯ liá»‡u cá»§a con ngÆ°á»i, hoáº·c cÃ¡c giÃ¡ trá»‹ Ä‘Æ°á»£c cá»‘ tÃ¬nh Ä‘Æ°a vÃ o trong dá»¯ liá»‡u vá»›i má»¥c Ä‘Ã­ch láº¥y pháº£n há»“i tá»« ngÆ°á»i dÃ¹ng dá»¯ liá»‡u.Náº¿u khÃ´ng xá»­ lÃ½ giÃ¡ trá»‹ ngoáº¡i lai káº¿t quáº£ tÃ­nh toÃ¡n sáº½ bá»‹ sai lá»‡ch Ä‘Ã¡ng ká»ƒ. Dá»¯ liá»‡u cÃ³ kÃ­ch thÆ°á»›c cÃ ng nhá» thÃ¬ áº£nh hÆ°á»Ÿng cá»§a giÃ¡ trá»‹ ngoáº¡i lai láº¡i cÃ ng lá»›n. Trong vÃ­ dá»¥ á»Ÿ trÃªn, giáº£ sá»­ báº¡n Ä‘á»c cáº§n phÃ¢n tÃ­ch sá»± tÃ¡c Ä‘á»™ng cá»§a biáº¿n \\(X\\) (trá»¥c náº±m ngang) lÃªn biáº¿n \\(Y\\) (giÃ¡ trá»‹ trÃªn trá»¥c dá»c) báº±ng má»™t má»‘i quan há»‡ tuyáº¿n tÃ­nh. HÃ£y quan sÃ¡t káº¿t quáº£ cá»§a phÃ¢n tÃ­ch khi chÃºng taGiá»¯ nguyÃªn 10 quan sÃ¡t vÃ  phÃ¢n tÃ­ch má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh.Giá»¯ nguyÃªn 10 quan sÃ¡t vÃ  phÃ¢n tÃ­ch má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh.Loáº¡i bá» Ä‘iá»ƒm (mÃ u Ä‘á») ra vÃ  phÃ¢n tÃ­ch má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh.Loáº¡i bá» Ä‘iá»ƒm (mÃ u Ä‘á») ra vÃ  phÃ¢n tÃ­ch má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh.Loáº¡i bá» Ä‘iá»ƒm (mÃ u Ä‘á») vÃ  Ä‘iá»ƒm B (mÃ u cam) ra Ä‘á»ƒ phÃ¢n tÃ­ch má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh.Loáº¡i bá» Ä‘iá»ƒm (mÃ u Ä‘á») vÃ  Ä‘iá»ƒm B (mÃ u cam) ra Ä‘á»ƒ phÃ¢n tÃ­ch má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh.Khi giá»¯ nguyÃªn 10 Ä‘iá»ƒm dá»¯ liá»‡u Ä‘á»ƒ xÃ¢y dá»±ng má»‘i quan há»‡ tuyáº¿n tÃ­nh, Ä‘Æ°á»ng tháº³ng mÃ´ táº£ má»‘i quan há»‡ giá»¯a \\(Y\\) vÃ  \\(X\\) lÃ  náº±m trong hÃ¬nh phÃ­a bÃªn trÃ¡i. ÄÆ°á»ng tháº³ng nÃ y cÃ³ há»‡ sá»‘ gÃ³c dÆ°Æ¡ng (má»™t Ä‘Æ°á»ng dá»‘c lÃªn khi Ä‘i tá»« trÃ¡i sang pháº£i), Ä‘iá»u nÃ y cÃ³ nghÄ©a lÃ  biáº¿n \\(X\\) cÃ³ tÃ¡c Ä‘á»™ng cÃ¹ng chiá»u lÃªn biáº¿n \\(Y\\). Sau khi loáº¡i bá» Ä‘iá»ƒm (mÃ u Ä‘á») vÃ  tÃ­nh toÃ¡n láº¡i, Ä‘Æ°á»ng tháº³ng mÃ´ táº£ má»‘i quan há»‡ tuyáº¿n tÃ­nh giá»¯a \\(Y\\) vÃ  \\(X\\) á»Ÿ lÃ  Ä‘Æ°á»ng tháº³ng trong hÃ¬nh á»Ÿ giá»¯a. ÄÆ°á»ng tháº³ng gáº§n nhÆ° náº±m ngang, cho tháº¥y \\(X\\) Ã­t cÃ³ tÃ¡c Ä‘á»™ng lÃªn biáº¿n \\(Y\\). Sau cÃ¹ng, trong hÃ¬nh phÃ­a bÃªn pháº£i, sau khi loáº¡i bá» cÃ¡c Ä‘iá»ƒm (mÃ u Ä‘á») vÃ  Ä‘iá»ƒm B (mÃ u cam), Ä‘Æ°á»ng tháº³ng mÃ´ táº£ má»‘i quan há»‡ tuyá»ƒn tÃ­nh giá»¯a \\(Y\\) vÃ  \\(X\\) lÃ  Ä‘Æ°á»ng dá»‘c xuá»‘ng, nghÄ©a lÃ  má»‘i tÃ¡c Ä‘á»™ng cá»§a \\(X\\) lÃªn \\(Y\\) lÃ  ngÆ°á»£c chiá»u. Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng káº¿t luáº­n Ä‘Æ°a ra sau khi phÃ¢n tÃ­ch thay Ä‘á»•i hoÃ n toÃ n khi chÃºng ta cÃ³ cÃ¡c lá»±a chá»n khÃ¡c nhau vá» loáº¡i bá» cÃ¡c giÃ¡ trá»‹ Ä‘Æ°á»£c cho lÃ  ngoáº¡i lai ra khá»i dá»¯ liá»‡u. Sá»± tÃ¡c Ä‘á»™ng cá»§a \\(X\\) lÃªn \\(Y\\) tá»« thuáº­n chiá»u (hÃ¬nh bÃªn trÃ¡i) chuyá»ƒn sang khÃ´ng cÃ³ má»‘i liÃªn há»‡ (hÃ¬nh á»Ÿ giá»¯a) vÃ  sau cÃ¹ng lÃ  sá»± tÃ¡c Ä‘á»™ng ngÆ°á»£c chiá»u cá»§a \\(X\\) lÃªn \\(Y\\) (hÃ¬nh bÃªn pháº£i).Trong pháº§n tiáº¿p theo chÃºng thÃ´i sáº½ tháº£o luáº­n vá» cÃ¡c phÆ°Æ¡ng phÃ¡p dÃ¹ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai trong dá»¯ liá»‡u.","code":""},{"path":"index.html","id":"cÃ¡ch-phÃ¡t-hiá»‡n-giÃ¡-trá»‹-ngoáº¡i-lai","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.3.2 CÃ¡ch phÃ¡t hiá»‡n giÃ¡ trá»‹ ngoáº¡i lai","text":"KhÃ´ng cÃ³ má»™t Ä‘á»‹nh nghÄ©a chÃ­nh xÃ¡c nhÆ° tháº¿ nÃ o lÃ  giÃ¡ trá»‹ ngoáº¡i lai, chÃ­nh vÃ¬ tháº¿ khÃ´ng cÃ³ phÆ°Æ¡ng phÃ¡p tá»•ng thá»ƒ vÃ  thá»‘ng nháº¥t nÃ o Ä‘á»ƒ phÃ¡t hiá»‡n giÃ¡ trá»‹ ngoáº¡i lai trong dá»¯ liá»‡u. Vá»›i má»—i cÃ¡ch nhÃ¬n nháº­n giÃ¡ trá»‹ ngoáº¡i láº¡i khÃ¡c nhau mÃ  cÃ³ phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n cá»¥ thá»ƒ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c giÃ¡ trá»‹ Ä‘Ã³. ChÃºng tÃ´i chá»‰ trÃ¬nh bÃ y cÃ¡c phÆ°Æ¡ng phÃ¡p chung Ä‘Æ°á»£c cháº¥p nháº­n rá»™ng rÃ£i bá»Ÿi nhá»¯ng ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u. CÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y cá»¥ thá»ƒ ngay trong pháº§n nÃ y. CÃ¡c phÆ°Æ¡ng phÃ¡p phá»©c táº¡p hÆ¡n Ä‘Ã²i há»i kiáº¿n thá»©c cá»§a cÃ¡c chÆ°Æ¡ng sau cá»§a cuá»‘n sÃ¡ch sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y dÆ°á»›i dáº¡ng Ã½ tÆ°á»Ÿng vÃ  hÃ m cÃ³ sáºµn trong thÆ° viá»‡n bá»• sung.","code":""},{"path":"index.html","id":"phÃ¡t-hiá»‡n-giÃ¡-trá»‹-ngoáº¡i-lai-trong-má»™t-vÃ©c-tÆ¡.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.3.2.1 PhÃ¡t hiá»‡n giÃ¡ trá»‹ ngoáº¡i lai trong má»™t vÃ©c-tÆ¡.","text":"Äá»ƒ xÃ¡c Ä‘á»‹nh má»™t giÃ¡ trá»‹ lÃ  giÃ¡ trá»‹ ngoáº¡i lai hay khÃ´ng luÃ´n bao gá»“m hai bÆ°á»›c, bÆ°á»›c thá»© nháº¥t lÃ  sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng phÃ¡p xÃ¡c suáº¥t thá»‘ng kÃª Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c giÃ¡ trá»‹ cÃ³ nhiá»u kháº£ nÄƒng lÃ  ngoáº¡i lai, vÃ  bÆ°á»›c thá»© hai lÃ  sá»­ dá»¥ng kiáº¿n thá»©c chuyÃªn mÃ´n hoáº·c há»i Ã½ kiáº¿n chuyÃªn gia (náº¿u cÃ³ thá»ƒ) Ä‘á»ƒ kháº³ng Ä‘á»‹nh láº¡i káº¿t quáº£ tá»« bÆ°á»›c thá»© nháº¥t.Náº¿u vÃ©c-tÆ¡ lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± (khÃ´ng pháº£i kiá»ƒu factor) thÃ¬ khÃ´ng cÃ³ quy táº¯c rÃµ rÃ ng nÃ o Ä‘á»ƒ xÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ ngoáº¡i lai. Má»™t chuá»—i kÃ½ tá»± cÃ³ thá»ƒ lÃ  ngoáº¡i lai náº¿u chuá»—i kÃ½ tá»± cÃ³ Ä‘á»™ dÃ i báº¥t thÆ°á»ng, cÃ³ chá»©a nhiá»u kÃ½ tá»± báº¥t thÆ°á»ng, má»™t chuá»—i kÃ½ tá»± khÃ´ng cÃ³ Ã½ nghÄ©a, hoáº·c cÅ©ng cÃ³ thá»ƒ lÃ  má»™t chuá»—i kÃ½ tá»± trá»‘ng,â€¦ viá»‡c nÃ y hoÃ n toÃ n phá»¥ thuá»™c vÃ o cÃ¡ch tiáº¿p cáº­n cá»§a ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u. CÃ¡c phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ dá»¯ liá»‡u kiá»ƒu chuá»—i kÃ½ tá»± hiá»‡n Ä‘áº¡i cÃ³ kháº£ nÄƒng biáº¿n Ä‘á»•i má»™t chuá»—i kÃ½ tá»± thÃ nh má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘. Viá»‡c xÃ¡c Ä‘á»‹nh chuá»—i kÃ½ tá»± cÃ³ pháº£i lÃ  má»™t giÃ¡ trá»‹ báº¥t thÆ°á»ng hay khÃ´ng sáº½ liÃªn quan Ä‘áº¿n viá»‡c xÃ¡c Ä‘á»‹nh má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ cÃ³ pháº£i lÃ  má»™t vÃ©c-tÆ¡ cÃ³ giÃ¡ trá»‹ báº¥t thÆ°á»ng trong má»™t táº­p há»£p cÃ¡c vÃ©c-tÆ¡. CÃ¡c ká»¹ thuáº­t nÃ y vÆ°á»£t quÃ¡ pháº¡m vi cá»§a cuá»‘n sÃ¡chÄá»‘i vá»›i vÃ©c-tÆ¡ kiá»ƒu factor hay vÃ©c-tÆ¡ kiá»ƒu logic, giÃ¡ trá»‹ cÃ³ kháº£ nÄƒng lÃ  ngoáº¡i lai lÃ  cÃ¡c giÃ¡ trá»‹ xuáº¥t hiá»‡n vá»›i táº§n xuáº¥t ráº¥t nhá». Cháº³ng háº¡n nhÆ° khi mÃ´ táº£ má»™t vÃ©c-tÆ¡ chá»©a tÃªn cÃ¡c loáº¡i Ä‘á»“ uá»‘ng Ä‘Æ°á»£c bÃ¡n trong má»™t siÃªu thá»‹ trong thÃ¡ng vá»«a rá»“i, báº¡n gáº·p trÆ°á»ng há»£p sau:Khi gáº·p Ä‘á»“ thá»‹ nhÆ° trÃªn, cÃ³ kháº£ nÄƒng Ä‘á»“ uá»‘ng cÃ³ tÃªn â€œCollagenâ€ lÃ  giÃ¡ trá»‹ ngoáº¡i lai. Náº¿u siÃªu thá»‹ cÃ³ bÃ¡n loáº¡i Ä‘á»“ uá»‘ng nÃ y vÃ  viá»‡c sáº£n pháº©m khÃ´ng Ä‘Æ°á»£c khÃ¡ch hÃ ng Æ°a chuá»™ng, viá»‡c xuáº¥t hiá»‡n vá»›i táº§n xuáº¥t tháº¥p lÃ  bÃ¬nh thÆ°á»›ng vÃ  Ä‘Ã¢y khÃ´ng pháº£i lÃ  giÃ¡ trá»‹ ngoáº¡i lai. Tuy nhiÃªn viá»‡c tÃªn sáº£n pháº©m xuáº¥t hiá»‡n trong danh sÃ¡ch bÃ¡n hÃ ng thÃ¡ng nÃ y dÃ¹ siÃªu thá»‹ khÃ´ng bÃ¡n cÅ©ng cÃ³ thá»ƒ lÃ  lá»—i gáº·p pháº£i trong quáº£n lÃ½ há»‡ thá»‘ng bÃ¡n hÃ ng khi Ä‘Ã£ ghi nháº­n tÃªn â€œCollagenâ€ cho má»™t Ä‘á»“ uá»‘ng khÃ¡c.Äá»‘i vá»›i vÃ©c-tÆ¡ kiá»ƒu sá»‘, cÃ¡c giÃ¡ trá»‹ cÃ³ kháº£ nÄƒng lÃ  ngoáº¡i lai thÆ°á»ng lÃ  cÃ¡c giÃ¡ trá»‹ náº±m á»Ÿ Ä‘uÃ´i cá»§a phÃ¢n phá»‘i xÃ¡c suáº¥t. Äá»ƒ biáº¿t má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ cÃ³ giÃ¡ trá»‹ ngoáº¡i lai hay khÃ´ng, báº¡n Ä‘á»c nÃªn sá»­ dá»¥ng Ä‘á»“ thá»‹ boxplot. CÃ¡c Ä‘iá»ƒm náº±m phÃ­a dÆ°á»›i Ä‘iá»ƒm nhá» nháº¥t (Q0) vÃ  náº±m phÃ­a trÃªn Ä‘iá»ƒm lá»›n nháº¥t (Q4) cá»§a Ä‘á»“ thá»‹ boxplot cÃ³ nhiá»u kháº£ nÄƒng lÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai. Äiá»ƒm nhá» nháº¥t vÃ  Ä‘iá»ƒm lá»›n nháº¥t cá»§a Ä‘á»“ thá»‹ boxplot Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh dá»±a trÃªn má»©c tá»« phÃ¢n vá»‹ thá»© nháº¥t (Q1) vÃ  má»©c tá»© phÃ¢n vá»‹ thá»© 3 (Q3):\n\\[\\begin{align}\n&&\\text{Inter Quartile Range (IQR)} = Q3 - Q1 \\\\\n&&\\text{Äiá»ƒm nhá» nháº¥t (Q0)} = Q1 - 1.5 \\times IQR \\\\\n&&\\text{Äiá»ƒm lá»›n nháº¥t (Q4)} = Q3 + 1.5 \\times IQR\n\\end{align}\\]CÃ¡c giÃ¡ trá»‹ náº±m ngoÃ i khoáº£ng \\((Q1 - 1,5 \\times IQR, Q3 + 1.5 \\times IQR)\\) cÃ³ nhiá»u kháº£ nÄƒng lÃ  giÃ¡ trá»‹ ngoáº¡i lai. GiÃ¡ trá»‹ cÃ ng tháº¥p hÆ¡n Q0 vÃ  cÃ ng cao hÆ¡n Q4 thÃ¬ kháº£ nÄƒng lÃ  giÃ¡ trá»‹ ngoáº¡i lai láº¡i cÃ ng cao.Äá»“ thá»‹ boxplot dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ phÃ¢n phá»‘i cá»§a vÃ©c-tÆ¡ chá»©a khá»‘i lÆ°á»£ng giao dá»‹ch, tÃ­nh báº±ng triá»‡u cá»• phiáº¿u/ngÃ y, cá»§a cá»• phiáº¿u cá»§a táº­p Ä‘oÃ n FLC. Cá»• phiáº¿u Ä‘Æ°á»£c niÃªm yáº¿t trÃªn sÃ n giao dich chá»©ng khoÃ¡n ThÃ nh phá»‘ Há»“ ChÃ­ Minh tá»« ngÃ y 6 thÃ¡ng 10 nÄƒm 2011 Ä‘áº¿n ngÃ y 8 thÃ¡ng 9 nÄƒm 2022. Dá»¯ liá»‡u cÃ³ hÆ¡n quan sÃ¡t.ChÃºng ta cÃ³ thá»ƒ tháº¥y trÃªn Ä‘á»“ thá»‹ boxplot khÃ´ng cÃ³ Ä‘iá»ƒm náº±m dÆ°á»›i Q0. CÃ³ 8 quan sÃ¡t cÃ³ giÃ¡ trá»‹ lá»›n hÆ¡n Q4; cÃ¡c giÃ¡ trá»‹ nÃ y cÃ³ kháº£ nÄƒng lÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai. CÃ³ 3 quan sÃ¡t vá»›i giÃ¡ trá»‹ lá»›n hÆ¡n 100, nghÄ©a lÃ  cÃ³ ba ngÃ y mÃ  cÃ³ hÆ¡n 100 triá»‡u cá»• phiáº¿u FLC Ä‘Æ°á»£c giao dá»‹ch. Náº¿u cÃ³ má»™t chÃºt kinh nghiá»‡m vá» thá»‹ trÆ°á»ng chá»©ng khoÃ¡n Viá»‡t Nam, báº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm chá»©ng Ä‘Æ°á»£c Ä‘Ã¢y lÃ  sá»‘ lÆ°á»£ng cá»• phiáº¿u giao dá»‹ch lá»›n báº¥t thÆ°á»ng.Thá»±c táº¿ thÃ¬ ba phiÃªn giao dá»‹ch cÃ³ khá»‘i lÆ°á»£ng giao dá»‹ch lá»›n hÆ¡n 100 triá»‡u cá»• phiáº¿u lÃ  cÃ¡c phiÃªn giao dá»‹ch ngÃ y 10 thÃ¡ng 1 nÄƒm 2022, ngÃ y 11 thÃ¡ng 1 nÄƒm 2022 vÃ  phiÃªn giao dá»‹ch ngÃ y 1 thÃ¡ng 4 nÄƒm 2022. Thá»±c táº¿ cho tháº¥y Ä‘Ã¢y lÃ  ba phiÃªn giao dá»‹ch mÃ  cá»• phiáº¿u FLC Ä‘Ã£ bá»‹ thao tÃºng giÃ¡ vÃ  dáº«n Ä‘áº¿n viá»‡c cá»‘ phiáº¿u FLC bá»‹ cáº¥m giao dá»‹ch trÃªn sÃ n giao dá»‹ch TP HCM ká»ƒ tá»« thÃ¡ng 09 nÄƒm 2022.Sau má»™t vÃ i thÃ¡ng giÃ¡ cá»• phiáº¿u FCL tÄƒng lÃªn gáº¥p 2 láº§n, Ä‘áº¿n ngÃ y 10 vÃ  ngÃ y 11 thÃ¡ng 01 nÄƒm 2022, cÃ¡c cá»• Ä‘Ã´ng chÃ­nh cá»§a FLC bÃ¡n ra khá»‘i lÆ°á»£ng ráº¥t lá»›n cÃ¡c cá»• phiáº¿u mÃ  khÃ´ng Ä‘Äƒng kÃ½ vá»›i á»¦y ban chá»©ng khoÃ¡n theo quy Ä‘á»‹nh. Sau hai phiÃªn giao dá»‹ch nÃ y giÃ¡ cá»• phiáº¿u FLC giáº£m máº¡nh vá» Ä‘áº¿n má»©c trÆ°á»›c Ä‘Ã³ vÃ i thÃ¡ng.Sau má»™t vÃ i thÃ¡ng giÃ¡ cá»• phiáº¿u FCL tÄƒng lÃªn gáº¥p 2 láº§n, Ä‘áº¿n ngÃ y 10 vÃ  ngÃ y 11 thÃ¡ng 01 nÄƒm 2022, cÃ¡c cá»• Ä‘Ã´ng chÃ­nh cá»§a FLC bÃ¡n ra khá»‘i lÆ°á»£ng ráº¥t lá»›n cÃ¡c cá»• phiáº¿u mÃ  khÃ´ng Ä‘Äƒng kÃ½ vá»›i á»¦y ban chá»©ng khoÃ¡n theo quy Ä‘á»‹nh. Sau hai phiÃªn giao dá»‹ch nÃ y giÃ¡ cá»• phiáº¿u FLC giáº£m máº¡nh vá» Ä‘áº¿n má»©c trÆ°á»›c Ä‘Ã³ vÃ i thÃ¡ng.NgÃ y 31 thÃ¡ng 03 nÄƒm 2022 cÃ¡c thÃ´ng tin giáº£ máº¡o vá» nhu cáº§u mua cá»• phiáº¿u FLC vá»›i khá»‘i lÆ°á»£ng lá»›n Ä‘Æ°á»£c Ä‘Æ°a ra (sau nhiá»u ngÃ y giÃ¡ cá»• phiáº¿u FLC giáº£m háº¿t biÃªn Ä‘á»™) lÃ m cho nhu cáº§u mua FLC trong ngÃ y 01 thÃ¡ng 04 nÄƒm 2022 cao Ä‘á»™t biáº¿n.NgÃ y 31 thÃ¡ng 03 nÄƒm 2022 cÃ¡c thÃ´ng tin giáº£ máº¡o vá» nhu cáº§u mua cá»• phiáº¿u FLC vá»›i khá»‘i lÆ°á»£ng lá»›n Ä‘Æ°á»£c Ä‘Æ°a ra (sau nhiá»u ngÃ y giÃ¡ cá»• phiáº¿u FLC giáº£m háº¿t biÃªn Ä‘á»™) lÃ m cho nhu cáº§u mua FLC trong ngÃ y 01 thÃ¡ng 04 nÄƒm 2022 cao Ä‘á»™t biáº¿n.ÄÃ¢y lÃ  vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh vá» dá»¯ liá»‡u cÃ³ giÃ¡ trá»‹ ngoáº¡i lai cÃ³ nguyÃªn nhÃ¢n chá»§ quan tá»« con ngÆ°á»i. Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng káº¿t há»£p Ä‘á»“ thá»‹ boxplot vÃ  cÃ¡c Ä‘á»“ thá»‹ mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n liÃªn tá»¥c nhÆ° Ä‘á»“ thá»‹ \\(histogram\\) hay Ä‘á»“ thá»‹ \\(density\\). HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ phÃ¢n phá»‘i cá»§a chiá»u cao cá»§a 245 nam giá»›i lÃ  nhÃ¢n viÃªn cá»§a má»™t cÃ´ng ty. ÄÆ¡n vá»‹ Ä‘o chiá»u cao lÃ  \\(cm\\).Äá»“ thá»‹ boxplot vÃ  histogram Ä‘á»u cho tháº¥y trong dá»¯ liá»‡u cÃ³ cÃ¡c giÃ¡ trá»‹ chiá»u cao cá»§a nam giá»›i xáº¥p xá»‰ giÃ¡ trá»‹ 0 vÃ  nhiá»u kháº£ nÄƒng Ä‘Ã¢y lÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai. Äá»“ thá»‹ histogram cÃ²n cho tháº¥y cÃ³ nhiá»u hÆ¡n 1 giÃ¡ trá»‹ cÃ³ giÃ¡ trá»‹ nhÆ° váº­y. Lá»c cÃ¡c giÃ¡ trá»‹ Ä‘Ã³ ra khá»i vÃ©c-tÆ¡ chÃºng ta sáº½ thu Ä‘Æ°á»£c 5 giÃ¡ trá»‹ lÃ  1,52; 1,74; 1,70; 1,62; vÃ  1,80. ÄÃ¢y khÃ´ng thá»ƒ lÃ  chiá»u cao cá»§a nam giá»›i Ä‘o báº±ng Ä‘Æ¡n vá»‹ \\(cm\\). CÃ³ nhiá»u kháº£ nÄƒng lÃ  khi ghi láº¡i chiá»u cao cá»§a cÃ¡c nhÃ¢n viÃªn nÃ y, ngÆ°á»i nháº­p dá»¯ liá»‡u Ä‘Ã£ sá»­ dá»¥ng Ä‘Æ¡n vá»‹ lÃ  \\(mÃ©t\\) thay vÃ¬ \\(cm\\). ChÃºng ta cÃ³ thá»ƒ sá»­a cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai nÃ y báº±ng cÃ¡ch Ä‘á»•i tá»« Ä‘Æ¡n vá»‹ \\(mÃ©t\\) sang \\(cm\\). PhÃ¢n phá»‘i cá»§a chiá»u cao sau khi sá»­a láº¡i dá»¯ liá»‡u Ä‘Æ°á»£c mÃ´ táº£ nhÆ° hÃ¬nh dÆ°á»›i Ä‘Ã¢y:VÃ©c-tÆ¡ kiá»ƒu sá»‘ cÃ³ mÃ´ táº£ giÃ¡ trá»‹ Ä‘o lÆ°á»ng, tiá»n tá»‡ ráº¥t thÆ°á»ng xuyÃªn gáº·p váº¥n Ä‘á» nhÆ° ká»ƒ trÃªn. Ngay khi gáº·p giÃ¡ trá»‹ ngoáº¡i lai trong vÃ©c-tÆ¡ kiá»ƒu sá»‘ nhÆ° trÃªn báº¡n Ä‘á»c hÃ£y nghÄ© Ä‘áº¿n sai Ä‘Æ¡n vá»‹ Ä‘o lÆ°á»ng lÃ  nguyÃªn nhÃ¢n Ä‘áº§u tiÃªn.NgoÃ i viá»‡c sá»­ dá»¥ng cÃ¡c tá»© phÃ¢n vá»‹ Ä‘á»ƒ phÃ¡t hiá»‡n giÃ¡ trá»‹ ngoáº¡i lai, má»™t phÆ°Æ¡ng phÃ¡p Ä‘á»‹nh lÆ°á»£ng khÃ¡c cÅ©ng thÆ°á»ng Ä‘Æ°á»£c Ä‘á» cáº­p Ä‘áº¿n trong nhiá»u tÃ i liá»‡u lÃ  sá»­ dá»¥ng \\(Z-Score\\). \\(Z-Score\\) Ä‘Æ°á»£c tÃ­nh báº±ng khoáº£ng cÃ¡ch tá»« 1 Ä‘iá»ƒm Ä‘áº¿n giÃ¡ trá»‹ trung bÃ¬nh cá»§a dá»¯ liá»‡u sau Ä‘Ã³ chia cho Ä‘á»™ lá»‡ch chuáº©n cá»§a dá»¯ liá»‡u\n\\[\\begin{align}\nZ-Score(x_i) = \\cfrac{|x_i - \\bar{x}|}{\\sigma(x)}\n\\end{align}\\]\\(Z-Score\\) dá»±a trÃªn giáº£ thiáº¿t lÃ  dá»¯ liá»‡u cÃ³ phÃ¢n phá»‘i chuáº©n, Ä‘Ã³ cÃ¡c Ä‘iá»ƒm dá»¯ liá»‡u cÃ³ \\(Z-Score\\) lá»›n, thÆ°á»ng sá»­ dÅ©ng ngÆ°á»¡ng lá»›n hÆ¡n 3, Ä‘Æ°á»£c coi lÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai. Cháº³ng háº¡n nhÆ° khi váº½ \\(Z-Score\\) cá»§a táº¥t cáº£ cÃ¡c Ä‘iá»ƒm dá»¯ liá»‡u trong dá»¯ liá»‡u vá» chiá»u cao cÃ¹a nhÃ¢n viÃªn, chÃºng ta sáº½ cÃ³ Ä‘á»“ thá»‹ nhÆ° sauCÃ¡c Ä‘iá»ƒm mÃ u Ä‘á» lÃ  cÃ¡c Ä‘iá»ƒm bá»‹ ghi nháº­n sai Ä‘Æ¡n vá»‹ Ä‘o lÆ°á»ng tá»« \\(cm\\) sang \\(mÃ©t\\) vÃ  cÃ³ \\(Z-Score\\) lÃªn Ä‘áº¿n hÆ¡n 6. Trong trÆ°á»ng há»£p nÃ y \\(Z-Score\\) cÅ©ng lÃ  phÆ°Æ¡ng phÃ¡p Ä‘á»‹nh lÆ°á»£ng hiá»‡u quáº£ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ ngoáº¡i lai. Tuy nhiÃªn, \\(Z-Score\\) cÃ³ Ä‘iá»ƒm báº¥t lá»£i lÃ  giÃ¡ trá»‹ nÃ y Ä‘Æ°á»£c tÃ­nh toÃ¡n dá»±a trÃªn giÃ¡ trá»‹ trung bÃ¬nh vÃ  Ä‘á»™ lá»‡ch tiÃªu chuáº©n cá»§a dá»¯ liá»‡u trong khi chÃ­nh cÃ¡c giÃ¡ trá»‹ Ä‘Ã³ láº¡i phá»¥ thuá»™c ráº¥t lá»›n vÃ o cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai. Má»™t cÃ¡ch Ä‘á» giáº£m thiá»ƒu tÃ¡c Ä‘á»™ng cá»§a giÃ¡ trá»‹ ngoáº¡i lai lÃªn tÃ­nh \\(Z-Score\\) lÃ  khÃ´ng tÃ­nh Ä‘áº¿n \\(x_i\\) khi tÃ­nh toÃ¡n trung bÃ¬nh \\(\\bar{x}\\) vÃ  \\(\\sigma(x)\\).Äa sá»‘ cÃ¡c phÆ°Æ¡ng phÃ¡p xÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ ngoáº¡i lai á»Ÿ trÃªn Ä‘á»u dá»±a trÃªn giáº£ thiáº¿t lÃ  vÃ©c-tÆ¡ dá»¯ liá»‡u cÃ³ phÃ¢n phá»‘i chuáº©n. Dá»¯ liá»‡u vá» bá»“i thÆ°á»ng báº£o hiá»ƒm lÃ  má»™t Ä‘iá»ƒn hÃ¬nh cá»§a dá»¯ liá»‡u khÃ´ng cÃ³ phÃ¢n phá»‘i chuáº©n. Äá»“ thÃ¬ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ sá»‘ liá»‡u vá» tiá»n bá»“i thÆ°á»ng báº£o hiá»ƒm sá»©c khá»e cá»§a hÆ¡n 1.000 khÃ¡ch hÃ ng cá»§a má»™t cÃ´ng ty báº£o hiá»ƒm nhÃ¢n thá»Nhiá»u Ä‘iá»ƒm dá»¯ liá»‡u bá»‹ xÃ¡c Ä‘á»‹nh lÃ  ngoáº¡i lai trong trÆ°á»ng há»£p nÃ y máº·c dÃ¹ Ä‘Ã¢y lÃ  dá»¯ liá»‡u chÃ­nh xÃ¡c. Trong thá»±c táº¿, náº¿u báº¡n Ä‘á»c gáº·p dá»¯ liá»‡u khÃ´ng cÃ³ phÃ¢n phá»‘i chuáº©n, hÃ£y biáº¿n Ä‘á»•i dá»¯ liá»‡u vá» gáº§n vá»›i phÃ¢n phá»‘i chuáº©n nháº¥t cÃ³ thá»ƒ trÆ°á»›c khi thá»±c hiá»‡n cÃ¡c bÆ°á»›c phÃ¢n tÃ­ch. PhÃ©p biáº¿n Ä‘á»•i thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng nháº¥t lÃ  biáº¿n Ä‘á»•i Box-Cox.Ká»¹ thuáº­t biáº¿n Ä‘á»•i Box-Cox Ä‘Æ°á»£c trÃ¬nh bÃ y trong phá»¥ lá»¥c cá»§a chÆ°Æ¡ng nÃ y.","code":"\nx<-sample(c(\"Coca\",\"Pepsi\",\"Red bull\",\"Mirinda\",\"Collagen\"),10000,prob = c(4000,3000,2000,2000,5),replace = TRUE)\nbarplot(sort(table(x)/length(x)),col = \"lightskyblue\")\ndat1<-read_csv(\"../KHDL_KTKD/Dataset/FLC.csv\")\ndat1%>%filter(year(Date)>=2021)%>%ggplot(aes(y=Volume/10^6))+\n  geom_boxplot(fill = \"lightskyblue\",alpha=0.5)+\n  theme_minimal()+\n  labs(title = \"Khá»‘i lÆ°á»£ng giao dá»‹ch cá»• phiáº¿u FLC\",\n              subtitle = \"ÄÆ¡n vá»‹: Triá»‡u cá»• phiáº¿u/ngÃ y\",\n              caption = \"Nguá»“n dá»¯ liá»‡u: Sá»Ÿ giao dá»‹ch chá»©ng khoÃ¡n TP HCM\")+\n  theme(legend.position=\"none\")+theme(axis.text=element_text(size=12),\n        axis.title=element_text(size=12,face=\"bold\"))+\n  ylab(\"\")+xlab(\"\")+\n  theme(plot.title = element_text(size = 14, face = \"bold\"))"},{"path":"index.html","id":"giÃ¡-trá»‹-ngoáº¡i-lai-trong-khÃ´ng-gian-nhiá»u-chiá»u","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.3.2.2 GiÃ¡ trá»‹ ngoáº¡i lai trong khÃ´ng gian nhiá»u chiá»u","text":"XÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ ngoáº¡i lai trong khÃ´ng gian nhiá»u chiá»u phá»©c táº¡p hÆ¡n trong khÃ´ng gian má»™t chiá»u ráº¥t nhiá»u. Trong khÃ´ng gian má»™t chiá»u, chÃºng ta cáº§n xÃ¡c Ä‘á»‹nh nhá»¯ng sá»‘ nÃ o lÃ \ngiÃ¡ trá»‹ ngoáº¡i lai cá»§a má»™t vÃ©c-tÆ¡. Trong khi trong khÃ´ng gian nhiá»u chiá»u, chÃºng ta cáº§n pháº£i xÃ¡c Ä‘á»‹nh cÃ¡c quan sÃ¡t nÃ o lÃ  giÃ¡ trá»‹ ngoáº¡i lai trong má»™t dá»¯ liá»‡u. NgoÃ i viá»‡c xem xÃ©t giÃ¡ trá»‹ trong tá»«ng cá»™t dá»¯ liá»‡u, chÃºng ta cáº§n pháº£i xem xÃ©t cáº£ má»‘i liÃªn há»‡ giá»¯a cÃ¡c vÃ©c-tÆ¡ (cá»™t) Ä‘Ã³.CÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘á»ƒ xÃ¡c Ä‘á»‹nh giÃ¡ giÃ¡ trá»‹ ngoáº¡i lai trong khÃ´ng gian nhiá»u chiá»u váº«n dá»±a trÃªn nguyÃªn táº¯c cÆ¡ báº£n Ã¡p dá»¥ng trong khÃ´ng gian má»™t chiá»u, Ä‘Ã³ lÃ  cÃ¡c quan sÃ¡t cÃ ng xa Ä‘iá»ƒm trung tÃ¢m cá»§a dá»¯ liá»‡u thÃ¬ quan sÃ¡t Ä‘Ã³ cÃ ng cÃ³ kháº£ nÄƒng cao lÃ  giÃ¡ trá»‹ ngoáº¡i lai. KhÃ¡i niá»‡m xa hay gáº§n trong má»™t khÃ´ng gian nhiá»u chiá»u luÃ´n gáº¯n liá»n vá»›i má»™t khÃ¡i niá»‡m vá» khoáº£ng cÃ¡ch. Khoáº£ng cÃ¡ch thÆ°á»ng sá»­ dung nhiá»u nháº¥t trong khÃ´ng gian nhiá»u chiá»u lÃ  khoáº£ng cÃ¡ch Euclid. Tuy nhiÃªn khoáº£ng cÃ¡ch Euclid cÃ³ nhÆ°á»£c Ä‘iá»ƒm lÃ  khÃ´ng tÃ­nh Ä‘áº¿n má»‘i liÃªn há»‡ giá»¯a cÃ¡c cá»™t dá»¯ liá»‡u. Khoáº£ng cÃ¡ch thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng trong xÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ ngoáº¡i lai lÃ  khoáº£ng cÃ¡ch Mahalanobis.Cho \\(x_i = x_{i1}, x_{i2}, \\cdots, x_{ip}\\) lÃ  quan sÃ¡t thá»© \\(\\) vÃ  \\(\\mu = \\mu_{1}, \\mu_{2}, \\cdots, \\mu_{p}\\) lÃ  vÃ©c-tÆ¡ cÃ¡c giÃ¡ trá»‹ trung bÃ¬nh cá»§a cÃ¡c vÃ©c-tÆ¡ cá»™t. Khoáº£ng cÃ¡ch Euclid vÃ  khoáº£ng cÃ¡ch Mahalanobis Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a nhÆ° sau\n\\[\\begin{align}\nD^{Euclid}(x_i,\\mu) = \\sqrt{(x_i - \\mu)^T (x_i - \\mu)} \\\\\nD^{Mahalanobis}(x_i,\\mu) = \\sqrt{(x_i - \\mu)^T \\ \\Sigma^{-1} \\  (x_i - \\mu)} \\\\\n\\end{align}\\]\ntrong Ä‘Ã³ \\(D^{Euclid}(x_i,\\mu)\\) vÃ  \\(D^{Mahalanobis}(x_i,\\mu)\\) láº§n lÆ°á»£t lÃ  khoáº£ng cÃ¡ch Euclid vÃ  khoáº£ng cÃ¡ch Mahalanobis tá»« quan sÃ¡t \\(x_i\\) Ä‘áº¿n Ä‘iá»ƒm trung bÃ¬nh \\(\\mu\\). Trong cÃ´ng thá»©c tÃ­nh khoáº£ng cÃ¡ch Mahalanobis, \\(\\Sigma^{-1}\\) lÃ  ma tráº­n nghá»‹ch Ä‘áº£o cá»§a ma tráº­n hiá»‡p phÆ°Æ¡ng sai cá»§a dá»¯ liá»‡u. Ki CÃ³ thá»ƒ tháº¥y ráº±ng khoáº£ng cÃ¡ch Euclid lÃ  trÆ°á»ng há»£p riÃªng cá»§a khoáº£ng cÃ¡ch Mahalanobis khi cÃ¡c cá»™t dá»¯ liá»‡u cÃ³ phÆ°Æ¡ng sai báº±ng 1 vÃ  Ä‘Ã´i má»™t Ä‘á»™c láº­p vá»›i nhau.Báº¡n Ä‘á»c cÃ³ thá»ƒ tá»± láº­p trÃ¬nh hÃ m sá»‘ tÃ­nh khoáº£ng cÃ¡ch Euclid vÃ  hÃ m sá»‘ tÃ­nh khoáº£ng cÃ¡ch Mahalanobis giá»¯a 2 vÃ©c-tÆ¡ nhÆ° sauChÃºng ta quay trá»Ÿ láº¡i vÃ­ dá»¥ vá» dá»¯ liá»‡u bao gá»“m 10 quan sÃ¡t vá»›i hai giÃ¡ trá»‹ ngoáº¡i lai lÃ  Ä‘iá»ƒm (mÃ u Ä‘á») vÃ  Ä‘iá»ƒm B (mÃ u cam). ChÃºng ta tÃ­nh toÃ¡n khoáº£ng cÃ¡ch Euclid cá»§a má»—i Ä‘iá»ƒm Ä‘áº¿n trung tÃ¢m cá»§a dá»¯ liá»‡u vÃ  sáº¯p xáº¿p cÃ¡c Ä‘iá»ƒm theo thá»© tá»± khoáº£ng cÃ¡ch Euclid giáº£m dáº§n\n(#tab:unnamed-chunk-66)Äiá»ƒm dá»¯ liá»‡u sáº¯p xáº¿p theo khoáº£ng cÃ¡ch Euclid giáº£m dáº§n\nCÃ³ tháº¿ tháº¥y ráº±ng khi chá»‰ cÃ³ 10 quan sÃ¡t, khoáº£ng cÃ¡ch Euclid cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ phÃ¡t hiá»‡n Ä‘Æ°á»£c giÃ¡ trá»‹ ngoáº¡i lai lÃ  Ä‘iá»ƒm vÃ  Ä‘iá»ƒm B vÃ¬ hai Ä‘iá»ƒm nÃ y cÃ³ khoáº£ng cÃ¡ch Ä‘áº¿n trung tÃ¢m xa hÆ¡n vá»›i cÃ¡c Ä‘iá»ƒm cÃ²n láº¡i. Khoáº£ng cÃ¡ch Mahalanobis cÅ©ng cho káº¿t quáº£ tÆ°Æ¡ng tá»±. Tuy nhiÃªn khoáº£ng cÃ¡ch Euclid sáº½ gáº·p váº¥n Ä‘á» khi sá»‘ lÆ°á»£ng quan sÃ¡t nhiá»u hÆ¡n vÃ  má»‘i liÃªn há»‡ giá»¯a \\(x\\) vÃ  \\(y\\) rÃµ rÃ ng hÆ¡n. Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y khoáº£ng cÃ¡ch Euclid khÃ´ng cho káº¿t quáº£ tá»‘t nhÆ° khoáº£ng cÃ¡ch Malahanobis trong trÆ°á»ng há»£p dá»¯ liá»‡u cÃ³ 100 quan sÃ¡t\n(#tab:unnamed-chunk-68)Äiá»ƒm dá»¯ liá»‡u sáº¯p xáº¿p theo khoáº£ng cÃ¡ch Euclid giáº£m dáº§n\nKhi Ä‘o báº±ng khoáº£ng cÃ¡ch Euclid, Ä‘iá»ƒm \\(\\) váº«n lÃ  Ä‘iá»ƒm xa trung tÃ¢m dá»¯ liá»‡u nháº¥t. Tuy nhiÃªn khoáº£ng cÃ¡ch tá»« Ä‘iá»ƒm \\(B\\) Ä‘áº¿n trung tÃ¢m dá»¯ liá»‡u lÃ  nhá» hÆ¡n má»™t sá»‘ Ä‘iá»ƒm mÃ u xanh khÃ¡c. Quan sÃ¡t khoáº£ng cÃ¡ch Mahalanobis chÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng Ä‘iá»ƒm \\(\\) lÃ  Ä‘iá»ƒm cÃ³ khoáº£ng cÃ¡ch xa nháº¥t, sau Ä‘Ã³ Ä‘áº¿n Ä‘iá»ƒm \\(B\\) (Malahanobis distance = 4.675), cÃ¡c Ä‘iá»ƒm mÃ u xanh khÃ¡c Ä‘á»u cÃ³ khoáº£ng cÃ¡ch Mahalanobis nhá» hÆ¡n 2,5.CÃ¡c ká»¹ thuáº­t phÃ¡t hiá»‡n giÃ¡ trá»‹ ngoáº¡i lai phá»©c táº¡p hÆ¡n dá»±a trÃªn nguyÃªn lÃ½ phÃ¢n cá»¥m sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y trong chÆ°Æ¡ng â€œhá»c mÃ¡y khÃ´ng cÃ³ giÃ¡m sÃ¡tâ€. NguyÃªn táº¯c xÃ¡c Ä‘á»‹nh má»™t quan sÃ¡t ngoáº¡i lai lÃ  phÃ¢n chia dá»¯ liá»‡u thÃ nh cÃ¡c cá»¥m sao cho cÃ¡c quan sÃ¡t trong cÃ¹ng má»™t cá»¥m cÃ³ tÃ­nh cháº¥t tÆ°Æ¡ng tá»± nhau. CÃ¡c quan sÃ¡t khÃ´ng náº±m trong cá»¥m nÃ o, hoáº·c trong cÃ¡c cá»¥m cÃ³ ráº¥t Ã­t quan sÃ¡t, cÃ³ nhiá»u kháº£ nÄƒng lÃ  giÃ¡ trá»‹ ngoáº¡i lai.","code":"\nDis.Euc<-function(x,y) sum((x-y)^2)^0.5\nDis.Mah<-function(x,y,Sigma) (t(x-y)%*% solve(Sigma) %*%(x-y))^0.5 "},{"path":"index.html","id":"xá»­-lÃ½-giÃ¡-trá»‹-ngoáº¡i-lai.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.3.3 Xá»­ lÃ½ giÃ¡ trá»‹ ngoáº¡i lai.","text":"CÃ³ nhiá»u phÆ°Æ¡ng phÃ¡p Ä‘á»ƒ xá»­ lÃ½ giÃ¡ trá»‹ ngoáº¡i lai trong dá»¯ liá»‡u. TÃ¹y thuá»™c vÃ o tÃ¬nh huá»‘ng vÃ  dá»¯ liá»‡u cá»¥ thá»ƒ, phÆ°Æ¡ng phÃ¡p nÃ o cÅ©ng cÃ³ thá»ƒ Ä‘Ãºng hoáº·c sai. Äiá»u quan trá»ng lÃ  báº¡n Ä‘á»c pháº£i phÃ¢n tÃ­ch cÃ¡c tÃ¬nh huá»‘ng cÃ³ thá»ƒ liÃªn quan Ä‘áº¿n giÃ¡ trá»‹ ngoáº¡i lai. ÄÃ´i khi viá»‡c phÃ¢n tÃ­ch cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai nÃ y cÃ²n giÃºp báº¡n cÃ³ nhá»¯ng hiá»ƒu biáº¿t hÆ¡n vá» dá»¯ liá»‡u vÃ  tá»‘i Æ°u cÃ´ng viá»‡c phÃ¢n tÃ­ch cá»§a báº¡n.PhÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n nháº¥t vÃ  cÅ©ng thÆ°á»ng cho hiá»‡u quáº£ tháº¥p nháº¥t Ä‘Ã³ lÃ  loáº¡i bá» cÃ¡c quan sÃ¡t, hoáº·c biáº¿n cÃ³ chá»©a giÃ¡ trá»‹ ngoáº¡i lai. PhÆ°Æ¡ng phÃ¡p nÃ y chá»‰ cÃ³ Ã½ nghÄ©a khi báº¡n cÃ³ sá»‘ lÆ°á»£ng quan sÃ¡t Ä‘á»§ lá»›n vÃ  cÃ¡c giÃ¡ trá»‹ bá»‹ coi lÃ  ngoáº¡i lai khÃ´ng cÃ³ cÃ³ Ã½ nghÄ©a trong xÃ¡c Ä‘á»‹nh phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a tá»«ng biáº¿n.\nPhÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n nháº¥t vÃ  cÅ©ng thÆ°á»ng cho hiá»‡u quáº£ tháº¥p nháº¥t Ä‘Ã³ lÃ  loáº¡i bá» cÃ¡c quan sÃ¡t, hoáº·c biáº¿n cÃ³ chá»©a giÃ¡ trá»‹ ngoáº¡i lai. PhÆ°Æ¡ng phÃ¡p nÃ y chá»‰ cÃ³ Ã½ nghÄ©a khi báº¡n cÃ³ sá»‘ lÆ°á»£ng quan sÃ¡t Ä‘á»§ lá»›n vÃ  cÃ¡c giÃ¡ trá»‹ bá»‹ coi lÃ  ngoáº¡i lai khÃ´ng cÃ³ cÃ³ Ã½ nghÄ©a trong xÃ¡c Ä‘á»‹nh phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a tá»«ng biáº¿n.Thay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai báº±ng má»™t giÃ¡ trá»‹ khÃ¡c: báº¡n Ä‘á»c cÃ³ thá»ƒ thay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai báº±ng giÃ¡ trá»‹ cÃ³ Ã½ nghÄ©a hÆ¡n nhÆ° giÃ¡ trá»‹ Q0 hoáº·c Q4 cá»§a phÃ¢n phá»‘i xÃ¡c suáº¥t, hoáº·c cÅ©ng cÃ³ thá»ƒ thay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai báº±ng giÃ¡ trá»‹ trung bÃ¬nh, trung vá»‹, hoáº·c mode cá»§a phÃ¢n phá»‘i. ÄÃ¢y lÃ  phÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n, dá»… sá»­ dá»¥ng vÃ  thÆ°á»ng cho hiá»‡u quáº£ tá»‘t hÆ¡n vá»›i phÆ°Æ¡ng phÃ¡p xÃ³a quan sÃ¡t.\nThay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai báº±ng má»™t giÃ¡ trá»‹ khÃ¡c: báº¡n Ä‘á»c cÃ³ thá»ƒ thay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai báº±ng giÃ¡ trá»‹ cÃ³ Ã½ nghÄ©a hÆ¡n nhÆ° giÃ¡ trá»‹ Q0 hoáº·c Q4 cá»§a phÃ¢n phá»‘i xÃ¡c suáº¥t, hoáº·c cÅ©ng cÃ³ thá»ƒ thay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai báº±ng giÃ¡ trá»‹ trung bÃ¬nh, trung vá»‹, hoáº·c mode cá»§a phÃ¢n phá»‘i. ÄÃ¢y lÃ  phÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n, dá»… sá»­ dá»¥ng vÃ  thÆ°á»ng cho hiá»‡u quáº£ tá»‘t hÆ¡n vá»›i phÆ°Æ¡ng phÃ¡p xÃ³a quan sÃ¡t.PhÆ°Æ¡ng phÃ¡p sau cÃ¹ng vÃ  cÅ©ng lÃ  phÆ°Æ¡ng phÃ¡p Ä‘Ã²i há»i ká»¹ thuáº­t phá»©c táº¡p nháº¥t Ä‘Ã³ lÃ  coi giÃ¡ trá»‹ ngoáº¡i lai nhÆ° má»™t giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c, sau Ä‘Ã³ xÃ¢y dá»±ng mÃ´ hÃ¬nh Ä‘á»ƒ dá»± Ä‘oÃ¡n cho giÃ¡ trá»‹ ngoáº¡i lai.\nPhÆ°Æ¡ng phÃ¡p sau cÃ¹ng vÃ  cÅ©ng lÃ  phÆ°Æ¡ng phÃ¡p Ä‘Ã²i há»i ká»¹ thuáº­t phá»©c táº¡p nháº¥t Ä‘Ã³ lÃ  coi giÃ¡ trá»‹ ngoáº¡i lai nhÆ° má»™t giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c, sau Ä‘Ã³ xÃ¢y dá»±ng mÃ´ hÃ¬nh Ä‘á»ƒ dá»± Ä‘oÃ¡n cho giÃ¡ trá»‹ ngoáº¡i lai.CÃ¡c phÆ°Æ¡ng phÃ¡p thay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai vÃ  hoáº·c dá»± Ä‘oÃ¡n giÃ¡ trá»‹ ngoáº¡i lai dá»±a trÃªn mÃ´ hÃ¬nh tÆ°Æ¡ng tá»± nhÆ° cÃ¡c phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ dá»¯ liá»‡u khÃ´ng quan sÃ¡t Ä‘Æ°á»£c nÃªn sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ pháº§n sau cá»§a chÆ°Æ¡ng sÃ¡ch.","code":""},{"path":"index.html","id":"xá»­-lÃ½-giÃ¡-trá»‹-khÃ´ng-quan-sÃ¡t-Ä‘Æ°á»£c.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.3.4 Xá»­ lÃ½ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.","text":"Khi dá»¯ liá»‡u cÃ³ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c, cÃ¡ch xá»­ lÃ½ Ä‘Æ¡n giáº£n nháº¥t lÃ  xÃ³a cÃ¡c quan sÃ¡t hoáº·c xÃ³a cÃ¡c biáº¿n chá»©a cÃ¡c giÃ¡ trá»‹ Ä‘Ã³. Náº¿u báº¡n Ä‘á»c gáº·p dá»¯ liá»‡u mÃ  trong Ä‘Ã³ cÃ³ má»™t hoáº·c má»™t sá»‘ quan sÃ¡t mÃ  Ä‘a sá»‘ cÃ¡c giÃ¡ trá»‹ trong Ä‘Ã³ lÃ  \\(NA\\), trong khi táº¥t cáº£ cÃ¡c quan sÃ¡t cÃ²n láº¡i Ä‘á»u khÃ´ng cÃ³ chá»©a \\(NA\\), thÃ¬ cÃ¡ch xá»­ lÃ½ xÃ³a Ä‘i quan sÃ¡t cÃ³ giÃ¡ trá»‹ \\(NA\\) lÃ  giáº£i phÃ¡p há»£p lÃ½ nháº¥t. VÃ­ dá»¥ nhÆ° chÃºng ta cÃ³ dá»¯ liá»‡u vá» thÃ´ng tin cá»§a sinh viÃªn cá»§a má»™t lá»›p nhÆ° sauQuan sÃ¡t tÆ°Æ¡ng á»©ng vá»›i mÃ£ sinh viÃªn â€œMSV33789â€ ngoÃ i thÃ´ng tin vá» tÃªn sinh viÃªn, cÃ¡c thÃ´ng tin khÃ¡c Ä‘á»u khÃ´ng quan sÃ¡t Ä‘Æ°á»£c. NgoÃ i sinh viÃªn nÃ y, cÃ¡c sinh viÃªn cÃ²n láº¡i Ä‘á»u cÃ³ Ä‘áº§y Ä‘á»§ thÃ´ng tin. Trong trÆ°á»ng há»£p nÃ y phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ hiá»‡u quáº£ nháº¥t lÃ  xÃ³a sinh viÃªn â€œMSV33789â€ khá»i dá»¯ liá»‡u trÆ°á»›c khi phÃ¢n tÃ­ch.Khi cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c táº­p trung á»Ÿ má»™t sá»‘ quan sÃ¡t (hÃ ng) hoáº·c táº­p trung á»Ÿ má»™t sá»‘ biáº¿n (cá»™t), chÃºng ta nÃ³i ráº±ng cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c má»™t cÃ¡ch khÃ´ng ngáº«u nhiÃªn (Missing value random hay MNAR).Dá»¯ liá»‡u á»Ÿ trÃªn lÃ  vÃ­ dá»¥ khÃ¡c vá» viá»‡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c xuáº¥t hiá»‡n má»™t cÃ¡ch khÃ´ng ngáº«u nhiÃªn. CÃ³ thá»ƒ tháº¥y ráº±ng trong cá»™t \\(GPA\\) Ä‘a sá»‘ cÃ¡c giÃ¡ trá»‹ lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c. Má»i phÃ¢n tÃ­ch liÃªn quan Ä‘áº¿n giÃ¡ trá»‹ cá»§a biáº¿n nÃ y sáº½ khÃ´ng cÃ³ Ã½ nghÄ©a, Ä‘Ã³ cÃ¡ch tá»‘t nháº¥t lÃ  xÃ³a cá»™t nÃ y ra khá»i dá»¯ liá»‡u. Äá»ƒ xÃ³a cÃ¡c quan sÃ¡t cÃ³ chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c ra khá»i dá»¯ liá»‡u, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m drop_na() cá»§a thÆ° viá»‡n tidyr. Äá»ƒ xÃ³a má»™t cá»™t khá»i dá»¯ liá»‡u, báº¡n Ä‘á»c cÃ³ thá»ƒ coi dá»¯ liá»‡u (má»™t \\(data.frame\\) hoáº·c \\(tibble\\)) nhÆ° lÃ  má»™t \\(list\\) vÃ  gÃ¡n giÃ¡ trá»‹ cá»§a biáº¿n Ä‘Ã³ báº±ng \\(NULL\\)Náº¿u giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c táº­p trung vÃ o má»™t sá»‘ quan sÃ¡t thÃ¬ xÃ³a quan sÃ¡t sáº½ khÃ´ng lÃ m áº£nh hÆ°á»Ÿng Ä‘áº¿n káº¿t quáº£ phÃ¢n tÃ­ch. Dá»¯ liá»‡u chÃºng ta thÆ°á»ng gáº·p sáº½ cÃ³ cÃ¡c giÃ¡ trá»‹ khÃ´ng quÃ¡n sÃ¡t Ä‘Æ°á»£c náº±m ráº£i rÃ¡c á»Ÿ cÃ¡c cá»™t khÃ´ng theo má»™t quy táº¯c nÃ o. ChÃºng tÃ´i muá»‘n nÃ³i Ä‘áº¿n trÆ°á»ng há»£p dá»¯ liá»‡u khÃ´ng quan sÃ¡t Ä‘Æ°á»£c xuáº¥t hiá»‡n má»™t cÃ¡ch hoÃ n toÃ n ngáº«u nhiÃªn (Missing completely random hay MCAR). Khi gáº·p trÆ°á»ng há»£p nÃ y náº¿u xÃ³a Ä‘i cÃ¡c quan sÃ¡t cÃ³ \\(NA\\), tá»· lá»‡ quan sÃ¡t bá»‹ xÃ³a Ä‘i sáº½ lÃ  Ä‘Ã¡ng ká»ƒ.Äá»ƒ minh há»a rÃµ hÆ¡n cho váº¥n Ä‘á» nÃ y, vÃ  Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ hiá»‡u quáº£ cá»§a cÃ¡c phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ giÃ¡ trá»‹ \\(NA\\) trong cÃ¡c pháº§n sau, chÃºng tÃ´i sáº½ sá»­ dá»¥ng dá»¯ liá»‡u \\(mpg\\) cá»§a thÆ° viá»‡n \\(ggplot2\\). ÄÃ¢y lÃ  dá»¯ liá»‡u cÃ³ 234 quan sÃ¡t vÃ  11 biáº¿n. Dá»¯ liá»‡u mÃ´ táº£ má»©c Ä‘á»™ tiÃªu hao nhiÃªn liá»‡u cá»§a cÃ¡c loáº¡i xe oto thÆ°Æ¡ng máº¡i Ä‘ang bÃ¡n trÃªn thá»‹ trÆ°á»ng trong hai nÄƒm 1999 vÃ  2008. Dá»¯ liá»‡u khÃ´ng cÃ³ giÃ¡ trá»‹ \\(NA\\) nhÆ°ng chÃºng ta sáº½ thÃªm cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c vÃ o dá»¯ liá»‡u má»™t cÃ¡c ngáº«u nhiÃªn. Sau Ä‘Ã³ dá»¯ liá»‡u chÃ­nh xÃ¡c sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c. Báº¡n Ä‘á»c cáº§n Ä‘á»c mÃ´ táº£ vá» dá»¯ liá»‡u \\(mpg\\), Ã½ nghÄ©a cá»§a cÃ¡c biáº¿n sau Ä‘Ã³ sá»­ dá»¥ng Ä‘oáº¡n cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ thÃªm giÃ¡ trá»‹ \\(NA\\) vÃ o trong dá»¯ liá»‡u má»™t cÃ¡ch ngáº«u nhiÃªn. ChÃºng ta sáº½ gá»i tÃªn dá»¯ liá»‡u má»›i lÃ  \\(na.mpg\\) Ä‘á»ƒ phÃ¢n biá»‡t vá»›i dá»¯ liá»‡u ban Ä‘áº§u.ChÃºng ta tháº¥y ráº±ng cÃ³ 8/11 cá»™t cÃ³ giÃ¡ trá»‹ \\(NA\\), cá»™t cÃ³ 5 giÃ¡ trá»‹ \\(NA\\) xuáº¥t hiá»‡n má»™t cÃ¡ch ngáº«u nhiÃªn trÃªn tá»•ng sá»‘ 234 giÃ¡ trá»‹ (tá»· lá»‡ khoáº£ng 2%). Tuy nhiÃªn sá»‘ quan sÃ¡t cÃ³ chá»©a \\(NA\\) láº¡i lá»›n hÆ¡n 2% ráº¥t nhiá»u. HÃ m drop_na() trong thÆ° viá»‡n \\(tidyr\\) sáº½ xÃ³a cÃ¡c quan sÃ¡t cÃ³ giÃ¡ trá»‹ \\(NA\\) ra khá»i dá»¯ liá»‡u. ChÃºng ta cÃ³ thá»ƒ tÃ­nh Ä‘Æ°á»£c sau khi xÃ³a tá»· lá»‡ dá»¯ liá»‡u cÃ²n giá»¯ láº¡i lÃ  bao nhiÃªu:CÃ³ thá»ƒ tháº¥y náº¿u 2% dá»¯ liá»‡u khÃ´ng quan sÃ¡t Ä‘Æ°á»£c á»Ÿ má»—i cá»™t náº¿u chÃºng ta xÃ³a cÃ¡c quan sÃ¡t cÃ³ giÃ¡ trá»‹ \\(NA\\), tá»· lá»‡ dá»¯ liá»‡u cÃ²n láº¡i lÃ  khoáº£ng 85%. ChÃºng ta cÃ³ thá»ƒ thá»­ tÄƒng tá»· lá»‡ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c trÃªn má»—i cá»™t lÃªn thÃ nh 3%, 5%, 10%, 20%, 30% vÃ  quan sÃ¡t tá»· lá»‡ dá»¯ liá»‡u cÃ²n láº¡i sau khi xÃ³a:\n(#tab:unnamed-chunk-75)Tá»· lá»‡ dá»¯ liá»‡u bá»‹ xÃ³a náº¿u loáº¡i bá» quÃ¡n sÃ¡t cÃ³ NA\nChÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng xÃ³a quan sÃ¡t cÃ³ giÃ¡ trá»‹ \\(NA\\) khÃ´ng pháº£i lÃ  má»™t giáº£i phÃ¡p hiá»‡u quáº£ khi giÃ¡ trá»‹ \\(NA\\) xuáº¥t hiá»‡n trong háº§u háº¿t cÃ¡c cá»™t. Tá»« káº¿t quáº£ trÃªn cÃ³ thá»ƒ tháº¥y ráº±ng khi tá»· lá»‡ \\(NA\\) lÃ  5% trá»Ÿ lÃªn á»Ÿ má»—i cá»™t trong sá»‘ 8/11 cá»™t cá»§a dá»¯ liá»‡u, chÃºng ta pháº£i xÃ³a Ä‘i khoáº£ng 35% sá»‘ quan sÃ¡t Ä‘á»ƒ dá»¯ liá»‡u khÃ´ng cÃ²n \\(NA\\). Tá»· lá»‡ dá»¯ liá»‡u xÃ³a Ä‘i lá»›n nhÆ° váº­y sáº½ áº£nh hÆ°á»Ÿng lá»›n Ä‘áº¿n káº¿t quáº£ cá»§a phÃ¢n tÃ­ch.CÃ¡c phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c trong trÆ°á»ng há»£p nÃ y lÃ  thay tháº¿ giÃ¡ trá»‹ \\(NA\\) báº±ng cÃ¡c giÃ¡ trá»‹ thÃ­ch há»£p. PhÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n nháº¥t Ä‘Ã³ lÃ  giáº£ thiáº¿t cÃ¡c cá»™t chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c Ä‘á»™c láº­p vá»›i nhau vÃ  sá»­ dá»¥ng cÃ¡c giÃ¡ trá»‹ Ä‘áº·c trÆ°ng cá»§a cá»™t dá»¯ liá»‡u tÆ°Æ¡ng á»©ng Ä‘á»ƒ thay tháº¿ cho giÃ¡ trá»‹ \\(NA\\). CÃ¡c phÆ°Æ¡ng phÃ¡p phá»©c táº¡p hÆ¡n cÃ¢n nháº¯c má»‘i liÃªn há»‡ giá»¯a cÃ¡c cá»™t dá»¯ liá»‡u vÃ  xÃ¢y dá»±ng cÃ¡c thuáº­t toÃ¡n Ä‘á»ƒ tÃ¬m giÃ¡ trá»‹ tá»‘i Æ°u thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c náº±m trong táº¥t cáº£ cÃ¡c cá»™t. Má»—i phÆ°Æ¡ng phÃ¡p Ä‘á»u cÃ³ Æ°u nhÆ°á»£c Ä‘iá»ƒm vÃ  chÃºng tÃ´i thÆ°á»ng thá»­ cáº£ hai hÆ°á»›ng tiáº¿p cáº­n sau Ä‘Ã³ Ä‘Ã¡nh giÃ¡ hiá»‡u quáº£ dá»±a trÃªn káº¿t quáº£ phÃ¢n tÃ­ch.","code":"\n# Du lieu lÃ  má»™t tibble hoáº·c má»™t data.frame cÃ³ tÃªn lÃ  dat\ndat<-drop_na(dat) # XÃ³a cÃ¡c quan sÃ¡t (hÃ ng) cÃ³ giÃ¡ trá»‹ NA ra khá»i dá»¯ liá»‡u\ndat$ten_cot<-NULL # xÃ³a cá»™t cÃ³ tÃªn lÃ  ten_cot ra khoi du lieu\n# Táº¡o dá»¯ liá»‡u má»›i giá»‘ng nhÆ° dá»¯ liá»‡u ban mpg\nna.mpg<-mpg\n\n# Äá»‹nh dáº¡ng láº¡i format cÃ¡c cá»™t kiá»ƒu biáº¿n rá»i ráº¡c thÃ nh kiá»ƒu factor\nchiso<- !(names(na.mpg) %in% c(\"displ\", \"cty\", \"hwy\"))\nna.mpg[,chiso]<-lapply(na.mpg[,chiso], as.factor)%>%as.data.frame()\n\n# Viáº¿t hÃ m sá»‘ Ä‘á»ƒ thÃªm giÃ¡ trá»‹ NA vÃ o má»™t vÃ©c-tÆ¡\n## hÃ m sá»‘ cÃ³ Ã½ nghÄ©a lÃ  thÃªm vÃ o vÃ©c-tÆ¡ x cÃ¡c giÃ¡ trá»‹ NA má»™t cÃ¡ch ngáº«u nhiÃªn\n## tá»· lá»‡ giÃ¡ trá»‹ NA Ä‘Æ°á»£c thÃªm vÃ o báº±ng tÃ¹y biáº¿n na.rate\nrd.add<-function(x, na.rate){\n  n<-length(x)\n  k<-round(n*na.rate)\n  ind<-sample(1:n,k,replace=FALSE)\n  x[ind]<-NA\n  return(x)\n}\n\n# ThÃªm giÃ¡ trá»‹ NA vÃ o cÃ¡c cá»™t NGOáº I TRá»ª ba cá»™t\n## Cá»™t nhÃ  sáº£n xuáº¥t: manufacturer\n## Cá»™t loáº¡i xe: model\n## Cá»™t nÄƒm sáº£n xuáº¥t\n## tá»· lá»‡ thÃªm NA má»™t cÃ¡ch ngáº«u nhiÃªn vÃ o cÃ¡c cá»™t lÃ  2%\nchiso<- !(names(na.mpg) %in% c(\"manufacturer\", \"model\", \"year\"))\nset.seed(12)\nna.mpg[,chiso]<-as.data.frame(lapply(na.mpg[,chiso], rd.add, na.rate = 0.02))\n\n# Xem má»—i cá»™t cÃ³ bao nhiÃªu giÃ¡ trá»‹ NA\nsapply(na.mpg, f<-function(x) sum(is.na(x)))## manufacturer        model        displ         year          cyl        trans \n##            0            0            5            0            5            5 \n##          drv          cty          hwy           fl        class \n##            5            5            5            5            5\nnrow(drop_na(na.mpg))/nrow(na.mpg)## [1] 0.8461538"},{"path":"index.html","id":"thay-tháº¿-giÃ¡-trá»‹-khÃ´ng-quan-sÃ¡t-Ä‘Æ°á»£c-báº±ng-trung-bÃ¬nh-trung-vá»‹-hoáº·c-mode.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.3.4.1 Thay tháº¿ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c báº±ng trung bÃ¬nh, trung vá»‹ hoáº·c mode.","text":"Vá»›i giáº£ thiáº¿t ráº±ng cá»™t chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c khÃ´ng cÃ³ má»‘i liÃªn há»‡ Ä‘áº¿n cÃ¡c cá»™t cÃ²n láº¡i, chÃºng ta sáº½ sá»­ dá»¥ng má»™t trong cÃ¡c giÃ¡ trá»‹ nhÆ° trung bÃ¬nh (mean), trung vá»‹ (median), hoáº·c mode cá»§a cÃ¡c giÃ¡ trá»‹ quan sÃ¡t Ä‘Æ°á»£c Ä‘á»ƒ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.GiÃ¡ trá»‹ trung bÃ¬nh thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cho vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c vÃ  phÃ¢n phá»‘i cá»§a cÃ¡c giÃ¡ trá»‹ khÃ´ng cÃ³ Ä‘uÃ´i dÃ i.GiÃ¡ trá»‹ trung bÃ¬nh thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cho vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c vÃ  phÃ¢n phá»‘i cá»§a cÃ¡c giÃ¡ trá»‹ khÃ´ng cÃ³ Ä‘uÃ´i dÃ i.GiÃ¡ trá»‹ trung vá»‹, lÃ  giÃ¡ trá»‹ táº¡i ngÆ°á»¡ng xÃ¡c suáº¥t 50%, thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cho vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c vÃ  vÃ©c-tÆ¡ cÃ³ Ä‘uÃ´i dÃ i. GiÃ¡ trá»‹ trung vá»‹ cÃ³ Æ°u Ä‘iá»ƒm lÃ  Ã­t bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai vÃ  khÃ´ng bá»‹ thay Ä‘á»•i sau cÃ¡c bÆ°á»›c biáº¿n Ä‘á»•i dá»¯ liá»‡u báº±ng cÃ¡c hÃ m Ä‘Æ¡n Ä‘iá»‡u.GiÃ¡ trá»‹ trung vá»‹, lÃ  giÃ¡ trá»‹ táº¡i ngÆ°á»¡ng xÃ¡c suáº¥t 50%, thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cho vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c vÃ  vÃ©c-tÆ¡ cÃ³ Ä‘uÃ´i dÃ i. GiÃ¡ trá»‹ trung vá»‹ cÃ³ Æ°u Ä‘iá»ƒm lÃ  Ã­t bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai vÃ  khÃ´ng bá»‹ thay Ä‘á»•i sau cÃ¡c bÆ°á»›c biáº¿n Ä‘á»•i dá»¯ liá»‡u báº±ng cÃ¡c hÃ m Ä‘Æ¡n Ä‘iá»‡u.GiÃ¡ trá»‹ mode, lÃ  giÃ¡ trá»‹ mÃ  hÃ m máº­t Ä‘á»™ cÃ³ xÃ¡c suáº¥t cao nháº¥t, cÃ³ thá»ƒ dÃ¹ng cho cáº£ vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c hoáº·c vÃ©c-tÆ¡ kiá»ƒu biáº¿n rá»i ráº¡c. Trong trÆ°á»ng há»£p vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c, báº¡n Ä‘á»c cáº§n pháº£i Æ°á»›c lÆ°á»£ng hÃ m máº­t Ä‘á»™ nÃªn giÃ¡ trá»‹ mode sáº½ cÃ²n phá»¥ thuá»™c vÃ o phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n cá»§a ngÆ°á»i phÃ¢n tÃ­ch.GiÃ¡ trá»‹ mode, lÃ  giÃ¡ trá»‹ mÃ  hÃ m máº­t Ä‘á»™ cÃ³ xÃ¡c suáº¥t cao nháº¥t, cÃ³ thá»ƒ dÃ¹ng cho cáº£ vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c hoáº·c vÃ©c-tÆ¡ kiá»ƒu biáº¿n rá»i ráº¡c. Trong trÆ°á»ng há»£p vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c, báº¡n Ä‘á»c cáº§n pháº£i Æ°á»›c lÆ°á»£ng hÃ m máº­t Ä‘á»™ nÃªn giÃ¡ trá»‹ mode sáº½ cÃ²n phá»¥ thuá»™c vÃ o phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n cá»§a ngÆ°á»i phÃ¢n tÃ­ch.Äá»ƒ thay tháº¿ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c báº±ng má»™t giÃ¡ trá»‹ khÃ¡c, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m na_if() cá»§a thÆ° viá»‡n dplyr, hÃ m replace_na cá»§a thÆ° viá»‡n tidyr, hoáº·c cÅ©ng cÃ³ thá»ƒ tá»± xÃ¢y dá»±ng hÃ m sá»‘ cá»§a mÃ¬nh. Äá»ƒ Ä‘Æ¡n giáº£n hÃ³a, chÃºng ta giáº£ sá»­ ráº±ng sáº½ luÃ´n luÃ´n thay tháº¿ giÃ¡ trá»‹ trung vá»‹ khi gáº·p vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c vÃ  giÃ¡ trá»‹ mode khi gáº·p vÃ©c-tÆ¡ kiá»ƒu biáº¿n rá»i ráº¡c.\n(#tab:unnamed-chunk-78)Biáº¿n liÃªn tá»¥c, thay tháº¿ NA báº±ng trung vá»‹\nGiÃ¡ trá»‹ tháº­t cá»§a cÃ¡c biáº¿n kiá»ƒu factor vÃ  giÃ¡ trá»‹ dÃ¹ng Ä‘á»ƒ thay tháº¿ Ä‘Æ°á»£c tá»•ng káº¿t trong báº£ng phÃ­a dÆ°á»›i\n(#tab:unnamed-chunk-79)Biáº¿n rá»i ráº¡c, thay tháº¿ NA báº±ng mode\nChÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng viá»‡c thay tháº¿ giÃ¡ trá»‹ \\(NA\\) trong cÃ¡c vÃ©c_tÆ¡ kiá»ƒu biáº¿n liÃªn tá»¥c báº±ng giÃ¡ trá»‹ median lÃ  khÃ¡ hiá»‡u quáº£. Vá» tá»•ng thá»ƒ, giÃ¡ trá»‹ median khÃ´ng cÃ¡ch quÃ¡ xa vá»›i giÃ¡ trá»‹ tháº­t.Thay tháº¿ cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c trong cÃ¡c vÃ©c-tÆ¡ kiá»ƒu biáº¿n rá»i ráº¡c báº±ng giÃ¡ trá»‹ mode khÃ´ng cho káº¿t quáº£ tá»‘t trong trÆ°á»ng há»£p nÃ y. NguyÃªn nhÃ¢n lÃ  giÃ¡ trá»‹ mode trong cÃ¡c biáº¿n rá»i ráº¡c khÃ´ng chiáº¿m Æ°u tháº¿ vá»›i cÃ¡c giÃ¡ trá»‹ khÃ¡c. Cháº³ng háº¡n nhÆ° biáº¿n \\(drv\\) bá»‹ dá»± Ä‘oÃ¡n sai 4/5 káº¿t quáº£ biáº¿n nÃ y cÃ³ 2 giÃ¡ trá»‹ mode.","code":"\nmy_mode<-function(x){ # tá»± Ä‘á»‹nh nghÄ©a hÃ m mode cho vÃ©c-tÆ¡ x\n  names(which.max(table(x)))\n}\nmy_fillna_1<-function(x){ # tá»± Ä‘á»‹nh nghÄ©a cÃ¡ch thay tháº¿ giÃ¡ trá»‹ NA phÆ°Æ¡ng phÃ¡p thá»© nháº¥t\n  if(is.numeric(x)){\n    x[is.na(x)]<-median(x,na.rm=TRUE)\n  } else {\n    x[is.na(x)]<-my_mode(x)\n  }\n  return(x)\n}\nmpg_1<-lapply(na.mpg, my_fillna_1)%>%as.data.frame()"},{"path":"index.html","id":"thay-tháº¿-giÃ¡-trá»‹-khÃ´ng-quan-sÃ¡t-Ä‘Æ°á»£c-báº±ng-má»™t-máº«u-ngáº«u-nhiÃªn.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.3.4.2 Thay tháº¿ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c báº±ng má»™t máº«u ngáº«u nhiÃªn.","text":"Váº«n vá»›i giáº£ thiáº¿t ráº±ng cá»™t chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c khÃ´ng cÃ³ má»‘i liÃªn há»‡ Ä‘áº¿n cÃ¡c cá»™t cÃ²n láº¡i, chÃºng ta sáº½ sá»­ dá»¥ng phÃ©p láº¥y máº«u ngáº«u nhiÃªn tá»« cÃ¡c giÃ¡ trá»‹ quan sÃ¡t Ä‘Æ°á»£c Ä‘á»ƒ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ \\(NA\\). HÃ m sample() lÃ  hÃ m sá»‘ cÃ³ sáºµn trong R Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ sinh ngáº«u nhiÃªn. Äá»ƒ láº¥y ra \\(k\\) sá»‘ ngáº«u nhiÃªn tá»« má»™t vÃ©c-tÆ¡ \\(x\\) ban Ä‘áº§u, chÃºng ta viáº¿t cÃ¢u lá»‡nh nhÆ° sauTÃ¹y biáº¿n \\(replace\\) nháº­n giÃ¡ trá»‹ báº±ng \\(TRUE\\) cÃ³ Ã½ nghÄ©a lÃ  giÃ¡ trá»‹ ngáº«u nhiÃªn Ä‘Æ°á»£c láº¥y ra tá»« vÃ©c-tÆ¡ \\(x\\) cÃ³ thá»ƒ Ä‘Æ°á»£c láº¥y láº·p láº¡i. ChÃºng ta tá»± Ä‘á»‹nh nghÄ©a hÃ m fill_na_2() Ä‘á»ƒ thay tháº¿ giÃ¡ trá»‹ ngáº«u nhiÃªn trong má»™t vÃ©c-tÆ¡ \\(x\\) báº±ng cÃ¡c giÃ¡ trá»‹ ngáº«u nhiÃªn Ä‘Æ°á»£c láº¥y tá»« \\(x\\) nhÆ° sau\n(#tab:unnamed-chunk-82)Biáº¿n liÃªn tá»¥c, thay tháº¿ NA báº±ng láº¥y máº«u ngáº«u nhiÃªn\nCÃ³ thá»ƒ tháº¥y ráº±ng biáº¿n \\(year\\) lÃ  biáº¿n gáº§n nhÆ° khÃ´ng cÃ³ má»‘i liÃªn há»‡ Ä‘áº¿n cÃ¡c biáº¿n khÃ¡c. Khi chÃºng ta xÃ¢y dá»±ng mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u, viá»‡c xÃ³a bá» cÃ¡c biáº¿n khÃ´ng cáº§n thiáº¿t ra khá»i mÃ´ hÃ¬nh lÃ  ráº¥t quan trá»ng vÃ¬ cÃ¡c biáº¿n nÃ y cÃ³ thá»ƒ gÃ¢y ra nhiá»…u cho mÃ´ hÃ¬nh vÃ  giáº£m kháº£ nÄƒng dá»± Ä‘oÃ¡n.CÃ²n quÃ¡ sá»›m Ä‘á»ƒ nÃ³i Ä‘áº¿n xÃ¢y dá»±ng mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u \\(mpg\\) nhÆ° tháº¿ nÃ o. Báº¡n Ä‘á»c nÃªn hiá»ƒuGiÃ¡ trá»‹ tháº­t cá»§a cÃ¡c biáº¿n kiá»ƒu factor vÃ  giÃ¡ trá»‹ dÃ¹ng Ä‘á»ƒ thay tháº¿ Ä‘Æ°á»£c tá»•ng káº¿t trong báº£ng phÃ­a dÆ°á»›i\n(#tab:unnamed-chunk-83)Biáº¿n rá»i ráº¡c, thay tháº¿ NA báº±ng láº¥y máº«u ngáº«u nhiÃªn\nHiá»‡u quáº£ cá»§a phÆ°Æ¡ng phÃ¡p láº¥y máº«u ngáº«u nhiÃªn vá»›i phÆ°Æ¡ng phÃ¡p sá»­ dá»¥ng cÃ¡c giÃ¡ trá»‹ trung vá»‹ hoáº·c mode lÃ  khÃ´ng rÃµ rÃ ng. Tuy nhiÃªn phÆ°Æ¡ng phÃ¡p nÃ y cÃ³ nhÆ°á»£c Ä‘iá»ƒm lá»›n nháº¥t Ä‘Ã³ lÃ  giÃ¡ trá»‹ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thay tháº¿ lÃ  ngáº«u nhiÃªn nÃªn cÃ³ kháº£ nÄƒng sáº½ lÃ m cho dá»¯ liá»‡u bá»‹ sai lá»‡ch.","code":"\nsample(x,size = k, replace = TRUE) \nmy_fillna_2<-function(x){ # tá»± Ä‘á»‹nh nghÄ©a cÃ¡ch thay tháº¿ giÃ¡ trá»‹ NA, phÆ°Æ¡ng phÃ¡p thá»© 2\n  ind<-is.na(x) # vÃ©c-tÆ¡ kiá»ƒu logic, nháº­n giÃ¡ trá»‹ TRUE táº¡i cÃ¡c vá»‹ trÃ­ NA\n  k<-sum(ind)\n  x[ind]<-sample(x[!ind],k,replace = TRUE)\n  return(x)\n}\nset.seed(12)\nmpg_1<-lapply(na.mpg, my_fillna_2)%>%as.data.frame()"},{"path":"index.html","id":"thay-tháº¿-giÃ¡-trá»‹-khÃ´ng-quan-sÃ¡t-Ä‘Æ°á»£c-báº±ng-cÃ¡ch-xÃ¢y-dá»±ng-mÃ´-hÃ¬nh.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.3.4.3 Thay tháº¿ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c báº±ng cÃ¡ch xÃ¢y dá»±ng mÃ´ hÃ¬nh.","text":"Giáº£ thiáº¿t cá»™t chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c khÃ´ng cÃ³ má»‘i liÃªn há»‡ Ä‘áº¿n cÃ¡c cá»™t cÃ²n láº¡i lÃ  má»™t giáº£ thiáº¿t khÃ´ng thá»±c táº¿. CÃ¡c cá»™t dá»¯ liá»‡u luÃ´n luÃ´n Ã­t nhiá»u cÃ³ má»‘i liÃªn há»‡ vá»›i nhau, hay nÃ³i theo khÃ¡i niá»‡m cá»§a xÃ¡c suáº¥t - thá»‘ng kÃª thÃ¬ giÃ¡ trá»‹ trong cÃ¡c cá»™t dá»¯ liá»‡u thÆ°á»ng khÃ´ng Ä‘á»™c láº­p vá»›i nhau (independent hoáº·c dependent). LÃ m tháº¿ nÃ o Ä‘á»ƒ biáº¿t hai cá»™t dá»¯ liá»‡u báº¥t ká»³ lÃ  Ä‘á»™c láº­p hay phá»¥ thuá»™c lÃ  má»™t cÃ¢u há»i khÃ´ng dá»… cÃ³ cÃ¢u tráº£ lá»i. Ä‘Ã¢y lÃ  má»™t váº¥n Ä‘á» khÃ³ vÃ  vÆ°á»£t quÃ¡ pháº¡m vi cá»§a cuá»‘n sÃ¡ch nÃªn chÃºng tÃ´i chá»‰ trÃ¬nh bÃ y cÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘Æ°á»£c cÃ´ng nháº­n rá»™ng rÃ£i. Äá»ƒ kiá»ƒm tra hai cá»™t dá»¯ liá»‡u cÃ³ Ä‘á»™c láº­p hay khÃ´ng, báº¡n Ä‘á»c hÃ£y sá»­ dá»¥ng cÃ¡c kiá»ƒm Ä‘á»‹nh nhÆ° sau:Kiá»ƒm Ä‘á»‹nh Khi-bÃ¬nh phÆ°Æ¡ng khi cáº£ hai biáº¿n Ä‘á»u lÃ  biáº¿n rá»i ráº¡c.Kiá»ƒm Ä‘á»‹nh Khi-bÃ¬nh phÆ°Æ¡ng khi cáº£ hai biáº¿n Ä‘á»u lÃ  biáº¿n rá»i ráº¡c.Kiá»ƒm Ä‘á»‹nh há»‡ sá»‘ tÆ°Æ¡ng quan Person, há»‡ sá»‘ tÆ°Æ¡ng quan Spearman, vÃ  há»‡ sá»‘ tÆ°Æ¡ng quan Kendall khi cáº£ hai biáº¿n Ä‘á»u lÃ  biáº¿n liÃªn tá»¥c.Kiá»ƒm Ä‘á»‹nh há»‡ sá»‘ tÆ°Æ¡ng quan Person, há»‡ sá»‘ tÆ°Æ¡ng quan Spearman, vÃ  há»‡ sá»‘ tÆ°Æ¡ng quan Kendall khi cáº£ hai biáº¿n Ä‘á»u lÃ  biáº¿n liÃªn tá»¥c.Sá»­ dá»¥ng phÃ¢n tÃ­ch phÆ°Æ¡ng sai (hay cÃ²n gá»i lÃ  anova test) trong trÆ°á»ng há»£p má»™t biáº¿n lÃ  rá»i ráº¡c vÃ  má»™t biáº¿n lÃ  liÃªn tá»¥c.Sá»­ dá»¥ng phÃ¢n tÃ­ch phÆ°Æ¡ng sai (hay cÃ²n gá»i lÃ  anova test) trong trÆ°á»ng há»£p má»™t biáº¿n lÃ  rá»i ráº¡c vÃ  má»™t biáº¿n lÃ  liÃªn tá»¥c.Chi tiáº¿t cá»§a cÃ¡c kiá»ƒm Ä‘á»‹nh nÃ y Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ pháº§n phá»¥ lá»¥c cá»§a chÆ°Æ¡ng.Äá»ƒ thá»±c hiá»‡n kiá»ƒm Ä‘á»‹nh Khi-bÃ¬nh phÆ°Æ¡ng trong R, chÃºng ta sá»­ dá»¥ng hÃ m chisq.test(). Äá»ƒ kiá»ƒm ra hai biáº¿n \\(year\\) vÃ  \\(drv\\) cÃ³ má»‘i liÃªn há»‡ hay khÃ´ng, chÃºng ta thá»±c hiá»‡n nhÆ° sauGiÃ¡ trá»‹ \\(p-value\\) báº±ng 42% nghÄ©a lÃ  xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t hai biáº¿n \\(year\\) vÃ  \\(drv\\) Ä‘á»™c láº­p lÃ  \\(100\\% - 42\\% = 58\\%\\). ThÃ´ng thÆ°á»ng, má»©c xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t Ä‘á»™c láº­p thÆ°á»ng Ä‘Æ°á»£c chá»n á»Ÿ má»©c \\(95\\%\\) hoáº·c tháº­m chÃ­ \\(99\\%\\). xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t Ä‘á»™c láº­p lÃ  tháº¥p nÃªn trong trÆ°á»ng há»£p nÃ y cÃ³ thá»ƒ Ä‘Æ°a ra káº¿t luáº­n ráº±ng hai biáº¿n \\(year\\) vÃ  \\(drv\\) lÃ  khÃ´ng liÃªn quan Ä‘áº¿n nhau. TÆ°Æ¡ng tá»±, Ä‘á»ƒ kiá»ƒm ra hai biáº¿n \\(drv\\) vÃ  \\(cyl\\) cÃ³ má»‘i liÃªn há»‡ hay khÃ´ng, chÃºng ta thá»±c hiá»‡n nhÆ° sauDo xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t Ä‘á»™c láº­p (\\(1-10^{-16}\\)) lÃ  xáº¥p xá»‰ \\(100\\%\\) nÃªn trong trÆ°á»ng há»£p nÃ y cÃ³ thá»ƒ Ä‘Æ°a ra káº¿t luáº­n ráº±ng hai biáº¿n \\(drv\\) vÃ  \\(cyl\\) lÃ  khÃ´ng Ä‘á»™c láº­p.Äá»ƒ kiá»ƒm Ä‘á»‹nh há»‡ sá»‘ tÆ°Æ¡ng quan giá»¯a hai biáº¿n liÃªn tá»¥c chÃºng ta sá»­ dá»¥ng hÃ m cor.test(). TÃ¹y biáº¿n \\(method\\) nháº­n giÃ¡ trá»‹ â€œpearsonâ€, â€œkendallâ€, hoáº·c â€œspearmanâ€ tÆ°Æ¡ng á»©ng vá»›i cÃ¡c há»‡ sá»‘ tÆ°Æ¡ng quan Pearson, há»‡ sá»‘ tÆ°Æ¡ng quan Kendall hoáº·c há»‡ sá»‘ tÆ°Æ¡ng quan Spearman. ChÃºng ta kiá»ƒm Ä‘á»‹nh sá»± Ä‘á»™c láº­p giá»¯a hai biáº¿n \\(displ\\) vÃ  \\(hwy\\) nhÆ° sauKiá»ƒm Ä‘á»‹nh cáº£ ba há»‡ sá»‘ tÆ°Æ¡ng quan Ä‘á»u cho xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t hai biáº¿n Ä‘á»™c láº­p lÃ  xáº¥p xá»‰ 100%. NÃ³i má»™t cÃ¡ch khÃ¡c cÃ³ thá»ƒ kháº³ng Ä‘á»‹nh hai biáº¿n \\(displ\\) vÃ  \\(hwy\\) lÃ  cÃ³ sá»± phá»¥ thuá»™c.Sau cÃ¹ng, Ä‘á»ƒ kiá»ƒm Ä‘á»‹nh sá»± phá»¥ thuá»™c giá»¯a má»™t biáº¿n rá»i ráº¡c vÃ  má»™t biáº¿n liÃªn tá»¥c, chÃºng ta sá»­ dá»¥ng phÃ¢n tÃ­ch phÆ°Æ¡ng sai. HÃ m sá»‘ Ä‘á»ƒ thá»±c hiá»‡n phÃ¢n tÃ­ch phÆ°Æ¡ng sai trong R lÃ  hÃ m aov(). ChÃºng ta kiá»ƒm Ä‘á»‹nh sá»± phá»¥ thuá»™c giá»¯a \\(hwy\\) vÃ  \\(cyl\\) nhÆ° sauXÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n \\(hwy\\) báº±ng nhau theo cÃ¡c nhÃ³m cá»§a biáº¿n \\(cyl\\) lÃ  xáº¥p xá»‰ \\(100\\%\\) hay nÃ³i má»™t cÃ¡ch khÃ¡c \\(hwy\\) vÃ  \\(cyl\\) lÃ  cÃ³ má»‘i liÃªn há»‡.Äá»ƒ xem xÃ©t má»™t cÃ¡ch tá»•ng thá»ƒ má»‘i liÃªn há»‡ giá»¯a cÃ¡c biáº¿n trong dá»¯ liá»‡u \\(na.mpg\\), báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng kiá»ƒm Ä‘á»‹nh phÃ¹ há»£p vá»›i tá»«ng cáº·p biáº¿n vÃ  lÆ°u xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t Ä‘á»™c láº­p vÃ o má»™t ma tráº­n. HÃ m sá»‘ ind_check() Ä‘Æ°á»£c tá»± xÃ¢y dá»±ng cÃ³ Ä‘áº§u vÃ o lÃ  má»™t dá»¯ liá»‡u (má»™t tibble hoáº·c má»™t data.frame) vÃ  Ä‘áº§u ra lÃ  má»™t ma tráº­n cho biáº¿t xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t Ä‘á»™c láº­p cá»§a tá»«ng cáº·p biáº¿n nhÆ° tháº¿ nÃ o. Báº¡n Ä‘á»c cÃ³ thá»ƒ xem cÃ¢u lá»‡nh cá»§a hÃ m sá»‘ nÃ y á»Ÿ pháº§n phá»¥ lá»¥c cá»§a chÆ°Æ¡ng.Ma tráº­n thá»ƒ hiá»‡n xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t Ä‘á»™c láº­p giá»¯a tá»«ng cáº·p biáº¿n trong dá»¯ liá»‡u \\(na.mpg\\) nhÆ° sau\n(#tab:unnamed-chunk-88)Biáº¿n rá»i ráº¡c, thay tháº¿ NA báº±ng láº¥y máº«u ngáº«u nhiÃªn\nCÃ³ thá»ƒ tháº¥y biáº¿n \\(year\\) gáº§n nhÆ° khÃ´ng cÃ³ má»‘i liÃªn há»‡ Ä‘áº¿n cÃ¡c biáº¿n khÃ¡c. Khi xÃ¢y dá»±ng mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u, sá»± xuáº¥t hiá»‡n cá»§a cÃ¡c biáº¿n khÃ´ng cáº§n thiáº¿t sáº½ thÃªm nhiá»…u vÃ  lÃ m giáº£m cháº¥t lÆ°á»£ng cá»§a mÃ´ hÃ¬nh. Trong trÆ°á»ng há»£p nÃ y, chÃºng ta sáº½ loáº¡i bá» biáº¿n \\(year\\) trÆ°á»›c khi thá»±c hiá»‡n dá»± Ä‘oÃ¡n cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.PhÆ°Æ¡ng phÃ¡p Ä‘á»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh dá»± Ä‘oÃ¡n cho cÃ¡c giÃ¡ trá»‹ khÃ´ng biáº¿t lÃ  sá»­ dá»¥ng thuáº­t toÃ¡n â€œrá»«ng ngáº«u nhiÃªnâ€. ÄÃ¢y lÃ  má»™t thuáº­t toÃ¡n nÃ¢ng cao cá»§a mÃ´ hÃ¬nh dáº¡ng cÃ¢y quyáº¿t Ä‘á»‹nh. CÃ²n quÃ¡ sá»›m Ä‘á»ƒ nÃ³i vá» mÃ´ hÃ¬nh nÃ y, báº¡n Ä‘á»c chá»‰ cáº§n hiá»ƒu ráº±ng chÃºng ta sáº½ dá»±a vÃ o cÃ¡c giÃ¡ trá»‹ quan sÃ¡t Ä‘Æ°á»£c Ä‘á»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh (má»™t hÃ m sá»‘ \\(f\\)) mÃ  biáº¿n cÃ³ giÃ¡ trá»‹ \\(NA\\) phá»¥ thuá»™c vÃ o biáº¿n khÃ´ng cÃ³ giÃ¡ trá»‹ \\(NA\\) Ä‘á»ƒ Ä‘Æ°a ra dá»± Ä‘oÃ¡n. ThÆ° viá»‡n â€œmissForestâ€ há»— trá»£ chÃºng ta lÃ m viá»‡c nÃ y. Báº¡n Ä‘á»c cÃ³ thá»ƒ cÃ i thÆ° viá»‡n sau Ä‘Ã³ sá»­ dá»¥ng hÃ m missForest(). Quy trÃ¬nh Ä‘iá»n giÃ¡ trá»‹ \\(NA\\) vÃ o dá»¯ liá»‡u \\(na.mpg\\) chá»‰ cáº§n 1 dÃ²ng lá»‡nh!GiÃ¡ trá»‹ tháº­t cá»§a cÃ¡c biáº¿n kiá»ƒu sá»‘ vÃ  cÃ¡c giÃ¡ trá»‹ thay tháº¿ trong báº£ng dÆ°á»›i Ä‘Ã¢y\n(#tab:unnamed-chunk-90)Biáº¿n liÃªn tá»¥c, thay tháº¿ NA báº±ng giÃ¡ trá»‹ dá»± Ä‘oÃ¡n báº±ng random forest\nGiÃ¡ trá»‹ tháº­t cá»§a cÃ¡c biáº¿n kiá»ƒu factor vÃ  giÃ¡ trá»‹ dÃ¹ng Ä‘á»ƒ thay tháº¿ Ä‘Æ°á»£c tá»•ng káº¿t trong báº£ng phÃ­a dÆ°á»›i\n(#tab:unnamed-chunk-91)Biáº¿n rá»i ráº¡c, thay tháº¿ NA báº±ng giÃ¡ trá»‹ dá»± Ä‘oÃ¡n báº±ng random forest\nBáº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng ngoÃ i biáº¿n \\(trans\\), Ä‘a sá»‘ cÃ¡c biáº¿n cÃ²n láº¡i Ä‘á»u Ä‘Æ°á»£c dá»± Ä‘oÃ¡n khÃ¡ chÃ­nh xÃ¡c báº±ng thuáº­t toÃ¡n rá»«ng ngáº«u nhiÃªn. ChÃºng ta sáº½ tháº£o luáº­n vá» mÃ´ hÃ¬nh nÃ y trong chÆ°Æ¡ng tháº£o luáº­n vá» mÃ´ hÃ¬nh cÃ¢y quyáº¿t Ä‘á»‹nh.","code":"\nchisq.test(na.mpg$year,na.mpg$drv)## \n##  Pearson's Chi-squared test\n## \n## data:  na.mpg$year and na.mpg$drv\n## X-squared = 1.689, df = 2, p-value = 0.4298\nchisq.test(na.mpg$drv, na.mpg$cyl)## \n##  Pearson's Chi-squared test\n## \n## data:  na.mpg$drv and na.mpg$cyl\n## X-squared = 90.288, df = 6, p-value < 2.2e-16\ncor.test(na.mpg$displ, na.mpg$hwy, method = \"pearson\")## \n##  Pearson's product-moment correlation\n## \n## data:  na.mpg$displ and na.mpg$hwy\n## t = -17.743, df = 223, p-value < 2.2e-16\n## alternative hypothesis: true correlation is not equal to 0\n## 95 percent confidence interval:\n##  -0.8143893 -0.7048317\n## sample estimates:\n##       cor \n## -0.765092\ncor.test(na.mpg$displ, na.mpg$hwy, method = \"kendall\")## \n##  Kendall's rank correlation tau\n## \n## data:  na.mpg$displ and na.mpg$hwy\n## z = -13.857, p-value < 2.2e-16\n## alternative hypothesis: true tau is not equal to 0\n## sample estimates:\n##        tau \n## -0.6534741\ncor.test(na.mpg$displ, na.mpg$hwy, method = \"spearman\")## \n##  Spearman's rank correlation rho\n## \n## data:  na.mpg$displ and na.mpg$hwy\n## S = 3467012, p-value < 2.2e-16\n## alternative hypothesis: true rho is not equal to 0\n## sample estimates:\n##        rho \n## -0.8262809\nsummary(aov(hwy~cyl,data=na.mpg))##              Df Sum Sq Mean Sq F value Pr(>F)    \n## cyl           3   4479  1492.9   101.6 <2e-16 ***\n## Residuals   220   3233    14.7                   \n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## 10 observations deleted due to missingness\nlibrary(missForest)\n### Thá»i gian cháº¡y máº¥t khoáº£ng 1-2 phÃºt\nmodel<-missForest(select(na.mpg,-year), maxiter = 200, ntree = 100) \nmpg_1<-model$ximp # Dá»¯ liá»‡u mpg_1 lÃ  dá»¯ liá»‡u sau khi thay tháº¿ NA"},{"path":"index.html","id":"phá»¥-lá»¥c-3","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.4 Phá»¥ lá»¥c","text":"","code":""},{"path":"index.html","id":"box-cox-transformation","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.4.1 Box-Cox transformation","text":"Biáº¿n Ä‘á»•i Box-Cox lÃ  má»™t phÆ°Æ¡ng phÃ¡p biáº¿n Ä‘á»•i Ä‘á»ƒ Ä‘Æ°a má»™t vÃ©c-tÆ¡ cÃ³ phÃ¢n phá»‘i khÃ¡c vá»›i phÃ¢n phá»‘i chuáº©n thÃ nh má»™t vÃ©c-tÆ¡ cÃ³ phÃ¢n phá»‘i gáº§n vá»›i phÃ¢n phá»‘i chuáº©n. PhÃ©p biáº¿n Ä‘á»•i Box-Cox chá»‰ cÃ³ duy nháº¥t má»™t tham sá»‘ \\(\\lambda\\).\\[\\begin{align}\n\n\\end{align}\\]","code":""},{"path":"index.html","id":"kolmogorov-smirnov-tests","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.4.2 Kolmogorov-Smirnov tests","text":"","code":""},{"path":"index.html","id":"pearsons-chi-squared-tests","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.4.3 Pearsonâ€™s Chi-squared tests","text":"","code":""},{"path":"index.html","id":"bÃ i-táº­p-1","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"5.5 BÃ i táº­p","text":"","code":""},{"path":"index.html","id":"biáº¿n-Ä‘á»•i-dá»¯-liá»‡u-báº±ng-thÆ°-viá»‡n-dplyr","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"6 Biáº¿n Ä‘á»•i dá»¯ liá»‡u báº±ng thÆ° viá»‡n \\(dplyr\\)","text":"Dá»¯ liá»‡u trÆ°á»›c khi Ä‘Æ°a vÃ o trá»±c quan hÃ³a hoáº·c xÃ¢y dá»±ng mÃ´ hÃ¬nh hiáº¿m khi cÃ³ Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng chÃ­nh xÃ¡c mÃ  báº¡n Ä‘á»c mong muá»‘n. ThÃ´ng thÆ°á»ng, báº¡n Ä‘á»c sáº½ cáº§n táº¡o thÃªm má»™t sá»‘ biáº¿n, hoáº·c cÃ³ thá»ƒ báº¡n Ä‘á»c chá»‰ muá»‘n Ä‘á»•i tÃªn cÃ¡c biáº¿n, hoáº·c sáº¯p xáº¿p láº¡i cÃ¡c quan sÃ¡t, hoáº·c tá»•ng há»£p dá»¯ liá»‡u Ä‘á»ƒ lÃ m cho dá»¯ liá»‡u dá»… dÃ ng xá»­ lÃ½ tiáº¿p. Báº¡n Ä‘á»c sáº½ há»c cÃ¡ch thá»±c hiá»‡n táº¥t cáº£ nhá»¯ng phÃ©p biáº¿n Ä‘á»•i Ä‘Ã³ trong pháº§n nÃ y. Ná»™i dung chá»§ yáº¿u cá»§a pháº§n nÃ y sáº½ hÆ°á»›ng dáº«n báº¡n Ä‘á»c cÃ¡ch chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u cá»§a mÃ¬nh báº±ng cÃ¡ch sá»­ dá»¥ng thÆ° viá»‡n \\(dplyr\\) vÃ  táº­p dá»¯ liá»‡u \\(gapminder\\) - dá»¯ liá»‡u vá» sá»©c khá»e vÃ  thu nháº­p cá»§a cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i tá»« nÄƒm 1960 Ä‘áº¿n nÄƒm 2016.ThÆ° viá»‡n \\(dplyr\\) lÃ  má»™t thÆ° viá»‡n náº±m trong thÆ° viá»‡n tá»•ng há»£p \\(tidyverse\\), báº¡n Ä‘á»c cÃ³ thá»ƒ gá»i thÆ° viá»‡n \\(tidyverse\\) hoáº·c trá»±c tiáº¿p thÆ° viá»‡n \\(dplyr\\) lÃªn cá»­a sá»• Ä‘ang lÃ m viá»‡c. Báº¡n Ä‘á»c cÅ©ng nÃªn lÆ°u Ã½ ráº±ng trong thÆ° viá»‡n \\(dplyr\\) cÃ³ má»™t sá»‘ hÃ m trÃ¹ng tÃªn vá»›i cÃ¡c hÃ m cÃ³ sáºµn trong R, cháº³ng háº¡n nhÆ° hÃ m \\(filter()\\) hoáº·c hÃ m \\(lag()\\). Tuy nhiÃªn R Æ°u tiÃªn \\(dplyr\\) trÆ°á»›c cÃ¡c thÆ° viá»‡n cÃ³ sáºµn nÃªn báº¡n Ä‘á»c sáº½ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o khi gá»i thÆ° viá»‡n nÃ y.Dá»¯ liá»‡u \\(gapminder\\) lÃ  dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng trong pháº§n tiá»n xá»­ lÃ½ dá»¯ liá»‡u. Báº¡n Ä‘á»c lÆ°u Ã½ thá»±c hiá»‡n cÃ¡c bÆ°á»›c tiá»n xá»­ lÃ½ dá»¯ liá»‡u trÆ°á»›c khi cháº¡y cÃ¡c cÃ¢u lá»‡nh biáº¿n Ä‘á»•i dá»¯ liá»‡u. Má»—i pháº§n tiáº¿p theo sáº½ giá»›i thiá»‡u má»™t hÃ m quan trá»ng cá»§a thÆ° viá»‡n \\(dplyr\\) vÃ  cÃ¡c tham sá»‘ cá»§a hÃ m Ä‘Ã³. Sau cÃ¹ng chÃºng tÃ´i sáº½ giá»›i thiá»‡u vá» cÃ¡ch sá»­ dá»¥ng pipe (\\(%\\>\\%\\)) Ä‘á»ƒ káº¿t ná»‘i cÃ¡c hÃ m vá»›i nhau trong má»™t cÃ¢u lá»‡nh duy nháº¥t.","code":""},{"path":"index.html","id":"thÃªm-biáº¿n-báº±ng-hÃ m-mutate","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"6.1 ThÃªm biáº¿n báº±ng hÃ m \\(mutate()\\)","text":"Khi báº¡n Ä‘á»c muá»‘n thÃªm cÃ¡c cá»™t khÃ¡c vÃ o má»™t dá»¯ liá»‡u Ä‘Æ°á»£c tÃ­nh toÃ¡n tá»« cÃ¡c cá»™t hiá»‡n cÃ³, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m \\(mutate()\\). HÃ m \\(mutate()\\) luÃ´n thÃªm cá»™t vÃ o sau cá»™t cuá»‘i cÃ¹ng trong dá»¯ liá»‡u hiá»‡n cÃ³. Khi báº¡n muá»‘n thÃªm cá»™t vÃ o má»™t vá»‹ trÃ­ cá»¥ thá»ƒ, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng tÃ¹y biáº¿n\\(.= ten\\_cot\\) trong Ä‘Ã³ \\(ten\\_cot\\) lÃ  tÃªn cá»™t phÃ­a trÆ°á»›c cá»™t mÃ  báº¡n Ä‘á»c muá»‘n thÃªm vÃ o.\\(.= ten\\_cot\\) trong Ä‘Ã³ \\(ten\\_cot\\) lÃ  tÃªn cá»™t phÃ­a sau cá»™t mÃ  báº¡n Ä‘á»c muá»‘n thÃªm vÃ o.CÃ¢u lá»‡nh trÃªn thÃªm cá»™t cÃ³ tÃªn lÃ  \\(gdp\\_per\\_capita\\) Ä‘Æ°á»£c tÃ­nh báº±ng tá»•ng thu nháº­p quá»‘c ná»™i (\\(gdp\\)) chia cho dÃ¢n sá»‘ cá»§a quá»‘c gia Ä‘Ã³. Náº¿u báº¡n Ä‘á»c muá»‘n cá»™t má»›i Ä‘Æ°á»£c thÃªm vÃ o ngay sau cá»™t \\(gdp\\), hÃ£y sá»­ dá»¥ng thÃªm tÃ¹y biáº¿n \\(.\\)Má»™t biáº¿n thá»ƒ khÃ¡c cá»§a hÃ m \\(mutate()\\) lÃ  \\(transmute()\\). HÃ m \\(transmute()\\) khÃ¡c \\(mutate()\\) á»Ÿ chá»— lÃ  chá»‰ giá»¯ láº¡i cÃ¡c cá»™t má»›i Ä‘Æ°á»£c táº¡o thÃ nh","code":"\nmytib<-as.tibble(gapminder) # mytib lÃ  dá»¯ liá»‡u kiá»ƒu tibble\nmutate(mytib, gdp_per_capita = gdp/population) # thÃªm cá»™t cÃ³ tÃªn lÃ  gdp_per_capita## # A tibble: 10,545 Ã— 10\n##    country  year infanâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´      gdp contiâ€¦âµ region gdp_pâ€¦â¶\n##    <fct>   <int>   <dbl>   <dbl>   <dbl>   <dbl>    <dbl> <fct>   <fct>    <dbl>\n##  1 Albania  1960   115.     62.9    6.19  1.64e6 NA       Europe  Southâ€¦     NA \n##  2 Algeria  1960   148.     47.5    7.65  1.11e7  1.38e10 Africa  Northâ€¦   1243.\n##  3 Angola   1960   208      36.0    7.32  5.27e6 NA       Africa  Middlâ€¦     NA \n##  4 Antiguâ€¦  1960    NA      63.0    4.43  5.47e4 NA       Americâ€¦ Caribâ€¦     NA \n##  5 Argentâ€¦  1960    59.9    65.4    3.11  2.06e7  1.08e11 Americâ€¦ Southâ€¦   5254.\n##  6 Armenia  1960    NA      66.9    4.55  1.87e6 NA       Asia    Westeâ€¦     NA \n##  7 Aruba    1960    NA      65.7    4.82  5.42e4 NA       Americâ€¦ Caribâ€¦     NA \n##  8 Austraâ€¦  1960    20.3    70.9    3.45  1.03e7  9.67e10 Oceania Austrâ€¦   9393.\n##  9 Austria  1960    37.3    68.8    2.7   7.07e6  5.24e10 Europe  Westeâ€¦   7415.\n## 10 Azerbaâ€¦  1960    NA      61.3    5.57  3.90e6 NA       Asia    Westeâ€¦     NA \n## # â€¦ with 10,535 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹continent, â¶â€‹gdp_per_capita\nmutate(mytib, gdp_per_capita = gdp/population,.after = gdp) # thÃªm cá»™t cÃ³ tÃªn lÃ  gdp_per_capita## # A tibble: 10,545 Ã— 10\n##    country  year infanâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´      gdp gdp_pâ€¦âµ contiâ€¦â¶ region\n##    <fct>   <int>   <dbl>   <dbl>   <dbl>   <dbl>    <dbl>   <dbl> <fct>   <fct> \n##  1 Albania  1960   115.     62.9    6.19  1.64e6 NA           NA  Europe  Southâ€¦\n##  2 Algeria  1960   148.     47.5    7.65  1.11e7  1.38e10   1243. Africa  Northâ€¦\n##  3 Angola   1960   208      36.0    7.32  5.27e6 NA           NA  Africa  Middlâ€¦\n##  4 Antiguâ€¦  1960    NA      63.0    4.43  5.47e4 NA           NA  Americâ€¦ Caribâ€¦\n##  5 Argentâ€¦  1960    59.9    65.4    3.11  2.06e7  1.08e11   5254. Americâ€¦ Southâ€¦\n##  6 Armenia  1960    NA      66.9    4.55  1.87e6 NA           NA  Asia    Westeâ€¦\n##  7 Aruba    1960    NA      65.7    4.82  5.42e4 NA           NA  Americâ€¦ Caribâ€¦\n##  8 Austraâ€¦  1960    20.3    70.9    3.45  1.03e7  9.67e10   9393. Oceania Austrâ€¦\n##  9 Austria  1960    37.3    68.8    2.7   7.07e6  5.24e10   7415. Europe  Westeâ€¦\n## 10 Azerbaâ€¦  1960    NA      61.3    5.57  3.90e6 NA           NA  Asia    Westeâ€¦\n## # â€¦ with 10,535 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹gdp_per_capita, â¶â€‹continent\ntransmute(mytib, gdp_per_capita = gdp/population) # data má»›i chá»‰ cÃ³ cá»™t gdp_per_capita## # A tibble: 10,545 Ã— 1\n##    gdp_per_capita\n##             <dbl>\n##  1            NA \n##  2          1243.\n##  3            NA \n##  4            NA \n##  5          5254.\n##  6            NA \n##  7            NA \n##  8          9393.\n##  9          7415.\n## 10            NA \n## # â€¦ with 10,535 more rows"},{"path":"index.html","id":"lá»±a-chá»n-cá»™t-báº±ng-hÃ m-select","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"6.2 Lá»±a chá»n cá»™t báº±ng hÃ m \\(select()\\)","text":"Khi dá»¯ liá»‡u cÃ³ quÃ¡ nhiá»u cá»™t vÃ  báº¡n Ä‘á»c chá»‰ muá»‘n sá»­ dá»¥ng má»™t sá»‘ cá»™t nháº¥t Ä‘á»‹nh Ä‘á»ƒ phÃ¢n tÃ­ch, báº¡n Ä‘á»c hÃ£y sá»­a dá»¥ng hÃ m \\(select()\\). Äiá»u quan trá»ng nháº¥t khi sá»­ dá»¥ng hÃ m \\(select()\\) lÃ  báº¡n Ä‘á»c cáº§n pháº£i gá»i tÃªn Ä‘Ãºng cÃ¡c cá»™t (biáº¿n) mÃ  mÃ¬nh muá»‘n lá»±a chá»n.HÃ m \\(select\\) cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thay Ä‘á»•i tÃªn cá»™t. Cháº³ng háº¡n báº¡n Ä‘á»c muá»‘n tÃªn cÃ¡c cá»™t má»›i tÆ°Æ¡ng á»©ng lÃ  \\(\"Year\"\\), \\(\"GDP\"\\) vÃ  \\(\"Population\"\\)Khi dá»¯ liá»‡u cÃ³ quÃ¡ nhiá»u cá»™t vÃ  viá»‡c gá»i tÃªn chÃ­nh xÃ¡c cÃ¡c cá»™t lÃ m cho cÃ¢u lá»‡nh \\(select()\\) quÃ¡ dÃ i, báº¡n Ä‘á»c cÃ³ thá»ƒ lá»±a chá»n cÃ¡c cá»™t Ä‘á»©ng liá»n nhau báº±ng cÃ¡ch sauCÃ¢u lá»‡nh trÃªn cÃ³ Ã½ nghÄ©a lÃ  láº¥y ra cá»™t \\(year\\) vÃ  táº¥t cáº£ cÃ¡c cá»™t náº±m giá»¯a cá»™t \\(gdp\\) vÃ  cá»™t \\(population\\).Báº¡n Ä‘á»c khÃ´ng nhá»› chÃ­nh xÃ¡c tÃªn cá»™t muá»‘n láº¥y ra thÃ¬ cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c tÃ¹y chá»n sau:\\(starts\\_with()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn báº¯t Ä‘áº§u báº±ng má»™t chuá»—i kÃ½ tá»± nÃ o Ä‘Ã³.\\(starts\\_with()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn báº¯t Ä‘áº§u báº±ng má»™t chuá»—i kÃ½ tá»± nÃ o Ä‘Ã³.\\(ends\\_with()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn káº¿t thÃºc báº±ng má»™t chuá»—i kÃ½ tá»± nÃ o Ä‘Ã³.\\(ends\\_with()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn káº¿t thÃºc báº±ng má»™t chuá»—i kÃ½ tá»± nÃ o Ä‘Ã³.\\(contains()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn chá»©a má»™t chuá»—i kÃ½ tá»± nÃ o Ä‘Ã³.\\(contains()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn chá»©a má»™t chuá»—i kÃ½ tá»± nÃ o Ä‘Ã³.\\(matches()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn khá»›p vá»›i má»™t xxxxxxxxxxxxxxxxxxx nÃ o Ä‘Ã³\\(matches()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn khá»›p vá»›i má»™t xxxxxxxxxxxxxxxxxxx nÃ o Ä‘Ã³HÃ m \\(select()\\) ngoÃ i Ã½ nghÄ©a lÃ  lá»±a chá»n cá»™t cÃ²n cÃ³ Ã½ nghÄ©a lÃ  loáº¡i bá» má»™t sá»‘ cá»™t nÃ o Ä‘Ã³ khá»i dá»¯ liá»‡u hiá»‡n thá»i. Äá»ƒ loáº¡i bá» cá»™t, báº¡n Ä‘á»c chá»‰ cáº§n thÃªm dáº¥u â€œ-â€ vÃ o trÆ°á»›c tÃªn cá»™t.","code":"\nselect(mytib, year, gdp, population) # láº¥y ra cÃ¡c cá»™t year, gdp, population## # A tibble: 10,545 Ã— 3\n##     year          gdp population\n##    <int>        <dbl>      <dbl>\n##  1  1960           NA    1636054\n##  2  1960  13828152297   11124892\n##  3  1960           NA    5270844\n##  4  1960           NA      54681\n##  5  1960 108322326649   20619075\n##  6  1960           NA    1867396\n##  7  1960           NA      54208\n##  8  1960  96677859364   10292328\n##  9  1960  52392699681    7065525\n## 10  1960           NA    3897889\n## # â€¦ with 10,535 more rows\nselect(mytib, Year = year, Gdp =  gdp,  Population = population) # láº¥y ra vÃ  Ä‘á»•i tÃªn cÃ¡c cá»™t year, gdp, population## # A tibble: 10,545 Ã— 3\n##     Year          Gdp Population\n##    <int>        <dbl>      <dbl>\n##  1  1960           NA    1636054\n##  2  1960  13828152297   11124892\n##  3  1960           NA    5270844\n##  4  1960           NA      54681\n##  5  1960 108322326649   20619075\n##  6  1960           NA    1867396\n##  7  1960           NA      54208\n##  8  1960  96677859364   10292328\n##  9  1960  52392699681    7065525\n## 10  1960           NA    3897889\n## # â€¦ with 10,535 more rows\nselect(mytib, year, gdp:population) # ## # A tibble: 10,545 Ã— 3\n##     year          gdp population\n##    <int>        <dbl>      <dbl>\n##  1  1960           NA    1636054\n##  2  1960  13828152297   11124892\n##  3  1960           NA    5270844\n##  4  1960           NA      54681\n##  5  1960 108322326649   20619075\n##  6  1960           NA    1867396\n##  7  1960           NA      54208\n##  8  1960  96677859364   10292328\n##  9  1960  52392699681    7065525\n## 10  1960           NA    3897889\n## # â€¦ with 10,535 more rows\nmytib1<-mutate(mytib, gdp_per_capita = gdp/population) # mytib1 lÃ  tibble cÃ³ thÃªm cá»™t tÃªn lÃ  gdp_per_capita\nselect(mytib1, contains(\"gdp\")) # láº¥y ra táº¥t cáº£ cÃ¡c cá»™t cÃ³ tÃªn chá»©a \"gdp\"## # A tibble: 10,545 Ã— 2\n##             gdp gdp_per_capita\n##           <dbl>          <dbl>\n##  1           NA            NA \n##  2  13828152297          1243.\n##  3           NA            NA \n##  4           NA            NA \n##  5 108322326649          5254.\n##  6           NA            NA \n##  7           NA            NA \n##  8  96677859364          9393.\n##  9  52392699681          7415.\n## 10           NA            NA \n## # â€¦ with 10,535 more rows\nselect(mytib1, - starts_with(\"gdp\")) # bá» Ä‘i táº¥t cáº£ cÃ¡c cá»™t cÃ³ tÃªn chá»©a \"gdp\"## # A tibble: 10,545 Ã— 8\n##    country              year infant_morâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´ contiâ€¦âµ region\n##    <fct>               <int>        <dbl>   <dbl>   <dbl>   <dbl> <fct>   <fct> \n##  1 Albania              1960        115.     62.9    6.19  1.64e6 Europe  Southâ€¦\n##  2 Algeria              1960        148.     47.5    7.65  1.11e7 Africa  Northâ€¦\n##  3 Angola               1960        208      36.0    7.32  5.27e6 Africa  Middlâ€¦\n##  4 Antigua and Barbuda  1960         NA      63.0    4.43  5.47e4 Americâ€¦ Caribâ€¦\n##  5 Argentina            1960         59.9    65.4    3.11  2.06e7 Americâ€¦ Southâ€¦\n##  6 Armenia              1960         NA      66.9    4.55  1.87e6 Asia    Westeâ€¦\n##  7 Aruba                1960         NA      65.7    4.82  5.42e4 Americâ€¦ Caribâ€¦\n##  8 Australia            1960         20.3    70.9    3.45  1.03e7 Oceania Austrâ€¦\n##  9 Austria              1960         37.3    68.8    2.7   7.07e6 Europe  Westeâ€¦\n## 10 Azerbaijan           1960         NA      61.3    5.57  3.90e6 Asia    Westeâ€¦\n## # â€¦ with 10,535 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹continent"},{"path":"index.html","id":"lá»c-quan-sÃ¡t-báº±ng-hÃ m-filter","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"6.3 Lá»c quan sÃ¡t báº±ng hÃ m filter()","text":"HÃ m filter() cho phÃ©p báº¡n Ä‘á»c lá»c cÃ¡c quan sÃ¡t dá»±a trÃªn giÃ¡ trá»‹ cá»§a cÃ¡c cá»™t. cÃ³ má»™t sá»‘ thÆ° viá»‡n trong R sá»­ dá»¥ng hÃ m \\(filter()\\) vá»›i má»¥c Ä‘Ã­ch khÃ¡c nhau vÃ  chÃºng tÃ´i khÃ´ng cháº¯c cháº¯n cá»­a sá»• R báº¡n Ä‘á»c Ä‘ang sá»­ dá»¥ng Ä‘ang cÃ³ sáºµn cÃ¡c thÆ° viá»‡n nÃ o nÃªn chÃºng tÃ´i Ä‘á»•i tÃªn cho hÃ m \\(filter()\\) cá»§a thÆ° viá»‡n \\(dplyr\\) thÃ nh \\(dfilter()\\) phÆ°Æ¡ng phÃ¡p mÆ°á»£n tham sá»‘:CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a hÃ m \\(filter()\\) nhÆ° sau: báº¡n Ä‘á»c muá»‘n láº¥y dá»¯ liá»‡u cá»§a nÄƒm 2010 tá»« dá»¯ liá»‡u \\(gapminder\\), chÃºng ta sá»­ dá»¥ng hÃ m \\(filter()\\) nhÆ° sauSau khi cháº¡y cÃ¢u lá»‡nh trÃªn, R sáº½ táº¡o thÃ nh má»™t \\(tibble()\\) má»›i chá»‰ bao gá»“m cÃ¡c quan sÃ¡t cÃ³ giÃ¡ trá»‹ cá»™t \\(year\\) lÃ  2010. LÆ°u Ã½ ráº±ng náº¿u báº¡n Ä‘á»c muá»‘n lÆ°u láº¡i giÃ¡ trá»‹ sau má»—i láº§n thá»±c hiá»‡n tÃ­nh toÃ¡n hÃ£y gÃ¡n giÃ¡ trá»‹ tráº£ láº¡i vÃ o má»™t Ä‘á»‘i tÆ°á»£ng má»›i. \\(filter()\\) cÃ³ thá»ƒ Ä‘Æ°á»£c thá»±c hiá»‡n khi sá»­ dá»¥ng nhiá»u cá»™t, cháº³ng háº¡n nhÆ° báº¡n Ä‘á»c muá»‘n lá»c cÃ¡c quan sÃ¡t cá»§a nÄƒm 2010 cá»§a cÃ¡c quá»‘c gia ChÃ¢u Ã‚u","code":"\ndfilter<-function(...) dplyr::filter(...)\ndfilter(mytib, year == 2010) # chá»‰ láº¥y cÃ¡c quan sÃ¡t cÃ³ year lÃ  2010## # A tibble: 185 Ã— 9\n##    country          year infanâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´      gdp contiâ€¦âµ region\n##    <fct>           <int>   <dbl>   <dbl>   <dbl>   <dbl>    <dbl> <fct>   <fct> \n##  1 Albania          2010    14.8    77.2    1.74  2.90e6  6.14e 9 Europe  Southâ€¦\n##  2 Algeria          2010    23.5    76      2.82  3.60e7  7.92e10 Africa  Northâ€¦\n##  3 Angola           2010   110.     57.6    6.22  2.12e7  2.61e10 Africa  Middlâ€¦\n##  4 Antigua and Baâ€¦  2010     7.7    75.8    2.13  8.72e4  8.37e 8 Americâ€¦ Caribâ€¦\n##  5 Argentina        2010    13      75.8    2.22  4.12e7  4.34e11 Americâ€¦ Southâ€¦\n##  6 Armenia          2010    16.1    73      1.55  2.96e6  4.10e 9 Asia    Westeâ€¦\n##  7 Aruba            2010    NA      75.1    1.7   1.02e5 NA       Americâ€¦ Caribâ€¦\n##  8 Australia        2010     4.1    82      1.89  2.22e7  5.63e11 Oceania Austrâ€¦\n##  9 Austria          2010     3.6    80.5    1.44  8.39e6  2.24e11 Europe  Westeâ€¦\n## 10 Azerbaijan       2010    33.9    70.1    1.97  9.10e6  2.12e10 Asia    Westeâ€¦\n## # â€¦ with 175 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹continent\ndfilter(mytib, year == 2010, continent == \"Europe\") ## # A tibble: 39 Ã— 9\n##    country           year infanâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´     gdp contiâ€¦âµ region\n##    <fct>            <int>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <fct>   <fct> \n##  1 Albania           2010    14.8    77.2    1.74  2.90e6 6.14e 9 Europe  Southâ€¦\n##  2 Austria           2010     3.6    80.5    1.44  8.39e6 2.24e11 Europe  Westeâ€¦\n##  3 Belarus           2010     4.7    70.2    1.46  9.49e6 2.60e10 Europe  Easteâ€¦\n##  4 Belgium           2010     3.6    80.1    1.84  1.09e7 2.67e11 Europe  Westeâ€¦\n##  5 Bosnia and Herzâ€¦  2010     6.4    77.9    1.24  3.84e6 8.21e 9 Europe  Southâ€¦\n##  6 Bulgaria          2010    11.2    73.7    1.49  7.41e6 1.92e10 Europe  Easteâ€¦\n##  7 Croatia           2010     4.6    76.7    1.47  4.32e6 2.80e10 Europe  Southâ€¦\n##  8 Czech Republic    2010     3.4    77.5    1.5   1.05e7 8.21e10 Europe  Easteâ€¦\n##  9 Denmark           2010     3.3    79.4    1.88  5.55e6 1.69e11 Europe  Northâ€¦\n## 10 Estonia           2010     3.6    76.4    1.63  1.33e6 8.01e 9 Europe  Northâ€¦\n## # â€¦ with 29 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹continent"},{"path":"index.html","id":"sáº¯p-xáº¿p-dá»¯-liá»‡u-báº±ng-hÃ m-arrange","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"6.4 Sáº¯p xáº¿p dá»¯ liá»‡u báº±ng hÃ m arrange()","text":"HÃ m arrange() sáº¯p xáº¿p cÃ¡c hÃ ng cá»§a dá»¯ liá»‡u theo thá»© tá»± tÄƒng dáº§n. NguyÃªn táº¯c sáº¯p xáº¿p cÅ©ng tÆ°Æ¡ng tá»± nhÆ° hÃ m sort() khi lÃ m trÃªn vÃ©c-tÆ¡, nghÄ©a lÃ  hÃ m báº¡n Ä‘á»c cÃ³ thá»ƒ sáº¯p xáº¿p dá»¯ liá»‡u dá»±a theo báº¥t ká»³ kiá»ƒu dá»¯ liá»‡u nÃ o. Cháº³ng háº¡n nhÆ° Ä‘á»ƒ sáº¯p xáº¿p dá»¯ liá»‡u \\(gapminder\\) theo thá»© tá»± tÄƒng dáº§n theo nÄƒm, theo ChÃ¢u lá»¥c, vÃ  sau cÃ¹ng lÃ  theo vÃ¹ng, báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¢u lá»‡nh nhÆ° sauNáº¿u muá»‘n sáº¯p xáº¿p dá»¯ liá»‡u theo thá»© tá»± giáº£m dáº§n, náº¿u cá»™t dá»¯ liá»‡u lÃ  kiá»ƒu sá»‘, báº¡n Ä‘á»c chá»‰ cáº§n thÃªm dáº¥u â€œ-â€ trÆ°á»›c tÃªn biáº¿n. Trong trÆ°á»ng há»£p cá»™t dá»¯ liá»‡u kiá»ƒu báº¥t ká»³, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m \\(desc()\\)LÆ°u Ã½ ráº±ng náº¿u trong cá»™t dá»¯ liá»‡u sá»­ dá»¥ng Ä‘á»ƒ sáº¯p xáº¿p cÃ³ giÃ¡ trá»‹ \\(NA\\) thÃ¬ cÃ¡c giÃ¡ trá»‹ nÃ y luÃ´n Ä‘Æ°á»£c sáº¯p xáº¿p xuá»‘ng phÃ­a dÆ°á»›i cá»§a dá»¯ liá»‡u.","code":"\narrange(mytib, year, continent, region) ## # A tibble: 10,545 Ã— 9\n##    country     year infant_mortâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´     gdp contiâ€¦âµ region\n##    <fct>      <int>         <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <fct>   <fct> \n##  1 Burundi     1960         145.     40.6    6.95  2.79e6  3.41e8 Africa  Easteâ€¦\n##  2 Comoros     1960         200      44.0    6.79  1.89e5 NA      Africa  Easteâ€¦\n##  3 Djibouti    1960          NA      45.8    6.46  8.36e4 NA      Africa  Easteâ€¦\n##  4 Eritrea     1960          NA      39.0    6.9   1.41e6 NA      Africa  Easteâ€¦\n##  5 Ethiopia    1960         162      37.7    6.88  2.22e7 NA      Africa  Easteâ€¦\n##  6 Kenya       1960         119.     47.4    7.95  8.11e6  2.12e9 Africa  Easteâ€¦\n##  7 Madagascar  1960         112      42.0    7.3   5.10e6  2.09e9 Africa  Easteâ€¦\n##  8 Malawi      1960         218.     38.5    6.91  3.62e6  3.48e8 Africa  Easteâ€¦\n##  9 Mauritius   1960          67.8    58.7    6.17  6.60e5 NA      Africa  Easteâ€¦\n## 10 Mozambique  1960         183      38.2    6.6   7.49e6 NA      Africa  Easteâ€¦\n## # â€¦ with 10,535 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹continent\narrange(mytib, year, desc(continent), desc(region), -gdp) # tÄƒng dáº§n theo nÄƒm, giáº£m dáº§n theo continent, region, gdp## # A tibble: 10,545 Ã— 9\n##    country           year infanâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´     gdp contiâ€¦âµ region\n##    <fct>            <int>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <fct>   <fct> \n##  1 French Polynesia  1960     NA     56.3    5.66   78083 NA      Oceania Polynâ€¦\n##  2 Samoa             1960     92     51.4    7.65  108645 NA      Oceania Polynâ€¦\n##  3 Tonga             1960     NA     61.2    7.36   61600 NA      Oceania Polynâ€¦\n##  4 Kiribati          1960     NA     45.8    6.95   41234 NA      Oceania Microâ€¦\n##  5 Micronesia, Fedâ€¦  1960     NA     56.8    6.93   44539 NA      Oceania Microâ€¦\n##  6 Papua New Guinea  1960    135.    38.6    6.28 1966957  8.37e8 Oceania Melanâ€¦\n##  7 Fiji              1960     54     55.7    6.46  393383  4.37e8 Oceania Melanâ€¦\n##  8 New Caledonia     1960     NA     56.4    5.22   78058 NA      Oceania Melanâ€¦\n##  9 Solomon Islands   1960    132.    50.6    6.39  117869 NA      Oceania Melanâ€¦\n## 10 Vanuatu           1960    107.    46.0    7.2    63701 NA      Oceania Melanâ€¦\n## # â€¦ with 10,535 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹continent"},{"path":"index.html","id":"káº¿t-há»£p-cÃ¡c-hÃ m-báº±ng-toÃ¡n-tá»­-pipe","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"6.5 Káº¿t há»£p cÃ¡c hÃ m báº±ng toÃ¡n tá»­ pipe (\\%>\\%)","text":"TrÆ°á»›c khi giá»›i thiá»‡u cÃ¡c hÃ m khÃ¡c dÃ¹ng Ä‘á»ƒ biáº¿n Ä‘á»•i dá»¯ liá»‡u cá»§a thÆ° viá»‡n \\(dplyr\\), chÃºng tÃ´i muá»‘n giá»›i thiá»‡u Ä‘áº¿n báº¡n Ä‘á»c toÃ¡n tá»­ pipe (\\(\\%>\\%\\)). ÄÃ¢y lÃ  má»™t cÃ´ng cá»¥ vÃ´ cÃ¹ng há»¯u hiá»‡u khi báº¡n Ä‘á»c thá»±c hiá»‡n má»™t chuá»—i cÃ¡c phÃ©p biáº¿n Ä‘á»•i dá»¯ liá»‡u. ToÃ¡n tá»­ pipe Ä‘Æ°á»£c mÆ°á»£n tá»« toÃ¡n há»c khi nÃ³i Ä‘áº¿n viá»‡c sá»­ dá»¥ng cÃ¡c hÃ m sá»‘ ná»‘i tiáº¿p nhau. Pipe trong thÆ° viá»‡n \\(dplyr\\) cÅ©ng cÃ³ Ã½ nghÄ©a tÆ°Æ¡ng tá»± khi báº¡n Ä‘á»c sá»­ dá»¥ng má»™t chuá»—i cÃ¡c hÃ m cá»§a thÆ° viá»‡n nÃ y nháº±m biáº¿n Ä‘á»•i dá»¯ liá»‡u. VÃ­ dá»¥ nhÆ° khi báº¡n Ä‘á»c muá»‘n láº¥y ra tá»« dá»¯ liá»‡u \\(gapminder\\) ba quá»‘c gia cÃ³ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i cao nháº¥t trong nÄƒm 2000, báº¡n sáº½ cáº§n cÃ¡c phÃ©p biáº¿n Ä‘á»•i sau:\n- Thá»© nháº¥t: thÃªm cá»™t thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i (sá»­ dá»¥ng hÃ m \\(mutate()\\))\n- Thá»© hai: lá»c dá»¯ liá»‡u theo nÄƒm, chá»‰ láº¥y dá»¯ liá»‡u cá»§a nÄƒm 2000. (sá»­ dá»¥ng hÃ m \\(filter()\\))\n- Thá»© ba: lá»±a chá»n cá»™t tÃªn quá»‘c gia vÃ  cá»™t thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i (sá»­ dá»¥ng hÃ m \\(select()\\))\n- Thá»© tÆ°: sáº¯p xáº¿p dá»¯ liá»‡u theo cá»™t thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i, thá»© tá»± sáº¯p xáº¿p lÃ  giáº£m dáº§n (sá»­ dá»¥ng hÃ m \\(arrange()\\))\n- Thá»© nÄƒm: láº¥y ra ba hÃ ng Ä‘áº§u tiÃªn cá»§a dá»¯ liá»‡u (sá»­ dá»¥ng hÃ m \\(head()\\))Náº¿u khÃ´ng sá»­ dá»¥ng toÃ¡n tá»­ \\(pipe\\), sau má»—i bÆ°á»›c á»Ÿ trÃªn báº¡n Ä‘á»c sáº½ pháº£i lÆ°u káº¿t quáº£ vÃ  gá»i láº¡i káº¿t quáº£ vÃ o bÆ°á»›c káº¿ tiáº¿p:Thay vÃ¬ pháº£i lÆ°u láº¡i dá»¯ liá»‡u sau má»—i láº§n sá»­ dá»¥ng biáº¿n Ä‘á»•i dá»¯ liá»‡u vÃ  gá»i láº¡i káº¿t quáº£ Ä‘á»ƒ sá»­ dá»¥ng cho bÆ°á»›c tiáº¿p theo, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng toÃ¡n tá»­ \\(pipe\\) nhÆ° sauKáº¿t quáº£ thu Ä‘Æ°á»£c hoÃ n toÃ n tÆ°Æ¡ng tá»± nhÆ° trÃªn tuy nhiÃªn cÃ¢u lá»‡nh Ä‘Ã£ rÃµ rÃ ng hÆ¡n ráº¥t nhiá»u. Tá»« pháº§n nÃ y cá»§a cuá»‘n sÃ¡ch, má»i phÃ©p biáº¿n Ä‘á»•i trÃªn dá»¯ liá»‡u chÃºng tÃ´i sáº½ luÃ´n luÃ´n Æ°u tiÃªn sá»­ dá»¥ng toÃ¡n tá»­ \\(pipe\\) vÃ¬ sá»± Ä‘Æ¡n giáº£n vÃ  rÃµ rÃ ng cá»§a cÃ¡c cÃ¢u lá»‡nh.","code":"\nmytib1<-mutate(mytib,gdp_per_capita = gdp/population) # bÆ°á»›c thá»© nháº¥t\nmytib1<-dfilter(mytib1, year == 2010) # bÆ°á»›c thá»© hai\nmytib1<-select(mytib1, country, gdp_per_capita) # bÆ°á»›c thá»© ba\nmytib1<-arrange(mytib1, desc(gdp_per_capita)) # bÆ°á»›c thá»© tÆ°\nhead(mytib1,3) # bÆ°á»›c thá»© nÄƒm## # A tibble: 3 Ã— 2\n##   country    gdp_per_capita\n##   <fct>               <dbl>\n## 1 Luxembourg         52210.\n## 2 Japan              40013.\n## 3 Norway             39954.\nmytib%>%mutate(gdp_per_capita = gdp/population)%>%\n  dfilter(year == 2010)%>%\n  select(country, gdp_per_capita)%>%\n  arrange(desc(gdp_per_capita)) %>%\n  head(3)## # A tibble: 3 Ã— 2\n##   country    gdp_per_capita\n##   <fct>               <dbl>\n## 1 Luxembourg         52210.\n## 2 Japan              40013.\n## 3 Norway             39954."},{"path":"index.html","id":"tá»•ng-há»£p-dá»¯-liá»‡u-báº±ng-group_by-vÃ -summarise","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"6.6 Tá»•ng há»£p dá»¯ liá»‡u báº±ng \\(group\\_by()\\) vÃ  \\(summarise()\\)","text":"HÃ m \\(group\\_by()\\) lÃ  má»™t cÃ´ng cá»¥ há»¯u hiá»‡u trong tá»•ng há»£p dá»¯ liá»‡u vÃ  tÃ­nh toÃ¡n theo nhÃ³m. Cháº³ng háº¡n nhÆ° tá»« dá»¯ liá»‡u \\(gapminder\\) báº¡n Ä‘á»c muá»‘n biáº¿t tá»•ng thu nháº­p quá»‘c dÃ¢n (\\(gdp\\)) cá»§a má»™t quá»‘c gia lÃ  cao hay tháº¥p vá»›i tá»•ng thu nháº­p quá»‘c dÃ¢n trung bÃ¬nh cá»§a chÃ¢u lá»¥c (\\(continent\\)) trong nÄƒm tÆ°Æ¡ng á»©ng (\\(year\\)), báº¡n Ä‘á»c cáº§n pháº£i thá»±c hiá»‡n cÃ¡c thao tÃ¡c sau:\n- BÆ°á»›c 1: NhÃ³m dá»¯ liá»‡u láº¡i theo chÃ¢u lá»¥c vÃ  theo nÄƒm\n- BÆ°á»›c 2: TÃ­nh tá»•ng thu nháº­p quá»‘c dÃ¢n cá»§a chÃ¢u lá»¥c trong nÄƒm Ä‘Ã³, bá» qua cÃ¡c nÆ°á»›c khÃ´ng cÃ³ quan sÃ¡t\n- BÆ°á»›c 3: Äáº¿m xem cÃ³ bao nhiÃªu giÃ¡ trá»‹ cÃ³ quan sÃ¡t\n- BÆ°á»›c 4: Láº¥y káº¿t quáº£ á»Ÿ bÆ°á»›c 2 chia cho káº¿t quáº£ cá»§a bÆ°á»›c 3.\n- BÆ°á»›c 5: sÃ¡nh gdp cá»§a quá»‘c gia vá»›i gdp trung bÃ¬nh cá»§a chÃ¢u lá»¥c trong nÄƒm Ä‘Ã³Nhá»¯ng bÆ°á»›c nhÆ° trÃªn cÃ³ thá»ƒ Ä‘Æ°á»£c thá»±c hiá»‡n má»™t cÃ¡ch Ä‘Æ¡n giáº£n thÃ´ng qua hÃ m \\(group\\_by\\) nhÆ° sauNáº¿u Ä‘oáº¡n cÃ¢u lá»‡nh trÃªn khÃ´ng sá»­ dá»¥ng cÃ¢u lá»‡nh \\(group\\_by\\), hÃ m \\(mean()\\) trong cÃ¢u lá»‡nh \\(mutate()\\) sáº½ thá»±c hiÃªn tÃ­nh toÃ¡n cho toÃ n bá»™ vÃ©c-tÆ¡ \\(gdp\\) cá»§a dá»¯ liá»‡u \\(gapminder\\). NghÄ©a lÃ  cá»™t má»›i Ä‘Æ°á»£c hÃ¬nh thÃ nh sáº½ cÃ³ giÃ¡ trá»‹ giá»‘ng nhau vá»›i táº¥t cáº£ cÃ¡c quan sÃ¡t. Sau khi sá»­ dá»¥ng hÃ m \\(group\\_by()\\), má»—i khi chÃºng ta sá»­ dá»¥ng má»™t hÃ m tÃ­nh toÃ¡n trÃªn má»™t cá»™t dá»¯ liá»‡u khÃ¡c, cá»™t dá»¯ liá»‡u Ä‘Ã³ sáº½ Ä‘Æ°á»£c tÃ­nh toÃ¡n cho tá»«ng nhÃ³m Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a bá»Ÿi hÃ m \\(group\\_by\\). Trong Ä‘oáº¡n lá»‡nh á»Ÿ trÃªn, hÃ m \\(mean()\\) sáº½ tÃ­nh giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(gdp\\) cho tá»«ng chÃ¢u lá»¥c theo tá»«ng nÄƒm. Tháº­t váº­y, chÃºng ta cÃ³ thá»ƒ kiá»ƒm tra giÃ¡ trá»‹ á»Ÿ hÃ ng Ä‘áº§u tiÃªn cá»§a cá»™t \\(gdp\\_year\\_continent\\) (tÆ°Æ¡ng á»©ng vá»›i Albania - nÄƒm 1960 - chÃ¢u Ã‚u) sáº½ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(gdp\\) cá»§a cÃ¡c nÆ°á»›c chÃ¢u Ã‚u trong nÄƒm 1960:HÃ m \\(group\\_by()\\) káº¿t há»£p vá»›i \\(summarise()\\) sáº½ táº¡o thÃ nh má»™t dá»¯ liá»‡u má»›i mÃ  má»—i hÃ ng sáº½ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i má»™t nhÃ³m Ä‘Æ°á»£c quy Ä‘á»‹nh bá»Ÿi hÃ m \\(group\\_by()\\).Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng dá»¯ liá»‡u má»›i (dÆ°á»›i dáº¡ng má»™t \\(tibble\\)) Ä‘Æ°á»£c táº¡o thÃ nh, má»—i hÃ ng lÃ  má»™t chÃ¢u lá»¥c trong má»™t nÄƒm, vá»›i ba cá»™t bao gá»“m hai cá»™t Ä‘Æ°á»£c quy Ä‘á»‹nh bá»Ÿi hÃ m \\(group\\_by()\\) lÃ  \\(continent\\), \\(year\\) vÃ  cá»™t \\(gdp\\_year\\_continent\\) má»›i Ä‘Æ°á»£c táº¡o thÃ nh tá»« hÃ m \\(summarise()\\).","code":"\nmytib%>%group_by(continent, year) %>%\n  mutate(gdp_year_continent = mean(gdp,na.rm=TRUE))%>% # thÃªm cá»™t gdp bÃ¬nh quÃ¢n cá»§a chÃ¢u lá»¥c theo nÄƒm\n  ungroup()%>% # Ä‘á»ƒ dá»¯ liá»‡u trá»Ÿ láº¡i tráº¡ng thÃ¡i ban Ä‘áº§u (trÆ°á»›c khi group)\n  mutate(gdp_level = ifelse(gdp > gdp_year_continent, \"High\", \"Low\"))## # A tibble: 10,545 Ã— 11\n##    country  year infanâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´      gdp contiâ€¦âµ region gdp_yâ€¦â¶\n##    <fct>   <int>   <dbl>   <dbl>   <dbl>   <dbl>    <dbl> <fct>   <fct>    <dbl>\n##  1 Albania  1960   115.     62.9    6.19  1.64e6 NA       Europe  Southâ€¦ 1.11e11\n##  2 Algeria  1960   148.     47.5    7.65  1.11e7  1.38e10 Africa  Northâ€¦ 3.65e 9\n##  3 Angola   1960   208      36.0    7.32  5.27e6 NA       Africa  Middlâ€¦ 3.65e 9\n##  4 Antiguâ€¦  1960    NA      63.0    4.43  5.47e4 NA       Americâ€¦ Caribâ€¦ 1.15e11\n##  5 Argentâ€¦  1960    59.9    65.4    3.11  2.06e7  1.08e11 Americâ€¦ Southâ€¦ 1.15e11\n##  6 Armenia  1960    NA      66.9    4.55  1.87e6 NA       Asia    Westeâ€¦ 6.12e10\n##  7 Aruba    1960    NA      65.7    4.82  5.42e4 NA       Americâ€¦ Caribâ€¦ 1.15e11\n##  8 Austraâ€¦  1960    20.3    70.9    3.45  1.03e7  9.67e10 Oceania Austrâ€¦ 3.27e10\n##  9 Austria  1960    37.3    68.8    2.7   7.07e6  5.24e10 Europe  Westeâ€¦ 1.11e11\n## 10 Azerbaâ€¦  1960    NA      61.3    5.57  3.90e6 NA       Asia    Westeâ€¦ 6.12e10\n## # â€¦ with 10,535 more rows, 1 more variable: gdp_level <chr>, and abbreviated\n## #   variable names Â¹â€‹infant_mortality, Â²â€‹life_expectancy, Â³â€‹fertility,\n## #   â´â€‹population, âµâ€‹continent, â¶â€‹gdp_year_continent\nmytib%>%dfilter(year == 1960, continent == \"Europe\")%>%\n  select(gdp)%>%mean()## [1] NA\nmytib%>%group_by(continent, year) %>%\n  summarise(gdp_year_continent = mean(gdp,na.rm=TRUE))## # A tibble: 285 Ã— 3\n## # Groups:   continent [5]\n##    continent  year gdp_year_continent\n##    <fct>     <int>              <dbl>\n##  1 Africa     1960        3652247577.\n##  2 Africa     1961        3642863976.\n##  3 Africa     1962        3781167783.\n##  4 Africa     1963        4107185952.\n##  5 Africa     1964        4342684293.\n##  6 Africa     1965        4618242478.\n##  7 Africa     1966        4562215808.\n##  8 Africa     1967        4592913225.\n##  9 Africa     1968        4814235499.\n## 10 Africa     1969        5157970620.\n## # â€¦ with 275 more rows"},{"path":"index.html","id":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"7 Trá»±c quan hÃ³a dá»¯ liá»‡u","text":"","code":"\np<-gapminder%>%filter(year<=2010)%>%\n# AESTHETIC MAPPING\nggplot(aes(x=fertility,y=life_expectancy,size = population, fill= continent))+\n# TAO DO THI SCATTERPLOT\ngeom_point(shape=21,alpha=0.6)+\n# THAY DOI TITLE CUA DO THI, TRUC X, TRUC Y\nlabs(title = 'NÄƒm: {as.integer(frame_time)}',\ny = \"Tuá»•i thá» trung bÃ¬nh\",\nx = \"Tá»· lá»‡ sinh trÃªn má»—i phá»¥ ná»¯\")+\n#GIOI HAN LAI GIA TRI TREN X,Y\nxlim(0,10)+ylim(20,90)+\n# SCALE LAI SIZE (POPULATION)\nscale_size(range = c(1*2, 20*2)) +\n# SCALE LAI MAU SAC THE0 DAI MAU \"SET1\" CUA BREWER\nscale_color_brewer(palette = \"Set1\")+\n# LAM TITLE THAY DOI THEO NAM\ntransition_time(year)+\n#SIZE & FONT CHU\ntheme(,\nplot.title = element_text(size = 20*2),\naxis.title.x = element_text(size = 20*2),\naxis.title.y = element_text(size = 20*2),\nlegend.text = element_text(size = 20*2,margin = margin(r = 30*2, unit = \"pt\")),\nlegend.title = element_text(size = 20*2),\n#    legend.text=element_text(size=20*2),\n)\n#legend.key.size = element_rect(size = rel(1.5)),\n\n# TAO DO THI DANG DONG\nanimate(p, renderer = gifski_renderer(),\nwidth = 1600, #pixel chieu rong\nheight = 1600) # pixel chieu cao## \n## Attaching package: 'dplyr'## The following object is masked from 'package:gridExtra':\n## \n##     combine## The following object is masked from 'package:kableExtra':\n## \n##     group_rows## The following objects are masked from 'package:stats':\n## \n##     filter, lag## The following objects are masked from 'package:base':\n## \n##     intersect, setdiff, setequal, union## \n## Attaching package: 'lubridate'## The following objects are masked from 'package:base':\n## \n##     date, intersect, setdiff, union## \n## Attaching package: 'plotly'## The following object is masked from 'package:ggplot2':\n## \n##     last_plot## The following object is masked from 'package:stats':\n## \n##     filter## The following object is masked from 'package:graphics':\n## \n##     layout"},{"path":"index.html","id":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8 Trá»±c quan hÃ³a dá»¯ liá»‡u","text":"Trá»±c quan hÃ³a dá»¯ liá»‡u lÃ  nghá»‡ thuáº­t mÃ´ táº£ dá»¯ liá»‡u thÃ´ng qua viá»‡c sá»­ dá»¥ng Ä‘á»“ há»a vÃ  hÃ¬nh áº£nh nhÆ° cÃ¡c biá»ƒu Ä‘á»“, sÆ¡ Ä‘á»“, vÃ  cáº£ hÃ¬nh áº£nh Ä‘á»™ng hoáº·c hÃ¬nh áº£nh tÆ°Æ¡ng tÃ¡c. Trá»±c quan hÃ³a dá»¯ liá»‡u lÃ  má»™t phÆ°Æ¡ng phÃ¡p truyá»n Ä‘áº¡t thÃ´ng tin má»™t cÃ¡ch trá»±c quan vÃ  dá»… hiá»ƒu tá»« ngÆ°á»i quáº£n lÃ½ dá»¯ liá»‡u Ä‘áº¿n ngÆ°á»i tiáº¿p nháº­n. Trá»±c quan hÃ³a giÃºp mÃ´ táº£ cÃ¡c má»‘i quan há»‡ dá»¯ liá»‡u phá»©c táº¡p, cÃ¡c thÃ´ng tin chuyÃªn sÃ¢u, vÃ  cáº£ cÃ¡c váº¥n Ä‘á» báº¥t thÆ°á»ng áº©n chá»©a trong dá»¯ liá»‡u.Táº¡i sao láº¡i cáº§n trá»±c quan hÃ³a dá»¯ liá»‡u ? Thá»© nháº¥t lÃ  nÃ£o bá»™ cá»§a con ngÆ°á»i sáº½ cho pháº£n á»©ng Ä‘á»‘i vá»›i hÃ¬nh áº£nh, mÃ u sáº¯c, kÃ­ch thÆ°á»›c, khoáº£ng cÃ¡ch, â€¦ tá»‘t hÆ¡n nhiá»u vá»›i cÃ¡c kÃ½ hiá»‡u vÃ  con sá»‘. Thá»© hai lÃ  dá»¯ liá»‡u mÃ  chÃºng ta pháº£i Ä‘á»‘i máº·t trong thá»i Ä‘áº¡i ngÃ y nay ngÃ y cÃ ng lá»›n vÃ  phá»©c táº¡p. Trá»±c quan hÃ³a lÃ  phÆ°Æ¡ng phÃ¡p hiá»‡u quáº£ nháº¥t Ä‘á»ƒ tÃ¬m ra cÃ¡c giÃ¡ trá»‹ áº©n chá»©a bÃªn trong dá»¯ liá»‡u. ÄÃ¢y chÃ­nh lÃ  Ä‘iá»ƒm khiáº¿n ká»¹ nÄƒng trá»±c quan hÃ³a dá»¯ liá»‡u Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ lÃ  ká»¹ nÄƒng quan trá»ng nháº¥t Ä‘á»‘i vá»›i nhá»¯ng ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u.CÃ³ nhiá»u cÃ´ng cá»¥ Ä‘á»ƒ trá»±c quan hÃ³a dá»¯ liá»‡u. TiÃªu biá»ƒu pháº£i ká»ƒ Ä‘áº¿n Power BI vÃ  Tableau. ÄÃ¢y lÃ  hai cÃ´ng cá»¥ thÃ¢n thiá»‡n vá»›i ngÆ°á»i dÃ¹ng, cho phÃ©p ngÆ°á»i dÃ¹ng táº¡o báº£ng Ä‘iá»u khiá»ƒn vÃ  bÃ¡o cÃ¡o tÆ°Æ¡ng tÃ¡c má»™t cÃ¡ch nhanh chÃ³ng vÃ  dá»… dÃ ng. Cáº£ hai Ä‘á»u cÃ³ giao diá»‡n kiá»ƒu kÃ©o vÃ  tháº£ chuá»™t giÃºp dá»… dÃ ng táº¡o hÃ¬nh áº£nh trá»±c quan mÃ  khÃ´ng cáº§n báº¥t ká»³ ká»¹ nÄƒng láº­p trÃ¬nh nÃ o.R sá»­ dá»¥ng thÆ° viá»‡n \\(ggplot2\\) Ä‘á»ƒ trá»±c quan hÃ³a dá»¯ liá»‡u. Sáº½ lÃ  khÃ´ng dá»… dÃ ng cho ngÆ°á»i má»›i báº¯t Ä‘áº§u váº½ Ä‘Æ°á»£c Ä‘á»“ thá»‹ báº±ng \\(ggplot2\\). Äiá»ƒm máº¡nh cá»§a \\(ggplot2\\) vá»›i cÃ¡c cÃ´ng cá»¥ nhÆ° Power BI hay Tableau lÃ  cho phÃ©p ngÆ°á»i dÃ¹ng táº¡o cÃ¡c hÃ¬nh áº£nh cÃ³ kháº£ nÄƒng tÃ¹y biáº¿n cao. \\(ggplot2\\) lÃ  má»™t lá»±a chá»n phÃ¹ há»£p dÃ nh cho cÃ¡c nhÃ  phÃ¢n tÃ­ch dá»¯ liá»‡u, nhá»¯ng ngÆ°á»i cáº£m tháº¥y há»©ng thÃº vá»›i viá»‡c viáº¿t cÃ¡c cÃ¢u lá»‡nh Ä‘á»ƒ táº¡o ra cÃ¡c hÃ¬nh áº£nh trá»±c quan phá»©c táº¡p, vÃ  Ä‘Ãºng theo Ã½ muá»‘n cá»§a mÃ¬nh. Vá»›i má»™t chÃºt kinh nghiá»‡m vá» Power BI vÃ  Tableau, cÃ¹ng vá»›i nhiá»u hÆ¡n má»™t chÃºt kinh nghiá»‡m vá» \\(ggplot2\\), chÃºng tÃ´i cho ráº±ng báº¡n Ä‘á»c nÃªn lÃ m quen vá»›i cáº£ hai cÃ¡ch trá»±c quan hÃ³a dá»¯ liá»‡u. Khi báº¡n pháº£i táº¡o cÃ¡c bÃ¡o cÃ¡o trá»±c quan trong má»™t thá»i gian ngáº¯n, Power BI hay Tableau sáº½ lÃ  lá»±a chá»n tá»‘i Æ°u. Khi báº¡n muá»‘n váº½ nhá»¯ng hÃ¬nh áº£nh phá»©c táº¡p, cÃ³ tÃ­nh cÃ¡ nhÃ¢n cao, vÃ  báº¡n cÃ³ thá»i gian Ä‘á»ƒ lÃ m viá»‡c Ä‘Ã³, hÃ£y sá»­ dá»¥ng \\(ggplot2\\).","code":""},{"path":"index.html","id":"giá»›i-thiá»‡u-vá»-ggplot2","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.1 Giá»›i thiá»‡u vá» \\(ggplot2\\)","text":"\\(ggplot2\\) lÃ  má»™t thÆ° viá»‡n Ä‘á»ƒ trá»±c quan hÃ³a dá»¯ liá»‡u trong R. NgoÃ i \\(ggplot2\\), báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c Ä‘á»“ thá»‹ cÆ¡ báº£n cá»§a R, hoáº·c sá»­ dá»¥ng cÃ¡c thÆ° viá»‡n khÃ¡c nhÆ° \\(lattice\\) Ä‘á»ƒ váº½ Ä‘á»“ thá»‹. Tuy nhiÃªn, khÃ´ng giá»‘ng nhÆ° háº§u háº¿t cÃ¡c cÃ´ng cá»¥ khÃ¡c, \\(ggplot2\\) trá»±c quan hÃ³a dá»¯ liá»‡u dá»±a trÃªn Ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹ (Wilkinson 2005). Hai chá»¯ \\(gg\\) báº¯t Ä‘áº§u cÃ³ nghÄ©a lÃ  Grammar Graphic hay Ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹. Ngá»¯ phÃ¡p cho phÃ©p báº¡n Ä‘á»c váº½ Ä‘á»“ thá»‹ báº±ng cÃ¡ch káº¿t há»£p cÃ¡c cáº¥u pháº§n Ä‘á»™c láº­p láº¡i vá»›i nhau. ÄÃ¢y chÃ­nh lÃ  Ä‘iá»ƒm máº¡nh cá»§a \\(ggplot2\\). Thay vÃ¬ bá»‹ giá»›i háº¡n á»Ÿ cÃ¡c bá»™ Ä‘á»“ thá»‹ Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trÆ°á»›c, báº¡n Ä‘á»c cÃ³ thá»ƒ táº¡o Ä‘á»“ thá»‹ má»›i phÃ¹ há»£p vá»›i má»¥c tiÃªu cá»§a mÃ¬nh. Ã tÆ°á»Ÿng pháº£i há»c ngá»¯ phÃ¡p Ä‘á»ƒ váº½ Ä‘á»“ thá»‹ cÃ³ thá»ƒ lÃ m cho báº¡n Ä‘á»c cáº£m tháº¥y náº£n chÃ­, nhÆ°ng sá»± tháº­t lÃ  ngá»¯ phÃ¡p cá»§a \\(ggplot2\\) thá»±c sá»± dá»… há»c. Chá»‰ cÃ³ má»™t sá»‘ nguyÃªn táº¯c cá»‘t lÃµi Ä‘Æ¡n giáº£n vÃ  cÃ³ ráº¥t Ã­t trÆ°á»ng há»£p Ä‘áº·c biá»‡t. Khi Ä‘Ã£ thÃ´ng tháº¡o Ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹, ngoÃ i táº¡o ra nhá»¯ng Ä‘á»“ thá»‹ quen thuá»™c, báº¡n Ä‘á»c cÃ²n cÃ³ thá»ƒ táº¡o ra nhá»¯ng Ä‘á»“ thá»‹ má»›i hÆ¡n, Ä‘áº¹p hÆ¡n vÃ  mang tÃ­nh cÃ¡ch riÃªng. Báº¡n Ä‘á»c cÃ³ thá»ƒ gáº·p khÃ³ khÄƒn má»™t chÃºt thá»i gian ban Ä‘áº§u nhÆ°ng chÃºng tÃ´i tin ráº±ng khi Ä‘Ã£ quen vá»›i \\(ggplot2\\) thÃ¬ sáº½ ráº¥t Ã­t báº¡n Ä‘á»c muá»‘n quay láº¡i vá»›i cÃ¡c cÃ´ng cá»¥ trá»±c quan hÃ³a dá»¯ liá»‡u khÃ¡c.HÃ£y thá»­ xem má»™t chÃºt \\(ggplot2\\) trá»±c quan hÃ³a dá»¯ liá»‡u nhÆ° tháº¿ nÃ o. ChÃºng ta sáº½ báº¯t Ä‘áº§u vá»›i má»™t dá»¯ liá»‡u cÃ³ tÃªn lÃ  \\(murders\\) trong thÆ° viá»‡n \\(dslabs\\). Giáº£ sá»­ báº¡n muá»‘n du lá»‹ch Ä‘áº¿n Má»¹ nhÆ°ng báº¡n lo ngáº¡i vá» viá»‡c cho phÃ©p sá»­ dá»¥ng sÃºng á»Ÿ quá»‘c gia nÃ y vÃ  báº¡n muá»‘n biáº¿t á»Ÿ nhá»¯ng bang nÃ o cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cao. Dá»¯ liá»‡u \\(murders\\) lÃ  dá»¯ liá»‡u FBI cung cáº¥p vá» sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng táº¡i cÃ¡c bang cá»§a nÆ°á»›c Má»¹ vÃ o nÄƒm 2010. báº¡n Ä‘á»c Ä‘Ã£ biáº¿t vá» \\(data.frame()\\), nÃªn báº¡n cÃ³ thá»ƒ tÃ¬m hiá»ƒu vá» dá»¯ liá»‡u báº±ng cÃ¡c hÃ m nhÆ° head(), str(), view()Tháº­t khÃ³ Ä‘á»ƒ cÃ³ thá»ƒ cÃ³ Ä‘Æ°á»£c cÃ¡i nhÃ¬n tá»•ng thá»ƒ vá» dá»¯ liá»‡u náº¿u chá»‰ nhÃ¬n vÃ o cÃ¡c báº£ng, cÃ¡c con sá»‘, kÃ½ hiá»‡u nhÆ° trÃªn. Thay vÃ¬ sá»­ dá»¥ng con sá»‘, báº¡n Ä‘á»c cÃ³ thá»ƒ trÃ¬nh bÃ y dá»¯ liá»‡u \\(murders\\) dÆ°á»›i dáº¡ng má»™t Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm (scatter plot) nhÆ° sauChÃºng tÃ´i Ä‘Ã£ sá»­ dá»¥ng má»™t vÃ i ká»¹ thuáº­t biáº¿n Ä‘á»•i dá»¯ liá»‡u Ä‘á»ƒ váº½ Ä‘á»“ thá»‹ á»Ÿ trÃªn:cÃ¡c biáº¿n total (tá»•ng sá»‘ vá»¥ sÃ¡t nhÃ¢n) vÃ  biáº¿n population (dÃ¢n sá»‘ cá»§a má»—i bang) Ä‘á»u cÃ³ Ä‘uÃ´i dÃ i, nghÄ©a lÃ  cÃ³ nhiá»u Ä‘iá»ƒm táº­p trung á»Ÿ khu vá»±c trung tÃ¢m, vÃ  má»™t sá»‘ Ã­t Ä‘iá»ƒm táº­p trung á»Ÿ phÃ­a Ä‘uÃ´i bÃªn pháº£i, Ä‘Ã³ thay vÃ¬ sá»­ dá»¥ng chÃ­nh xÃ¡c giÃ¡ trá»‹ cá»§a cÃ¡c biáº¿n trÃªn Ä‘á»“ thá»‹, cÃ¡c Ä‘iá»ƒm cá»§a Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm sáº½ phÃ¢n bá»‘ khÃ´ng Ä‘á»“ng Ä‘á»u. GiÃ¡ trá»‹ hiá»ƒn thá»‹ trÃªn Ä‘á»“ thá»‹ Ä‘Ã£ Ä‘Æ°á»£c Ä‘iá»u chÃ­nh láº¡i theo hÃ m \\(log()\\) cÆ¡ sá»‘ 10.cÃ¡c biáº¿n total (tá»•ng sá»‘ vá»¥ sÃ¡t nhÃ¢n) vÃ  biáº¿n population (dÃ¢n sá»‘ cá»§a má»—i bang) Ä‘á»u cÃ³ Ä‘uÃ´i dÃ i, nghÄ©a lÃ  cÃ³ nhiá»u Ä‘iá»ƒm táº­p trung á»Ÿ khu vá»±c trung tÃ¢m, vÃ  má»™t sá»‘ Ã­t Ä‘iá»ƒm táº­p trung á»Ÿ phÃ­a Ä‘uÃ´i bÃªn pháº£i, Ä‘Ã³ thay vÃ¬ sá»­ dá»¥ng chÃ­nh xÃ¡c giÃ¡ trá»‹ cá»§a cÃ¡c biáº¿n trÃªn Ä‘á»“ thá»‹, cÃ¡c Ä‘iá»ƒm cá»§a Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm sáº½ phÃ¢n bá»‘ khÃ´ng Ä‘á»“ng Ä‘á»u. GiÃ¡ trá»‹ hiá»ƒn thá»‹ trÃªn Ä‘á»“ thá»‹ Ä‘Ã£ Ä‘Æ°á»£c Ä‘iá»u chÃ­nh láº¡i theo hÃ m \\(log()\\) cÆ¡ sá»‘ 10.ChÃºng tÃ´i thÃªm vÃ o má»™t Ä‘Æ°á»ng tháº³ng tuyáº¿n tÃ­nh (Ä‘Æ°á»ng káº» mÃ u xÃ¡m Ä‘i qua trung tÃ¢m) Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ chung giá»¯a hai biáº¿n \\(total\\) vÃ  \\(population\\).ChÃºng tÃ´i thÃªm vÃ o má»™t Ä‘Æ°á»ng tháº³ng tuyáº¿n tÃ­nh (Ä‘Æ°á»ng káº» mÃ u xÃ¡m Ä‘i qua trung tÃ¢m) Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ chung giá»¯a hai biáº¿n \\(total\\) vÃ  \\(population\\).Dá»±a trÃªn Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm á»Ÿ trÃªn, báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘Æ°a ra Ä‘Æ°á»£c ngay cÃ¡c nháº­n xÃ©t nhÆ° sauBang nÃ o cÃ³ dÃ¢n sá»‘ cÃ ng cao thÃ¬ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cÃ ng nhiá»u.Bang nÃ o cÃ³ dÃ¢n sá»‘ cÃ ng cao thÃ¬ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cÃ ng nhiá»u.Háº§u háº¿t cÃ¡c bang náº±m phÃ­a trÃªn Ä‘Æ°á»ng trung bÃ¬nh lÃ  cÃ¡c bang á»Ÿ miá»n Nam (mÃ u Ä‘á»).Háº§u háº¿t cÃ¡c bang náº±m phÃ­a trÃªn Ä‘Æ°á»ng trung bÃ¬nh lÃ  cÃ¡c bang á»Ÿ miá»n Nam (mÃ u Ä‘á»).CÃ¡c vÃ¹ng cÃ²n láº¡i khÃ´ng cÃ³ sá»± phÃ¢n biá»‡t rÃµ rÃ ng.CÃ¡c vÃ¹ng cÃ²n láº¡i khÃ´ng cÃ³ sá»± phÃ¢n biá»‡t rÃµ rÃ ng.Bang â€œDistrict Columbiaâ€ lÃ  bang náº±m cao hÆ¡n háº³n vá»›i Ä‘Æ°á»ng trung bÃ¬nh, vÃ  cÅ©ng lÃ  bang cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cao nháº¥t.Bang â€œDistrict Columbiaâ€ lÃ  bang náº±m cao hÆ¡n háº³n vá»›i Ä‘Æ°á»ng trung bÃ¬nh, vÃ  cÅ©ng lÃ  bang cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cao nháº¥t.Bang California cÃ³ tá»•ng sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng lá»›n nháº¥t, nhÆ°ng tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng trÃªn Ä‘áº§u ngÆ°á»i chá»‰ báº±ng má»©c trung bÃ¬nh chung.Bang California cÃ³ tá»•ng sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng lá»›n nháº¥t, nhÆ°ng tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng trÃªn Ä‘áº§u ngÆ°á»i chá»‰ báº±ng má»©c trung bÃ¬nh chung.KhÃ´ng dá»… dÃ ng Ä‘á»ƒ Ä‘Æ°a ra Ä‘Æ°á»£c cÃ¡c nháº­n xÃ©t nhÆ° trÃªn náº¿u chá»‰ dá»±a trÃªn quan sÃ¡t con sá»‘ vÃ  dá»¯ liá»‡u. Thay vÃ¬ biá»ƒu diá»…n dÆ°á»›i dáº¡ng con sá»‘, chÃºng ta cÃ³ thá»ƒ Ä‘Æ°a ra nhiá»u phÃ¢n tÃ­ch cÃ³ Ã½ nghÄ©a vá» dá»¯ liá»‡u khi sá»­ dá»¥ng Ä‘á»“ thá»‹ nhÆ° trÃªn.Wilkinson (2005) giá»›i thiá»‡u khÃ¡i niá»‡m Ngá»¯ phÃ¡p Ä‘á»“ thá»‹ Ä‘á»ƒ mÃ´ táº£ cÃ¡c thÃ nh pháº§n cÆ¡ báº£n lÃ m ná»n táº£ng cho táº¥t cáº£ cÃ¡c Ä‘á»“ thá»‹ sá»­ dá»¥ng vÃ  cÃ¡ch cÃ¡c thÃ nh pháº§n tÆ°Æ¡ng tÃ¡c trong mÃ´ táº£ dá»¯ liá»‡u. Ngá»¯ phÃ¡p Ä‘á»“ thá»‹ lÃ  mÃ´ táº£ chÃ­nh xÃ¡c nháº¥t cho cÃ¢u há»i Ä‘á»“ thá»‹ trá»±c quan hÃ³a dá»¯ liá»‡u lÃ  gÃ¬? ThÆ° viá»‡n \\(ggplot2\\) Ä‘Æ°á»£c Wickham giá»›i thiá»‡u vÃ o 2009 xÃ¢y dá»±ng dá»±a trÃªn ngá»¯ phÃ¡p Ä‘á»“ thá»‹ mÃ  Wilkinson Ä‘Ã£ Ä‘á» cáº­p báº±ng cÃ¡ch táº­p trung vÃ o viá»‡c xÃ¢y dá»±ng Ä‘á»“ thá»‹ dá»±a trÃªn nhiá»u lá»›p (layer). NhÃ¬n chung, ngá»¯ phÃ¡p Ä‘á»“ thá»‹ cho chÃºng ta biáº¿t quy táº¯c cho tÆ°Æ¡ng á»©ng cÃ¡c biáº¿n cá»§a dá»¯ liá»‡u vá»›i cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ (cÃ¡c aesthetic attributions) cá»§a Ä‘á»‘i tÆ°á»£ng hÃ¬nh áº£nh xuáº¥t hiá»‡n (cÃ¡c geometries). Äá»“ thá»‹ trong \\(ggplot2\\) cÅ©ng cÃ³ thá»ƒ bao gá»“m cÃ¡c mÃ´ hÃ¬nh thá»‘ng kÃª cá»§a dá»¯ liá»‡u vÃ  há»‡ tá»a Ä‘á»™ mÃ  Ä‘á»“ thá»‹ sá»­ dá»¥ng. Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ chia dá»¯ liá»‡u thÃ nh cÃ¡c táº­p há»£p con dá»±a trÃªn cÃ¡c biáº¿n rá»i ráº¡c vÃ  mÃ´ táº£ dá»¯ liá»‡u thÃ´ng qua má»™t nhÃ³m cÃ¡c Ä‘á»“ thá»‹ con thÃ´ng qua ká»¹ thuáº­t facetting. Sá»± káº¿t há»£p cá»§a cÃ¡c thÃ nh pháº§n Ä‘á»™c láº­p ká»ƒ trÃªn táº¡o nÃªn má»™t Ä‘á»“ thá»‹ mÃ´ táº£ dá»¯ liá»‡u.Báº¡n Ä‘á»c khÃ´ng cáº§n pháº£i lo láº¯ng náº¿u khÃ¡i niá»‡m Ngá»¯ phÃ¡p Ä‘á»“ thá»‹ á»Ÿ trÃªn khÃ´ng cÃ³ Ã½ nghÄ©a ngay láº­p tá»©c. Trong pháº§n sau cá»§a cuá»‘n sÃ¡ch, chÃºng tÃ´i sáº½ nÃ³i vá» ngá»¯ phÃ¡p Ä‘á»“ thá»‹ má»™t cÃ¡ch chi tiáº¿t hÆ¡n. Báº¡n sáº½ cÃ³ nhiá»u cÆ¡ há»™i hÆ¡n Ä‘á»ƒ tÃ¬m hiá»ƒu vá» Ngá»¯ phÃ¡p vÃ  cÃ¡c sá»­ dá»¥ng ngá»¯ phÃ¡p Ä‘á»ƒ cÃ¡c cáº¥u pháº§n Ä‘á»™c láº­p cá»§a má»™t Ä‘á»“ thá»‹ hoáº¡t Ä‘á»™ng cÃ¹ng nhau. Trong pháº§n giá»›i thiá»‡u nÃ y, chÃºng tÃ´i muá»‘n báº¡n Ä‘á»c hÃ£y ghi nhá»› thÃ nh pháº§n Ä‘á»™c láº­p táº¡o nÃªn má»™t Ä‘á»“ thá»‹ cÆ¡ báº£n bao gá»“m cÃ³Dá»¯ liá»‡u (Data) lÃ  dá»¯ liá»‡u hay táº­p há»£p cÃ¡c dá»¯ liá»‡u mÃ  báº¡n Ä‘á»c muá»‘n trá»±c quan hÃ³a. ThÃ´ng thÆ°á»ng thÃ¬ chá»‰ cÃ³ má»™t dá»¯ liá»‡u chÃ­nh mÃ  báº¡n Ä‘á»c muá»‘n minh há»a cho ngÆ°á»i tiáº¿p nháº­n dá»¯ liá»‡u, trong khi cÃ¡c dá»¯ liá»‡u khÃ¡c Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i má»¥c Ä‘Ã­ch Ä‘á»ƒ mÃ´ táº£ dá»¯ liá»‡u chÃ­nh. Má»™t vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh cá»§a dá»¯ liá»‡u phá»¥ lÃ  dá»¯ liá»‡u kiá»ƒu báº£n Ä‘á»“. Cháº³ng háº¡n nhÆ° khi báº¡n Ä‘á»c muá»‘n mÃ´ táº£ vá» dá»¯ liá»‡u \\(murder\\), báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng dá»¯ liá»‡u vá» báº£n Ä‘á»“ nÆ°á»›c Má»¹ Ä‘á»ƒ mÃ´ táº£ tá»‘t hÆ¡n vá» dá»¯ liá»‡u \\(murder\\).Dá»¯ liá»‡u (Data) lÃ  dá»¯ liá»‡u hay táº­p há»£p cÃ¡c dá»¯ liá»‡u mÃ  báº¡n Ä‘á»c muá»‘n trá»±c quan hÃ³a. ThÃ´ng thÆ°á»ng thÃ¬ chá»‰ cÃ³ má»™t dá»¯ liá»‡u chÃ­nh mÃ  báº¡n Ä‘á»c muá»‘n minh há»a cho ngÆ°á»i tiáº¿p nháº­n dá»¯ liá»‡u, trong khi cÃ¡c dá»¯ liá»‡u khÃ¡c Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i má»¥c Ä‘Ã­ch Ä‘á»ƒ mÃ´ táº£ dá»¯ liá»‡u chÃ­nh. Má»™t vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh cá»§a dá»¯ liá»‡u phá»¥ lÃ  dá»¯ liá»‡u kiá»ƒu báº£n Ä‘á»“. Cháº³ng háº¡n nhÆ° khi báº¡n Ä‘á»c muá»‘n mÃ´ táº£ vá» dá»¯ liá»‡u \\(murder\\), báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng dá»¯ liá»‡u vá» báº£n Ä‘á»“ nÆ°á»›c Má»¹ Ä‘á»ƒ mÃ´ táº£ tá»‘t hÆ¡n vá» dá»¯ liá»‡u \\(murder\\).HÃ¬nh dáº¡ng Ä‘á»“ há»a (cÃ¡c \\(geometries\\) hay viáº¿t táº¯t lÃ  cÃ¡c \\(geom\\)) lÃ  nhá»¯ng hÃ¬nh dáº¡ng Ä‘á»“ há»a mÃ  chÃºng ta muá»‘n nhÃ¬n tháº¥y trÃªn Ä‘á»“ thá»‹. CÃ¡c hÃ¬nh dáº¡ng nÃ y cÃ³ thá»ƒ lÃ  cÃ¡c Ä‘iá»ƒm, cÃ¡c thanh, cÃ¡c Ä‘Æ°á»ng.HÃ¬nh dáº¡ng Ä‘á»“ há»a (cÃ¡c \\(geometries\\) hay viáº¿t táº¯t lÃ  cÃ¡c \\(geom\\)) lÃ  nhá»¯ng hÃ¬nh dáº¡ng Ä‘á»“ há»a mÃ  chÃºng ta muá»‘n nhÃ¬n tháº¥y trÃªn Ä‘á»“ thá»‹. CÃ¡c hÃ¬nh dáº¡ng nÃ y cÃ³ thá»ƒ lÃ  cÃ¡c Ä‘iá»ƒm, cÃ¡c thanh, cÃ¡c Ä‘Æ°á»ng.CÃ¡c Ã¡nh xáº¡ tháº©m má»¹ (Aesthetic mapping) lÃ  cÃ¡c quy táº¯c cho tÆ°Æ¡ng á»©ng tá»« cÃ¡c biáº¿n (cá»™t cá»§a dá»¯ liá»‡u) Ä‘áº¿n cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ (aesthetic attribution) cá»§a cÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a. CÃ¡c thuá»™c tÃ­nh tháº©m má»¹ cÃ³ thá»ƒ lÃ  hÃ¬nh dáº¡ng, mÃ u sáº¯c, Ä‘á»™ Ä‘áº­m nháº¡t, â€¦CÃ¡c Ã¡nh xáº¡ tháº©m má»¹ (Aesthetic mapping) lÃ  cÃ¡c quy táº¯c cho tÆ°Æ¡ng á»©ng tá»« cÃ¡c biáº¿n (cá»™t cá»§a dá»¯ liá»‡u) Ä‘áº¿n cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ (aesthetic attribution) cá»§a cÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a. CÃ¡c thuá»™c tÃ­nh tháº©m má»¹ cÃ³ thá»ƒ lÃ  hÃ¬nh dáº¡ng, mÃ u sáº¯c, Ä‘á»™ Ä‘áº­m nháº¡t, â€¦CÃ¡c mÃ´ hÃ¬nh hay biáº¿n Ä‘á»•i thá»‘ng kÃª (statistics hay viáº¿t táº¯t lÃ  stats) lÃ  cÃ¡c quy táº¯c tÃ³m táº¯t dá»¯ liá»‡u, cÃ¡c mÃ´ hÃ¬nh xÃ¢y dá»±ng trÃªn dá»¯ liá»‡u Ä‘Æ°á»£c mÃ´ táº£ dÆ°á»›i dáº¡ng má»™t hÃ¬nh dáº¡ng Ä‘á»“ há»a nháº±m tÄƒng tÃ­nh dá»… hiá»ƒu cho Ä‘á»“ thá»‹ hoáº·c lÃ m ná»•i báº­t má»™t xu tháº¿ nÃ o Ä‘Ã³. VÃ­ dá»¥ nhÆ° trong Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm mÃ´ táº£ dá»¯ liá»‡u \\(murder\\), chÃºng tÃ´i Ä‘Ã£ sá»­ dá»¥ng má»™t mÃ´ hÃ¬nh tuyáº¿n tÃ­nh mÃ´ táº£ má»‘i quan há»‡ giá»¯a biáº¿n \\(total\\) vÃ  biáº¿n \\(population\\) vá»›i má»¥c Ä‘Ã­ch phÃ¢n loáº¡i ra cÃ¡c bang cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng tháº¥p hÆ¡n vÃ  cÃ¡c bang cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cao hÆ¡n vá»›i chung bÃ¬nh chung.CÃ¡c mÃ´ hÃ¬nh hay biáº¿n Ä‘á»•i thá»‘ng kÃª (statistics hay viáº¿t táº¯t lÃ  stats) lÃ  cÃ¡c quy táº¯c tÃ³m táº¯t dá»¯ liá»‡u, cÃ¡c mÃ´ hÃ¬nh xÃ¢y dá»±ng trÃªn dá»¯ liá»‡u Ä‘Æ°á»£c mÃ´ táº£ dÆ°á»›i dáº¡ng má»™t hÃ¬nh dáº¡ng Ä‘á»“ há»a nháº±m tÄƒng tÃ­nh dá»… hiá»ƒu cho Ä‘á»“ thá»‹ hoáº·c lÃ m ná»•i báº­t má»™t xu tháº¿ nÃ o Ä‘Ã³. VÃ­ dá»¥ nhÆ° trong Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm mÃ´ táº£ dá»¯ liá»‡u \\(murder\\), chÃºng tÃ´i Ä‘Ã£ sá»­ dá»¥ng má»™t mÃ´ hÃ¬nh tuyáº¿n tÃ­nh mÃ´ táº£ má»‘i quan há»‡ giá»¯a biáº¿n \\(total\\) vÃ  biáº¿n \\(population\\) vá»›i má»¥c Ä‘Ã­ch phÃ¢n loáº¡i ra cÃ¡c bang cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng tháº¥p hÆ¡n vÃ  cÃ¡c bang cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cao hÆ¡n vá»›i chung bÃ¬nh chung.Há»‡ tá»a Ä‘á»™ (Cordinate) mÃ´ táº£ cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c trá»±c quan hÃ³a trÃªn máº·t pháº³ng cá»§a Ä‘á»“ há»a. Äa sá»‘ cÃ¡c trÆ°á»ng há»£p chÃºng ta sáº½ sá»­ dá»¥ng há»‡ tá»a Ä‘á»™ Descartes, nhÆ°ng cÅ©ng cÃ³ má»™t sá»‘ há»‡ tá»a Ä‘á»™ khÃ¡c cÃ³ thá»ƒ sá»­ dá»¥ng bao gá»“m tá»a Ä‘á»™ cá»±c vÃ  báº£n Ä‘á»“.Há»‡ tá»a Ä‘á»™ (Cordinate) mÃ´ táº£ cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c trá»±c quan hÃ³a trÃªn máº·t pháº³ng cá»§a Ä‘á»“ há»a. Äa sá»‘ cÃ¡c trÆ°á»ng há»£p chÃºng ta sáº½ sá»­ dá»¥ng há»‡ tá»a Ä‘á»™ Descartes, nhÆ°ng cÅ©ng cÃ³ má»™t sá»‘ há»‡ tá»a Ä‘á»™ khÃ¡c cÃ³ thá»ƒ sá»­ dá»¥ng bao gá»“m tá»a Ä‘á»™ cá»±c vÃ  báº£n Ä‘á»“.Má»™t thÃ nh pháº§n mÃ´ táº£ cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c hiá»ƒn thá»‹ lÃ  chia nhá» dá»¯ liá»‡u Ä‘á»ƒ mÃ´ táº£ báº±ng má»™t nhÃ³m cÃ¡c Ä‘á»“ thá»‹ thay vÃ¬ má»™t Ä‘á»“ thá»‹ duy nháº¥t Ä‘Æ°á»£c gá»i lÃ  facetting. ThÃ nh pháº§n nÃ y thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ dá»¯ liá»‡u cÃ³ kÃ­ch thÆ°á»›c lá»›n vÃ  hoáº·c chÃºng ta muá»‘n sÃ¡nh trá»±c quan dá»¯ liá»‡u á»Ÿ cÃ¡c nhÃ³m khÃ¡c nhau.Má»™t thÃ nh pháº§n mÃ´ táº£ cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c hiá»ƒn thá»‹ lÃ  chia nhá» dá»¯ liá»‡u Ä‘á»ƒ mÃ´ táº£ báº±ng má»™t nhÃ³m cÃ¡c Ä‘á»“ thá»‹ thay vÃ¬ má»™t Ä‘á»“ thá»‹ duy nháº¥t Ä‘Æ°á»£c gá»i lÃ  facetting. ThÃ nh pháº§n nÃ y thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ dá»¯ liá»‡u cÃ³ kÃ­ch thÆ°á»›c lá»›n vÃ  hoáº·c chÃºng ta muá»‘n sÃ¡nh trá»±c quan dá»¯ liá»‡u á»Ÿ cÃ¡c nhÃ³m khÃ¡c nhau.ThÃ nh pháº§n cuá»‘i cÃ¹ng cá»§a Ä‘á»“ thá»‹ lÃ  ngá»¯ cáº£nh cá»§a Ä‘á»“ thá»‹ hay cÃ¡c themes. Theme quy Ä‘á»‹nh khung hoáº·c ná»n mÃ  Ä‘á»“ thá»‹ Ä‘Æ°á»£c hiá»ƒn thá»‹ cháº³ng háº¡n nhÆ° kÃ­ch thÆ°á»›c phÃ´ng chá»¯ hoáº·c mÃ u ná»n. Máº·c dÃ¹ cÃ¡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh trong \\(ggplot2\\) Ä‘Ã£ Ä‘Æ°á»£c lá»±a chá»n há»£p lÃ½ nhÆ°ng báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ cáº§n tham kháº£o cÃ¡c tÃ i liá»‡u tham kháº£o khÃ¡c Ä‘á»ƒ táº¡o ra má»™t ngá»¯ cáº£nh phÃ¹ há»£p hÆ¡n cho Ä‘á»“ thá»‹ cá»§a mÃ¬nh.ThÃ nh pháº§n cuá»‘i cÃ¹ng cá»§a Ä‘á»“ thá»‹ lÃ  ngá»¯ cáº£nh cá»§a Ä‘á»“ thá»‹ hay cÃ¡c themes. Theme quy Ä‘á»‹nh khung hoáº·c ná»n mÃ  Ä‘á»“ thá»‹ Ä‘Æ°á»£c hiá»ƒn thá»‹ cháº³ng háº¡n nhÆ° kÃ­ch thÆ°á»›c phÃ´ng chá»¯ hoáº·c mÃ u ná»n. Máº·c dÃ¹ cÃ¡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh trong \\(ggplot2\\) Ä‘Ã£ Ä‘Æ°á»£c lá»±a chá»n há»£p lÃ½ nhÆ°ng báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ cáº§n tham kháº£o cÃ¡c tÃ i liá»‡u tham kháº£o khÃ¡c Ä‘á»ƒ táº¡o ra má»™t ngá»¯ cáº£nh phÃ¹ há»£p hÆ¡n cho Ä‘á»“ thá»‹ cá»§a mÃ¬nh.Má»—i khi váº½ má»™t Ä‘á»“ thá»‹ \\(ggplot\\), báº¡n Ä‘á»c cáº§n tá»± Ä‘á»‹nh nghÄ©a Ã­t nháº¥t ba thÃ nh pháº§n: 1. Dá»¯ liá»‡u; 2. CÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a; vÃ  3. CÃ¡c Ã¡nh xáº¡ tháº©m má»¹. CÃ¡c thÃ nh pháº§n 5. Há»‡ tá»a Ä‘á»™; vÃ  7. Ngá»¯ cáº£nh; sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng gÃ¡n cho cÃ¡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh náº¿u báº¡n Ä‘á»c khÃ´ng quy Ä‘á»‹nh trong cÃ¢u lá»‡nh. VÃ  cÃ¡c thÃ nh pháº§n 4. MÃ´ hÃ¬nh; vÃ  6. Facetting; chá»‰ xuáº¥t hiá»‡n khi báº¡n Ä‘á»c gá»i lÃªn trong cÃ¢u lá»‡nh cá»§a mÃ¬nh.TrÆ°á»›c khi Ä‘i vÃ o giá»›i thiá»‡u chi tiáº¿t cÃ¡c cÃ¡ch táº¡o nÃªn má»™t Ä‘á»“ thá»‹ trá»±c quan hÃ³a, báº¡n Ä‘á»c cÅ©ng cáº§n biáº¿t Ä‘Æ°á»£c cÃ¡c háº¡n cháº¿ khi trá»±c quan hÃ³a dá»¯ liá»‡u báº±ng \\(ggplot2\\):\\(ggplot2\\) lÃ  má»™t thÆ° viá»‡n cá»§a R nÃªn báº¡n Ä‘á»c cáº§n cÃ³ ká»¹ nÄƒng viáº¿t cÃ¢u lá»‡nh R tÆ°Æ¡ng Ä‘á»‘i thÃ nh tháº¡o.\\(ggplot2\\) lÃ  má»™t thÆ° viá»‡n cá»§a R nÃªn báº¡n Ä‘á»c cáº§n cÃ³ ká»¹ nÄƒng viáº¿t cÃ¢u lá»‡nh R tÆ°Æ¡ng Ä‘á»‘i thÃ nh tháº¡o.\\(ggplot2\\) khÃ´ng gá»£i Ã½ báº¡n Ä‘á»c nÃªn sá»­ dá»¥ng Ä‘á»“ thá»‹ nÃ o khi gáº·p má»™t dá»¯ liá»‡u cá»¥ thá»ƒ. Äiá»u Ä‘Ã³ cÅ©ng cÃ³ nghÄ©a lÃ  báº¡n Ä‘á»c cáº§n cÃ³ má»™t chÃºt kinh nghiá»‡m vá» trá»±c quan hÃ³a dá»¯ liá»‡u trÆ°á»›c khi sá»­ dá»¥ng \\(ggplot2\\).\\(ggplot2\\) khÃ´ng gá»£i Ã½ báº¡n Ä‘á»c nÃªn sá»­ dá»¥ng Ä‘á»“ thá»‹ nÃ o khi gáº·p má»™t dá»¯ liá»‡u cá»¥ thá»ƒ. Äiá»u Ä‘Ã³ cÅ©ng cÃ³ nghÄ©a lÃ  báº¡n Ä‘á»c cáº§n cÃ³ má»™t chÃºt kinh nghiá»‡m vá» trá»±c quan hÃ³a dá»¯ liá»‡u trÆ°á»›c khi sá»­ dá»¥ng \\(ggplot2\\).\\(ggplot2\\) khÃ´ng Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘á»ƒ váº½ cÃ¡c Ä‘á»“ thá»‹ Ä‘á»™ng hay Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c mÃ  chá»‰ táº­p trung vÃ o váº½ cÃ¡c Ä‘á»“ thá»‹ tÄ©nh. Muá»‘n váº½ cÃ¡c Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c hay Ä‘á»“ thá»‹ Ä‘á»™ng trong \\(ggplot2\\) báº¡n Ä‘á»c pháº£i sá»­ dá»¥ng cÃ¡c packages Ä‘i kÃ¨m nhÆ° \\(gganimate\\) hay \\(ggplotly\\).\\(ggplot2\\) khÃ´ng Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘á»ƒ váº½ cÃ¡c Ä‘á»“ thá»‹ Ä‘á»™ng hay Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c mÃ  chá»‰ táº­p trung vÃ o váº½ cÃ¡c Ä‘á»“ thá»‹ tÄ©nh. Muá»‘n váº½ cÃ¡c Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c hay Ä‘á»“ thá»‹ Ä‘á»™ng trong \\(ggplot2\\) báº¡n Ä‘á»c pháº£i sá»­ dá»¥ng cÃ¡c packages Ä‘i kÃ¨m nhÆ° \\(gganimate\\) hay \\(ggplotly\\).Äá»ƒ káº¿t thÃºc pháº§n giá»›i thiá»‡u vá» \\(ggplot2\\), chÃºng tÃ´i sáº½ sá»­ dá»¥ng \\(ggplot2\\) káº¿t há»£p vá»›i \\(gganimate\\) Ä‘á»ƒ ká»ƒ má»™t cÃ¢u chuyá»‡n (story telling) vá» sá»± phÃ¡t triá»ƒn cá»§a cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i tá»« nÄƒm 1960 Ä‘áº¿n nÄƒm 2010 thÃ´ng qua hai khÃ­a cáº¡nh lÃ  tuá»•i thá» trung bÃ¬nh vÃ  thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i. Dá»¯ liá»‡u chÃ­nh Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  dá»¯ liá»‡u \\(gapminder\\).","code":"\nlibrary(dslabs)\nhead(murders)##        state abb region population total\n## 1    Alabama  AL  South    4779736   135\n## 2     Alaska  AK   West     710231    19\n## 3    Arizona  AZ   West    6392017   232\n## 4   Arkansas  AR  South    2915918    93\n## 5 California  CA   West   37253956  1257\n## 6   Colorado  CO   West    5029196    65"},{"path":"index.html","id":"táº¡o-má»™t-Ä‘á»“-thá»‹-ggplot2-cÆ¡-báº£n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.2 Táº¡o má»™t Ä‘á»“ thá»‹ \\(ggplot2\\) cÆ¡ báº£n","text":"TrÆ°á»›c khi giá»›i thiá»‡u chi tiáº¿t vá» cÃ¡c thÃ nh pháº§n Ä‘á»™c láº­p cá»§a Ä‘á»“ thá»‹ vÃ  cÃ¡ch sá»­ dá»¥ng ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹, chÃºng tÃ´i nghÄ© ráº±ng sáº½ tá»‘t hÆ¡n náº¿u báº¡n Ä‘á»c báº¯t Ä‘áº§u váº½ cÃ¡c Ä‘á»“ thá»‹ Ä‘Æ¡n giáº£n báº±ng cÃ¡ch copy vÃ  dÃ¡n cÃ¡c cÃ¢u lá»‡nh váº½ Ä‘á»“ thá»‹ trÆ°á»›c. Sau khi thá»±c thi má»™t vÃ i láº§n, báº¡n Ä‘á»c sáº½ cÃ³ â€œcáº£m nháº­nâ€ Ä‘Æ°á»£c pháº§n nÃ o cÃ¡ch mÃ  má»™t Ä‘á»“ thá»‹ cá»§a \\(ggplot2\\) Ä‘Æ°á»£c xÃ¢y dá»±ng. Dá»¯ liá»‡u chÃºng tÃ´i sá»­ dá»¥ng Ä‘á»ƒ trá»±c quan hÃ³a trong suá»‘t chÆ°Æ¡ng sÃ¡ch nÃ y lÃ  dá»¯ liá»‡u \\(gapminder\\), dá»¯ liá»‡u vá» sá»©c khá»e vÃ  thu nháº­p cá»§a táº¥t cáº£ cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i báº¯t Ä‘áº§u tá»« nÄƒm 1960 Ä‘áº¿n nÄƒm 2016. Báº¡n Ä‘á»c hÃ£y Ä‘áº£m báº£o ráº±ng mÃ¬nh Ä‘Ã£ Ä‘á»c vÃ  hiá»ƒu má»™t cÃ¡ch cÆ¡ báº£n vá» dá»¯ liá»‡u nÃ y.\nBáº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng dá»¯ liá»‡u \\(gapminder\\) cÃ³ nhiá»u giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c trong nÄƒm 2016. Hai cá»™t cÃ³ tá»· lá»‡ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c qua cÃ¡c nÄƒm lá»›n lÃ  \\(infant\\_mortality\\) vÃ  \\(gdp\\). RiÃªng biáº¿n \\(gdp\\) lÃ  gáº§n nhÆ° khÃ´ng quan sÃ¡t Ä‘Æ°á»£c tá»« nÄƒm 2012 Ä‘áº¿n 2016. chá»‰ sá»­ dá»¥ng dá»¯ liá»‡u vá»›i má»¥c Ä‘Ã­ch trá»±c quan hÃ³a nÃªn chÃºng tÃ´i sáº½ tiá»n xá»­ lÃ½ dá»¯ liá»‡u má»™t cÃ¡ch Ä‘Æ¡n giáº£n lÃ  xÃ³a cÃ¡c quan sÃ¡t cá»§a cÃ¡c nÄƒm 2012 Ä‘áº¿n 2016. GiÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c tá»« nÄƒm 1960 Ä‘áº¿n 2012 sáº½ Ä‘Æ°á»£c thay tháº¿ báº±ng mÃ´ hÃ¬nh rá»«ng ngáº«u nhiÃªn. Dá»¯ liá»‡u sau bÆ°á»›c tiá»n xá»­ lÃ½ nÃ y Ä‘Æ°á»£c gá»i lÃ  \\(gapminder\\_1\\)HÃ m sá»‘ Ä‘á»ƒ váº½ Ä‘á»“ thá»‹ cá»§a thÆ° viá»‡n \\(ggplot2\\) lÃ  hÃ m ggplot(). Báº¡n Ä‘á»c hÃ£y nhá»› ráº±ng ba thÃ nh pháº§n báº¯t buá»™c pháº£i cÃ³ cá»§a má»™t Ä‘á»“ thá»‹ lÃ  1. Dá»¯ liá»‡u; 2. (Ãt nháº¥t) Má»™t hÃ¬nh dáº¡ng Ä‘á»“ há»a; vÃ  3. Ãnh xáº¡ tháº©m má»¹. Äá»“ thá»‹ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ hai biáº¿n gdp bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i vÃ  tuá»•i thá» trung bÃ¬nh cá»§a cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i vÃ o nÄƒm 2011. Báº¡n Ä‘á»c cÃ³ thá»ƒ copy cÃ¡c Ä‘oáº¡n lá»‡nh á»Ÿ dÆ°á»›i vÃ o cá»­a sá»• R script vÃ  thá»±c hiá»‡n giá»‘ng nhÆ° cÃ¡c cÃ¢u lá»‡nh thÃ´ng thÆ°á»ng.Trong cÃ¢u lá»‡nh ggplot() á»Ÿ trÃªn, dá»¯ liá»‡u Ä‘Æ°á»£c Ä‘Æ°a vÃ o lÃ  \\(data.frame\\) cÃ³ tÃªn lÃ  \\(dat\\), hÃ¬nh dáº¡ng Ä‘á»“ há»a lÃ  cÃ¡c Ä‘iá»ƒm trÃªn trá»¥c tá»a Ä‘á»™ Descartes. HÃ¬nh dáº¡ng Ä‘á»“ há»a nÃ y Ä‘Æ°á»£c gá»i báº±ng hÃ m geom_point(). Ãnh xáº¡ tháº©m má»¹ Ä‘Æ°á»£c gá»i thÃ´ng qua hÃ m aes() náº±m trong hÃ m ggplot(). Trong Ã¡nh xáº¡ tháº©m má»¹ á»Ÿ trÃªn, chÃºng ta Ä‘Ã£ cho tÆ°Æ¡ng á»©ng biáº¿n \\(life\\_expectancy\\) vá»›i giÃ¡ trá»‹ trÃªn trá»¥c \\(x\\) cá»§a trá»¥c tá»a Ä‘á»™ Descartes, biáº¿n \\(gdp\\_per\\_capita\\) vá»›i giÃ¡ trá»‹ trÃªn trá»¥c \\(y\\) cá»§a trá»¥c tá»a Ä‘á»™ Descartes.Báº¡n Ä‘á»c Ä‘Ã£ cÃ³ thá»ƒ tháº¥y Ä‘Æ°á»£c má»™t vÃ i thÃ´ng tin phÃ¡n Ã¡nh trÃªn dá»¯ liá»‡u.CÃ³ má»‘i liÃªn há»‡ Ä‘á»“ng biáº¿n giá»¯a tuá»•i thá» trung bÃ¬nh vÃ  thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i. Quá»‘c gia nÃ o cÃ³ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i cao thÃ¬ tuá»•i thá» trung bÃ¬nh cÅ©ng sáº½ cao. Äiá»u nÃ y khÃ¡ há»£p lÃ½ bá»Ÿi cÃ¡c quá»‘c gia cÃ³ thu nháº­p trung bÃ¬nh cao thÆ°á»ng lÃ  cÃ¡c nÆ°á»›c phÃ¡t triá»ƒn cÃ³ há»‡ thá»‘ng chÄƒm sÃ³c sá»©c khá»e tá»‘t, Ä‘Ã³ tuá»•i thá» trung bÃ¬nh cÅ©ng sáº½ cao.CÃ³ má»‘i liÃªn há»‡ Ä‘á»“ng biáº¿n giá»¯a tuá»•i thá» trung bÃ¬nh vÃ  thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i. Quá»‘c gia nÃ o cÃ³ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i cao thÃ¬ tuá»•i thá» trung bÃ¬nh cÅ©ng sáº½ cao. Äiá»u nÃ y khÃ¡ há»£p lÃ½ bá»Ÿi cÃ¡c quá»‘c gia cÃ³ thu nháº­p trung bÃ¬nh cao thÆ°á»ng lÃ  cÃ¡c nÆ°á»›c phÃ¡t triá»ƒn cÃ³ há»‡ thá»‘ng chÄƒm sÃ³c sá»©c khá»e tá»‘t, Ä‘Ã³ tuá»•i thá» trung bÃ¬nh cÅ©ng sáº½ cao.Má»‘i liÃªn há»‡ Ä‘á»“ng biáº¿n nhÆ°ng khÃ´ng tuyáº¿n tÃ­nh, thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i tÄƒng nhanh hÆ¡n ráº¥t nhiá»u ro vá»›i tuá»•i thá» trung bÃ¬nh.Má»‘i liÃªn há»‡ Ä‘á»“ng biáº¿n nhÆ°ng khÃ´ng tuyáº¿n tÃ­nh, thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i tÄƒng nhanh hÆ¡n ráº¥t nhiá»u ro vá»›i tuá»•i thá» trung bÃ¬nh.CÃ³ má»™t vÃ i Ä‘iá»ƒm cÃ³ kháº£ nÄƒng lÃ  ngoáº¡i lai trong má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh nÃ y. ÄÃ¢y lÃ  cÃ¡c quá»‘c gia cÃ³ má»©c thu nháº­p bÃ¬nh quÃ¢n khÃ¡ cao (tá»« 10 nghÃ¬n USD - 20 nghÃ¬n USD/1 ngÆ°á»i) nhÆ°ng láº¡i cÃ³ tuá»•i thá» trung bÃ¬nh khÃ´ng cao. Tuy nhiÃªn chá»‰ vá»›i cÃ¡c thÃ´ng tin nhÆ° trÃªn chÃºng ta khÃ´ng thá»ƒ Ä‘Æ°a ra giáº£i thÃ­ch cho cÃ¡c giÃ¡ trá»‹ cÃ³ kháº£ nÄƒng cao lÃ  ngoáº¡i lai nÃ y.CÃ³ má»™t vÃ i Ä‘iá»ƒm cÃ³ kháº£ nÄƒng lÃ  ngoáº¡i lai trong má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh nÃ y. ÄÃ¢y lÃ  cÃ¡c quá»‘c gia cÃ³ má»©c thu nháº­p bÃ¬nh quÃ¢n khÃ¡ cao (tá»« 10 nghÃ¬n USD - 20 nghÃ¬n USD/1 ngÆ°á»i) nhÆ°ng láº¡i cÃ³ tuá»•i thá» trung bÃ¬nh khÃ´ng cao. Tuy nhiÃªn chá»‰ vá»›i cÃ¡c thÃ´ng tin nhÆ° trÃªn chÃºng ta khÃ´ng thá»ƒ Ä‘Æ°a ra giáº£i thÃ­ch cho cÃ¡c giÃ¡ trá»‹ cÃ³ kháº£ nÄƒng cao lÃ  ngoáº¡i lai nÃ y.HÃ¬nh dáº¡ng Ä‘á»“ há»a lÃ  nhá»¯ng gÃ¬ mÃ  báº¡n Ä‘á»c nhÃ¬n tháº¥y trÃªn Ä‘á»“ thá»‹ cá»§a mÃ¬nh. Khi gá»i cÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a thÆ° viá»‡n \\(ggplot2\\) luÃ´n luÃ´n sá»­ dá»¥ng cÃ¡c hÃ m sá»‘ báº¯t Ä‘áº§u bá»Ÿi geom lÃ  viáº¿t táº¯t cá»§a \\(geometries\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ thá»­ vá»›i má»™t vÃ i hÃ¬nh dáº¡ng Ä‘á»“ há»a quen thuá»™c nhÆ° dÆ°á»›i Ä‘Ã¢yCÃ²n ráº¥t nhiá»u cÃ¡c hÃ m \\(geom_*()\\) khÃ¡c cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ táº¡o Ä‘á»“ thá»‹ trong thÆ° viá»‡n \\(ggplot2\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ xem danh sÃ¡ch cÃ¡c \\(geom\\) thÆ°á»ng sá»­ dá»¥ng trong danh sÃ¡ch Ä‘Ã­nh kÃ¨m dÆ°á»›i Ä‘Ã¢y.https://www.maths.usyd.edu.au/u/UG/SM/STAT3022/r/current/Misc/data-visualization-2.1.pdfBáº¡n Ä‘á»c cÃ³ thá»ƒ tháº§y ráº±ng CHEAT SHEET cÅ©ng Ä‘Ã£ cÃ³ gá»£i Ã½ cho ngÆ°á»i sá»­ dá»¥ng nÃªn dÃ¹ng hÃ m geom_*() nÃ o trong tá»«ng trÆ°á»ng há»£p. Cháº³ng háº¡n nhÆ° geom_point() Ä‘Æ°á»£c khuyÃªn dÃ¹ng trong trÆ°á»ng há»£p mÃ´ táº£ hai biáº¿n liÃªn tá»¥c. Äá»“ng thá»i, má»—i hÃ m geom_*() sáº½ cÃ³ má»™t danh sÃ¡ch cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ Ä‘i kÃ¨m. Äá»‘i vá»›i geom_point() cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ bao gá»“m \\(x\\), \\(y\\), \\(alpha\\), \\(color\\), \\(fill\\), \\(shape\\), \\(size\\), vÃ  \\(stroke\\). Báº¡n Ä‘á»c hÆ°á»›ng dáº«n sá»­ dá»¥ng cá»§a hÃ m geom_point() Ä‘á»ƒ biáº¿t cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ nÃ y cÃ³ Ã½ nghÄ©a nhÆ° tháº¿ nÃ o. Trong cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ nÃ y, \\(color\\), \\(fill\\), \\(shape\\) vÃ  \\(size\\) lÃ  cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ xuáº¥t hiá»‡n á»Ÿ nhiá»u hÃ m geom_*() khÃ¡c. ÄÃ¢y lÃ  cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ thÆ°á»ng xuyÃªn Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÄƒng kháº£ nÄƒng mÃ´ táº£ dá»¯ liá»‡u cá»§a cÃ¡c Ä‘á»“ thá»‹.Äá»ƒ mÃ´ táº£ tá»‘t hÆ¡n má»‘i quan há»‡ giá»¯a thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i vÃ  tuá»•i thá» trung bÃ¬nh cá»§a cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i, chÃºng ta cáº§n thÃªm thÃ´ng tin vÃ o Ä‘á»“ thá»‹ á»Ÿ trÃªn. Má»™t phÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n Ä‘á»ƒ thÃªm biáº¿n khÃ¡c vÃ o má»™t Ä‘á»“ thá»‹ lÃ  Ã¡nh xáº¡ biáº¿n Ä‘Ã³ Ä‘áº¿n má»™t trong cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ cá»§a Ä‘á»“ thá»‹ Ä‘Æ°á»£c váº½ bá»Ÿi hÃ m geom_point(). Biáº¿n Ä‘Æ°á»£c thÃªm vÃ o dÆ°á»›i Ä‘Ã¢y lÃ  biáº¿n \\(continent\\). ChÃºng ta sáº½ Ã¡nh xáº¡ biáº¿n Ä‘Ã³ tÆ°Æ¡ng á»©ng vá»›i thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) nhÆ° sauChÃºng ta Ä‘Ã£ cÃ³ thá»ƒ Ä‘Æ°a ra thÃªm cÃ¡c phÃ¢n tÃ­ch vá» má»‘i liÃªn há»‡ giá»¯a tuá»•i thá» trung bÃ¬nh vÃ  thu nháº­p bÃ¬nh quÃ¢n. CÃ³ sá»± phÃ¢n bá»‘ khÃ´ng Ä‘á»“ng Ä‘á»u vá» thu nháº­p bÃ¬nh quÃ¢n vÃ  tuá»•i thá» trung bÃ¬nh cá»§a cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i, Ä‘a sá»‘ cÃ¡c quá»‘c gia ChÃ¢u Phi (mÃ u Ä‘á») cÃ³ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i tháº¥p vÃ  tuá»•i thá» trung bÃ¬nh tháº¥p; cÃ¡c quá»‘c gia ChÃ¢u Ã‚u (mÃ u xanh da trá»i) cÃ³ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i cao vÃ  tuá»•i thá» trung bÃ¬nh cao. CÃ³ sá»± phÃ¢n hÃ³a rÃµ rÃ ng á»Ÿ ChÃ¢u Äáº¡i DÆ°Æ¡ng vÃ  ChÃ¢u Má»¹, má»™t vÃ i quá»‘c gia náº±m trong nhÃ³m cÃ¡c nÆ°á»›c cÃ³ thu nháº­p cao, tuá»•i thá» trung bÃ¬nh cao trong khi Ä‘a sá»‘ cÃ¡c quá»‘c gia cÃ²n láº¡i náº±m trong nhÃ³m thu nháº­p tháº¥p vÃ  tuá»•i thá» trung bÃ¬nh tháº¥p. Sá»± phÃ¢n hÃ³a á»Ÿ ChÃ¢u Ã khÃ´ng quÃ¡ rÃµ rÃ ng.CÃ³ má»™t nguyÃªn táº¯c lÃ  thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i biáº¿n rá»i ráº¡c vÃ  thuá»™c tÃ­nh tháº©m má»¹ \\(size\\) thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i biáº¿n liÃªn tá»¥c. Thuá»™c tÃ­nh tháº©m má»¹ \\(shape\\) chá»‰ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i biáº¿n rá»i ráº¡c, R sáº½ bÃ¡o lá»—i náº¿u báº¡n Ã¡nh xáº¡ má»™t biáº¿n liÃªn tá»¥c vÃ o \\(shape\\). CÃ³ 21 giÃ¡ trá»‹ khÃ¡c nhau trong dÃ nh cho thuá»™c tÃ­nh tháº©m má»¹ \\(shape\\) Ä‘Ã³ R sáº½ cÃ³ cáº£nh bÃ¡o náº¿u báº¡n Ä‘á»c Ã¡nh xáº¡ má»™t biáº¿n rá»i ráº¡c cÃ³ nhiá»u hÆ¡n 21 giÃ¡ trá»‹.Äá»“ thá»‹ dÆ°á»›i Ä‘Ã¢y thÃªm biáº¿n \\(population\\) vÃ o Ä‘á»“ thá»‹ báº±ng cÃ¡ch sá»­ dá»¥ng thuá»™c tÃ­nh tháº©m má»¹ \\(size\\). Báº¡n Ä‘á»c hÃ£y luÃ´n nhá»› ráº±ng Ä‘á»ƒ khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ tá»« má»™t biáº¿n Ä‘áº¿n má»™t thuá»™c tÃ­nh tháº©m má»¹, hÃ£y luÃ´n luÃ´n khai bÃ¡o bÃªn trong hÃ m aes().Tham sá»‘ \\(alpha\\) sá»­ dá»¥ng trong hÃ m geom_point() trong trÆ°á»ng há»£p dá»¯ liá»‡u cÃ³ nhiá»u Ä‘iá»ƒm bá»‹ trÃ¹ng lÃªn nhau. ChÃºng ta sáº½ tháº£o luáº­n ká»¹ hÆ¡n vá» thuá»™c tÃ­nh tháº©m má»¹ nÃ y trong pháº§n sau cá»§a chÆ°Æ¡ng. Khi thÃªm biáº¿n \\(population\\) vÃ o cÃ³ thá»ƒ lÃ m Ä‘á»“ thá»‹ cÃ³ thÃªm thÃ´ng tin, cháº³ng háº¡n nhÆ° báº¡n Ä‘á»c cÃ³ thá»ƒ nháº­n ra vá»‹ trÃ­ cá»§a cÃ¡c quá»‘c gia Ä‘Ã´ng dÃ¢n tiÃªu biá»ƒu nhÆ° Trung Quá»‘c vÃ  áº¤n Äá»™ vÃ o nÄƒm 2011 váº«n náº±m trong nhÃ³m cÃ¡c nÆ°á»›c cÃ³ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i tháº¥p; hoáº·c cÅ©ng cÃ³ thá»ƒ nháº­n ra Má»¹ vÃ  Nháº­t Báº£n lÃ  cÃ¡c quá»‘c gia náº±m á»Ÿ gÃ³c trÃªn bÃªn pháº£i lÃ  cÃ¡c nÆ°á»›c cÅ©ng cÃ³ dÃ¢n sá»‘ tÆ°Æ¡ng Ä‘á»‘i lá»›n. Tuy nhiÃªn, báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ nháº­n ra ráº±ng khi cÃ¹ng sá»­ dá»¥ng nhiá»u thuá»™c tÃ­nh tháº©m má»¹ trÃªn má»™t Ä‘á»“ thá»‹, hiá»‡u quáº£ sáº½ khÃ´ng Ä‘Æ°á»£c nhÆ° mong muá»‘n.Vá»›i cÃ¡c dá»¯ liá»‡u cÃ³ nhiá»u quan sÃ¡t, báº¡n Ä‘á»c cÃ³ thá»ƒ chia nhá» dá»¯ liá»‡u thÃ nh cÃ¡c nhÃ³m vÃ  táº¡o Ä‘á»“ thá»‹ cho tá»«ng nhÃ³m.Sá»­ dá»¥ng nÄƒm Ä‘á»“ thá»‹ cÃ³ cÃ¹ng trá»¥c tá»a Ä‘á»™ \\(x\\) vÃ  \\(y\\) Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ giá»¯a thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i vÃ  tuá»•i thá» trung bÃ¬nh lÃ  rÃµ rÃ ng hÆ¡n ráº¥t nhiá»u vá»›i sá»­ dá»¥ng má»™t Ä‘á»“ thá»‹ duy nháº¥t vÃ  phÃ¢n biá»‡t báº±ng mÃ u sáº¯c.ThÃ nh pháº§n cuá»‘i cÃ¹ng mÃ  báº¡n Ä‘á»c cÃ³ thá»ƒ thÃªm vÃ o Ä‘á»“ thá»‹ \\(ggplot2\\) lÃ  ngá»¯ cáº£nh, hay cÃ¡c \\(themes\\). CÃ³ má»™t sá»‘ \\(theme\\) cÃ³ sáºµn hoáº·c cÃ³ cÃ¡c \\(theme\\) náº±m trong cÃ¡c thÆ° viá»‡n cÃ i Ä‘áº·t bá»• sung. ChÃºng ta sáº½ nÃ³i chi tiáº¿t vá» cÃ¡ch tÃ¹y chá»‰nh \\(theme\\) hoáº·c tá»± táº¡o \\(theme\\) á»Ÿ pháº§n sau cá»§a chÆ°Æ¡ng. Trong Ä‘oáº¡n cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y, chÃºng tÃ´i sá»­ dá»¥ng theme_minimal() lÃ  má»™t \\(theme\\) cÃ³ sáºµn trong thÆ° viá»‡n \\(ggplot2\\).CÃ²n má»™t thÃ nh pháº§n khÃ¡c chÆ°a Ä‘Æ°á»£c nháº¯c Ä‘áº¿n khi táº¡o Ä‘á»“ thá»‹ lÃ  cÃ¡c \\(statistics\\) hay viáº¿t táº¯t lÃ  cÃ¡c \\(stats\\). Tuy nhiÃªn Ä‘Ã¢y lÃ  thÃ nh pháº§n phá»©c táº¡p nháº¥t vÃ  liÃªn quan Ä‘áº¿n cÃ¡c kiáº¿n thá»©c vá» xÃ¢y dá»±ng mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u nÃªn chÃºng tÃ´i khÃ´ng sá»­ dá»¥ng trong pháº§n nÃ y. Má»¥c tiÃªu cá»§a chÃºng tÃ´i lÃ  Ä‘á»ƒ báº¡n Ä‘á»c lÃ m quen vÃ  tá»± táº¡o cÃ¡c Ä‘á»“ thá»‹ Ä‘Æ¡n giáº£n báº±ng cÃ¡c dÃ²ng lá»‡nh cá»§a thÆ° viá»‡n \\(ggplot2\\).","code":"\ndat<-gapminder%>%filter(year==2011)%>%mutate(gdp_per_capita = gdp/population)\nggplot(dat, aes(x = life_expectancy, y = gdp_per_capita)) + geom_point()\n## geom_histogram() sá»­ dá»¥ng cÃ¡c thanh Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a má»™t biáº¿n liÃªn tá»¥c\nggplot(dat,aes(x = gdp_per_capita))+geom_histogram()\n\n## geom_bar() sá»­ dá»¥ng cÃ¡c thanh Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a má»™t biáº¿n rá»i ráº¡c\nggplot(dat,aes(x = continent))+geom_bar()\n\n## geom_boxplot() sá»­ dá»¥ng cÃ¡c hÃ¬nh há»™p Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n liÃªn tá»¥c\nggplot(dat,aes(x = continent, y = life_expectancy))+geom_boxplot()\n\n## geom_line() sá»­ dá»¥ng Ä‘Æ°á»ng ná»‘i cÃ¡c Ä‘iá»ƒm theo thá»© tá»± Ä‘iá»ƒm xuáº¥t hiá»‡n\ndat1<-filter(gapminder, year<=2011, country == \"United States\")%>%select(year,gdp)\nggplot(dat1,aes(x = year, y = gdp))+geom_line()\ndat<-gapminder%>%filter(year==2011)%>%mutate(gdp_per_capita = gdp/population)\nggplot(dat, aes(x = life_expectancy, y = gdp_per_capita, color = continent)) +\n  geom_point()\nggplot(dat, aes(x = life_expectancy, y = gdp_per_capita, \n                color = continent, size = population)) + geom_point(alpha = 0.4)\nggplot(dat, aes(x = life_expectancy, y = gdp_per_capita, size = population)) + \n  geom_point(alpha = 0.4)+\n  facet_wrap(~continent)\nggplot(dat, aes(x = life_expectancy, y = gdp_per_capita, size = population)) + \n  geom_point(shape = 21, alpha = 0.7, fill = \"lightskyblue\")+\n  facet_wrap(~continent)+\n  # thÃªm title\n  labs( title = \"Thu nháº­p bÃ¬nh quÃ¢n vÃ  tuá»•i thá» trung bÃ¬nh\",\n        subtitle = \"CÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i nÄƒm 2011\")+\n  xlab(\"Tuá»•i thá» trung bÃ¬nh (nÄƒm)\")+\n  ylab(\"Gdp bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i (USD)\")+\n  theme_minimal()# thÃªm ngá»¯ cáº£nh"},{"path":"index.html","id":"cáº¥u-trÃºc-nhiá»u-lá»›p-vÃ -ngá»¯-phÃ¡p-cá»§a-Ä‘á»“-thá»‹-ggplot2.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.3 Cáº¥u trÃºc nhiá»u lá»›p vÃ  ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹ \\(ggplot2\\).","text":"Cáº¥u trÃºc theo lá»›p (layer) cá»§a Ä‘á»“ thá»‹ \\(ggplot2\\) giÃºp cho ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u cÃ³ thá»ƒ xÃ¢y dá»±ng Ä‘á»“ thá»‹ cá»§a mÃ¬nh theo hÆ°á»›ng cÃ³ cáº¥u trÃºc. Äá»“ thá»‹ trong \\(ggplot2\\) tá»« Ä‘Æ¡n giáº£n Ä‘áº¿n phá»©c táº¡p Ä‘á»u Ä‘Æ°á»£c táº¡o thÃ nh tá»« má»™t hoáº·c nhiá»u lá»›p. Má»—i lá»›p trong Ä‘á»“ thá»‹ cÃ³ má»¥c tiÃªu hiá»ƒn thá»‹ khÃ¡c nhau:Má»¥c tiÃªu thá»© nháº¥t vÃ  cÅ©ng lÃ  má»¥c tiÃªu chÃ­nh, Ä‘Ã³ lÃ  Ä‘á»ƒ hiá»ƒn thá»‹ dá»¯ liá»‡u. LuÃ´n luÃ´n cÃ³ má»™t hoáº·c má»™t vÃ i lá»›p (chÃ­nh) vá»›i má»¥c tiÃªu mÃ´ táº£ dá»¯ liá»‡u thÃ´, mÃ´ táº£ cáº¥u trÃºc tá»•ng thá»ƒ vÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai cá»§a dá»¯ liá»‡u. Lá»›p nÃ y xuáº¥t hiá»‡n trÃªn táº¥t cáº£ cÃ¡c Ä‘á»“ thá»‹. Trong giai Ä‘oáº¡n Ä‘áº§u cá»§a quÃ¡ trÃ¬nh khai phÃ¡ dá»¯ liá»‡u báº±ng trá»±c quan hÃ³a, lá»›p nÃ y thÆ°á»ng xuáº¥t hiá»‡n duy nháº¥t. ÄÆ¡n giáº£n nhÆ° khi mÃ´ táº£ má»—i quan há»‡ giá»¯a gdp bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i vÃ  tuá»•i thá» trung bÃ¬nh cá»§a táº¥t cáº£ cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i, lá»›p Ä‘á»“ thá»‹ Ä‘Æ°á»£c hiá»ƒn thá»‹ báº±ng hÃ m geom_point() lÃ  lá»›p hiá»ƒn thá»‹ dá»¯ liá»‡u.Má»¥c tiÃªu thá»© nháº¥t vÃ  cÅ©ng lÃ  má»¥c tiÃªu chÃ­nh, Ä‘Ã³ lÃ  Ä‘á»ƒ hiá»ƒn thá»‹ dá»¯ liá»‡u. LuÃ´n luÃ´n cÃ³ má»™t hoáº·c má»™t vÃ i lá»›p (chÃ­nh) vá»›i má»¥c tiÃªu mÃ´ táº£ dá»¯ liá»‡u thÃ´, mÃ´ táº£ cáº¥u trÃºc tá»•ng thá»ƒ vÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai cá»§a dá»¯ liá»‡u. Lá»›p nÃ y xuáº¥t hiá»‡n trÃªn táº¥t cáº£ cÃ¡c Ä‘á»“ thá»‹. Trong giai Ä‘oáº¡n Ä‘áº§u cá»§a quÃ¡ trÃ¬nh khai phÃ¡ dá»¯ liá»‡u báº±ng trá»±c quan hÃ³a, lá»›p nÃ y thÆ°á»ng xuáº¥t hiá»‡n duy nháº¥t. ÄÆ¡n giáº£n nhÆ° khi mÃ´ táº£ má»—i quan há»‡ giá»¯a gdp bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i vÃ  tuá»•i thá» trung bÃ¬nh cá»§a táº¥t cáº£ cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i, lá»›p Ä‘á»“ thá»‹ Ä‘Æ°á»£c hiá»ƒn thá»‹ báº±ng hÃ m geom_point() lÃ  lá»›p hiá»ƒn thá»‹ dá»¯ liá»‡u.CÃ¡c lá»›p cÃ³ má»¥c tiÃªu tÃ³m táº¯t vÃ  mÃ´ táº£ Ã½ nghÄ©a thá»‘ng kÃª cá»§a dá»¯ liá»‡u. Báº±ng cÃ¡ch thÃªm vÃ o Ä‘á»“ thá»‹ cÃ¡c mÃ´ hÃ¬nh, hoáº·c hiá»ƒn thá»‹ cÃ¡c dá»± Ä‘oÃ¡n dá»±a trÃªn mÃ´ hÃ¬nh ngÆ°á»i tiáº¿p nháº­n dá»¯ liá»‡u, hoáº·c báº£n thÃ¢n ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u sáº½ nháº­n biáº¿t Ä‘Æ°á»£c nhá»¯ng giÃ¡ trá»‹ bÃªn trong dá»¯ liá»‡u, hoáº·c nhá»¯ng chi tiáº¿t mÃ  khi xÃ¢y dá»±ng mÃ´ hÃ¬nh cÃ³ thá»ƒ bá» sÃ³t.CÃ¡c lá»›p cÃ³ má»¥c tiÃªu tÃ³m táº¯t vÃ  mÃ´ táº£ Ã½ nghÄ©a thá»‘ng kÃª cá»§a dá»¯ liá»‡u. Báº±ng cÃ¡ch thÃªm vÃ o Ä‘á»“ thá»‹ cÃ¡c mÃ´ hÃ¬nh, hoáº·c hiá»ƒn thá»‹ cÃ¡c dá»± Ä‘oÃ¡n dá»±a trÃªn mÃ´ hÃ¬nh ngÆ°á»i tiáº¿p nháº­n dá»¯ liá»‡u, hoáº·c báº£n thÃ¢n ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u sáº½ nháº­n biáº¿t Ä‘Æ°á»£c nhá»¯ng giÃ¡ trá»‹ bÃªn trong dá»¯ liá»‡u, hoáº·c nhá»¯ng chi tiáº¿t mÃ  khi xÃ¢y dá»±ng mÃ´ hÃ¬nh cÃ³ thá»ƒ bá» sÃ³t.CÃ¡c lá»›p cÃ³ má»¥c tiÃªu thÃªm vÃ o ngá»¯ cáº£nh cá»§a dá»¯ liá»‡u. CÃ¡c lá»›p nÃ y hiá»ƒn thá»‹ bá»‘i cáº£nh ná»n, thÃªm vÃ o cÃ¡c chÃº thÃ­ch giÃºp mang láº¡i Ã½ nghÄ©a cho dá»¯ liá»‡u thÃ´ hoáº·c cÃ¡c giÃ¡ trá»‹ tham chiáº¿u nháº±m há»— trá»£ viá»‡c sÃ¡nh hoáº·c Ä‘Ã¡nh giÃ¡. ÄÃ¢y thÆ°á»ng lÃ  lá»›p cuá»‘i cÃ¹ng Ä‘Æ°á»£c thÃªm vÃ o trong Ä‘á»“ thá»‹.CÃ¡c lá»›p cÃ³ má»¥c tiÃªu thÃªm vÃ o ngá»¯ cáº£nh cá»§a dá»¯ liá»‡u. CÃ¡c lá»›p nÃ y hiá»ƒn thá»‹ bá»‘i cáº£nh ná»n, thÃªm vÃ o cÃ¡c chÃº thÃ­ch giÃºp mang láº¡i Ã½ nghÄ©a cho dá»¯ liá»‡u thÃ´ hoáº·c cÃ¡c giÃ¡ trá»‹ tham chiáº¿u nháº±m há»— trá»£ viá»‡c sÃ¡nh hoáº·c Ä‘Ã¡nh giÃ¡. ÄÃ¢y thÆ°á»ng lÃ  lá»›p cuá»‘i cÃ¹ng Ä‘Æ°á»£c thÃªm vÃ o trong Ä‘á»“ thá»‹.Lá»›p chÃ­nh cá»§a Ä‘á»“ thá»‹ cÃ³ thá»ƒ bao gá»“m báº£y thÃ nh pháº§n Ä‘á»™c láº­p giá»‘ng nhÆ° chÃºng ta Ä‘Ã£ giá»›i thiá»‡u á»Ÿ pháº§n Ä‘áº§u. Cáº¥u trÃºc cá»§a cÃ¡c lá»›p cÃ²n láº¡i cá»§a Ä‘á»“ thá»‹ \\(ggplot2\\) cÃ³ thá»ƒ bao gá»“m cÃ¡c thÃ nh pháº§n sauDá»¯ liá»‡u: náº¿u báº¡n khÃ´ng khai bÃ¡o dá»¯ liá»‡u trong má»—i lá»›p, \\(ggplot2\\) sáº½ sá»­ dá»¥ng dá»¯ liá»‡u ban Ä‘áº§u lÃ  giÃ¡ trá»‹ máº·c Ä‘á»‹nhDá»¯ liá»‡u: náº¿u báº¡n khÃ´ng khai bÃ¡o dá»¯ liá»‡u trong má»—i lá»›p, \\(ggplot2\\) sáº½ sá»­ dá»¥ng dá»¯ liá»‡u ban Ä‘áº§u lÃ  giÃ¡ trá»‹ máº·c Ä‘á»‹nhÃnh xáº¡ tháº©m má»¹: Ä‘Æ°á»£c khai bÃ¡o trong hÃ m aes() trong má»—i lá»›p, náº¿u khÃ´ng cÃ³ khai bÃ¡o \\(ggplot2\\) sáº½ tÃ¬m Ã¡nh xáº¡ tháº©m má»¹ trong hÃ m ggplot(). Trong trÆ°á»ng há»£p khÃ´ng tÃ¬m tháº¥y Ã¡nh xáº¡ tháº©m má»¹ nÃ o Ä‘Æ°á»£c khai bÃ¡o, \\(ggplot2\\) sá»­ dá»¥ng giÃ¡ trá»‹ máº·c Ä‘á»‹nh.Ãnh xáº¡ tháº©m má»¹: Ä‘Æ°á»£c khai bÃ¡o trong hÃ m aes() trong má»—i lá»›p, náº¿u khÃ´ng cÃ³ khai bÃ¡o \\(ggplot2\\) sáº½ tÃ¬m Ã¡nh xáº¡ tháº©m má»¹ trong hÃ m ggplot(). Trong trÆ°á»ng há»£p khÃ´ng tÃ¬m tháº¥y Ã¡nh xáº¡ tháº©m má»¹ nÃ o Ä‘Æ°á»£c khai bÃ¡o, \\(ggplot2\\) sá»­ dá»¥ng giÃ¡ trá»‹ máº·c Ä‘á»‹nh.Má»™t hÃ¬nh dáº¡ng Ä‘á»“ há»a: Ä‘Æ°á»£c gá»i tá»« cÃ¡c hÃ m geom_*()Má»™t hÃ¬nh dáº¡ng Ä‘á»“ há»a: Ä‘Æ°á»£c gá»i tá»« cÃ¡c hÃ m geom_*()Má»™t biáº¿n Ä‘á»•i thá»‘ng kÃª hoáº·c má»™t tÃ³m táº¯t cÆ¡ báº£n cá»§a dá»¯ liá»‡u Ä‘Æ°á»£c gá»i tá»« hÃ m \\(stat_*()\\)Má»™t biáº¿n Ä‘á»•i thá»‘ng kÃª hoáº·c má»™t tÃ³m táº¯t cÆ¡ báº£n cá»§a dá»¯ liá»‡u Ä‘Æ°á»£c gá»i tá»« hÃ m \\(stat_*()\\)Vá»‹ trÃ­ xuáº¥t hiá»‡n cá»§a lá»›p Ä‘Ã³. ChÃºng ta sáº½ tháº£o luáº­n váº¥n Ä‘á» nÃ y chi tiáº¿t trong pháº§n sau cá»§a chÆ°Æ¡ng.Vá»‹ trÃ­ xuáº¥t hiá»‡n cá»§a lá»›p Ä‘Ã³. ChÃºng ta sáº½ tháº£o luáº­n váº¥n Ä‘á» nÃ y chi tiáº¿t trong pháº§n sau cá»§a chÆ°Æ¡ng.Khi Ä‘á»“ thá»‹ chá»‰ cÃ³ má»™t lá»›p chÃ­nh vá»›i má»¥c tiÃªu hiá»ƒn thá»‹ dá»¯ liá»‡u thÃ´, báº¡n khÃ´ng cáº§n pháº£i hiá»ƒu vá» ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹. Báº¡n Ä‘á»c chá»‰ cáº§n khai bÃ¡o chÃ­nh xÃ¡c Ã¡nh xáº¡ tháº©m má»¹ trong hÃ m aes() Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c káº¿t quáº£ mong muá»‘n. Tuy nhiÃªn khi xÃ¢y dá»±ng Ä‘á»“ thá»‹ cÃ³ nhiá»u lá»›p, báº¡n Ä‘á»c cáº§n pháº£i náº¯m Ä‘Æ°á»£c ngá»¯ phÃ¡p Ä‘á»ƒ káº¿t há»£p cÃ¡c lá»›p láº¡i vá»›i nhau theo Ã½ muá»‘n cá»§a báº¡n.","code":""},{"path":"index.html","id":"Ã¡nh-xáº¡-tháº©m-má»¹-trong-Ä‘á»“-thá»‹-cÃ³-nhiá»u-lá»›p.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.3.1 Ãnh xáº¡ tháº©m má»¹ trong Ä‘á»“ thá»‹ cÃ³ nhiá»u lá»›p.","text":"HÃ£y quan sÃ¡t vÃ­ dá»¥ á»Ÿ dÆ°á»›i Ä‘Ã¢y, khi báº¡n muá»‘n thÃªm vÃ o má»™t Ä‘Æ°á»ng cong mÃ´ táº£ xu tháº¿ má»‘i quan há»‡ giá»¯a gdp bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i vÃ  tuá»•i thá» trung bÃ¬nh cá»§a cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i vÃ o nÄƒm 2011.Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y sá»± khÃ¡c nhau giá»¯a hai Ä‘á»“ thá»‹ lÃ  cÃ¡c Ä‘Æ°á»ng mÃ´ táº£ má»‘i quan há»‡ giá»¯a tuá»•i thá» bÃ¬nh quÃ¢n vÃ  gdp bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i Ä‘Æ°á»£c xÃ¢y dá»±ng theo tá»«ng lá»¥c Ä‘á»‹a (hÃ¬nh bÃªn trÃ¡i) vÃ  Ä‘Æ°á»£c xÃ¢y dá»±ng cho táº¥t cáº£ cÃ¡c quá»‘c gia (hÃ¬nh bÃªn pháº£i). Sá»± khÃ¡c biá»‡t lÃ  trong hÃ¬nh bÃªn pháº£i, thay vÃ¬ khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ tá»« biáº¿n \\(continent\\) tá»›i thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) trong hÃ m ggplot(), chÃºng tÃ´i Ä‘Ã£ khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ nÃ y trog hÃ m geom_point().Náº¿u nhÆ° hÃ m geom_point() lÃ  lá»›p chÃ­nh mÃ´ táº£ dá»¯ liá»‡u thÃ´ thÃ¬ hÃ m geom_smooth() lÃ  lá»›p phá»¥ Ä‘Æ°á»£c thÃªm vÃ o nháº±m tÄƒng kháº£ nÄƒng mÃ´ táº£ cá»§a dá»¯ liá»‡u. CÃ¡c Ã¡nh xáº¡ tháº©m má»¹ Ä‘Æ°á»£c khai bÃ¡o trong hÃ m ggplot() cÅ©ng giá»‘ng nhÆ° cÃ¡c biáº¿n toÃ n cá»¥c trong má»™t Ä‘á»“ thá»‹ cá»¥ thá»ƒ, trong khi cÃ¡c Ã¡nh xáº¡ tháº©m má»¹ Ä‘Æ°á»£c khai bÃ¡o trong cÃ¡c hÃ m geom_*() giá»‘ng nhÆ° khai bÃ¡o giÃ¡ trá»‹ cho cÃ¡c biáº¿n cá»¥c bá»™ trong mÃ´i trÆ°á»ng cá»§a hÃ m sá»‘ Ä‘Ã³. CÃ¡c biáº¿n cá»¥c bá»™ náº¿u khÃ´ng Ä‘Æ°á»£c khai bÃ¡o trong cÃ¡c hÃ m geom_*() sáº½ Ä‘Æ°á»£c tÃ¬m trÃªn mÃ´i trÆ°á»ng toÃ n cá»¥c cá»§a hÃ m ggplot(). Trong trÆ°á»ng há»£p trong cÃ¡c hÃ m geom_*() vÃ  ggplot() Ä‘á»u khÃ´ng Ä‘Æ°á»£c khai bÃ¡o giÃ¡ trá»‹, biáº¿n sáº½ nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh.HÃ£y quay trá»Ÿ láº¡i Ä‘oáº¡n cÃ¢u lá»‡nh á»Ÿ trÃªn. Trong hÃ¬nh bÃªn trÃ¡i, cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ \\(x\\), \\(y\\), vÃ  \\(color\\) Ä‘Æ°á»£c khai bÃ¡o trong hÃ m ggplot(); Ä‘á»“ng thá»i trong cÃ¡c hÃ m geom_point() vÃ  geom_smooth() khÃ´ng khai bÃ¡o cÃ¡c Ã¡nh xáº¡ tháº©m má»¹; Ä‘Ã³ cáº£ hai hÃ m nÃ y Ä‘á»u hiá»ƒu cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ \\(x\\), \\(y\\), vÃ  \\(color\\) giá»‘ng nhÆ° khai bÃ¡o ban Ä‘áº§u. Trong hÃ¬nh bÃªn pháº£i, hai thuá»™c tÃ­nh tháº©m má»¹ \\(x\\) vÃ  \\(y\\) Ä‘Æ°á»£c khai bÃ¡o trong hÃ m ggplot() trong khi thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) Ä‘Æ°á»£c khai bÃ¡o bÃªn trong hÃ m geom_point(). Ä‘Ã³, hÃ m geom_smooth() chá»‰ hiá»ƒu hai thuá»™c tÃ­nh tháº©m má»¹ \\(x\\) vÃ  \\(y\\) nhÆ° Ä‘Æ°á»£c khai bÃ¡o trong ggplot().HÃ m geom_smooth() khi thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh sáº½ xÃ¢y dá»±ng má»™t mÃ´ hÃ¬nh Ä‘Æ°á»£c gá»i lÃ  locally estimated scatterplot smoothing hay loess nháº±m mÃ´ táº£ má»—i quan há»‡ giá»¯a biáº¿n liÃªn tá»¥c \\(y\\) theo má»™t biáº¿n liÃªn tá»¥c \\(x\\). Náº¿u thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) Ä‘Æ°á»£c khai bÃ¡o giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng vá»›i má»™t biáº¿n rá»i ráº¡c, geom_smooth() sáº½ chia dá»¯ liá»‡u thÃ nh cÃ¡c nhÃ³m tÆ°Æ¡ng á»©ng vá»›i \\(color\\) trÆ°á»›c khi xÃ¢y dá»±ng mÃ´ hÃ¬nh mÃ  \\(y\\) phá»¥ thuá»™c vÃ o \\(x\\). Äiá»u nÃ y giáº£i thÃ­ch táº¡i sao trong hÃ¬nh bÃªn trÃ¡i cÃ³ 5 mÃ´ hÃ¬nh Ä‘Æ°á»£c xÃ¢y dá»±ng tÆ°Æ¡ng á»©ng vá»›i nÄƒm lá»¥c Ä‘á»‹a, trong khi trong hÃ¬nh bÃªn pháº£i chá»‰ cÃ³ má»™t mÃ´ hÃ¬nh duy nháº¥t Ä‘Æ°á»£c xÃ¢y dá»±ng cho táº¥t cáº£ cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i.Váº­y khi nÃ o báº¡n nÃªn khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ trong hÃ m ggplot() vÃ  khi nÃ o báº¡n nÃªn khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ bÃªn trong hÃ m geom_*()? CÃ¢u tráº£ lá»i lÃ  náº¿u Ä‘a sá»‘ cÃ¡c lá»›p báº¡n Ä‘á»c sá»­ dá»¥ng chung má»™t dá»¯ liá»‡u vÃ  chung cÃ¡c Ã¡nh xáº¡ tháº©m má»¹, báº¡n nÃªn khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ bÃªn trong hÃ m ggplot(). CÃ²n trong trÆ°á»ng há»£p Ä‘a sá»‘ cÃ¡c lá»›p sá»­ dá»¥ng sá»¯ liá»‡u khÃ¡c nhau, hoáº·c Ã¡nh xáº¡ tháº©m má»¹ khÃ¡c nhau, báº¡n hÃ£y khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ bÃªn trong má»—i hÃ m geom_*(). Trong trÆ°á»ng há»£p báº¡n dÃ¹ng má»™t hÃ m geom_()* vÃ  khÃ´ng muá»‘n sá»­ dá»¥ng Ã¡nh xáº¡ tháº©m má»¹ Ä‘Ã£ khai bÃ¡o trong ggplot(), báº¡n cÃ³ thá»ƒ khai bÃ¡o láº¡i hoáº·c khai bÃ¡o thuá»™c tÃ­nh tháº©m má»¹ Ä‘Ã³ báº±ng NULL.CÃ³ hai cÃ¡ch Ä‘á»ƒ báº¡n tÃ¡c Ä‘á»™ng Ä‘áº¿n cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ cá»§a Ä‘á»“ thá»‹ trong cÃ¡c hÃ m geom_*(), Ä‘Ã³ lÃ  dÃ¹ng Ã¡nh xáº¡ tháº©m má»¹ (mapping) vÃ  cÃ i Ä‘áº·t tham sá»‘ (setting). KhÃ¡c nhau giá»¯a hai cÃ¡ch nÃ y lÃ  viá»‡c báº¡n khai bÃ¡o giÃ¡ trá»‹ cá»§a thuá»™c tÃ­nh tháº©m má»¹ bÃªn trong hay bÃªn ngoÃ i hÃ m aes(). HÃ£y quan sÃ¡t Ä‘á»“ thá»‹ á»Ÿ trÃªn:HÃ¬nh bÃªn trÃ¡i cho Ä‘Æ°á»ng cong cá»§a mÃ´ hÃ¬nh \\(loess\\) cÃ³ mÃ u xanh da trá»i. Khi gá»i hÃ m geom_smooth(), chÃºng ta Ä‘Ã£ cho thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) vá» giÃ¡ trá»‹ máº·c Ä‘á»‹nh báº±ng cÃ¡ch Ã¡nh xáº¡ thuá»™c tÃ­nh nÃ y tá»›i giÃ¡ trá»‹ \\(NULL\\). MÃ u xanh da trá»i lÃ  mÃ u máº·c Ä‘á»‹nh cá»§a cÃ¡c Ä‘Æ°á»ng cong Ä‘Æ°á»£c táº¡o ra tá»« geom_smooth().HÃ¬nh bÃªn trÃ¡i cho Ä‘Æ°á»ng cong cá»§a mÃ´ hÃ¬nh \\(loess\\) cÃ³ mÃ u xanh da trá»i. Khi gá»i hÃ m geom_smooth(), chÃºng ta Ä‘Ã£ cho thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) vá» giÃ¡ trá»‹ máº·c Ä‘á»‹nh báº±ng cÃ¡ch Ã¡nh xáº¡ thuá»™c tÃ­nh nÃ y tá»›i giÃ¡ trá»‹ \\(NULL\\). MÃ u xanh da trá»i lÃ  mÃ u máº·c Ä‘á»‹nh cá»§a cÃ¡c Ä‘Æ°á»ng cong Ä‘Æ°á»£c táº¡o ra tá»« geom_smooth().HÃ¬nh á»Ÿ giá»¯a chÃºng ta cÃ i Ä‘áº·t (setting) cáº¥u pháº§n tháº©m má»¹ \\(color\\) báº±ng má»™t giÃ¡ trá»‹ cá»‘ Ä‘á»‹nh lÃ  â€œblackâ€ (mÃ u Ä‘en). Ä‘Ã³ Ä‘Æ°á»ng cong Ä‘Æ°á»£c táº¡o tá»« geom_smooth() sáº½ cÃ³ mÃ u Ä‘en giá»‘ng nhÆ° cÃ i Ä‘áº·t. Báº¡n Ä‘á»c chá»‰ cáº§n sá»­ dá»¥ng giÃ¡ trá»‹ mÃ u sáº¯c cÃ³ Ã½ nghÄ©a vá»›i R Ä‘á»ƒ cÃ i Ä‘áº·t cho thuá»™c tÃ­nh tháº©m má»¹ \\(color\\). Náº¿u trong má»™t hÃ m geom_*() vá»«a cÃ³ Ã¡nh xáº¡ tháº©m má»¹ Ä‘Æ°á»£c khai bÃ¡o trong hÃ m aes() vÃ  vá»«a cÃ³ cÃ i Ä‘áº·t thuá»™c tÃ­nh tháº©m má»¹ (ngoÃ i hÃ m aes()), \\(ggplot2\\) sáº½ Æ°u tiÃªn giÃ¡ trá»‹ náº±m ngoÃ i aes().HÃ¬nh á»Ÿ giá»¯a chÃºng ta cÃ i Ä‘áº·t (setting) cáº¥u pháº§n tháº©m má»¹ \\(color\\) báº±ng má»™t giÃ¡ trá»‹ cá»‘ Ä‘á»‹nh lÃ  â€œblackâ€ (mÃ u Ä‘en). Ä‘Ã³ Ä‘Æ°á»ng cong Ä‘Æ°á»£c táº¡o tá»« geom_smooth() sáº½ cÃ³ mÃ u Ä‘en giá»‘ng nhÆ° cÃ i Ä‘áº·t. Báº¡n Ä‘á»c chá»‰ cáº§n sá»­ dá»¥ng giÃ¡ trá»‹ mÃ u sáº¯c cÃ³ Ã½ nghÄ©a vá»›i R Ä‘á»ƒ cÃ i Ä‘áº·t cho thuá»™c tÃ­nh tháº©m má»¹ \\(color\\). Náº¿u trong má»™t hÃ m geom_*() vá»«a cÃ³ Ã¡nh xáº¡ tháº©m má»¹ Ä‘Æ°á»£c khai bÃ¡o trong hÃ m aes() vÃ  vá»«a cÃ³ cÃ i Ä‘áº·t thuá»™c tÃ­nh tháº©m má»¹ (ngoÃ i hÃ m aes()), \\(ggplot2\\) sáº½ Æ°u tiÃªn giÃ¡ trá»‹ náº±m ngoÃ i aes().HÃ¬nh bÃªn tay pháº£i phá»©c táº¡p hÆ¡n má»™t chÃºt. KhÃ¡c vá»›i hÃ¬nh á»Ÿ giá»¯a, thuá»™c tÃ­nh \\(color\\) Ä‘Æ°á»£c gÃ¡n cho giÃ¡ trá»‹ â€œblackâ€ bÃªn trong hÃ m aes(). Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng Ä‘Æ°á»ng cong Ä‘Æ°á»£c táº¡o tá»« hÃ m geom_smooth() khÃ´ng cÃ³ mÃ u Ä‘en nhÆ° hÃ¬nh á»Ÿ giá»¯a. Khi khai bÃ¡o thuá»™c tÃ­nh trong hÃ m aes(), chÃºng ta Ä‘Ã£ Ã¡nh xáº¡ thuá»™c tÃ­nh \\(color\\) cá»§a hÃ m geom_smooth() Ä‘áº¿n má»™t giÃ¡ trá»‹ kiá»ƒu kÃ½ tá»± lÃ  â€œblackâ€ chá»© khÃ´ng pháº£i cho mÃ u sáº¯c cá»§a Ä‘Æ°á»ng cong nháº­n giÃ¡ trá»‹ mÃ u tÆ°Æ¡ng á»©ng! Trong hÃ m geom_point() trÆ°á»›c Ä‘Ã³ Ä‘Ã£ Ã¡nh xáº¡ biáº¿n \\(continent\\) tá»›i thuá»™c tÃ­nh tháº©m má»¹ \\(color\\), khi chÃºng ta tiáº¿p tá»¥c Ã¡nh xáº¡ má»™t biáº¿n â€œblackâ€ tá»›i \\(color\\) trong geom_smooth() thÃ¬ \\(ggplot2\\) sáº½ hiá»ƒu ráº±ng cÃ³ thÃªm má»™t giÃ¡ trá»‹ má»›i cho thuá»™c tÃ­nh \\(color\\) (â€œblackâ€) thÃªm vÃ o cÃ¡c giÃ¡ trá»‹ hiá»‡n cÃ³ (tÃªn cá»§a 5 chÃ¢u lá»¥c). Äiá»u nÃ y giáº£i thÃ­ch táº¡i sao trong chÃº giáº£i (legend) cá»§a hÃ¬nh bÃªn tay pháº£i cÃ³ 6 loáº¡i thay vÃ¬ 5 loáº¡i nhÆ° hÃ¬nh á»Ÿ giá»¯a. ÄÆ°á»ng cong táº¡o bá»Ÿi geom_smooth() cÃ³ mÃ u xanh lÃ¡ cÃ¢y vÃ¬ giÃ¡ trá»‹ â€œblackâ€ cÃ³ thá»© háº¡ng lÃ  4 khi sáº¯p xáº¿p 6 giÃ¡ trá»‹ Ã¡nh xáº¡ tá»›i thuá»™c tÃ­nh \\(color\\) theo thá»© tá»± tÄƒng dáº§n.HÃ¬nh bÃªn tay pháº£i phá»©c táº¡p hÆ¡n má»™t chÃºt. KhÃ¡c vá»›i hÃ¬nh á»Ÿ giá»¯a, thuá»™c tÃ­nh \\(color\\) Ä‘Æ°á»£c gÃ¡n cho giÃ¡ trá»‹ â€œblackâ€ bÃªn trong hÃ m aes(). Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng Ä‘Æ°á»ng cong Ä‘Æ°á»£c táº¡o tá»« hÃ m geom_smooth() khÃ´ng cÃ³ mÃ u Ä‘en nhÆ° hÃ¬nh á»Ÿ giá»¯a. Khi khai bÃ¡o thuá»™c tÃ­nh trong hÃ m aes(), chÃºng ta Ä‘Ã£ Ã¡nh xáº¡ thuá»™c tÃ­nh \\(color\\) cá»§a hÃ m geom_smooth() Ä‘áº¿n má»™t giÃ¡ trá»‹ kiá»ƒu kÃ½ tá»± lÃ  â€œblackâ€ chá»© khÃ´ng pháº£i cho mÃ u sáº¯c cá»§a Ä‘Æ°á»ng cong nháº­n giÃ¡ trá»‹ mÃ u tÆ°Æ¡ng á»©ng! Trong hÃ m geom_point() trÆ°á»›c Ä‘Ã³ Ä‘Ã£ Ã¡nh xáº¡ biáº¿n \\(continent\\) tá»›i thuá»™c tÃ­nh tháº©m má»¹ \\(color\\), khi chÃºng ta tiáº¿p tá»¥c Ã¡nh xáº¡ má»™t biáº¿n â€œblackâ€ tá»›i \\(color\\) trong geom_smooth() thÃ¬ \\(ggplot2\\) sáº½ hiá»ƒu ráº±ng cÃ³ thÃªm má»™t giÃ¡ trá»‹ má»›i cho thuá»™c tÃ­nh \\(color\\) (â€œblackâ€) thÃªm vÃ o cÃ¡c giÃ¡ trá»‹ hiá»‡n cÃ³ (tÃªn cá»§a 5 chÃ¢u lá»¥c). Äiá»u nÃ y giáº£i thÃ­ch táº¡i sao trong chÃº giáº£i (legend) cá»§a hÃ¬nh bÃªn tay pháº£i cÃ³ 6 loáº¡i thay vÃ¬ 5 loáº¡i nhÆ° hÃ¬nh á»Ÿ giá»¯a. ÄÆ°á»ng cong táº¡o bá»Ÿi geom_smooth() cÃ³ mÃ u xanh lÃ¡ cÃ¢y vÃ¬ giÃ¡ trá»‹ â€œblackâ€ cÃ³ thá»© háº¡ng lÃ  4 khi sáº¯p xáº¿p 6 giÃ¡ trá»‹ Ã¡nh xáº¡ tá»›i thuá»™c tÃ­nh \\(color\\) theo thá»© tá»± tÄƒng dáº§n.Khi cÃ¢n nháº¯c sá»­ dá»¥ng Ã¡nh xáº¡ hay thiáº¿t láº­p giÃ¡ trá»‹ cho cÃ¡c thuá»™c tÃ­nh tháº©m má»¹, báº¡n Ä‘á»c nÃªn cÃ¢n nháº¯c vá» viá»‡c cÃ³ muá»‘n tÃ¡c Ä‘á»™ng lÃªn thuá»™c tÃ­nh tháº©m má»¹ ná»¯a hay khÃ´ng. Náº¿u báº¡n muá»‘n cá»‘ Ä‘á»‹nh giÃ¡ trá»‹ cho thuá»™c tÃ­nh tháº©m má»¹, hÃ£y sá»­ dá»¥ng thiáº¿t láº­p giÃ¡ trá»‹. CÃ²n náº¿u báº¡n muá»‘n tÃ¡c Ä‘á»™ng ngÆ°á»£c láº¡i lÃªn thuá»™c tÃ­nh tháº©m má»¹ Ä‘Ã³, hÃ£y sá»­ dá»¥ng Ã¡nh xáº¡ thay vÃ¬ thiáº¿t láº­p giÃ¡ trá»‹.HÃ£y nÃ³i má»™t chÃºt vá» cÃ¡ch chÃº giáº£i ghi nháº­n giÃ¡ trá»‹ má»›i cá»§a má»™t thuá»™c tÃ­nh tháº©m má»¹. Trong hÃ¬nh bÃªn pháº£i, khi chÃºng ta khai bÃ¡o giÃ¡ trá»‹ â€œblackâ€ cho thuá»™c tÃ­nh \\(color\\), \\(ggplot2\\) ghi nháº­n â€œblackâ€ nhÆ° má»™t giÃ¡ trá»‹ má»›i tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i tÃªn cÃ¡c ChÃ¢u lá»¥c Ä‘Ã£ sá»­ dá»¥ng trong khai bÃ¡o trÆ°á»›c Ä‘Ã³. CÃ¡ch ghi nháº­n tÃªn biáº¿n má»›i trong chÃº giáº£i sáº½ ráº¥t há»¯u Ã­ch khi chÃºng ta muá»‘n táº¡o má»™t Ä‘á»“ thá»‹ nhiá»u lá»›p vÃ  Ä‘áº·t tÃªn cho tá»«ng lá»›p trong pháº§n chÃº giáº£i cá»§a Ä‘á»“ thá»‹. Äá»“ thá»‹ dÆ°á»›i Ä‘Ã¢y sÃ¡nh ba phÆ°Æ¡ng phÃ¡p xÃ¢y dá»±ng mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u lÃ  phÆ°Æ¡ng phÃ¡p há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng (method = \"lm\"); há»“i quy loess (method = \"loess\"), vÃ  mÃ´ hÃ¬nh cá»™ng tÃ­nh tá»•ng quÃ¡t (method = \"gam\")","code":"\n## HÃ¬nh bÃªn trÃ¡i\np1<-dat%>%ggplot(aes(x = life_expectancy, y = gdp_per_capita, \n                color = continent)) + \n  geom_point(alpha = 0.4)+\n  geom_smooth(se=FALSE)\n\n## HÃ¬nh bÃªn pháº£i\np2<-dat%>%ggplot(aes(x = life_expectancy, y = gdp_per_capita))+\n  geom_point(aes(color = continent), alpha = 0.4) + \n  geom_smooth(se=FALSE)\n\n## Váº½ p1 vÃ  p2 trÃªn cÃ¹ng má»™t Ä‘á»“ thá»‹\ngrid.arrange(p1,p2,nrow= 1 , ncol = 2)\n## HÃ¬nh bÃªn trÃ¡i\np1<-dat%>%ggplot(aes(x = life_expectancy, y = gdp_per_capita, \n                color = continent)) + \n  geom_point(alpha = 0.4)+\n  geom_smooth(aes(color=NULL), se = FALSE)\n\n## HÃ¬nh á»Ÿ giá»¯a\np2<-dat%>%ggplot(aes(x = life_expectancy, y = gdp_per_capita, \n                color = continent)) + \n  geom_point(alpha = 0.4)+\n  geom_smooth(color=\"black\", se = FALSE)\n\n## HÃ¬nh bÃªn pháº£i \n\np3<-dat%>%ggplot(aes(x = life_expectancy, y = gdp_per_capita, \n                color = continent)) + \n  geom_point(alpha = 0.4)+\n  geom_smooth(aes(color=\"black\") , se = FALSE)\n\n## Váº½ p1, p2, p3 trÃªn cÃ¹ng má»™t Ä‘á»“ thá»‹\ngrid.arrange(p1,p2,p3, nrow= 1 , ncol = 3)\n# So sÃ¡nh ba phÆ°Æ¡ng phÃ¡p xÃ¢y dá»±ng mÃ´ hÃ¬nh khÃ¡c nhau cá»§a hÃ m geom_smooth\ndat%>%ggplot(aes(x = life_expectancy, y = gdp_per_capita)) +\n  #Layer 1: Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm\n  geom_point(alpha = 0.4)+\n  \n  # Layer 2: ÄÆ°á»ng há»“i quy tuyáº¿n tÃ­nh\n  geom_smooth(aes(color=\"Há»“i quy tuyáº¿n tÃ­nh\"), method = \"lm\" , se = FALSE)+\n  \n  # Layer 3: ÄÆ°á»ng há»“i quy loess\n  geom_smooth(aes(color=\"Há»“i quy loess\"), method = \"loess\" , se = FALSE)+\n  \n  # Layer 4: MÃ´ hÃ¬nh GAM (generalized additive model)\n  geom_smooth(aes(color=\"MÃ´ hÃ¬nh cá»™ng tÃ­nh tá»•ng quÃ¡t\"), method = \"gam\" , se = FALSE)"},{"path":"index.html","id":"cÃ¡c-hÃ m-geom_-cÆ¡-báº£n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.3.2 CÃ¡c hÃ m geom_*() cÆ¡ báº£n","text":"CÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a, gá»i táº¯t lÃ  cÃ¡c \\(geoms\\), lÃ  má»™t cÃ¡ch phá»• biáº¿n Ä‘á»ƒ hiá»ƒn thá»‹ má»™t lá»›p cá»§a má»™t Ä‘á»“ thá»‹ mÃ´ táº£ dá»¯ liá»‡. VÃ­ dá»¥ nhÆ° sá»­ dá»¥ng geom_point() sáº½ táº¡o ra má»™t Ä‘á»“ thá»‹ phÃ¢n tÃ¡n, trong khi sá»­ dá»¥ng geom_line() sáº½ táº¡o ra cÃ¡c Ä‘á»“ thá»‹ theo Ä‘Æ°á»ng. Danh sÃ¡ch cÃ¡c \\(geoms\\) vÃ  cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ báº¡n Ä‘á»c cÃ³ thá»ƒ tÃ¬m tháº¥y trong CHEAT SHEET á»Ÿ trÃªn. á» Ä‘Ã¢y chÃºng tÃ´i chá»‰ tá»•ng há»£p vÃ  phÃ¢n loáº¡i láº¡i cÃ¡c \\(geoms\\) má»™t cÃ¡ch ngáº¯n gá»n.Khi mÃ´ táº£ má»™t biáº¿n:\nMÃ´ táº£ biáº¿n rá»i ráº¡c:\ngeom_bar(): hiá»ƒn thá»‹ phÃ¢n phá»‘i cá»§a biáº¿n rá»i ráº¡c dÆ°á»›i dáº¡ng cÃ¡c thanh.\n\nMÃ´ táº£ má»™t biáº¿n liÃªn tá»¥c:\ngeom_histogram(): nhÃ³m dá»¯ liá»‡u liÃªn tá»¥c láº¡i vÃ o cÃ¡c nhÃ³m (bin) vÃ  hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng cÃ¡c thanh.\ngeom_density(): váº½ Ä‘Æ°á»ng mÃ´ táº£ hÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c. HÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng báº±ng phÆ°Æ¡ng phÃ¡p kernel. GiÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ táº¡i má»™t Ä‘iá»ƒm \\(x\\) báº¥t ká»³ Ä‘Æ°á»£c tÃ­nh báº±ng trung bÃ¬nh giÃ¡ trá»‹ hÃ m \\(K\\), Ä‘Æ°á»£c gá»i lÃ  hÃ m \\(kernel\\), tÃ­nh trÃªn khoáº£ng cÃ¡ch tá»« Ä‘iá»ƒm \\(x\\) tá»›i táº¥t cáº£ cÃ¡c quan sÃ¡t. Náº¿u \\(\\hat{f}(x)\\) lÃ  giÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ tÃ­nh táº¡i \\(x\\) báº±ng phÆ°Æ¡ng phÃ¡p kernel thÃ¬ ta cÃ³\n\nMÃ´ táº£ biáº¿n rá»i ráº¡c:\ngeom_bar(): hiá»ƒn thá»‹ phÃ¢n phá»‘i cá»§a biáº¿n rá»i ráº¡c dÆ°á»›i dáº¡ng cÃ¡c thanh.\ngeom_bar(): hiá»ƒn thá»‹ phÃ¢n phá»‘i cá»§a biáº¿n rá»i ráº¡c dÆ°á»›i dáº¡ng cÃ¡c thanh.MÃ´ táº£ má»™t biáº¿n liÃªn tá»¥c:\ngeom_histogram(): nhÃ³m dá»¯ liá»‡u liÃªn tá»¥c láº¡i vÃ o cÃ¡c nhÃ³m (bin) vÃ  hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng cÃ¡c thanh.\ngeom_density(): váº½ Ä‘Æ°á»ng mÃ´ táº£ hÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c. HÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng báº±ng phÆ°Æ¡ng phÃ¡p kernel. GiÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ táº¡i má»™t Ä‘iá»ƒm \\(x\\) báº¥t ká»³ Ä‘Æ°á»£c tÃ­nh báº±ng trung bÃ¬nh giÃ¡ trá»‹ hÃ m \\(K\\), Ä‘Æ°á»£c gá»i lÃ  hÃ m \\(kernel\\), tÃ­nh trÃªn khoáº£ng cÃ¡ch tá»« Ä‘iá»ƒm \\(x\\) tá»›i táº¥t cáº£ cÃ¡c quan sÃ¡t. Náº¿u \\(\\hat{f}(x)\\) lÃ  giÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ tÃ­nh táº¡i \\(x\\) báº±ng phÆ°Æ¡ng phÃ¡p kernel thÃ¬ ta cÃ³\ngeom_histogram(): nhÃ³m dá»¯ liá»‡u liÃªn tá»¥c láº¡i vÃ o cÃ¡c nhÃ³m (bin) vÃ  hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng cÃ¡c thanh.geom_density(): váº½ Ä‘Æ°á»ng mÃ´ táº£ hÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c. HÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng báº±ng phÆ°Æ¡ng phÃ¡p kernel. GiÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ táº¡i má»™t Ä‘iá»ƒm \\(x\\) báº¥t ká»³ Ä‘Æ°á»£c tÃ­nh báº±ng trung bÃ¬nh giÃ¡ trá»‹ hÃ m \\(K\\), Ä‘Æ°á»£c gá»i lÃ  hÃ m \\(kernel\\), tÃ­nh trÃªn khoáº£ng cÃ¡ch tá»« Ä‘iá»ƒm \\(x\\) tá»›i táº¥t cáº£ cÃ¡c quan sÃ¡t. Náº¿u \\(\\hat{f}(x)\\) lÃ  giÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ tÃ­nh táº¡i \\(x\\) báº±ng phÆ°Æ¡ng phÃ¡p kernel thÃ¬ ta cÃ³\\[\\begin{align}\n\\hat{f}(x) = \\cfrac{1}{nh} \\times \\sum\\limits_{= 1}^{n} \\ K\\left( \\cfrac{x - x_i}{h} \\right)\n\\end{align}\\]\ntrong Ä‘Ã³ \\(x_i\\) lÃ  giÃ¡ trá»‹ quan sÃ¡t thá»© \\(\\) vÃ  \\(h\\) lÃ  Ä‘Æ°á»£c gá»i lÃ  tham sá»‘ lÃ m má»‹n. \\(h\\) cÃ ng lá»›n thÃ¬ hÃ m \\(\\hat{f}\\) sáº½ cÃ ng má»‹n. HÃ m \\(K\\) Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m hÃ m kernel máº·c Ä‘á»‹nh cho geom_density() lÃ  hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n.geom_boxplot(): váº½ Ä‘á»“ thá»‹ boxplot cá»§a má»™t biáº¿n liÃªn tá»¥c.Khi mÃ´ táº£ hai biáº¿n:\nCáº£ hai biáº¿n Ä‘á»u lÃ  liÃªn tá»¥c:\ngeom_point(): Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm lÃ  cÃ¡ch hiá»‡u quáº£ nháº¥t Ä‘á»ƒ mÃ´ táº£ hai biáº¿n liÃªn tá»¥c. Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¹ng vá»›i geom_smooth() Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ giá»¯a hai biáº¿n. Trong trÆ°á»ng há»£p biáº¿n liÃªn tá»¥c nhÆ°ng cÃ¡c Ä‘iá»ƒm bá»‹ trÃ¹ng nhau khi hiá»ƒn thá»‹, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng geom_jitter() thay tháº¿ cho geom_point() Ä‘á»ƒ hiá»‡n thá»‹ tá»‘t hÆ¡n. geom_jitter() sáº½ di chuyá»ƒn cÃ¡c Ä‘iá»ƒm má»™t cÃ¡ch ngáº«u nhiÃªn xung quanh Ä‘iá»ƒm ban Ä‘áº§u Ä‘á»ƒ trÃ¡nh viá»‡c hiá»ƒn thá»‹ Ä‘iá»ƒm bá»‹ trÃ¹ng nhau.\ngeom_line(): thÆ°á»ng Ä‘á»ƒ mÃ´ táº£ hai biáº¿n liÃªn tá»¥c mÃ  má»™t trong hai biáº¿n lÃ  kiá»ƒu thá»i gian.\ngeom_text(): tÆ°Æ¡ng tá»± geom_point() nhÆ°ng hiá»ƒn thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± thay vÃ¬ hiá»ƒn thá»‹ Ä‘iá»ƒm. geom_text() thÆ°á»ng sá»­ dá»¥ng káº¿t há»£p vá»›i geom_point(). LÆ°u Ã½ Ä‘á»ƒ khi hiá»ƒn thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± vÃ  Ä‘iá»ƒm khÃ´ng bá»‹ trÃ¹ng nhau lÃ  báº¡n Ä‘á»c cáº§n pháº£i sá»­ dá»¥ng thÃªm cÃ¡c tham sá»‘ nhÆ° \\(hjust\\), \\(vjust\\) Ä‘á»ƒ Ä‘iá»u chá»‰nh trong hÃ m geom_text(). Trong nhiá»u trÆ°á»ng há»£p, Ä‘á»ƒ hiá»‡n thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± tá»‘t hÆ¡n, chÃºng tÃ´i sá»­ dá»¥ng hÃ m geom_text_repel() tá»« thÆ° viá»‡n bá»• sung \\(ggrepel\\).\ngeom_label(): tÆ°Æ¡ng tá»± geom_text(). HÃ m cÃ³ thá»ƒ hiá»‡n thá»‹ tá»‘t hÆ¡n trong thÆ° viá»‡n \\(ggrepel\\) lÃ  hÃ m geom_label_repel(). Báº¡n Ä‘á»c quan sÃ¡t vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ tháº¥y cÃ¡c hÃ m geom_text_repel() vÃ  geom_label_repel() cho káº¿t quáº£ tá»‘t hÆ¡n geom_text() vÃ  geom_label()\n\nCáº£ hai biáº¿n Ä‘á»u lÃ  liÃªn tá»¥c:\ngeom_point(): Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm lÃ  cÃ¡ch hiá»‡u quáº£ nháº¥t Ä‘á»ƒ mÃ´ táº£ hai biáº¿n liÃªn tá»¥c. Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¹ng vá»›i geom_smooth() Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ giá»¯a hai biáº¿n. Trong trÆ°á»ng há»£p biáº¿n liÃªn tá»¥c nhÆ°ng cÃ¡c Ä‘iá»ƒm bá»‹ trÃ¹ng nhau khi hiá»ƒn thá»‹, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng geom_jitter() thay tháº¿ cho geom_point() Ä‘á»ƒ hiá»‡n thá»‹ tá»‘t hÆ¡n. geom_jitter() sáº½ di chuyá»ƒn cÃ¡c Ä‘iá»ƒm má»™t cÃ¡ch ngáº«u nhiÃªn xung quanh Ä‘iá»ƒm ban Ä‘áº§u Ä‘á»ƒ trÃ¡nh viá»‡c hiá»ƒn thá»‹ Ä‘iá»ƒm bá»‹ trÃ¹ng nhau.\ngeom_line(): thÆ°á»ng Ä‘á»ƒ mÃ´ táº£ hai biáº¿n liÃªn tá»¥c mÃ  má»™t trong hai biáº¿n lÃ  kiá»ƒu thá»i gian.\ngeom_text(): tÆ°Æ¡ng tá»± geom_point() nhÆ°ng hiá»ƒn thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± thay vÃ¬ hiá»ƒn thá»‹ Ä‘iá»ƒm. geom_text() thÆ°á»ng sá»­ dá»¥ng káº¿t há»£p vá»›i geom_point(). LÆ°u Ã½ Ä‘á»ƒ khi hiá»ƒn thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± vÃ  Ä‘iá»ƒm khÃ´ng bá»‹ trÃ¹ng nhau lÃ  báº¡n Ä‘á»c cáº§n pháº£i sá»­ dá»¥ng thÃªm cÃ¡c tham sá»‘ nhÆ° \\(hjust\\), \\(vjust\\) Ä‘á»ƒ Ä‘iá»u chá»‰nh trong hÃ m geom_text(). Trong nhiá»u trÆ°á»ng há»£p, Ä‘á»ƒ hiá»‡n thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± tá»‘t hÆ¡n, chÃºng tÃ´i sá»­ dá»¥ng hÃ m geom_text_repel() tá»« thÆ° viá»‡n bá»• sung \\(ggrepel\\).\ngeom_label(): tÆ°Æ¡ng tá»± geom_text(). HÃ m cÃ³ thá»ƒ hiá»‡n thá»‹ tá»‘t hÆ¡n trong thÆ° viá»‡n \\(ggrepel\\) lÃ  hÃ m geom_label_repel(). Báº¡n Ä‘á»c quan sÃ¡t vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ tháº¥y cÃ¡c hÃ m geom_text_repel() vÃ  geom_label_repel() cho káº¿t quáº£ tá»‘t hÆ¡n geom_text() vÃ  geom_label()\ngeom_point(): Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm lÃ  cÃ¡ch hiá»‡u quáº£ nháº¥t Ä‘á»ƒ mÃ´ táº£ hai biáº¿n liÃªn tá»¥c. Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¹ng vá»›i geom_smooth() Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ giá»¯a hai biáº¿n. Trong trÆ°á»ng há»£p biáº¿n liÃªn tá»¥c nhÆ°ng cÃ¡c Ä‘iá»ƒm bá»‹ trÃ¹ng nhau khi hiá»ƒn thá»‹, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng geom_jitter() thay tháº¿ cho geom_point() Ä‘á»ƒ hiá»‡n thá»‹ tá»‘t hÆ¡n. geom_jitter() sáº½ di chuyá»ƒn cÃ¡c Ä‘iá»ƒm má»™t cÃ¡ch ngáº«u nhiÃªn xung quanh Ä‘iá»ƒm ban Ä‘áº§u Ä‘á»ƒ trÃ¡nh viá»‡c hiá»ƒn thá»‹ Ä‘iá»ƒm bá»‹ trÃ¹ng nhau.geom_line(): thÆ°á»ng Ä‘á»ƒ mÃ´ táº£ hai biáº¿n liÃªn tá»¥c mÃ  má»™t trong hai biáº¿n lÃ  kiá»ƒu thá»i gian.geom_text(): tÆ°Æ¡ng tá»± geom_point() nhÆ°ng hiá»ƒn thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± thay vÃ¬ hiá»ƒn thá»‹ Ä‘iá»ƒm. geom_text() thÆ°á»ng sá»­ dá»¥ng káº¿t há»£p vá»›i geom_point(). LÆ°u Ã½ Ä‘á»ƒ khi hiá»ƒn thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± vÃ  Ä‘iá»ƒm khÃ´ng bá»‹ trÃ¹ng nhau lÃ  báº¡n Ä‘á»c cáº§n pháº£i sá»­ dá»¥ng thÃªm cÃ¡c tham sá»‘ nhÆ° \\(hjust\\), \\(vjust\\) Ä‘á»ƒ Ä‘iá»u chá»‰nh trong hÃ m geom_text(). Trong nhiá»u trÆ°á»ng há»£p, Ä‘á»ƒ hiá»‡n thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± tá»‘t hÆ¡n, chÃºng tÃ´i sá»­ dá»¥ng hÃ m geom_text_repel() tá»« thÆ° viá»‡n bá»• sung \\(ggrepel\\).geom_label(): tÆ°Æ¡ng tá»± geom_text(). HÃ m cÃ³ thá»ƒ hiá»‡n thá»‹ tá»‘t hÆ¡n trong thÆ° viá»‡n \\(ggrepel\\) lÃ  hÃ m geom_label_repel(). Báº¡n Ä‘á»c quan sÃ¡t vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ tháº¥y cÃ¡c hÃ m geom_text_repel() vÃ  geom_label_repel() cho káº¿t quáº£ tá»‘t hÆ¡n geom_text() vÃ  geom_label()-geom_bin2d() vÃ  geom_density2d() tÆ°Æ¡ng tá»± nhÆ° geom_histogram() vÃ  geom_density() dÃ¹ng Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a hai biáº¿n liÃªn tá»¥c. Khi sá»‘ lÆ°á»£ng quan sÃ¡t cáº§n hiá»ƒn thá»‹ lá»›n thÃ¬ sá»­ dá»¥ng Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm sáº½ khÃ´ng hiá»‡u quáº£. geom_bin2d() chia miá»n giÃ¡ trá»‹ cá»§a tá»«ng biáº¿n thÃ nh cÃ¡c khoáº£ng báº±ng nhau vÃ  Ä‘áº¿m trong má»—i hÃ¬nh chá»¯ nháº­t cÃ³ bao nhiÃªu Ä‘iá»ƒm sau Ä‘Ã³ sá»­ dá»¥ng mÃ u sáº¯c tá»« Ä‘áº­m Ä‘áº¿n nháº¡t Ä‘á»ƒ mÃ´ táº£ sá»‘ lÆ°á»£ng Ä‘iá»ƒm trong tá»«ng hÃ¬nh chá»¯ nháº­t tá»« nhá» Ä‘áº¿n lá»›n. geom_density2d() sá»­ dá»¥ng phÆ°Æ¡ng phÃ¡p kernel Ä‘á»ƒ tÃ­nh giÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ trong khÃ´ng gian hai chiá»u. Khoáº£ng cÃ¡ch tá»« quan sÃ¡t \\(x_i\\) Ä‘áº¿n Ä‘iá»ƒm \\(x\\) Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  khoáº£ng cÃ¡ch Euclid. Kernel Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n hai chiá»u. geom_density2d() váº½ cÃ¡c Ä‘Æ°á»ng ná»—i cÃ¡c Ä‘iá»ƒm cÃ³ giÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ báº±ng nhau. HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ phÃ¢n phá»‘i Ä‘á»“ng cá»§a hai biáº¿n \\(favorite\\_count\\) vÃ  \\(retweet\\_count\\) trong dá»¯ liá»‡u \\(trump\\_tweet\\).Má»™t biáº¿n liÃªn tá»¥c vÃ  má»™t biáº¿n rá»i ráº¡c\ngeom_boxplot() váº½ Ä‘á»“ thá»‹ boxplot cá»§a má»™t biáº¿n liÃªn tá»¥c theo cÃ¡c nhÃ³m Ä‘Æ°á»£c phÃ¢n loáº¡i theo biáº¿n rá»i ráº¡c.\ngeom_violin() tÆ°Æ¡ng tá»± geom_boxplot() vÃ  sá»­ dá»¥ng cÃ¹ng vá»›i geom_boxplot() Ä‘á»ƒ bá»• sung thÃ´ng tin khi mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n liÃªn tá»¥c trong tá»«ng nhÃ³m. ChÃºng ta cÃ³ thá»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n \\(life_expectancy\\) trong cÃ¡c nÄƒm 1990, 2000, vÃ  2010 trong dá»¯ liá»‡u \\(gapminder\\) nhÆ° sau\ngeom_boxplot() váº½ Ä‘á»“ thá»‹ boxplot cá»§a má»™t biáº¿n liÃªn tá»¥c theo cÃ¡c nhÃ³m Ä‘Æ°á»£c phÃ¢n loáº¡i theo biáº¿n rá»i ráº¡c.geom_violin() tÆ°Æ¡ng tá»± geom_boxplot() vÃ  sá»­ dá»¥ng cÃ¹ng vá»›i geom_boxplot() Ä‘á»ƒ bá»• sung thÃ´ng tin khi mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n liÃªn tá»¥c trong tá»«ng nhÃ³m. ChÃºng ta cÃ³ thá»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n \\(life_expectancy\\) trong cÃ¡c nÄƒm 1990, 2000, vÃ  2010 trong dá»¯ liá»‡u \\(gapminder\\) nhÆ° sauMÃ´ táº£ hai biáº¿n rá»i ráº¡c:\ngeom_count() Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ hai biáº¿n rá»i ráº¡c. geom_count() táº¡o ra Ä‘á»“ thá»‹ thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  Ä‘á»“ thá»‹ kiá»ƒu bong bÃ³ng, mÃ  kÃ­ch thÆ°á»›c cá»§a má»—i bong bÃ³ng cho biáº¿t sá»‘ lÆ°á»£ng hay máº­t Ä‘á»™ cá»§a cÃ¡c Ä‘iá»ƒm rá»i ráº¡c. VÃ­ dá»¥ nhÆ° khi mÃ´ táº£ hai biáº¿n lÃ  \\(cut\\) vÃ  \\(color\\) trong dá»¯ liá»‡u \\(diamonds\\), chÃºng ta sá»­ dá»¥ng geom_count() nhÆ° sau\ngeom_count() Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ hai biáº¿n rá»i ráº¡c. geom_count() táº¡o ra Ä‘á»“ thá»‹ thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  Ä‘á»“ thá»‹ kiá»ƒu bong bÃ³ng, mÃ  kÃ­ch thÆ°á»›c cá»§a má»—i bong bÃ³ng cho biáº¿t sá»‘ lÆ°á»£ng hay máº­t Ä‘á»™ cá»§a cÃ¡c Ä‘iá»ƒm rá»i ráº¡c. VÃ­ dá»¥ nhÆ° khi mÃ´ táº£ hai biáº¿n lÃ  \\(cut\\) vÃ  \\(color\\) trong dá»¯ liá»‡u \\(diamonds\\), chÃºng ta sá»­ dá»¥ng geom_count() nhÆ° sauKhÃ´ng khÃ³ Ä‘á»ƒ nháº­n ra tá»· trá»ng lá»›n cÃ¡c viÃªn kim cÆ°Æ¡ng cÃ³ biáº¿n \\(cut\\) nháº­n giÃ¡ trá»‹ \\(ideal\\), vÃ  trong cÃ¡c viÃªn kim cÆ°Æ¡ng Ä‘Ã³ mÃ u \\(G\\) cÃ³ tá»· trá»ng lá»›n nháº¥t.MÃ´ táº£ ba biáº¿n: Sá»­ dá»¥ng cÃ¡c hÃ¬nh áº£nh kiá»ƒu 3 chiá»u khÃ´ng pháº£i lÃ  má»™t phÆ°Æ¡ng phÃ¡p tá»‘t Ä‘á»ƒ hiá»ƒn thá»‹ ba biáº¿n trÃªn cÃ¹ng má»™t Ä‘á»“ thá»‹. \\(ggplot2\\) thÆ°á»ng hiá»ƒn thá»‹ dá»¯ liá»‡u trÃªn má»™t máº·t pháº³ng vÃ  sá»­ dá»¥ng má»™t thuá»™c tÃ­nh tháº©m má»¹ nÃ o Ä‘Ã³ lÃ m chiá»u thá»© ba. geom_title() thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ ba biáº¿n\ncÃ¹ng má»™t lÃºc báº±ng cÃ¡ch sá»­ dá»¥ng trá»¥c \\(x\\) vÃ  \\(y\\) Ä‘á» mÃ´ táº£ hai biáº¿n vÃ  mÃ u sáº¯c Ä‘á»ƒ mÃ´ táº£ biáº¿n thá»© ba. HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y sá»­ dá»¥ng geom_tile() Ä‘á»ƒ mÃ´ táº£ ba biáº¿n \\(region\\), \\(year\\), vÃ  \\(life\\_expectancy\\). \\(life\\_expectancy\\) Ä‘Æ°á»£c tÃ­nh theo trung bÃ¬nh cá»§a vÃ¹ng qua cÃ¡c nÄƒm.Trong Ä‘á»“ thá»‹ á»Ÿ trÃªn chÃºng tÃ´i Ä‘Ã£ sá»­ dá»¥ng thÃªm cÃ¡c hÃ m scale_*() Ä‘á»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹. Cháº³ng háº¡n giÃ¡ trá»‹ nÄƒm (trá»¥c x) sáº½ lÃ  cÃ¡ch Ä‘á»u 5 nÄƒm, cÃ¡c vÃ¹ng trÃªn trá»¥c \\(y\\) Ä‘Æ°á»£c sáº¯p xáº¿p theo lá»¥c Ä‘á»‹a (ChÃ¢u Äáº¡i DÆ°Æ¡ng, ChÃ¢u Ã‚u, ChÃ¢u Ã, ChÃ¢u Má»¹, vÃ  cuá»‘i cÃ¹ng lÃ  ChÃ¢u Phi). Dáº£i mÃ u sáº¯c cÅ©ng Ä‘Æ°á»£c cho giÃ¡ trá»‹ dáº£i mÃ u tá»« Ä‘á» sang xanh da trá»i. ChÃºng ta sáº½ tháº£o luáº­n vá» scale_*() trong pháº§n sau cá»§a chÆ°Æ¡ng sÃ¡ch.","code":"\np1<-gapminder%>%filter(year==2011)%>%ggplot(aes(fertility))+\n  geom_histogram()\np2<-gapminder%>%filter(year==2011)%>%ggplot(aes(fertility))+\n  geom_density()\np3<-gapminder%>%filter(year==2011)%>%ggplot(aes(y=fertility))+\n  geom_boxplot()\ngrid.arrange(p1,p2,p3,nrow=1,ncol=3)\np1<-gapminder%>%filter(year==2011, region==\"South-Eastern Asia\")%>%\n  ggplot(aes(fertility, infant_mortality))+\n  geom_point()+geom_text(aes(label = country), vjust=1.1)+\n  ggtitle(\"Sá»­ dá»¥ng geom_text()\")\np2<-gapminder%>%filter(year==2011, region==\"South-Eastern Asia\")%>%\n  ggplot(aes(fertility, infant_mortality))+\n  geom_point()+geom_label(aes(label = country), vjust=0.9)+\n  ggtitle(\"Sá»­ dá»¥ng geom_label()\")\ngrid.arrange(p1,p2,nrow=1,ncol=2)\np1<-gapminder%>%filter(year==2011, region==\"South-Eastern Asia\")%>%\n  ggplot(aes(fertility, infant_mortality))+\n  geom_point()+geom_text_repel(aes(label = country), vjust=1.1)+\n  ggtitle(\"Sá»­ dá»¥ng geom_text_repel()\")\np2<-gapminder%>%filter(year==2011, region==\"South-Eastern Asia\")%>%\n  ggplot(aes(fertility, infant_mortality))+\n  geom_point()+geom_label_repel(aes(label = country), vjust=0.9)+\n  ggtitle(\"Sá»­ dá»¥ng geom_label_repel()\")\ngrid.arrange(p1,p2,nrow=1,ncol=2)\n# geom_bind2d\np1<-trump_tweets%>%mutate(log_favorite_count = log(favorite_count), \n                          log_retweet_count = log(retweet_count)) %>%\n  ggplot(aes(log_favorite_count,log_retweet_count))+geom_bin2d()+theme_minimal()\n\n# geom_density2d\np2<-trump_tweets%>%mutate(log_favorite_count = log(favorite_count), \n                          log_retweet_count = log(retweet_count)) %>%\n  ggplot(aes(log_favorite_count,log_retweet_count))+geom_density2d()+theme_minimal()\n\ngrid.arrange(p1,p2,nrow=1, ncol = 2)\np1<- gapminder%>%filter(year %in% c(1990,2000,2010))%>%ggplot(aes(x = as.factor(year),y = life_expectancy))+geom_boxplot()\n\np2<-gapminder%>%filter(year %in% c(1990,2000,2010))%>%ggplot(aes(x = as.factor(year),y = life_expectancy))+geom_violin()\n\ngrid.arrange(p1,p2,nrow=1, ncol = 2)\ndiamonds%>%ggplot(aes(cut,color))+geom_count(color=\"lightskyblue\")+theme_minimal()\ndanhsach<-gapminder%>%filter(year==2010)%>%\n  group_by(region)%>%summarise(continent = unique(continent))%>%\n  arrange(continent)\ngapminder%>%group_by(year,continent, region)%>%summarise(life_expectancy = mean(life_expectancy,na.rm = TRUE))%>%\n  ggplot()+geom_tile(aes(x = year, y = region , fill = life_expectancy), color= \"grey\")+\n  scale_fill_gradientn(colours = c(rgb(0.8,0.3,0.3),rgb(0.9,0.9,0.9),rgb(0.3,0.3,0.9)))+\n  scale_x_continuous(breaks = seq(1960,2010,5))+\n  scale_y_discrete(limits = danhsach$region)+\n  theme_minimal()"},{"path":"index.html","id":"cÃ¡c-hÃ m-stat_","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.3.3 CÃ¡c hÃ m stat_*()","text":"Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ xÃ¢y dá»±ng cÃ¡c lá»›p cho Ä‘á»“ thá»‹ \\(ggplot2\\) báº±ng cÃ¡c hÃ m stat_*(). CÃ¡c hÃ m sá»‘ nÃ y thÆ°á»ng khÃ´ng hiá»ƒn thá»‹ dá»¯ liá»‡u á»Ÿ tráº¡ng thÃ¡i ban Ä‘áº§u mÃ  thÆ°á»ng hiá»ƒn thá»‹ dá»¯ liá»‡u dÆ°á»›i má»™t phÃ©p biáº¿n Ä‘á»•i thá»‘ng kÃª hoáº·c má»™t sau má»™t tÃ³m táº¯t dá»¯ liá»‡u theo má»™t cÃ¡ch nÃ o Ä‘Ã³. Nhiá»u hÃ m stat_*() Ä‘Æ°á»£c gá»i thÃ´ng qua cÃ¡c hÃ m geom_*(), cháº³ng háº¡n nhÆ° stat_bin() tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i geom_histogram() vÃ  geom_bar(); stat_smooth() tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i geom_smooth(); â€¦ Sá»± tÆ°Æ¡ng Ä‘á»“ng hay khÃ¡c biá»‡t giá»¯a sá»­ dá»¥ng hÃ m stat_*() vÃ  hÃ m geom_*() sáº½ Ä‘Æ°á»£c tháº£o luáº­n á»Ÿ pháº§n cuá»‘i cá»§a chÆ°Æ¡ng sÃ¡ch.Thay vÃ¬ sá»­ dá»¥ng geom_*(), chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng stat_*() Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a cÃ¡c biáº¿n liÃªn tá»¥c","code":"\n# Äá»’ thá»‹ histogram\np1<-gapminder%>%filter(year==2011)%>%ggplot(aes(fertility))+\n  stat_bin()+ggtitle(\"Äá»“ thá»‹ histogram cá»§a fertility\") \n# hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t\np2<-gapminder%>%filter(year==2011)%>%ggplot(aes(fertility))+\n  stat_density()+ggtitle(\"HÃ m máº­t Ä‘á»™\") \np3<-gapminder%>%filter(year==2011)%>%ggplot(aes(fertility))+\n  stat_boxplot()+ggtitle(\"Äá»“ thá»‹ boxplot\") \ngrid.arrange(p1,p2,p3,nrow=1,ncol=3)"},{"path":"index.html","id":"scale","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.4 Scale","text":"\\(Scale\\) trong ggplot2 kiá»ƒm soÃ¡t Ã¡nh xáº¡ tá»« dá»¯ liá»‡u Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹ cá»§a Ä‘á»“ thá»‹. CÃ¡c hÃ m scale_*() láº¥y dá»¯ liá»‡u ban Ä‘áº§u vÃ  biáº¿n Ä‘á»•i thÃ nh cÃ¡c Ä‘á»‘i tÆ°á»£ng trá»±c quan mÃ  báº¡n cÃ³ thá»ƒ nhÃ¬n tháº¥y, nhÆ° kÃ­ch thÆ°á»›c, mÃ u sáº¯c, vá»‹ trÃ­ hoáº·c hÃ¬nh dáº¡ng. Báº¡n cÃ³ thá»ƒ táº¡o biá»ƒu Ä‘á»“ báº±ng \\(ggplot2\\) mÃ  khÃ´ng cáº§n biáº¿t chÃ­nh xÃ¡c Ã¡nh xáº¡ hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o, nhÆ°ng hiá»ƒu vá» \\(scale\\) vÃ  há»c cÃ¡ch thao tÃ¡c cÃ¡c hÃ m scale_*() sáº½ giÃºp báº¡n kiá»ƒm soÃ¡t tá»‘t hÆ¡n ráº¥t nhiá»u.","code":""},{"path":"index.html","id":"vá»‹-trÃ­-xuáº¥t-hiá»‡n-trÃªn-trá»¥c-tá»a-Ä‘á»™","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.4.1 Vá»‹ trÃ­ xuáº¥t hiá»‡n trÃªn trá»¥c tá»a Ä‘á»™","text":"Äa sá»‘ cÃ¡c Ä‘á»“ thá»‹ trong \\(ggplot2\\) hiá»ƒn thá»‹ dá»¯ liá»‡u trÃªn trá»¥c tá»a Ä‘á»™ Descartes nÃªn chÃºng tÃ´i sáº½ táº­p trung vÃ o cÃ¡ch dá»¯ liá»‡u hiá»ƒn thá»‹ trÃªn hai trá»¥c tá»a Ä‘á»™ \\(x\\) vÃ  \\(y\\). Khi Ã¡nh xáº¡ cÃ¡c cá»™t dá»¯ liá»‡u tá»›i cÃ¡c trá»¥c tá»a Ä‘á»™ \\(x\\) vÃ  \\(y\\) náº¿u chÃºng ta khÃ´ng sá»­ dá»¥ng \\(scale\\), cÃ¡c Ä‘iá»ƒm sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ Ä‘Ãºng nhÆ° giÃ¡ trá»‹ cá»§a Ä‘iá»ƒm Ä‘Ã³ trÃªn cÃ¡c trá»¥c tá»a Ä‘á»™. Trong nhiá»u trÆ°á»ng há»£p, hiá»ƒn thá»‹ táº¡i vá»‹ trÃ­ Ä‘Ãºng nhÆ° dá»¯ liá»‡u ban Ä‘áº§u sáº½ khÃ´ng mang láº¡i hiá»‡u quáº£. VÃ­ dá»¥ nhÆ° khi mÃ´ táº£ hai biáº¿n \\(total\\) vÃ  \\(population\\) cá»§a dá»¯ liá»‡u \\(murders\\), báº¡n Ä‘á»c cÃ³ thá»ƒ sÃ¡nh cÃ¡ch hiá»ƒn thá»‹ giá»¯a viá»‡c khÃ´ng kiá»ƒm soÃ¡t (hÃ¬nh bÃªn trÃ¡i) vÃ  cÃ³ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ nhÆ° hÃ¬nh dÆ°á»›i Ä‘Ã¢y\nCÃ³ thá»ƒ tháº¥y ráº±ng hÃ¬nh bÃªn pháº£i hiá»ƒn thá»‹ rÃµ rÃ ng hÆ¡n hÃ¬nh bÃªn trÃ¡i sau khi chÃºng ta kiá»ƒm soÃ¡t Ã¡nh xáº¡ tá»« biáº¿n \\(population\\) Ä‘áº¿n thuá»™c tÃ­nh \\(x\\) vÃ  tá»« biáº¿n \\(total\\) Ä‘áº¿n thuá»™c tÃ­nh \\(y\\) báº±ng cÃ¡c hÃ m scale_x_continuous() vÃ  scale_y_continuous(). ÄÃ¢y lÃ  hai hÃ m sá»‘ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ kiá»ƒm soÃ¡t vá»‹ trÃ­ xuáº¥t hiá»‡n cá»§a cÃ¡c Ä‘iá»ƒm trÃªn trá»¥c tá»a Ä‘á»™ khi cÃ¡c biáº¿n trong Ã¡nh xáº¡ lÃ  cÃ¡c biáº¿n kiá»ƒu sá»‘ liÃªn tá»¥c. CÃ¡c tham sá»‘ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c hÃ m nÃ y bao gá»“m cÃ³:Tham sá»‘ \\(trans\\), lÃ  viáº¿t táº¯t cá»§a transformation, nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  â€˜identityâ€™ nghÄ©a lÃ  láº¥y chÃ­nh xÃ¡c giÃ¡ trá»‹ cá»§a biáº¿n Ã¡nh xáº¡ vÃ o thuá»™c tÃ­nh \\(x\\) hoáº·c \\(y\\) tÆ°Æ¡ng á»©ng. Äá»ƒ biáº¿t cÃ¡c giÃ¡ trá»‹ mÃ  tham sá»‘ nÃ y cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c báº¡n Ä‘á»c cÃ³ thá»ƒ tham kháº£o trong tÃ i liá»‡u Ä‘i kÃ¨m vá»›i hÃ m scale_x_continuous() vÃ  scale_y_continuous(). Khi scale cÃ¡c biáº¿n, cháº³ng háº¡n nhÆ° \\(x_1\\) vÃ  \\(x_2\\), lÃ  cÃ¡c biáº¿n Ã¡nh xáº¡ tá»›i \\(x\\) vÃ  \\(y\\) trong Ã¡nh xáº¡ tháº©m má»¹ báº±ng má»™t hÃ m \\(f\\) Ä‘Æ°á»£c khai bÃ¡o báº±ng tham sá»‘ \\(trans\\), giÃ¡ trá»‹ xuáº¥t hiá»‡n trÃªn trá»¥c tá»a Ä‘á»™ \\(x\\) vÃ  \\(y\\) sáº½ tÆ°Æ¡ng á»©ng lÃ  \\(f(x_1)\\) vÃ  \\(f(x_2)\\). Cháº³ng háº¡n nhÆ° trong Ä‘á»“ thá»‹ phÃ­a bÃªn pháº£i á»Ÿ trÃªn, khi chÃºng ta thá»±c hiá»‡n scale sá»­ dá»¥ng hÃ m \\(log10\\), tá»a Ä‘á»™ cá»§a cÃ¡c Ä‘iá»ƒm (cÃ¡c quá»‘c gia) sáº½ lÃ  \\(log10(population)\\) vÃ  \\(log10(total)\\). Viá»‡c chuyá»ƒn Ä‘á»•i nÃ y sáº½ há»¯u Ã­ch bá»Ÿi ráº¥t Ä‘a sá»‘ cÃ¡c quá»‘c gia cÃ³ dÃ¢n sá»‘ nhá», trong khi cÃ³ má»™t vÃ i quá»‘c gia cÃ³ dÃ¢n sá»‘ ráº¥t lá»›n. Thá»±c hiá»‡n chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u báº±ng cÃ¡c hÃ m \\(log\\) sáº½ giÃºp cho khoáº£ng cÃ¡ch cá»§a cÃ¡c Ä‘iá»ƒm cÃ¡ch Ä‘á»u nhau hÆ¡n vÃ  dá»… dÃ ng phÃ¢n biá»‡t hÆ¡n.Tham sá»‘ \\(trans\\), lÃ  viáº¿t táº¯t cá»§a transformation, nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  â€˜identityâ€™ nghÄ©a lÃ  láº¥y chÃ­nh xÃ¡c giÃ¡ trá»‹ cá»§a biáº¿n Ã¡nh xáº¡ vÃ o thuá»™c tÃ­nh \\(x\\) hoáº·c \\(y\\) tÆ°Æ¡ng á»©ng. Äá»ƒ biáº¿t cÃ¡c giÃ¡ trá»‹ mÃ  tham sá»‘ nÃ y cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c báº¡n Ä‘á»c cÃ³ thá»ƒ tham kháº£o trong tÃ i liá»‡u Ä‘i kÃ¨m vá»›i hÃ m scale_x_continuous() vÃ  scale_y_continuous(). Khi scale cÃ¡c biáº¿n, cháº³ng háº¡n nhÆ° \\(x_1\\) vÃ  \\(x_2\\), lÃ  cÃ¡c biáº¿n Ã¡nh xáº¡ tá»›i \\(x\\) vÃ  \\(y\\) trong Ã¡nh xáº¡ tháº©m má»¹ báº±ng má»™t hÃ m \\(f\\) Ä‘Æ°á»£c khai bÃ¡o báº±ng tham sá»‘ \\(trans\\), giÃ¡ trá»‹ xuáº¥t hiá»‡n trÃªn trá»¥c tá»a Ä‘á»™ \\(x\\) vÃ  \\(y\\) sáº½ tÆ°Æ¡ng á»©ng lÃ  \\(f(x_1)\\) vÃ  \\(f(x_2)\\). Cháº³ng háº¡n nhÆ° trong Ä‘á»“ thá»‹ phÃ­a bÃªn pháº£i á»Ÿ trÃªn, khi chÃºng ta thá»±c hiá»‡n scale sá»­ dá»¥ng hÃ m \\(log10\\), tá»a Ä‘á»™ cá»§a cÃ¡c Ä‘iá»ƒm (cÃ¡c quá»‘c gia) sáº½ lÃ  \\(log10(population)\\) vÃ  \\(log10(total)\\). Viá»‡c chuyá»ƒn Ä‘á»•i nÃ y sáº½ há»¯u Ã­ch bá»Ÿi ráº¥t Ä‘a sá»‘ cÃ¡c quá»‘c gia cÃ³ dÃ¢n sá»‘ nhá», trong khi cÃ³ má»™t vÃ i quá»‘c gia cÃ³ dÃ¢n sá»‘ ráº¥t lá»›n. Thá»±c hiá»‡n chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u báº±ng cÃ¡c hÃ m \\(log\\) sáº½ giÃºp cho khoáº£ng cÃ¡ch cá»§a cÃ¡c Ä‘iá»ƒm cÃ¡ch Ä‘á»u nhau hÆ¡n vÃ  dá»… dÃ ng phÃ¢n biá»‡t hÆ¡n.Tham sá»‘ \\(limits\\) giá»›i háº¡n giÃ¡ trá»‹ trÃªn cÃ¡c trá»¥c \\(x\\) vÃ  \\(y\\). Má»—i khi chÃºng ta váº½ Ä‘á»“ thá»‹ sá»­ dá»¥ng \\(ggplot2\\), tham sá»‘ \\(limits\\) máº·c Ä‘á»‹nh sáº½ Ä‘áº£m báº£o viá»‡c hiá»ƒn thá»‹ Ä‘Æ°á»£c Ä‘áº§y Ä‘á»§ nháº¥t. Tuy nhiÃªn, khi chÃºng ta muá»‘n sÃ¡nh hai dá»¯ liá»‡u con trÃªn cÃ¹ng má»™t miá»n giÃ¡ trá»‹ cá»§a \\(x\\) vÃ  \\(y\\), sá»­ dá»¥ng tham sá»‘ \\(limits\\) cho phÃ©p sÃ¡nh rÃµ rÃ ng hÆ¡n lÃ  sá»­ dá»¥ng tham sá»‘ máº·c Ä‘á»‹nh. HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ hai biáº¿n \\(fertility\\) vÃ  \\(life\\_expectancy\\) trong nÄƒm 1960 vÃ  2010 vÃ  khÃ´ng sá»­ dá»¥ng scale.Tham sá»‘ \\(limits\\) giá»›i háº¡n giÃ¡ trá»‹ trÃªn cÃ¡c trá»¥c \\(x\\) vÃ  \\(y\\). Má»—i khi chÃºng ta váº½ Ä‘á»“ thá»‹ sá»­ dá»¥ng \\(ggplot2\\), tham sá»‘ \\(limits\\) máº·c Ä‘á»‹nh sáº½ Ä‘áº£m báº£o viá»‡c hiá»ƒn thá»‹ Ä‘Æ°á»£c Ä‘áº§y Ä‘á»§ nháº¥t. Tuy nhiÃªn, khi chÃºng ta muá»‘n sÃ¡nh hai dá»¯ liá»‡u con trÃªn cÃ¹ng má»™t miá»n giÃ¡ trá»‹ cá»§a \\(x\\) vÃ  \\(y\\), sá»­ dá»¥ng tham sá»‘ \\(limits\\) cho phÃ©p sÃ¡nh rÃµ rÃ ng hÆ¡n lÃ  sá»­ dá»¥ng tham sá»‘ máº·c Ä‘á»‹nh. HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ hai biáº¿n \\(fertility\\) vÃ  \\(life\\_expectancy\\) trong nÄƒm 1960 vÃ  2010 vÃ  khÃ´ng sá»­ dá»¥ng scale.KhÃ´ng thá»ƒ tháº¥y rÃµ Ä‘Æ°á»£c sá»± khÃ¡c biá»‡t giá»¯a hai nÄƒm 1960 vÃ  2010 náº¿u khÃ´ng biá»ƒu diá»…n cÃ¡c biáº¿n trÃªn cÃ¹ng má»™t miá»n giÃ¡ trá»‹ cá»§a \\(x\\) vÃ  \\(y\\). HÃ¬nh phÃ­a dÆ°á»›i sá»­ dá»¥ng tÃ¹y biáº¿n \\(limits\\). Äá»ƒ khai bÃ¡o tham sá»‘ cho tÃ¹y biáº¿n nÃ y chÃºng ta sá»­ dá»¥ng má»™t vÃ©c-tÆ¡ hai chiá»u chá»©a giÃ¡ trá»‹ nhá» nháº¥t vÃ  giÃ¡ trá»‹ lá»›n nháº¥t trÃªn trá»¥c mÃ  báº¡n muá»‘n hiá»ƒn thá»‹. RÃµ rÃ ng Ä‘Ã£ cÃ³ sá»­ khÃ¡c nhau Ä‘Ã¡ng ká»ƒ vá» sá»± phÃ¢n bá»‘ cá»§a cÃ¡c Ä‘iá»ƒm trong nÄƒm 1960 vÃ  nÄƒm 2010.Tham sá»‘ \\(breaks\\) kiá»ƒm soÃ¡t vá»‹ trÃ­ cÃ¡c Ä‘iá»ƒm Ä‘Ã¡nh dáº¥u xuáº¥t hiá»‡n trÃªn cÃ¡c trá»¥c \\(x\\) vÃ  trá»¥c \\(y\\). ChÃºng tÃ´i thÆ°á»ng káº¿t há»£p \\(breaks\\) vá»›i tham sá»‘ \\(labels\\) Ä‘á»ƒ kiá»ƒm soÃ¡t Ä‘á»“ng thá»i vá»‹ trÃ­ vÃ  cÃ¡ch hiá»ƒn thá»‹ trÃªn cÃ¡c trá»¥c sá»‘. VÃ­ dá»¥ nhÆ° trong hÃ¬nh sÃ¡nh Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm cá»§a nÄƒm 1960 vÃ  2010 chÃºng ta muá»‘n giÃ¡ trá»‹ xuáº¥t hiá»‡n trÃªn cÃ¡c trá»¥c \\(x\\) lÃ  cÃ¡c sá»‘ 2, 4, 6, 8 thay vÃ¬ 2,5; 5,0; vÃ  7, vÃ  cÃ¡c sá»‘ trÃªn trá»¥c \\(y\\) xuáº¥t hiá»‡n táº¡i cÃ¡c vá»‹ trÃ­ 10, 30, 50, 70, vÃ  90 thay vÃ¬ 40, 60, 80 nhÆ° hiá»‡n táº¡i, chÃºng ta chá»‰ cáº§n gÃ¡n giÃ¡ trá»‹ tham sá»‘ \\(breaks\\) báº±ng vÃ©c-tÆ¡ chá»©a cÃ¡c giÃ¡ trá»‹ mÃ  chÃºng ta muá»‘n hiá»ƒn thá»‹. LÆ°u Ã½ ráº±ng \\(breaks\\) cÃ³ chá»¯ \\(s\\) á»Ÿ cuá»‘i Ä‘á»ƒ phÃ¢n biá»‡t vá»›i tá»« khÃ³a \\(break\\).Khi má»™t trong hai biáº¿n liÃªn tá»¥c lÃ  biáº¿n kiá»ƒu thá»i gian thÃ¬ hÃ m sá»‘ sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm soÃ¡t giÃ¡ trá»‹ hiá»ƒn thá»‹ lÃ  scale_x_date() vá»›i hai tham sá»‘ thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  \\(date\\_break\\) vÃ  \\(date\\_labels\\). Báº¡n Ä‘á»c quan sÃ¡t dá»¯ liá»‡u \\(AirPassengers\\) Ä‘Æ°á»£c trá»±c quan hÃ³a khi sá»­ dá»¥ng scale_x_date() nhÆ° sauKhi giÃ¡ trá»‹ trÃªn trá»¥c \\(x\\) hoáº·c trá»¥c \\(y\\) lÃ  cÃ¡c giÃ¡ trá»‹ rá»i ráº¡c, cÃ¡c hÃ m sá»‘ sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ tá»« biáº¿n Ä‘áº¿n cÃ¡c trá»¥c tá»a Ä‘á»™c lÃ  scale_x_discrete() vÃ  scale_y_discrete(). CÃ¡c tham sá»‘ thÆ°á»ng sá»­ dá»¥ng bao gá»“m \\(limits\\) vÃ  \\(labels\\). Tham sá»‘ \\(limits\\) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cho biáº¿t cÃ¡c giÃ¡ trá»‹ nÃ o cá»§a biáº¿n rá»i ráº¡c xuáº¥t hiá»‡n trÃªn Ä‘á»“ thá»‹, trong khi tham sá»‘ \\(labels\\) cho biáº¿t tá»«ng giÃ¡ trá»‹ cá»§a biáº¿n rá»i ráº¡c xuáº¥t hiá»‡n nhÆ° tháº¿ nÃ o","code":"\np1<-murders%>%ggplot(aes(x = population,y = total))+geom_point(size = 3, color = \"lightskyblue\")+\n  theme_minimal()+ggtitle(\"KhÃ´ng sá»­ dá»¥ng scale\")\np2<-murders%>%ggplot(aes(x = population,y = total))+geom_point(size = 3, color = \"lightskyblue\")+\n  theme_minimal()+\n  scale_x_continuous(trans = \"log10\")+\n  scale_y_continuous(trans = \"log10\")+\n  ggtitle(\"CÃ³ sá»­ dá»¥ng scale (log10)\")\ngrid.arrange(p1,p2,nrow=1,ncol=2)\np1<-gapminder%>%filter(year==1960)%>%\n  ggplot(aes(fertility,life_expectancy))+\n  geom_point(shape = 21, size = 3,alpha = 0.8, fill= \"lightskyblue\")+\n  ggtitle(\"NÄƒm 1960\")+\n  scale_x_continuous(limits = c(1,9))+\n  scale_y_continuous(limits = c(25,85))\np2<-gapminder%>%filter(year==2010)%>%\n  ggplot(aes(fertility,life_expectancy))+\n  geom_point(shape = 21, size = 3,alpha = 0.8, fill= \"lightskyblue\")+\n  ggtitle(\"NÄƒm 2010\")+\n   scale_x_continuous(limits = c(1,9))+\n  scale_y_continuous(limits = c(25,85))\ngrid.arrange(p1,p2,nrow=1,ncol=2)\np1<-gapminder%>%filter(year==1960)%>%\n  ggplot(aes(fertility,life_expectancy))+\n  geom_point(shape = 21, size = 3,alpha = 0.8, fill= \"lightskyblue\")+\n  ggtitle(\"NÄƒm 1960\")+\n  scale_x_continuous(limits = c(1,9), \n                     breaks = c(2,4,6,8),\n                     labels = paste(c(2,4,6,8),\"tráº» em\"))+\n  scale_y_continuous(limits = c(25,85), \n                     breaks = c(10,30,50,70,90),\n                     labels = paste(c(10,30,50,70,90),\"tuá»•i\"))\np2<-gapminder%>%filter(year==2010)%>%\n  ggplot(aes(fertility,life_expectancy))+\n  geom_point(shape = 21, size = 3,alpha = 0.8, fill= \"lightskyblue\")+\n  ggtitle(\"NÄƒm 2010\")+\n  scale_x_continuous(limits = c(1,9), \n                     breaks = c(2,4,6,8),\n                     labels = paste(c(2,4,6,8),\"tráº» em\"))+\n  scale_y_continuous(limits = c(25,85), \n                     breaks = c(10,30,50,70,90),\n                     labels = paste(c(10,30,50,70,90),\"tuá»•i\"))\ngrid.arrange(p1,p2,nrow=1,ncol=2)\ndat<-data.frame(Number_Passengers = AirPassengers, \n                Month = seq(as.Date(\"1949-01-01\"), by = \"month\", length.out = 144))\np1<-dat%>%ggplot(aes(x = Month, y = Number_Passengers))+\n  geom_line() + ggtitle(\"KhÃ´ng sá»­ dá»¥ng scale\")\np2<-dat%>%ggplot(aes(x = Month, y = Number_Passengers))+\n  geom_line()+ ggtitle(\"Sá»­ dá»¥ng scale_x_date()\")+\n  scale_x_date(date_break = \"2 years\", date_labels = \"%b\\n%Y\" )+\n  scale_y_continuous(breaks = seq(100,600,length=6))\n                     \ngrid.arrange(p1,p2,nrow=1,ncol=2)\np1<-murders%>%mutate(rate = total/population*10^6)%>%\n  ggplot(aes(region,rate))+\n  geom_boxplot()+ggtitle(\"KhÃ´ng sá»­ dá»¥ng scale\")\n\n# Sá»­ dá»¥ng tham sá»‘ limits cho giÃ¡ trá»‹ trÃªn trá»¥c x\np2<-murders%>%mutate(rate = total/population*10^6)%>%\n  ggplot(aes(region,rate))+\n  geom_boxplot()+ggtitle(\"KhÃ´ng sá»­ dá»¥ng scale\")+\n  scale_y_continuous(limits = c(0,50))+\n  # chá»‰ hiá»ƒn thá»‹ boxplot cho 2 vÃ¹ng \"Northeast\" vÃ  \"West\"\n  scale_x_discrete(limits = c(\"Northeast\", \"West\"))+\n  ggtitle(\"Sá»­ dá»¥ng dá»¥ng tham sá»‘ limits\")\n# Sá»­ dá»¥ng tham sá»‘ labels cho giÃ¡ trá»‹ trÃªn trá»¥c x\np3<-murders%>%mutate(rate = total/population*10^6)%>%\n  ggplot(aes(region,rate))+\n  geom_boxplot()+ggtitle(\"KhÃ´ng sá»­ dá»¥ng scale\")+\n  scale_y_continuous(limits = c(0,100))+\n  # Thay tháº¿ giÃ¡ trá»‹ hiá»ƒn thá»‹ trÃªn trá»¥c sá»‘ báº±ng labels\n  scale_x_discrete(labels = c(\"Northeast\" = \"ÄÃ´ng Báº¯c\", \n                              \"West\" = \"Miá»n TÃ¢y\",\n                              \"South\" = \"Miá»n Nam\",\n                              \"North Central\" = \"Miá»n Báº¯c\"))+\n  ggtitle(\"Sá»­ dá»¥ng dá»¥ng tham sá»‘ labels\")\ngrid.arrange(p1,p2,p3,nrow=1,ncol=3)"},{"path":"index.html","id":"mÃ u-sáº¯c-hiá»ƒn-thá»‹-vÃ -chÃº-giáº£i","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.4.2 MÃ u sáº¯c hiá»ƒn thá»‹ vÃ  chÃº giáº£i","text":"Thuá»™c tÃ­nh tháº©m má»¹ Ä‘Æ°á»£c sá»­ dá»¥ng phá»• biáº¿n nháº¥t lÃ  mÃ u sáº¯c. CÃ³ nhiá»u cÃ¡ch Ä‘á»ƒ Ã¡nh xáº¡ giÃ¡ trá»‹ cá»§a biáº¿n tá»›i mÃ u sáº¯c trong \\(ggplot2\\). VÃ¬ mÃ u sáº¯c lÃ  má»™t chá»§ Ä‘á» phá»©c táº¡p nÃªn pháº§n nÃ y chÃºng tÃ´i sáº½ báº¯t Ä‘áº§u báº±ng viá»‡c tháº£o luáº­n má»™t chÃºt vá» lÃ½ thuyáº¿t mÃ u sáº¯c. Sau Ä‘Ã³ chÃºng tÃ´i sáº½ giá»›i thiá»‡u Ä‘áº¿n báº¡n Ä‘á»c vá» thang mÃ u liÃªn tá»¥c, thang mÃ u rá»i ráº¡c vÃ  thang mÃ u tá»•ng há»£p. ChÃºng tÃ´i cÅ©ng sáº½ Ä‘á» cáº­p Ä‘áº¿n cÃ¡c thang mÃ u dÃ nh cho biáº¿n kiá»ƒu thá»i gian ngÃ y/giá», Ä‘á»™ trong cá»§a cÃ¡c mÃ u sáº¯c hiá»ƒn thá»‹ vÃ  nguyÃªn táº¯c chÃº giáº£i Ä‘Æ°á»£c thiáº¿t láº­p trong cÃ¡c Ä‘á»“ thá»‹ \\(ggplot2\\).","code":""},{"path":"index.html","id":"cáº£m-nháº­n-vá»-mÃ u-sáº¯c","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.4.2.1 Cáº£m nháº­n vá» mÃ u sáº¯c","text":"Trong váº­t lÃ½, mÃ u sáº¯c Ä‘Æ°á»£c táº¡o ra bá»Ÿi há»—n há»£p cÃ¡c bÆ°á»›c sÃ³ng Ã¡nh sÃ¡ng. Äá»ƒ mÃ´ táº£ Ä‘áº§y Ä‘á»§ vá» má»™t mÃ u sáº¯c, chÃºng ta cáº§n biáº¿t sá»± káº¿t há»£p chÃ­nh xÃ¡c cá»§a cÃ¡c bÆ°á»›c sÃ³ng. Sá»± tháº­t thÃ¬ máº¯t con ngÆ°á»i chá»‰ cÃ³ ba cÆ¡ quan cáº£m nháº­n mÃ u sáº¯c khÃ¡c nhau, vÃ  vÃ¬ váº­y chÃºng ta cÃ³ thá»ƒ tÃ³m táº¯t kháº£ nÄƒng cáº£m nháº­n vá» báº¥t ká»³ mÃ u nÃ o chá»‰ báº±ng ba con sá»‘. Má»™t khÃ´ng gian mÃ u cÃ³ thá»ƒ quen thuá»™c vá»›i báº¡n Ä‘á»c lÃ  khÃ´ng gian mÃ u RGB, khÃ´ng gian mÃ  má»i mÃ u sáº¯c Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh theo cÆ°á»ng Ä‘á»™ Ã¡nh sÃ¡ng Ä‘á», xanh da trá»i vÃ  xanh lÃ¡ cÃ¢y Ä‘á»ƒ táº¡o ra mÃ u Ä‘Ã³. Æ¯u Ä‘iá»ƒm cá»§a khÃ´ng gian mÃ u nÃ y lÃ  sá»± Ä‘Æ¡n giáº£n má»—i mÃ u sáº¯c Ä‘á»u Ä‘Æ°á»£c mÃ´ táº£ báº±ng ba con sá»‘ tá»« 0 Ä‘áº¿n 255 hoÃ n toÃ n Ä‘á»™c láº­p vá»›i nhau. Má»™t váº¥n Ä‘á» vá»›i khÃ´ng gian nÃ y lÃ  cÃ¡c dáº£i mÃ u liÃªn tá»¥c nháº­n Ä‘Æ°á»£c báº±ng cÃ¡ch tÄƒng giáº£m cÃ¡c cÆ°á»ng Ä‘á»™ mÃ u Ä‘á», xanh lam, xanh lÃ¡ cÃ¢y láº¡i khÃ´ng giá»‘ng nhÆ° cÃ¡ch nháº­n thá»©c vá» mÃ u sáº¯c cá»§a cÃ²n ngÆ°á»i. Khi nhÃ¬n vÃ o má»™t mÃ u cá»¥ thá»ƒ, chÃºng ta khÃ´ng thá»ƒ Æ°á»›c tÃ­nh Ä‘Æ°á»£c cÆ°á»ng Ä‘á»™ má»—i mÃ u lÃ  bao nhiÃªu, Ä‘iá»u nÃ y cÃ³ thá»ƒ gÃ¢y khÃ³ khÄƒn cho viá»‡c táº¡o Ã¡nh xáº¡ tá»« má»™t biáº¿n liÃªn tá»¥c sang má»™t dáº£i mÃ u.Má»—i khi hiá»ƒn thá»‹ má»™t giÃ¡ trá»‹ mÃ u sáº¯c trong khÃ´ng gian RGB, R thÆ°á»ng sá»­ dá»¥ng kÃ½ tá»± cÃ³ 6 chá»¯ sá»‘ trong há»‡ 16 (tá»« 0 Ä‘áº¿n F) vÃ  báº¯t Ä‘áº§u báº±ng má»™t dáº¥u â€˜#â€™ thay vÃ¬ má»™t vÃ©c-tÆ¡ ba chiá»u Ä‘áº¡i diá»‡n cho 3 sáº¯c Ä‘á», xanh lÃ¡ cÃ¢y, vÃ  xanh lam. Hai chá»¯ sá»‘ Ä‘áº§u Ä‘áº¡i diá»‡n cho sáº¯c Ä‘á», 2 chá»¯ sá»‘ tiáº¿p theo Ä‘áº¡i diá»‡n cho mÃ u xanh lÃ¡ cÃ¢y vÃ  2 chá»¯ sá»‘ cuá»‘i Ä‘áº¡i diá»‡n cho mÃ u lam. Cháº³ng háº¡n nhÆ° â€œ#FF0000â€ sáº½ lÃ  mÃ u Ä‘á», â€œ#00FF00â€ lÃ  mÃ u xanh lÃ¡ cÃ¢y vÃ  â€œ#0000FFâ€ lÃ  mÃ u xanh lam.Má»™t khÃ´ng gian mÃ u Ä‘Æ°á»£c chuyá»ƒn Ä‘á»•i tá»« khÃ´ng gian RGB lÃ  khÃ´ng gian Lab trong Ä‘Ã³ L Ä‘áº¡i diá»‡n cho Ä‘á»™ tÆ°Æ¡ng pháº£n sÃ¡ng-tá»‘i cá»§a mÃ u sáº¯c, trá»¥c tá»a Ä‘á»™ vÃ  b cho biáº¿t cÃ¡c vá»‹ trÃ­ cá»§a mÃ u trÃªn trÃªn trá»¥c Ä‘á» Ä‘áº¿n xanh lam vÃ  vÃ ng Ä‘áº¿n xanh lÃ¡. Cáº£i tiáº¿n tá»« khÃ´ng gian RGB sang khÃ´ng gian Lab giÃºp cho cÃ¡c dáº£i mÃ u sáº¯c tÆ°Æ¡ng á»©ng hÆ¡n vá»›i cÃ¡ch kháº£ nÄƒng nháº­n biáº¿t mÃ u sáº¯c cá»§a con ngÆ°á»i, tuy nhiÃªn váº«n cÃ²n khoáº£ng cÃ¡ch giá»¯a khÃ´ng gian Lab vá»›i nháº­n thá»©c mÃ u sáº¯c. KhÃ´ng gian \\(Lab\\) cÅ©ng cÃ³ cÃ¡c Æ°u Ä‘iá»ƒm riÃªng, Ä‘Ã³ \\(ggplot2\\) máº·c Ä‘á»‹nh sá»­ dá»¥ng khÃ´ng gian \\(Lab\\) khi ná»™i suy tuyáº¿n tÃ­nh cÃ¡c mÃ u sáº¯c náº±m giá»¯a hai mÃ u báº¥t ká»³ khi chÃºng ta Ã¡nh xáº¡ má»™t biáº¿n liÃªn tá»¥c lÃªn thuá»™c tÃ­nh tháº©m má»¹ mÃ u sáº¯c.Má»™t khÃ´ng gian mÃ u khÃ¡c cÃ³ thá»ƒ háº¡n cháº¿ váº¥n Ä‘á» cá»§a khÃ´ng gian RGB lÃ  khÃ´ng gian mÃ u HCL vá»›i ba thÃ nh pháº§n mÃ u: mÃ u sáº¯c (Hue), sáº¯c Ä‘á»™ (Chroma) vÃ  Ä‘á»™ chÃ³i (Luminance):MÃ u sáº¯c náº±m trong khoáº£ng tá»« 0 Ä‘áº¿n 360 (má»™t gÃ³c) vÃ  cho biáº¿t mÃ u muá»‘n hiá»ƒn thá»‹.MÃ u sáº¯c náº±m trong khoáº£ng tá»« 0 Ä‘áº¿n 360 (má»™t gÃ³c) vÃ  cho biáº¿t mÃ u muá»‘n hiá»ƒn thá»‹.Sáº¯c Ä‘á»™ lÃ  â€œÄ‘á»™ tinh khiáº¿tâ€ cá»§a má»™t mÃ u, náº±m trong khoáº£ng tá»« 0 (xÃ¡m) Ä‘áº¿n má»©c tá»‘i Ä‘a thay Ä‘á»•i theo Ä‘á»™ sÃ¡ng.Sáº¯c Ä‘á»™ lÃ  â€œÄ‘á»™ tinh khiáº¿tâ€ cá»§a má»™t mÃ u, náº±m trong khoáº£ng tá»« 0 (xÃ¡m) Ä‘áº¿n má»©c tá»‘i Ä‘a thay Ä‘á»•i theo Ä‘á»™ sÃ¡ng.Äá»™ sÃ¡ng lÃ  Ä‘á»™ sÃ¡ng cá»§a mÃ u, dao Ä‘á»™ng tá»« 0 (Ä‘en) Ä‘áº¿n 1 (tráº¯ng).Äá»™ sÃ¡ng lÃ  Ä‘á»™ sÃ¡ng cá»§a mÃ u, dao Ä‘á»™ng tá»« 0 (Ä‘en) Ä‘áº¿n 1 (tráº¯ng).Ba chiá»u cÃ³ nhá»¯ng Ä‘áº·c tÃ­nh khÃ¡c nhau. TÆ°Æ¡ng tá»± nhÆ° khÃ´ng gian mÃ u Lab, mÃ u sáº¯c trong HCL Ä‘Æ°á»£c sáº¯p xáº¿p xung quanh má»™t hÃ¬nh trÃ²n vÃ  khÃ´ng Ä‘Æ°á»£c coi lÃ  cÃ³ tráº­t tá»±; vÃ­ dá»¥: mÃ u xanh lÃ¡ dÆ°á»ng nhÆ° khÃ´ng lá»›n hÆ¡n hay nhá» hÆ¡n mÃ u Ä‘á» vÃ  mÃ u xanh lam dÆ°á»ng nhÆ° khÃ´ng lá»›n hÆ¡n hay nhá» hÆ¡n mÃ u xanh lÃ¡. NgÆ°á»£c láº¡i, cáº£ sáº¯c Ä‘á»™ vÃ  Ä‘á»™ sÃ¡ng Ä‘á»u Ä‘Æ°á»£c coi lÃ  cÃ³ tráº­t tá»±: mÃ u há»“ng Ä‘Æ°á»£c coi lÃ  náº±m giá»¯a mÃ u Ä‘á» vÃ  tráº¯ng, vÃ  mÃ u xÃ¡m Ä‘Æ°á»£c coi lÃ  náº±m giá»¯a mÃ u Ä‘en vÃ  tráº¯ng. Táº¡o cÃ¡c thang mÃ u sáº¯c tá»« khÃ´ng gian HCL thÆ°á»ng Ä‘Æ°á»£c dá»±a trÃªn nguyÃªn táº¯c cá»‘ Ä‘á»‹nh 2 tham sá»‘ vÃ  thay Ä‘á»•i tham sá»‘ cÃ²n láº¡i. khÃ´ng gian mÃ u HCL gáº§n vá»›i nháº­n thá»©c mÃ u sáº¯c cá»§a con ngÆ°á»i hÆ¡n nÃªn cÃ¡c dáº£i mÃ u Ä‘Æ°á»£c táº¡o ra sáº½ â€œcÃ¡ch Ä‘á»uâ€ nhau hÆ¡n theo cÃ¡ch mÃ  chÃºng ta nháº­n thá»©c.Xin Ä‘Æ°á»£c nháº¯c láº¡i ráº±ng mÃ u sáº¯c lÃ  má»™t chá»§ Ä‘á»ƒ phá»©c táº¡p mÃ  pháº¡m vi cá»§a nÃ³ vÆ°á»£t ráº¥t xa nhá»¯ng gÃ¬ mÃ  chÃºng tÃ´i Ä‘á» cáº­p á»Ÿ trÃªn. Báº¡n Ä‘á»c nÃªn tham kháº£o thÃªm cÃ¡c tÃ i liá»‡u chuyÃªn ngÃ nh khoa há»c mÃ¡y tÃ­nh Ä‘á»ƒ cÃ³ thá»ƒ sá»­ dá»¥ng mÃ u sáº¯c má»™t cÃ¡ch hiá»‡u quáº£ nháº¥t.","code":""},{"path":"index.html","id":"dáº£i-mÃ u-liÃªn-tá»¥c","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.4.2.2 Dáº£i mÃ u liÃªn tá»¥c","text":"Dáº£i mÃ u liÃªn tá»¥c Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ hiá»ƒn thá»‹ giÃ¡ trá»‹ cá»§a má»™t biáº¿n liÃªn tá»¥c trÃªn bá» máº·t pháº³ng. Äá»ƒ kiá»ƒm soÃ¡t mÃ u sáº¯c trong \\(ggplot2\\), chÃºng ta sá»­ dá»¥ng cÃ¡c hÃ m scale_color_*(). LÆ°u Ã½ ráº±ng cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) vÃ  \\(fill\\) lÃ  tÆ°Æ¡ng Ä‘á»“ng nhau, Ä‘Ã³ báº¥t ká»³ hÃ m scale_color_*() cÅ©ng cÃ³ hÃ m scale_fill_*() tÆ°Æ¡ng á»©ng.Dáº£i mÃ u liÃªn tá»¥c thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng cÃ¹ng vá»›i cÃ¡c \\(geoms\\) cÃ³ hÃ¬nh dáº¡ng Ä‘á»“ há»a cáº§n mÃ u sáº¯c Ä‘á»ƒ phÃ¢n biá»‡t trÃªn trÃªn máº·t pháº³ng nhÆ° geom_polygon(), geom_tile() (hoáº·c geom_raster()), vÃ  geom_bin2d(). Má»—i khi chÃºng ta cho má»™t biáº¿n liÃªn tá»¥c Ã¡nh xáº¡ Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹ mÃ u sáº¯c, \\(ggplot2\\) sáº½ tá»± Ä‘á»™ng hiá»ƒu ráº±ng chÃºng ta sá»­ dá»¥ng dáº£i mÃ u liÃªn tá»¥c Ä‘á»ƒ mÃ´ táº£ biáº¿n Ä‘Ã³. HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n hai chiá»u trung bÃ¬nh 0, phÆ°Æ¡ng sai 1 vÃ  há»‡ sá»‘ tÆ°Æ¡ng quan \\(\\rho = 0.8\\). LÆ°u Ã½ ráº±ng hÃ m máº­t Ä‘á»™ cá»§a hai biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(0,1)\\) vá»›i há»‡ sá»‘ tÆ°Æ¡ng quan \\(\\rho = 0.8\\) Ä‘Æ°á»£c tÃ­nh nhÆ° sau\n\\[\\begin{align}\nf(x,y) = \\cfrac{1}{2 \\pi \\sqrt{1-\\rho^2}} \\ \\exp \\left(- \\cfrac{x^2 + y^2 - 2\\rho x y}{1-\\rho^2}  \\right)\n\\end{align}\\]PhÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n nháº¥t Ä‘á»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ tá»« má»™t biáº¿n liÃªn tá»¥c Ä‘áº¿n mÃ u sáº¯c lÃ  lá»±a chá»n cÃ¡c dáº£i mÃ u liÃªn tá»¥c cÃ³ sáºµn trong \\(ggplot2\\) hoáº·c trong cÃ¡c thÆ° viá»‡n bá»• sung. CÃ¡c dáº£i mÃ u cÃ³ sáºµn nÃ y Ä‘á»u Ä‘Æ°á»£c xÃ¢y dá»±ng Ä‘á»ƒ nhá»¯ng ngÆ°á»i gáº·p khÃ³ khÄƒn trong phÃ¢n biá»‡t mÃ u sáº¯c cÅ©ng cÃ³ thá»ƒ cáº£m nháº­n Ä‘Æ°á»£c. Trong hÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y chÃºng tÃ´i lá»±a chá»n cÃ¡c dáº£i mÃ u: 1. Dáº£i mÃ u máº·c Ä‘á»‹nh cá»§a \\(ggplot2\\), 2. Dáº£i mÃ u \\(viridis\\), 3. Dáº£i mÃ u \\(distiller\\) vÃ  4. Dáº£i mÃ u \\(fermenter\\). Má»—i dáº£i mÃ u sáº½ cÃ³ tÃ¹y biáº¿n \\(palette\\) Ä‘á»ƒ lá»±a chá»n.Äá»ƒ dáº£i mÃ u sáº¯c liÃªn tá»¥c cÃ³ tÃ­nh cÃ¡ nhÃ¢n hÃ³a cao hÆ¡n, báº¡n Ä‘á»c cáº§n chá»‰ Ä‘á»‹nh thang mÃ u sáº¯c thay vÃ¬ sá»­ dá»¥ng cÃ¡c thang mÃ u cÃ³ sáºµn. \\(Gradient\\) \\(scale\\) lÃ  má»™t cÃ´ng cá»¥ máº¡nh máº½ giÃºp báº¡n thá»±c hiá»‡n viá»‡c nÃ y. Báº¡n chá»‰ cáº§n cung cáº¥p cÃ¡c giÃ¡ trá»‹ mÃ u sáº¯c tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ nhá» nháº¥t, giÃ¡ trá»‹ lá»›n nháº¥t, cÃ³ thá»ƒ thÃªm má»™t vÃ i giÃ¡ trá»‹ trung gian, \\(ggplot2\\) sáº½ ná»™i suy tuyáº¿n tÃ­nh ra cÃ¡c mÃ u sáº¯c trong thang mÃ u. CÃ¡c hÃ m sá»‘ cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ táº¡o thang mÃ u bao gá»“mscale_fill_gradient() táº¡o má»™t thang mÃ u liÃªn tá»¥c giá»¯a hai mÃ u sáº¯c mÃ  báº¡n khai bÃ¡o. Hai tham sá»‘ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ khai bÃ¡o hai Ä‘iá»ƒm Ä‘áº§u cá»§a dáº£i mÃ u lÃ  tham sá»‘ \\(low\\) vÃ  tham sá»‘ \\(high\\). Má»—i khi chÃºng ta Ã¡nh xáº¡ tuyáº¿n tÃ­nh tá»« má»™t biáº¿n liÃªn tá»¥c Ä‘áº¿n mÃ u sáº¯c, \\(ggplot2\\) máº·c Ä‘á»‹nh sá»­ dá»¥ng dáº£i mÃ u liÃªn tá»¥c theo hÃ m sá»‘ nÃ y vá»›i giÃ¡ trá»‹ low lÃ  â€œ#132B43â€ vÃ  giÃ¡ trá»‹ high lÃ  â€œ#56B1F7â€. KhÃ´ng gian Ä‘á»ƒ ná»™i suy tuyáº¿n tÃ­nh lÃ  khÃ´ng gian mÃ u Lab.scale_fill_gradient() táº¡o má»™t thang mÃ u liÃªn tá»¥c giá»¯a hai mÃ u sáº¯c mÃ  báº¡n khai bÃ¡o. Hai tham sá»‘ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ khai bÃ¡o hai Ä‘iá»ƒm Ä‘áº§u cá»§a dáº£i mÃ u lÃ  tham sá»‘ \\(low\\) vÃ  tham sá»‘ \\(high\\). Má»—i khi chÃºng ta Ã¡nh xáº¡ tuyáº¿n tÃ­nh tá»« má»™t biáº¿n liÃªn tá»¥c Ä‘áº¿n mÃ u sáº¯c, \\(ggplot2\\) máº·c Ä‘á»‹nh sá»­ dá»¥ng dáº£i mÃ u liÃªn tá»¥c theo hÃ m sá»‘ nÃ y vá»›i giÃ¡ trá»‹ low lÃ  â€œ#132B43â€ vÃ  giÃ¡ trá»‹ high lÃ  â€œ#56B1F7â€. KhÃ´ng gian Ä‘á»ƒ ná»™i suy tuyáº¿n tÃ­nh lÃ  khÃ´ng gian mÃ u Lab.scale_fill_gradient2() táº¡o má»™t thang mÃ u liÃªn tá»¥c tá»« ba mÃ u, bao gá»“m má»™t mÃ u sáº¯c á»Ÿ giá»¯a. NgoÃ i hai giÃ¡ trá»‹ lÃ  hai Ä‘iá»ƒm Ä‘áº§u cá»§a hai thang mÃ u, chÃºng ta cáº§n khai bÃ¡o thÃªm má»™t mÃ u á»Ÿ giá»¯a báº±ng tham sá»‘ \\(mid\\) vÃ  tham sá»‘ \\(midpoint\\) cho biáº¿t giÃ¡ trá»‹ nÃ o cá»§a biáº¿n Ã¡nh xáº¡ tá»›i thuá»™c tÃ­nh mÃ u sáº¯c tÆ°Æ¡ng á»©ng vá»›i mÃ u Ä‘Æ°á»£c khai bÃ¡o vá»›i tham sá»‘ \\(mid\\). Náº¿u khÃ´ng khai bÃ¡o tham sá»‘ \\(midpoint\\) sáº½ nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  0.scale_fill_gradient2() táº¡o má»™t thang mÃ u liÃªn tá»¥c tá»« ba mÃ u, bao gá»“m má»™t mÃ u sáº¯c á»Ÿ giá»¯a. NgoÃ i hai giÃ¡ trá»‹ lÃ  hai Ä‘iá»ƒm Ä‘áº§u cá»§a hai thang mÃ u, chÃºng ta cáº§n khai bÃ¡o thÃªm má»™t mÃ u á»Ÿ giá»¯a báº±ng tham sá»‘ \\(mid\\) vÃ  tham sá»‘ \\(midpoint\\) cho biáº¿t giÃ¡ trá»‹ nÃ o cá»§a biáº¿n Ã¡nh xáº¡ tá»›i thuá»™c tÃ­nh mÃ u sáº¯c tÆ°Æ¡ng á»©ng vá»›i mÃ u Ä‘Æ°á»£c khai bÃ¡o vá»›i tham sá»‘ \\(mid\\). Náº¿u khÃ´ng khai bÃ¡o tham sá»‘ \\(midpoint\\) sáº½ nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  0.scale_fill_gradientn() táº¡o má»™t thang mÃ u liÃªn tá»¥c tá»« má»™t vÃ©c-tÆ¡ chá»©a cÃ¡c mÃ u sáº¯c khai bÃ¡o.scale_fill_gradientn() táº¡o má»™t thang mÃ u liÃªn tá»¥c tá»« má»™t vÃ©c-tÆ¡ chá»©a cÃ¡c mÃ u sáº¯c khai bÃ¡o.Cáº£ ba hÃ m sá»‘ ká»ƒ trÃªn Ä‘á»u ná»™i suy tuyáº¿n tÃ­nh trong khÃ´ng gian mÃ u \\(Lab\\) Ä‘á»ƒ táº¡o ra cÃ¡c giáº£i mÃ u liÃªn tá»¥c. Khi nÃ³i Ä‘áº¿n ná»™i suy tuyáº¿n tÃ­nh giá»¯a hai mÃ u sáº¯c, sáº½ dá»… hiá»ƒu náº¿u chÃºng ta sá»­ dá»¥ng khÃ´ng gian RGB mÃ  táº¥t cáº£ cÃ¡c mÃ u Ä‘á»u náº±m trong má»™t hÃ¬nh láº­p phÆ°Æ¡ng vá»›i Ä‘iá»ƒm (0,0,0) lÃ  mÃ u Ä‘en, (1,1,1) lÃ  mÃ u tráº¯ngâ€¦ Báº¡n Ä‘á»c cÃ³ thá»ƒ hiá»ƒu nhÆ° sau: trong má»—i khÃ´ng gian má»—i mÃ u sáº¯c hiá»ƒn thá»‹ cÃ³ ba thÃ nh pháº§n lÃ  cÆ°á»ng Ä‘á»™ mÃ u Ä‘á» (r), cÆ°á»ng Ä‘á»™ mÃ u xanh lÃ¡ (g) cÆ°á»ng Ä‘á»™ mÃ u xanh lam (b) â€¦ Má»™t dáº£i mÃ u bao gá»“m \\(n\\) mÃ u, báº¯t Ä‘áº§u tá»« mÃ u \\(m_1\\) bao gá»“m cÃ¡c thÃ nh pháº§n \\((r_1, g_1, b_1)\\), Ä‘áº¿n mÃ u \\(m_n\\) vá»›i thÃ nh pháº§n \\((r_n, g_n, b_n)\\) sáº½ lÃ  cÃ¡c mÃ u \\(m_i\\) cÃ³ cÃ¡c thÃ nh pháº§n tÆ°Æ¡ng á»©ng\n\\[\\begin{align}\nr_i = \\left[r_1 + (-1) * \\cfrac{r_n - r_1}{(n-1)} \\right] \\\\\ng_i = \\left[g_1 + (-1) * \\cfrac{g_n - g_1}{(n-1)} \\right] \\\\\nb_i = \\left[b_1 + (-1) * \\cfrac{b_n - b_1}{(n-1)} \\right]\n\\end{align}\\]ÄÃ¡ng tiáº¿c lÃ  trong khÃ´ng gian \\(Lab\\) viá»‡c ná»™i suy mÃ u sáº¯c khÃ´ng Ä‘Æ¡n giáº£n nhÆ° váº­y. Viá»‡c ná»™i suy dá»±a trÃªn cÃ¡c tÃ­nh toÃ¡n phá»©c táº¡p vÃ  káº¿t quáº£ cuá»‘i cÃ¹ng lÃ  cÃ¡c cÃ´ng thá»©c gáº§n Ä‘Ãºng. Æ¯u Ä‘iá»ƒm cá»§a ná»™i suy mÃ u sáº¯c trong khÃ´ng gian \\(Lab\\) vá»›i khÃ´ng gian \\(RGB\\) sá»± chuyá»ƒn Ä‘á»•i mÃ u sáº¯c giá»¯a cÃ¡c Ä‘iá»ƒm mÆ°á»£t mÃ  hÆ¡n ráº¥t nhiá»u trong cÃ¡ch nháº­n biáº¿t mÃ u sáº¯c cá»§a con ngÆ°á»i.Cáº£ hai hÃ¬nh Ä‘á»u sá»­ dá»¥ng dáº£i mÃ u liÃªn tá»¥c tá»« xanh lam Ä‘áº¿n Ä‘á» Ä‘á»ƒ mÃ´ táº£ má»™t biáº¿n liÃªn tá»¥c lÃ  máº­t Ä‘á»™ cá»§a phÃ¢n phá»‘i chuáº©n hai chiá»u cÃ³ há»‡ sá»‘ tÆ°Æ¡ng quan \\(\\rho=0\\), hÃ¬nh bÃªn trÃ¡i ná»™i suy trong khÃ´ng gian RGB, hÃ¬nh bÃªn pháº£i ná»™i suy trong khÃ´ng gian Lab. CÃ³ thá»ƒ tháº¥y ráº±ng viá»‡c chuyá»ƒn hÃ³a mÃ u sáº¯c tá»« xanh lam sang Ä‘á» khi sá»­ dá»¥ng khÃ´ng gian mÃ u Lab lÃ  mÆ°á»£t hÆ¡n nhiá»u vá»›i khÃ´ng gian RGB.TÆ°Æ¡ng tá»± nhÆ° vá»‹ trÃ­ trÃªn trá»¥c tá»a Ä‘á»™, cÃ¡c tham sá»‘ \\(limits\\), \\(breaks\\), vÃ  \\(label\\) cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c hÃ m \\(scale_fill_*()\\) Ä‘á»ƒ kiá»ƒm soÃ¡t cÃ¡c thang mÃ u liÃªn tá»¥c. Tham sá»‘ \\(limits\\) nháº­n giÃ¡ trá»‹ lÃ  má»™t vÃ©c-tÆ¡ hai pháº§n tá»­, pháº§n tá»­ thá»© nháº¥t cho biáº¿t mÃ u sáº¯c báº¯t Ä‘áº§u trong thang mÃ u tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ nÃ o trong biáº¿n liÃªn tá»¥c vÃ  pháº§n tá»­ thá»© hai cho biáº¿t mÃ u sáº¯c káº¿t thÃºc cá»§a thang mÃ u á»©ng vá»›i giÃ¡ trá»‹ nÃ o cá»§a biáº¿n liÃªn tá»¥c. HÃ m \\(breaks\\) vÃ  \\(labels\\) sá»­ dá»¥ng Ä‘á»ƒ thay Ä‘á»•i giÃ¡ trá»‹ trÃªn thang mÃ u cá»§a chÃº giáº£i.","code":"\n# táº¡o lÆ°á»›i Ä‘iá»ƒm trÃªn hÃ¬nh vuÃ´ng [-2,2] * [2-,2]\nn<-100\nx<-rep(1:n,n)/n*4-2 \ny<-sort(x, decreasing = FALSE)\nrho<-0.8\ndat<-data.frame(x=x,y=y,dens = 1/(2*pi*sqrt(1-rho^2)) * exp(-(x^2+y^2-2*rho*x*y)/(1-rho^2)))\np<-dat%>%ggplot(aes(x,y,fill=dens))+geom_raster()+theme_minimal()\n# táº¡o lÆ°á»›i Ä‘iá»ƒm trÃªn hÃ¬nh vuÃ´ng [-2,2] * [2-,2]\np1<-p + scale_fill_continuous()+\n  ggtitle(\"MÃ u máº·c Ä‘á»‹nh\") # sá»­ dá»¥ng dáº£i mÃ u máº·c Ä‘á»‹nh\np2<-p + scale_fill_viridis_c()+ # Dáº£i mÃ u viridis liÃªn tá»¥c\n  ggtitle(\"Dáº£i mÃ u viridis\")\np3<-p + scale_fill_distiller()+ # Dáº£i mÃ u distiller\n  ggtitle(\"Dáº£i mÃ u distiller\")\np4<-p + scale_fill_fermenter()+ # Dáº£i mÃ u fermenter\n  ggtitle(\"Dáº£i mÃ u fermenter\")\ngrid.arrange(p1,p2,p3,p4,nrow=2,ncol=2)\np1<-p + ggtitle(\"MÃ u máº·c Ä‘á»‹nh\") # sá»­ dá»¥ng dáº£i mÃ u máº·c Ä‘á»‹nh\np2<-p + scale_fill_gradient(low = \"blue\", high = \"red\")+\n  ggtitle(\"Dáº£i mÃ u tá»« xanh lam Ä‘áº¿n Ä‘á»\") # sá»­ dá»¥ng dáº£i mÃ u tá»« xanh lam Ä‘áº¿n Ä‘o\np3<-p + scale_fill_gradient2(low = \"blue\", high = \"red\", mid = \"white\", midpoint = 0.12)+\n  ggtitle(\"Dáº£i mÃ u tá»« xanh lam Ä‘áº¿n Ä‘á» Ä‘iá»ƒm giá»¯a lÃ  tráº¯ng\") \np4<-p +  scale_fill_gradientn(colours = c(\"#00FF00\",\"#FFFFFF\",\"#0000FF\", \"#FFFF00\"))+\n  ggtitle(\"Dáº£i mÃ u Ä‘i qua nhiá»u Ä‘iá»ƒm mÃ u\") \ngrid.arrange(p1,p2,p3,p4,nrow=2,ncol=2)\n# limits cho biáº¿t hai giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng vá»›i Ä‘iá»ƒm Ä‘áº§u vÃ  cuá»‘i cá»§a dáº£i mÃ u\np1<-p + scale_fill_gradient(low = \"blue\", high = \"red\", \n                            limits = c(0,0.5))+\n  ggtitle(\"Tham sá»‘ limits\")\n# breaks cho biáº¿t cÃ¡c giÃ¡ trá»‹ nÃ o xuáº¥t hiá»‡n trÃªn chÃº giáº£i\n# labels cho biáº¿t giÃ¡ trá»‹ hiá»ƒn thá»‹ trong chÃº giáº£i\np2<-p + scale_fill_gradient(low = \"blue\", high = \"red\", \n                            limits = c(0,0.3),\n                            breaks = c(0.1,0.15,0.25),\n                            labels = paste(\"Density at\", c(0.1,0.15,0.25)))+\n  ggtitle(\"Tham sá»‘ breaks vÃ  labels\") \ngrid.arrange(p1,p2,nrow=1,ncol=2)"},{"path":"index.html","id":"dáº£i-mÃ u-rá»i-ráº¡c","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.4.2.3 Dáº£i mÃ u rá»i ráº¡c","text":"Dáº£i mÃ u rá»i ráº¡c dÃ¹ng Ä‘á»ƒ mÃ´ táº£ thuá»™c tÃ­nh tháº©m má»¹ mÃ u sáº¯c cá»§a cÃ¡c biáº¿n rá»i ráº¡c. HÃ m sá»‘ dÃ¹ng Ä‘á»ƒ kiá»ƒm soÃ¡t mÃ u sáº¯c rá»i ráº¡c trong \\(ggplot2\\) lÃ  scale_fill_discrete() vÃ  scale_color_discrete(). Má»—i khi sá»­ dá»¥ng cÃ¡c hÃ m sá»‘ kiá»ƒm soÃ¡t mÃ u sáº¯c rá»i ráº¡c, \\(ggplot2\\) sáº½ máº·c Ä‘á»‹nh sá»­ dá»¥ng dáº£i mÃ u rá»i ráº¡c â€œcÃ¡ch Ä‘á»u nhauâ€ trong khÃ´ng gian \\(HCL\\). Dáº£i mÃ u máº·c Ä‘á»‹nh nÃ y cÃ³ cÃ¹ng sáº¯c Ä‘á»™ (Chromes hay tham sá»‘ \\(c\\)), Ä‘á»™ sÃ¡ng (Luminance hay tham sá»‘ \\(l\\)) vÃ  giÃ¡ trá»‹ \\(h\\) cÃ¡ch Ä‘á»u nhau tá»« gÃ³c 15 Ä‘á»™ (\\(h\\) nháº­n giÃ¡ trá»‹ tá»« 0 Ä‘áº¿n 360 Ä‘á»™). Báº¡n Ä‘á»c muá»‘n sá»­ dá»¥ng cÃ¡c dáº£i mÃ u rá»i ráº¡c trong khÃ´ng gian \\(hcl\\) thÃ¬ cÃ³ thá»ƒ sá»­ dá»¥ng scale_fill_hue() vÃ  scale_color_hue() thay vÃ¬ scale_fill_discrete() vÃ  scale_color_discrete().Dáº£i mÃ u máº·c Ä‘á»‹nh Ä‘á»‘i vá»›i biáº¿n rá»i ráº¡c sá»­ dá»¥ng tham sá»‘ \\(c\\) báº±ng 100 vÃ  tham sá»‘ \\(l\\) báº±ng 65 trong khi tham sá»‘ \\(h\\) nháº­n cÃ¡c giÃ¡ trá»‹ cÃ¡ch Ä‘á»u nhau, báº¯t Ä‘áº§u tá»« \\(h = 15 (Ä‘á»™)\\). LÆ°u Ã½ ráº±ng \\(h\\) nháº­n giÃ¡ trá»‹ tá»« 0 Ä‘á»™ Ä‘áº¿n 360 Ä‘á»™ nÃªn trong trÆ°á»ng há»£p biáº¿n rá»i ráº¡c cÃ³ nÄƒm giÃ¡ trá»‹, cÃ¡c mÃ u sáº¯c sáº½ láº§n lÆ°á»£t nháº­n cÃ¡c giÃ¡ trá»‹ h = 15, 15 + 360/5, 15 + 2 * 360/5, 15 + 3 * 360/5 vÃ  15 + 4 * 360/5. ÄÃ³ lÃ  mÃ u sáº¯c cá»§a cÃ¡c thanh trong Ä‘á»“ thá»‹ barplot bÃªn tay trÃ¡i theo thá»© tá»± tá»« trÃ¡i qua pháº£i. Trong hÃ¬nh á»Ÿ giá»¯a, khi chÃºng ta sá»­ dá»¥ng giÃ¡ trá»‹ tá»‹nh tiáº¿n giÃ¡ trá»‹ h lÃªn 360/5, chÃºng ta cÃ³ thá»ƒ tháº¥y cÃ¡c mÃ u sáº¯c báº¯t Ä‘áº§u tá»« h = 15 + 360/5 vÃ  káº¿t thÃºc á»Ÿ h = 15. Trong hÃ¬nh bÃªn pháº£i, chÃºng tÃ´i giáº£m Ä‘á»™ chÃ³i (tham sá»‘ \\(c\\)) xuá»‘ng cÃ²n 40. ChÃºng ta cÃ³ thá»ƒ tháº¥y dáº£i mÃ u váº«n tÆ°Æ¡ng tá»± nhÆ° hÃ¬nh ban Ä‘áº§u nhÆ°ng khÃ´ng Ä‘áº¡t Ä‘Æ°á»£c Ä‘á»™ sÃ¡ng nhÆ° váº­y.Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c dáº£i mÃ u rá»i ráº¡c Ä‘Æ°á»£c thiáº¿t káº¿ sáºµn cho má»¥c Ä‘Ã­ch trá»±c quan hÃ³a cÃ¡c biáº¿n rá»i ráº¡c. Dáº£i mÃ u rá»i ráº¡c mÃ  chÃºng tÃ´i thÆ°á»ng sá»­ dá»¥ng lÃ  dáº£i mÃ u Brewer. Nhá»¯ng dáº£i mÃ u nÃ y Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ hoáº¡t Ä‘á»™ng tá»‘t trong nhiá»u tÃ¬nh huá»‘ng khÃ¡c nhau ká»ƒ cáº£ Ä‘á»‘i vá»›i nhá»¯ng ngÆ°á»i khÃ³ khÄƒn khi nháº­n biáº¿t mÃ u sáº¯c hay khi sá»­ dá»¥ng Ä‘á»ƒ hiá»ƒn thá»‹ trÃªn nhá»¯ng bá» máº·t lá»›n. HÃ m sá»‘ Ä‘á»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ mÃ u sáº¯c sá»­ dá»¥ng dáº£i mÃ u Brewer lÃ  scale_color_brewer() vÃ  scale_fill_brewer(). Báº¡n Ä‘á»c cáº§n sá»­ dá»¥ng thÆ° viá»‡n \\(RColorBrewer\\) Ä‘á»ƒ gá»i Ä‘Æ°á»£c cÃ¡c hÃ m nÃ y. Äá»ƒ xem cÃ¡c dáº£i mÃ u cÃ³ sáºµn trong thÆ° viá»‡n nÃ y, báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¢u lá»‡nh sauBáº¡n Ä‘á»c sá»­ dá»¥ng tÃ¹y biáº¿n \\(palette\\) trong hÃ m scale_color_brewer() Ä‘á»ƒ lá»±a chá»n dáº£i mÃ u cÃ³ sáºµn.Äá»ƒ táº¡o ra dáº£i mÃ u rá»i ráº¡c theo Ã½ muá»‘n cá»§a mÃ¬nh, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m scale_fill_manual() vÃ  scale_color_manual(). Tham sá»‘ \\(values\\) trong hÃ m nÃ y nháº­n giÃ¡ trá»‹ lÃ  vÃ©c-tÆ¡ chá»©a mÃ u sáº¯c mÃ  báº¡n Ä‘á»c tá»± táº¡o. LÆ°u Ã½ ráº±ng sá»‘ lÆ°á»£ng pháº§n tá»­ trong vÃ©c-tÆ¡ pháº£i tÆ°Æ¡ng á»©ng vá»›i sá»‘ lÆ°á»£ng pháº§n tá»­ trong biáº¿n rá»i ráº¡c.Má»™t hÃ m sá»‘ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ ná»™i suy ra cÃ¡c mÃ u sáº¯c â€œcÃ¡ch Ä‘á»u nhauâ€ trong khÃ´ng gian mÃ u â€œRGBâ€ hoáº·c khÃ´ng gian mÃ u Lab lÃ  hÃ m sá»‘ colorRampPalette() cá»§a thÆ° viá»‡n \\(grDevices\\). Äá»ƒ táº¡o ra má»™t vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i 5, má»—i giÃ¡ trá»‹ lÃ  má»™t mÃ u sáº¯c Ä‘Æ°á»£c ná»™i suy tuyáº¿n tÃ­nh tá»« mÃ u xanh lam Ä‘áº¿n mÃ u Ä‘á» chÃºng ta sá»­ dá»¥ng colorRampPalette() nhÆ° sauCÃ¡c Ä‘á»“ thá»‹ barplot dÆ°á»›i Ä‘Ã¢y sá»­ dá»¥ng cÃ¡c mÃ u sáº¯c mÃ  chÃºng ta tá»± chá»‰ Ä‘á»‹nh báº±ng hÃ m scale_fill_manual()CÃ¡ch sá»­ dá»¥ng tham sá»‘ \\(limits\\), \\(breaks\\), vÃ  \\(label\\) cÅ©ng gáº§n tÆ°Æ¡ng tá»± nhÆ° Ä‘á»‘i vá»›i biáº¿n liÃªn tá»¥c. Tham sá»‘ \\(limits\\) cho biáº¿t cÃ¡c giÃ¡ trá»‹ nÃ o trong biáº¿n rá»i ráº¡c Ä‘Æ°á»£c Ã¡nh xáº¡ tá»›i dáº£i mÃ u sáº¯c. Tham sá»‘ \\(breaks\\) cho biáº¿t cÃ¡c giÃ¡ trá»‹ nÃ o khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng trong Ã¡nh xáº¡ tháº©m má»¹. \\(label\\) cho biáº¿t cÃ¡ch cÃ¡c mÃ u sáº¯c hiá»ƒn thá»‹ trong pháº§n chÃº giáº£i. Theo kinh nghiá»‡m cá»§a chÃºng tÃ´i thÃ¬ tham sá»‘ \\(breaks\\) khÃ´ng cÃ³ nhiá»u Ã½ nghÄ©a khi sá»­ dá»¥ng Ä‘á»‘i vá»›i dáº£i mÃ u sáº¯c liÃªn tá»¥c, trong khi tham sá»‘ \\(limits\\) cÃ³ Ã½ nghÄ©a quan trá»ng khi báº¡n Ä‘á»c cáº§n cá»‘ Ä‘á»‹nh Ã¡nh xáº¡ mÃ u sáº¯c lÃªn biáº¿n rá»i ráº¡c khi váº½ nhiá»u biá»ƒu Ä‘á»“ khÃ¡c nhau vÃ  Ä‘á»ƒ kiá»ƒm soÃ¡t thá»© tá»± xuáº¥t hiá»‡n cá»§a biáº¿n liÃªn tá»¥c trÃªn Ä‘á»“ thá»‹.Sá»­ dá»¥ng \\(limits\\) trong Ä‘á»“ thá»‹ á»Ÿ trÃªn giÃºp chÃºng ta nháº¥n máº¡nh vÃ o 3 quá»‘c gia Philippines, Vietnam, vÃ  Indonesia trong nhÃ³m 10 nÆ°á»›c cÃ³ dÃ¢n sá»‘ lá»›n nháº¥t chÃ¢u Ã trong cÃ¡c nÄƒm 1960 vÃ  2010.","code":"\np1<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()\np2<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_hue(h=c(0,360)+15+360/5)\np3<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_hue(c=30)\ngrid.arrange(p1,p2,p3,nrow=1,ncol=3)\ndisplay.brewer.all()\np1<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_brewer(palette = \"Dark2\")+\n  ggtitle(\"Sá»­ dá»¥ng dáº£i mÃ u Dark2\")\np2<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_brewer(palette = \"Set1\")+\n  ggtitle(\"Sá»­ dá»¥ng dáº£i mÃ u Set1\")\np3<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_brewer(palette = \"Spectral\")+\n  ggtitle(\"Sá»­ dá»¥ng dáº£i mÃ u Spectral\")\ngrid.arrange(p1,p2,p3,nrow=1,ncol=3)\n# ná»™i suy trong RGB\nmypalette1<-colorRampPalette(c(\"blue\",\"red\"), space = \"rgb\")(5)\n# ná»™i suy trong Lab\nmypalette2<-colorRampPalette(c(\"blue\",\"red\"), space = \"Lab\")(5)\np1<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_manual(values = c(\"blue\",\"green\",\"grey\",\"yellow\",\"red\"))+\n  ggtitle(\"MÃ u tá»± Ä‘á»‹nh nghÄ©a\")\np2<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_manual(values = mypalette1)+\n  ggtitle(\"MÃ u ná»™i suy trong RGB\")\np3<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_manual(values = mypalette2)+\n  ggtitle(\"MÃ u ná»™i suy trong Lab\")\ngrid.arrange(p1,p2,p3,nrow=1,ncol=3)\np1<-gapminder%>%filter(year==1960, continent == \"Asia\")%>%\n  arrange(-population)%>%head(10)%>%\n  ggplot(aes(fill=country))+\n  geom_bar(aes(x = population, y = reorder(country,population)),stat=\"identity\",col=\"black\")+\n  ylab(\"\")+ggtitle(\"NÄƒm 1960\")+\n  scale_x_continuous(labels = scales::comma)+\n  scale_fill_manual(values = c(\"blue\",\"red\",\"yellow\"), limits = c(\"Philippines\",\"Vietnam\", \"Indonesia\"))\np2<-gapminder%>%filter(year==2010, continent == \"Asia\")%>%\n  arrange(-population)%>%head(10)%>%\n  ggplot(aes(fill=country))+\n  geom_bar(aes(x = population, y = reorder(country,population)),stat=\"identity\",col=\"black\")+\n  ylab(\"\")+ggtitle(\"NÄƒm 2010\")+\n  scale_x_continuous(labels = scales::comma)+\n  scale_fill_manual(values = c(\"blue\",\"red\",\"yellow\"), limits = c(\"Philippines\",\"Vietnam\", \"Indonesia\"))\n\ngrid.arrange(p1,p2,nrow=1,ncol=2)"},{"path":"index.html","id":"cÃ¡c-thuá»™c-tÃ­nh-tháº©m-má»¹-khÃ¡c","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.4.3 CÃ¡c thuá»™c tÃ­nh tháº©m má»¹ khÃ¡c","text":"NgoÃ i vá»‹ trÃ­ vÃ  mÃ u sáº¯c, cÃ²n cÃ³ má»™t sá»‘ thuá»™c tÃ­nh tháº©m má»¹ khÃ¡c mÃ  \\(ggplot2\\) cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ dá»¯ liá»‡u. Trong pháº§n nÃ y, chÃºng ta sáº½ xem xÃ©t thuá»™c tÃ­nh kÃ­ch thÆ°á»›c (size), hÃ¬nh dáº¡ng (shape), chiá»u rá»™ng cá»§a line vÃ  kiá»ƒu line, sá»­ dá»¥ng cÃ¹ng vá»›i cÃ¡c thuá»™c tÃ­nh vá»‹ trÃ­ vÃ  mÃ u sáº¯c Ä‘á»ƒ thá»ƒ hiá»‡n tá»‘t nháº¥t cÃ¡c biáº¿n trong dá»¯ liá»‡u. NgoÃ i Ä‘á» cáº­p Ä‘áº¿n cÃ¡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh, chÃºng tÃ´i cÅ©ng sáº½ tháº£o luáº­n vá» cÃ¡c hÃ m sá»‘ Ä‘á»ƒ báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm soÃ¡t tá»‘t cÃ¡c thuá»™c tÃ­nh nÃ y.","code":""},{"path":"index.html","id":"kÃ­ch-thÆ°á»›c-size","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.4.3.1 KÃ­ch thÆ°á»›c (size)","text":"Thuá»™c tÃ­nh tháº©m má»¹ kÃ­ch thÆ°á»›c thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ hÃ¬nh dáº¡ng Ä‘á»“ há»a kiá»ƒu Ä‘iá»ƒm hoáº·c kÃ½ tá»±. NhÆ° chÃºng tÃ´i Ä‘Ã£ Ä‘á» cáº­p trong pháº§n giá»›i thiá»‡u, thuá»™c tÃ­nh kÃ­ch thÆ°á»›c thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i biáº¿n liÃªn tá»¥c. Náº¿u khÃ´ng cÃ³ hÃ m kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹, bÃ¡n kÃ­nh cá»§a Ä‘iá»ƒm tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ nhá» nháº¥t luÃ´n lÃ  1 vÃ  bÃ¡n kÃ­nh cá»§a Ä‘iá»ƒm cÃ³ giÃ¡ trá»‹ lá»›n nháº¥t luÃ´n lÃ  6, nghÄ©a lÃ  cÃ³ bÃ¡n kÃ­nh gáº¥p 6 láº§n bÃ¡n kÃ­nh cá»§a Ä‘iá»ƒm nhá» nháº¥t. Khi ná»™i suy ra kÃ­ch thÆ°á»›c cá»§a cÃ¡c Ä‘iá»ƒm khÃ¡c, \\(ggplot2\\) máº·c Ä‘á»‹nh cho kÃ­ch thÆ°á»›c cá»§a Ä‘iá»ƒm lÃ  diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n mÃ´ táº£ Ä‘iá»ƒm Ä‘Ã³ chá»© khÃ´ng pháº£i Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh trÃ²n. KÃ­ch thÆ°á»›c cá»§a Ä‘iá»ƒm sáº½ phá»¥ thuá»™c vÃ o thá»© háº¡ng (rank) cá»§a giÃ¡ trá»‹ Ä‘Ã³ trong biáº¿n liÃªn tá»¥c chá»© khÃ´ng Ä‘Æ°á»£c tÃ­nh báº±ng giÃ¡ trá»‹ thá»±c cá»§a Ä‘iá»ƒm Ä‘Ã³. Náº¿u \\(r_m\\) lÃ  bÃ¡n kÃ­nh cá»§a hÃ¬nh trÃ²n tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ nhá» nháº¥t vÃ  \\(r_M\\) tÆ°Æ¡ng á»©ng vá»›i diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ lá»›n nháº¥t thÃ¬ diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ cÃ³ thá»© háº¡ng \\(k\\) trong tá»•ng sá»‘ \\(n\\) giÃ¡ trá»‹ cá»§a biáº¿n liÃªn tá»¥c lÃ \n\\[\\begin{align}\narea = r_m + (k-1) \\times \\cfrac{r_M - r_m}{n - 1}\n\\end{align}\\]Báº¡n Ä‘á»c cÃ³ thá»ƒ quan sÃ¡t kÃ­ch thÆ°á»›c cá»§a cÃ¡c hÃ¬nh trÃ²n trong hÃ¬nh dÆ°á»›i Ä‘Ã¢yHÃ¬nh bÃªn tay trÃ¡i: diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n náº±m á»Ÿ tá»a Ä‘á»™ (2,2) báº±ng trung bÃ¬nh cá»™ng diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n náº±m á»Ÿ vá»‹ trÃ­ (1,1) vÃ  (3,3). diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n náº±m á»Ÿ vá»‹ trÃ­ (3,3) báº±ng \\(6^2 = 36\\) láº§n diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n táº¡i vá»‹ trÃ­ \\((1,1)\\) nÃªn diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n táº¡i (2,2) báº±ng \\(\\cfrac{36+1}{2} = 18,5 \\textit{(láº§n)}\\) diá»‡n tÃ­ch hÃ¬nh trÃ²n táº¡i (1,1), hay nÃ³i cÃ¡ch khÃ¡c Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh trÃ²n táº¡i vá»‹ trÃ­ (2,2) báº±ng \\(\\sqrt{18,5} \\sim 4,3 \\textit{ (láº§n)}\\) Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh trÃ²n táº¡i vá»‹ trÃ­ (1,1). HÃ¬nh á»Ÿ giá»¯a: cho tháº¥y khi chÃºng ta Ã¡nh xáº¡ thuá»™c tÃ­nh tháº©m má»¹ vÃ o \\(z^2\\) thay vÃ¬ \\(z\\) thÃ¬ kÃ­ch thÆ°á»›c cÃ¡c hÃ¬nh trÃ²n váº«n khÃ´ng há» thay Ä‘á»•i thá»© háº¡ng cá»§a cÃ¡c Ä‘iá»ƒm trong vÃ©c-tÆ¡ \\(z\\) khÃ´ng thay Ä‘á»•i. HÃ¬nh bÃªn pháº£i: khi chÃºng ta chá»‰ váº½ hai Ä‘iá»ƒm thay vÃ¬ cáº£ ba Ä‘iá»ƒm, diá»‡n tÃ­ch hÃ¬nh trÃ²n nhá» nháº¥t vÃ  hÃ¬nh trÃ²n lá»›n nháº¥t váº«n khÃ´ng thay Ä‘á»•i.HÃ m sá»‘ dÃ¹ng Ä‘á»ƒ kiá»ƒm soÃ¡t giÃ¡ trá»‹ cá»§a Ã¡nh xáº¡ tháº©m má»¹ kÃ­ch thÆ°á»›c lÃ  hÃ m scale_size(). Äá»ƒ thay Ä‘á»•i miá»n giÃ¡ trá»‹ cá»§a kÃ­ch thÆ°á»›c, chÃºng ta sá»­ dá»¥ng tham sá»‘ \\(range\\).HÃ¬nh bÃªn trÃ¡i: Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh nhá» nháº¥t lÃ  1, cá»§a hÃ¬nh lá»›n nháº¥t lÃ  6. HÃ¬nh á»Ÿ giá»¯a: Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh nhá» nháº¥t lÃ  1, cá»§a hÃ¬nh lá»›n nháº¥t lÃ  12. HÃ¬nh bÃªn pháº£i: Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh nhá» nháº¥t lÃ  6, cá»§a hÃ¬nh lá»›n nháº¥t lÃ  24. ÄÆ°á»ng kÃ­nh cá»§a cÃ¡c hÃ¬nh náº±m á»Ÿ giá»¯a Ä‘Æ°á»£c ná»™i suy tuyáº¿n tÃ­nh theo diá»‡n tÃ­ch tÄƒng dáº§n theo háº¡ng cá»§a Ä‘iá»ƒm Ä‘Ã³.Trong trÆ°á»ng há»£p báº¡n Ä‘á»c muá»‘n sá»­ dá»¥ng ná»™i suy tuyá»ƒn tÃ­nh theo Ä‘Æ°á»ng kÃ­nh cá»§a Ä‘iá»ƒm thay vÃ¬ diá»‡n tÃ­ch, hÃ£y sá»­ dá»¥ng hÃ m scale_radius()HÃ¬nh bÃªn trÃ¡i sá»­ dá»¥ng scale theo diá»‡n tÃ­ch vÃ  Ä‘Æ°á»ng kÃ­nh hÃ¬nh trÃ²n lá»›n nháº¥t báº±ng 7 láº§n Ä‘Æ°á»ng trÃ²n nhá»; hÃ¬nh trÃ²n á»Ÿ giá»¯a cÃ³ bÃ¡n kÃ­nh báº±ng \\(\\sqrt{\\cfrac{7^2+1^2}{2}} = 5 \\textit{ (láº§n)}\\) diá»‡n tÃ­ch hÃ¬nh trÃ²n nhá» nháº¥t. HÃ¬nh á»Ÿ giá»¯a, scale theo Ä‘Æ°á»ng kÃ­nh hÃ¬nh trÃ²n nÃªn hÃ¬nh á»Ÿ giá»¯a cÃ³ Ä‘Æ°á»ng kÃ­nh báº±ng \\(\\cfrac{7+1}{2} = 4 \\textit{ (láº§n)}\\) Ä‘Æ°á»ng kÃ­nh hÃ¬nh trÃ²n nhá». HÃ¬nh bÃªn pháº£i: Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh nhá» nháº¥t lÃ  4, hÃ¬nh lá»›n nháº¥t lÃ  10, nÃªn bÃ¡n kÃ­nh hÃ¬nh á»Ÿ giá»¯a lÃ  \\(\\cfrac{4+10}{2} = 7\\) (báº±ng kÃ­ch thÆ°á»›c cá»§a hÃ¬nh trÃ²n lá»›n nháº¥t cá»§a hÃ¬nh á»Ÿ giá»¯a).CÃ¡c tham sá»‘ \\(limits\\), \\(breaks\\), vÃ  \\(label\\) Ä‘Æ°á»£c sá»­ dá»¥ng tÆ°Æ¡ng tá»± nhÆ° thuá»™c tÃ­nh tháº©m má»¹ mÃ u sáº¯c. \\(limits\\) cho biáº¿t miá»n giÃ¡ trá»‹ nÃ o cá»§a biáº¿n Ä‘Æ°á»£c Ã¡nh xáº¡ Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹ size. \\(breaks\\) cho biáº¿t cÃ¡c kÃ­ch thÆ°á»›c nÃ o xuáº¥t hiá»‡n trÃªn chÃº giáº£i, vÃ  \\(labels\\) mÃ´ táº£ thuá»™c tÃ­nh tháº©m trÃªn chÃº giáº£i cá»§a Ä‘á»“ thá»‹.","code":"\ndat<-data.frame(x=1:3,y=1:3,z=1:3)\n# HÃ¬nh bÃªn trÃ¡i\np1<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  theme(legend.position = \"none\")\n# HÃ¬nh á»Ÿ giá»¯a\np2<-dat%>%ggplot(aes(x,y,size=z^2))+geom_point(shape=21,fill= \"lightskyblue\")+\n  theme(legend.position = \"none\")\n# HÃ¬nh bÃªn pháº£i\np3<-dat%>%filter(z>=2)%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  theme(legend.position = \"none\")\ngrid.arrange(p1,p2,p3,ncol=3,nrow=1)\ndat<-data.frame(x=1:3,y=1:3,z=1:3)\n# HÃ¬nh bÃªn trÃ¡i\np1<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  theme(legend.position = \"none\")\n# HÃ¬nh á»Ÿ giá»¯a\np2<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  scale_size(range=c(1,12))+\n  theme(legend.position = \"none\")\n# HÃ¬nh bÃªn pháº£i\np3<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  scale_size(range=c(6,24))+\n  theme(legend.position = \"none\")\ngrid.arrange(p1,p2,p3,ncol=3,nrow=1)\ndat<-data.frame(x=1:3,y=1:3,z=1:3)\n# HÃ¬nh bÃªn trÃ¡i\np1<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  theme(legend.position = \"none\")+\n  scale_size(range=c(1,7))\n# HÃ¬nh á»Ÿ giá»¯a\np2<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  scale_radius(range=c(1,7))+\n  theme(legend.position = \"none\")\n# HÃ¬nh bÃªn pháº£i\np3<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  scale_radius(range=c(4,10))+\n  theme(legend.position = \"none\")\ngrid.arrange(p1,p2,p3,ncol=3,nrow=1)\ngapminder%>%filter(year==2010)%>%\n  ggplot(aes(infant_mortality,life_expectancy, size = population))+\n  geom_point(shape = 21, fill = \"lightskyblue\",alpha = 0.5)+\n  scale_size(range = c(1,12),\n             limits = c(10^7,max(gapminder$population)),\n             breaks = c(10^8,2*10^8,5*10^8,10^9),\n             #label = paste(\"DÃ¢n sá»‘\",c(10^8,2*10^8,5*10^8,10^9)),\n             labels = scales::label_comma())"},{"path":"index.html","id":"hÃ¬nh-dáº¡ng-shape","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.4.3.2 HÃ¬nh dáº¡ng (shape)","text":"HÃ¬nh dáº¡ng thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ má»™t biáº¿n rá»i ráº¡c cÃ³ khÃ´ng quÃ¡ nhiá»u giÃ¡ trá»‹ riÃªng biá»‡t. Theo kinh nghiá»‡m cá»§a tÃ¡c giáº£ thÃ¬ hÃ¬nh dáº¡ng chá»‰ nÃªn sá»­ dá»¥ng vá»›i cÃ¡c biáº¿n cÃ³ nhá» hÆ¡n hoáº·c báº±ng 5 giÃ¡ trá»‹ riÃªng biá»‡t. Máº·c dÃ¹ \\(ggplot2\\) cho phÃ©p sá»­ dá»¥ng lÃªn Ä‘áº¿n hÆ¡n 20 hÃ¬nh dáº¡ng khÃ¡c nhau nhÆ°ng sá»­ dá»¥ng nhiá»u hÆ¡n 5 hÃ¬nh dáº¡ng trong má»™t Ä‘á»“ thá»‹ sáº½ lÃ m cho Ä‘á»“ thá»‹ trá»Ÿ nÃªn ráº¯c rá»‘i vÃ  khÃ³ khÄƒn trong nháº­n diá»‡n. Táº¡i phiÃªn báº£n \\(ggplot2\\) mÃ  tÃ¡c giáº£ Ä‘ang sá»­ dá»¥ng, cÃ³ 25 hÃ¬nh dáº¡ng khÃ¡c nhau cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ mÃ´ táº£ biáº¿n rá»i ráº¡c á»©ng vá»›i 25 sá»‘ tá»± nhiÃªn tá»« 1 Ä‘áº¿n 25 nhÆ° sauBáº¡n Ä‘á»c lÆ°u Ã½ ráº±ng cÃ³ má»™t sá»‘ hÃ¬nh dáº¡ng trÃ´ng giá»‘ng nhau nhÆ°ng láº¡i cÃ³ thuá»™c tÃ­nh tháº©m má»¹ khÃ¡c nhau. Cháº³ng háº¡n nhÆ° hÃ¬nh dáº¡ng tÆ°Æ¡ng á»©ng vá»›i sá»‘ 1 lÃ  má»™t Ä‘iá»ƒm hÃ¬nh trÃ²n vá»›i thuá»™c tÃ­nh tháº©m má»¹ color lÃ  mÃ u sáº¯c cá»§a hÃ¬nh trÃ²n Ä‘Ã³, trong khi hÃ¬nh dáº¡ng tÆ°Æ¡ng á»©ng vá»›i sá»‘ 21 cÃ³ thuá»™c tÃ­nh tháº©m má»¹ color lÃ  mÃ u viá»n bÃªn ngoÃ i cá»§a hÃ¬nh trÃ²n vÃ  thuá»™c tÃ­nh tháº©m má»¹ fill má»›i lÃ  mÃ u sáº¯c bÃªn trong hÃ¬nh trÃ²n.Äá»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ Ä‘áº¿n thuá»™c tÃ­nh hÃ¬nh dáº¡ng, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m scale_shape_manual().NhÃ¬n chung Ã¡nh xáº¡ biáº¿n rá»i ráº¡c Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹ hÃ¬nh dáº¡ng khÃ´ng cho hiá»‡u quáº£ tá»‘t trong phÃ¢n biá»‡t cÃ¡c nhÃ³m. Báº¡n Ä‘á»c nÃªn tháº­n trá»ng khi sá»­ dá»¥ng thuá»™c tÃ­nh tháº©m má»¹ nÃ y.","code":"\ndat<-data.frame(x=c(rep(1:10,2),1:5),y = c(rep(3,10),rep(2,10),rep(1,5)), z = 1:25)\ndat%>%ggplot(aes(x,y,shape=as.factor(z)))+geom_point(size=3)+\n  scale_shape_manual(values = 1:25)+theme_classic()+geom_text(aes(label=z),vjust=-1)+\n  theme(legend.position = \"none\")+\n  theme_void()\ngapminder%>%filter(year==2010, continent == \"Asia\")%>%\n  ggplot(aes(gdp/population,life_expectancy, shape = region))+\n  geom_point()+\n  scale_x_continuous(trans=\"log10\")+\n  scale_shape_manual(values=c(21:24,8) )"},{"path":"index.html","id":"kÃ­ch-thÆ°á»›c-vÃ -hÃ¬nh-dáº¡ng-cá»§a-cÃ¡c-Ä‘Æ°á»ng-linewidth-vÃ -linetype","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.4.3.3 KÃ­ch thÆ°á»›c vÃ  hÃ¬nh dáº¡ng cá»§a cÃ¡c Ä‘Æ°á»ng (linewidth vÃ  linetype)","text":"Äá»‘i vá»›i hÃ¬nh dáº¡ng Ä‘á»“ há»a kiá»ƒu cÃ¡c Ä‘Æ°á»ng nhÆ° geom_line(), geom_path(), geom_segment() chÃºng ta cÃ³ thá»ƒ Ã¡nh xáº¡ cÃ¡c biáº¿n rá»i ráº¡c vÃ o Ä‘á»™ rá»™ng hoáº·c hÃ¬nh dáº¡ng cá»§a Ä‘Æ°á»ng. HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ sá»± thay Ä‘á»•i cá»§a biáº¿n \\(gdp\\) cá»§a ba quá»‘c gia bao gá»“m Má»¹, Trung Quá»‘c vÃ  Nháº­t Báº£n theo thá»i gian tá»« nÄƒm 1960 Ä‘áº¿n nÄƒm 2010.HÃ m sá»‘ dÃ¹ng Ä‘á»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ vÃ o hÃ¬nh dáº¡ng cá»§a Ä‘Æ°á»ng lÃ  scale_linetype_manual(). \\(ggplot2\\) cÃ³ 13 hÃ¬nh dáº¡ng cho cÃ¡c Ä‘Æ°á»ng Ä‘Æ°á»£c Ä‘Ã¡nh sá»‘ tá»« 1 Ä‘áº¿n 13 nhÆ° dÆ°á»›i Ä‘Ã¢yÄá»ƒ cÃ¡c Ä‘Æ°á»ng cÃ³ hÃ¬nh dáº¡ng nhÆ° mong muá»‘n, chÃºng ta gÃ¡n giÃ¡ trá»‹ tham sá»‘ \\(values\\) cho vÃ©c-tÆ¡ chá»©a cÃ¡c sá»‘ tá»« 1 Ä‘áº¿n 13 lÃ  hÃ¬nh dáº¡ng mÃ  báº¡n lá»±a chá»n.","code":"\ngapminder%>%filter(country %in% c(\"United States\", \"China\", \"Japan\"), year <= 2011)%>%\n  ggplot(aes(x = year,y = gdp/10^9))+\n  geom_line(aes(linetype = country))+\n  theme_minimal()+\n  ylab(\"GDP in $B\")+\n  scale_x_continuous(breaks = seq(1960,2010,10))+\n  scale_y_continuous(labels = scales::label_comma())\ngapminder%>%filter(country %in% c(\"United States\", \"China\", \"Japan\"), year <= 2011)%>%\n  ggplot(aes(x = year,y = gdp/10^9))+\n  geom_line(aes(linetype = country))+\n  theme_minimal()+\n  ylab(\"GDP in $B\")+\n  scale_x_continuous(breaks = seq(1960,2010,10))+\n  scale_y_continuous(labels = scales::label_comma())+\n  scale_linetype_manual(values = c(4,7,12))"},{"path":"index.html","id":"chÃº-giáº£i-cá»§a-Ã¡nh-xáº¡-tháº©m-má»¹","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.5 ChÃº giáº£i cá»§a Ã¡nh xáº¡ tháº©m má»¹","text":"Vá» máº·t hÃ¬nh thá»©c, náº¿u coi cÃ¡c hÃ m scale_*() trong pháº§n trÆ°á»›c cá»§a chÆ°Æ¡ng sÃ¡ch nhÆ° cÃ¡c Ã¡nh xáº¡ tá»« má»™t táº­p há»£p cÃ¡c giÃ¡ trá»‹ cá»§a biáº¿n Ä‘áº¿n má»™t táº­p há»£p cÃ¡c giÃ¡ trá»‹ cá»§a thuá»™c tÃ¬nh tháº©m má»¹ thÃ¬ chÃº giáº£i lÃ  Ã¡nh xáº¡ ngÆ°á»£c tá»« thuá»™c tÃ­nh tháº©m má»¹ Ä‘áº¿n miá»n giÃ¡ trá»‹ cá»§a biáº¿n. ChÃº giáº£i cho phÃ©p báº¡n chuyá»ƒn Ä‘á»•i cÃ¡c thuá»™c tÃ­nh trá»±c quan trá»Ÿ láº¡i giÃ¡ trá»‹ cá»§a dá»¯ liá»‡u. GiÃ¡ trá»‹ xuáº¥t hiá»‡n trÃªn cÃ¡c trá»¥c tá»a Ä‘á»™ vÃ  cÃ¡c chÃº giáº£i cÃ³ cÃ¡ch hiá»ƒn thá»‹ khÃ¡c nhau nhÆ°ng vá» báº£n cháº¥t láº¡i cÃ³ cÃ¹ng má»™t má»¥c Ä‘Ã­ch lÃ  cho phÃ©p ngÆ°á»i tiáº¿p nháº­n quan sÃ¡t cÃ¡c hÃ¬nh áº£nh Ä‘á»“ há»a trá»±c quan vÃ  Ã¡nh xáº¡ chÃºng trá»Ÿ láº¡i giÃ¡ trá»‹ cá»§a dá»¯ liá»‡u.ChÃº giáº£i cÃ³ kháº£ nÄƒng giáº£i thÃ­ch tá»‘t hÆ¡n giÃ¡ trá»‹ xuáº¥t hiá»‡n trÃªn cÃ¡c trá»¥c tá»a Ä‘á»™ bá»Ÿi cÃ¡c nguyÃªn nhÃ¢n sauChÃº giáº£i cÃ³ thá»ƒ giáº£i thÃ­ch nhiá»u biáº¿n cÃ¹ng lÃºc trong khi giÃ¡ trá»‹ trÃªn trá»¥c tá»a Ä‘á»™ chá»‰ cho phÃ©p má»™t biáº¿n.ChÃº giáº£i cÃ³ thá»ƒ giáº£i thÃ­ch nhiá»u biáº¿n cÃ¹ng lÃºc trong khi giÃ¡ trá»‹ trÃªn trá»¥c tá»a Ä‘á»™ chá»‰ cho phÃ©p má»™t biáº¿n.ChÃº giáº£i cÃ³ thá»ƒ tÃ¹y biáº¿n dá»… hÆ¡n: cÃ³ thá»ƒ xuáº¥t hiá»‡n á»Ÿ cÃ¡c vá»‹ trÃ­ theo Ã½ muá»‘n cá»§a ngÆ°á»i xÃ¢y dá»±ng Ä‘á»“ thá»‹, cÃ³ thá»ƒ xuáº¥t hiá»‡n theo báº¥t ká»³ hÆ°á»›ng nÃ o.ChÃº giáº£i cÃ³ thá»ƒ tÃ¹y biáº¿n dá»… hÆ¡n: cÃ³ thá»ƒ xuáº¥t hiá»‡n á»Ÿ cÃ¡c vá»‹ trÃ­ theo Ã½ muá»‘n cá»§a ngÆ°á»i xÃ¢y dá»±ng Ä‘á»“ thá»‹, cÃ³ thá»ƒ xuáº¥t hiá»‡n theo báº¥t ká»³ hÆ°á»›ng nÃ o.Báº¡n Ä‘á»c hÃ£y lÆ°u Ã½ ráº±ng dÃ¹ chÃºng ta khÃ´ng gá»i báº¥t ká»³ hÃ m scale_*() nÃ o trong cÃ¡c cÃ¢u lá»‡nh thÃ¬ \\(ggplot2\\) váº«n luÃ´n luÃ´n sá»­ dá»¥ng má»™t hÃ m \\(scale\\) máº·c Ä‘á»‹nh Ä‘á»ƒ Ã¡nh xáº¡ tá»« biáº¿n Ä‘áº¿n miá»n giÃ¡ trá»‹ cá»§a thuá»™c tÃ­nh tháº©m má»¹. Má»—i khi báº¡n gá»i hÃ m scale Ä‘á»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹, cÃ¡c giÃ¡ trá»‹ mÃ  báº¡n khai bÃ¡o sáº½ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh. Trong trÆ°á»ng há»£p báº¡n gá»i nhiá»u hÃ m scale tÃ¡c Ä‘á»™ng Ä‘áº¿n má»™t thuá»™c tÃ­nh tháº©m má»¹ thÃ¬ chá»‰ cÃ³ hÃ m scale_*() sau cÃ¹ng báº¡n gá»i ra sau cÃ¹ng Ä‘Æ°á»£c sá»­ dá»¥ng.Khi báº¡n sá»­ dá»¥ng nhiá»u hÃ m scale_*() tÃ¡c Ä‘á»™ng Ä‘áº¿n cÃ¹ng má»™t thuá»™c tÃ­nh tháº©m má»¹ nhÆ° trÃªn, \\(ggplot2\\) sáº½ Ä‘Æ°a ra cÃ¡c cáº£nh bÃ¡o. Báº¡n cáº§n xem xÃ©t láº¡i cÃ¡c cÃ¢u lá»‡nh cá»§a mÃ¬nh Ä‘á»ƒ Ä‘áº£m báº£o sá»­ dá»¥ng Ä‘Ãºng vá»›i má»¥c Ä‘Ã­ch.NhÃ¬n chung Ä‘á»ƒ kiá»ƒm soÃ¡t chÃº giáº£i cá»§a cÃ¡c Ã¡nh xáº¡ tháº©m má»¹, báº¡n Ä‘á»c sá»­ dá»¥ng tham sá»‘ \\(guide\\) trong cÃ¡c hÃ m scale_*() tÆ°Æ¡ng á»©ng. GiÃ¡ trá»‹ gÃ¡n cho tham sá»‘ \\(guide\\) lÃ  má»™t trong cÃ¡c hÃ m sá»‘ sau Ä‘Ã¢y:guide_axis() lÃ  hÃ m sá»‘ dÃ¹ng Ä‘á»ƒ gÃ¡n cho tham sá»‘ \\(guide\\) khi chÃºng ta sá»­ dá»¥ng cÃ¡c hÃ m scale_*() nháº±m kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ Ä‘áº¿n cÃ¡c trá»¥c tá»a Ä‘á»™.Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng tham sá»‘ \\(title\\) trong hÃ m \\(guide\\) Ä‘Ã£ thay tháº¿ cho tham sá»‘ \\(name\\) trong hÃ m scale_(). Tham sá»‘ \\(angle\\) cho biáº¿t hÆ°á»›ng cÃ¡c giÃ¡ trá»‹ xuáº¥t hiá»‡n trÃªn trá»¥c tá»a Ä‘á»™. Báº¡n Ä‘á»c tham kháº£o hÆ°á»›ng dáº«n sá»­ dá»¥ng hÃ m guide_axis() Ä‘á»ƒ hiá»ƒu vá» cÃ¡c tham sá»‘ khÃ¡c nhÆ° \\(n.dodge\\), \\(order\\), hay \\(position\\).guide_legend() lÃ  hÃ m sá»‘ dÃ¹ng Ä‘á»ƒ gÃ¡n cho tham sá»‘ \\(guide\\) khi gá»i cÃ¡c hÃ m scale_*() kiá»ƒm soÃ¡t Ã¡nh xáº¡ tá»« cÃ¡c biáº¿n rá»i ráº¡c Ä‘áº¿n mÃ u sáº¯c. CÃ³ ráº¥t nhiá»u tham sá»‘ cÃ³ thá»ƒ sá»­ dá»¥ng trong hÃ m sá»‘ nÃ y. Báº¡n Ä‘á»c tham kháº£o hÆ°á»›ng dáº«n sá»­ dá»¥ng hÃ m Ä‘á»ƒ biáº¿t Ä‘áº§y Ä‘á»§ cÃ¡c tham sá»‘.guide_colorbar() Ä‘Æ°á»£c dÃ¹ng khi chÃº giáº£i cho cÃ¡c Ã¡nh xáº¡ tá»« biáº¿n liÃªn tá»¥c Ä‘áº¿n dáº£i mÃ u liÃªn tá»¥cguide_colorbar() Ä‘Æ°á»£c dÃ¹ng khi chÃº giáº£i cho cÃ¡c Ã¡nh xáº¡ tá»« biáº¿n liÃªn tá»¥c Ä‘áº¿n dáº£i mÃ u liÃªn tá»¥cguide_bin() Ä‘Æ°á»£c dÃ¹ng khi chÃº giáº£i cho cÃ¡c Ã¡nh xáº¡ tá»« biáº¿n liÃªn tá»¥c Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹ kÃ­ch thÆ°á»›c (size).guide_bin() Ä‘Æ°á»£c dÃ¹ng khi chÃº giáº£i cho cÃ¡c Ã¡nh xáº¡ tá»« biáº¿n liÃªn tá»¥c Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹ kÃ­ch thÆ°á»›c (size).","code":"\np<-gapminder%>%filter(year==2010,region==\"South-Eastern Asia\")%>%\n  mutate(gdp_per_capita = gdp/population)%>%\n  ggplot(aes(reorder(country,gdp_per_capita),gdp_per_capita,fill = country))+\n  geom_bar(stat=\"identity\")+\n  theme_minimal()\np+scale_y_continuous(name = \"GDP bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i\", labels = scales::label_comma())+\n  scale_x_discrete(name = \"Country\")+\n  scale_y_continuous(trans = \"sqrt\")+\n  scale_x_discrete(name = \"Quá»‘c gia\", labels = c(\n    \"Vietnam\" = \"VN\",\n    \"Thailand\" = \"TL\",\n    \"Timor-Leste\" = \"ÄÃ´ng Timor\"))+\n  scale_y_continuous(name = \"GDP bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i\", labels = scales::label_dollar())\np+ scale_x_discrete(name = \"Quá»‘c gia\",\n                   guide = guide_axis(title = \"Country\",\n                                      angle = 90))+\n  scale_y_continuous(name = \"GDP bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i\", labels = scales::label_dollar(),\n                     guide = guide_axis(title = \"GDP per capita\"))\np+scale_x_discrete(guide = guide_axis(title = \"Quá»‘c gia\",\n                                      angle = 90))+\n  scale_y_continuous(labels = scales::label_dollar(),\n                     guide = guide_axis(title = \"GDP per capita\"))+\n  scale_fill_brewer(palette = \"Paired\",\n                    guide = guide_legend(\n                      title = \"Quá»‘c gia\",\n                      title.position = \"top\",\n                      ncol = 2\n                    ))"},{"path":"index.html","id":"cÃ¡c-kiá»ƒu-trá»¥c-tá»a-Ä‘á»™","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.6 CÃ¡c kiá»ƒu trá»¥c tá»a Ä‘á»™","text":"","code":""},{"path":"index.html","id":"chá»§-Ä‘á»-vÃ -ngá»¯-cáº£nh-cá»§a-Ä‘á»“-thá»‹-theme","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.7 Chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh cá»§a Ä‘á»“ thá»‹ (theme)","text":"Trong pháº§n nÃ y, chÃºng ta sáº½ há»c cÃ¡ch sá»­ dá»¥ng chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh (theme) cho cÃ¡c Ä‘á»“ thá»‹. Ngá»¯ cáº£nh cho phÃ©p báº¡n Ä‘á»c kiá»ƒm soÃ¡t tá»‘t cÃ¡c cáº¥u pháº§n khÃ´ng Ã¡nh xáº¡ Ä‘áº¿n dá»¯ liá»‡u trong cÃ¢u chuyá»‡n cá»§a báº¡n. NhÃ¬n chung chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c hiá»ƒn thá»‹ báº±ng cÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a hoáº·c cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c biáº¿n Ä‘á»•i. Chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh cho phÃ©p báº¡n Ä‘á»c kiá»ƒm soÃ¡t nhá»¯ng cáº¥u pháº§n nhÆ° phÃ´ng chá»¯, hÃ¬nh ná»n, vá»‹ trÃ­ chÃº giáº£i,â€¦Sá»± phÃ¢n tÃ¡ch giá»¯a cÃ¡c thÃ nh cÃ¡c pháº§n cÃ³ Ã¡nh xáº¡ Ä‘áº¿n dá»¯ liá»‡u vÃ  thÃ nh pháº§n khÃ´ng Ã¡nh xáº¡ Ä‘áº¿n dá»¯ liá»‡u trong \\(ggplot2\\) lÃ  Ä‘iá»ƒm khÃ¡c biá»‡t vá»›i Ä‘á»“ há»a cÆ¡ sá»Ÿ. Trong Ä‘á»“ há»a cÆ¡ sá»Ÿ háº§u háº¿t cÃ¡c hÃ m Ä‘á»u cÃ³ má»™t sá»‘ lÆ°á»£ng lá»›n cÃ¡c tham sá»‘ sá»‘ chá»‰ Ä‘á»‹nh cáº£ hÃ¬nh thá»©c dá»¯ liá»‡u vÃ  pháº§n khÃ´ng liÃªn quan Ä‘áº¿n dá»¯ liá»‡u, Ä‘iá»u nÃ y lÃ m cho cÃ¡c hÃ m trong Ä‘á»“ thá»‹ cÆ¡ sá»Ÿ trá»Ÿ nÃªn phá»©c táº¡p. \\(ggplot2\\) tiáº¿p cáº­n theo cÃ¡ch khÃ¡c: khi táº¡o Ä‘á»“ thá»‹, báº¡n xÃ¡c Ä‘á»‹nh cÃ¡ch hiá»ƒn thá»‹ dá»¯ liá»‡u trÆ°á»›c, sau Ä‘Ã³ báº¡n cÃ³ thá»ƒ chá»‰nh sá»­a má»i chi tiáº¿t khÃ´ng liÃªn quan Ä‘áº¿n dá»¯ liá»‡u báº±ng cÃ¡ch hÃ m kiá»ƒm soÃ¡t chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh. Äá»ƒ kiá»ƒm soÃ¡t chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh cá»§a Ä‘á»“ thá»‹, báº¡n Ä‘á»c cáº§n náº¯m vá»¯ng cÃ¡c ná»™i dung sau:CÃ¡c chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh Ä‘Ã£ Ä‘Æ°á»£c hoÃ n chá»‰nh sáºµn cÃ³ trong \\(ggplot2\\) vÃ  trong thÆ° viá»‡n \\(ggthemes\\).CÃ¡c chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh Ä‘Ã£ Ä‘Æ°á»£c hoÃ n chá»‰nh sáºµn cÃ³ trong \\(ggplot2\\) vÃ  trong thÆ° viá»‡n \\(ggthemes\\).Kiá»ƒm soÃ¡t cÃ¡c thÃ nh pháº§n cá»§a chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh nhÆ°: tiÃªu Ä‘á» cá»§a Ä‘á»“ thá»‹ (kiá»ƒu chá»¯, kÃ­ch thÆ°á»›c, vá»‹ trÃ­), cÃ¡ch hiá»ƒn thá»‹ cÃ¡c sá»‘ trÃªn cÃ¡c trá»¥c, cÃ¡ch hiá»ƒn thá»‹ cÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a trÃªn chÃº giáº£i, kiá»ƒu chá»¯, kÃ­ch thÆ°á»›c hay vá»‹ trÃ­ cá»§a chÃº giáº£iâ€¦Kiá»ƒm soÃ¡t cÃ¡c thÃ nh pháº§n cá»§a chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh nhÆ°: tiÃªu Ä‘á» cá»§a Ä‘á»“ thá»‹ (kiá»ƒu chá»¯, kÃ­ch thÆ°á»›c, vá»‹ trÃ­), cÃ¡ch hiá»ƒn thá»‹ cÃ¡c sá»‘ trÃªn cÃ¡c trá»¥c, cÃ¡ch hiá»ƒn thá»‹ cÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a trÃªn chÃº giáº£i, kiá»ƒu chá»¯, kÃ­ch thÆ°á»›c hay vá»‹ trÃ­ cá»§a chÃº giáº£iâ€¦Kiá»ƒm soÃ¡t cÃ¡c tÃ¹y biáº¿n cá»§a cÃ¡c hÃ m dÃ¹ng Ä‘á»ƒ gÃ¡n giÃ¡ trá»‹ cho cÃ¡c thÃ nh pháº§n cá»§a chá»§ Ä‘á». VÃ­ dá»¥ nhÆ° hÃ m element_text() cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ chá»‰nh kÃ­ch thÆ°á»›c phÃ´ng chá»¯, mÃ u sáº¯c vÃ  giao diá»‡n cá»§a cÃ¡c thÃ nh pháº§n vÄƒn báº£n.Kiá»ƒm soÃ¡t cÃ¡c tÃ¹y biáº¿n cá»§a cÃ¡c hÃ m dÃ¹ng Ä‘á»ƒ gÃ¡n giÃ¡ trá»‹ cho cÃ¡c thÃ nh pháº§n cá»§a chá»§ Ä‘á». VÃ­ dá»¥ nhÆ° hÃ m element_text() cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ chá»‰nh kÃ­ch thÆ°á»›c phÃ´ng chá»¯, mÃ u sáº¯c vÃ  giao diá»‡n cá»§a cÃ¡c thÃ nh pháº§n vÄƒn báº£n.CÃ¡ch sá»­ dá»¥ng hÃ m theme() vá»›i má»™t danh sÃ¡ch dÃ i cÃ¡c tÃ¹y biáº¿n cho phÃ©p báº¡n ghi Ä‘Ã¨ lÃªn cÃ¡c thÃ nh pháº§n cá»§a chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh máº·c Ä‘á»‹nh.CÃ¡ch sá»­ dá»¥ng hÃ m theme() vá»›i má»™t danh sÃ¡ch dÃ i cÃ¡c tÃ¹y biáº¿n cho phÃ©p báº¡n ghi Ä‘Ã¨ lÃªn cÃ¡c thÃ nh pháº§n cá»§a chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh máº·c Ä‘á»‹nh.","code":""},{"path":"index.html","id":"táº¡o-Ä‘á»“-thá»‹-tÆ°Æ¡ng-tÃ¡c-vÃ -Ä‘á»“-thá»‹-Ä‘á»™ng.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.8 Táº¡o Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c vÃ  Ä‘á»“ thá»‹ Ä‘á»™ng.","text":"CÃ¡c Ä‘á»“ thá»‹ cá»§a thÆ° viá»‡n \\(ggplot2\\) Ä‘á»u lÃ  cÃ¡c Ä‘á»“ thá»‹ tÄ©nh. CÃ¡c Ä‘á»“ thá»‹ Ä‘á»™ng hay Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c ngoÃ i lá»£i tháº¿ hÆ¡n Ä‘á»“ thá»‹ tÄ©nh á»Ÿ viá»‡c thu hÃºt thá»‹ giÃ¡c cá»§a ngÆ°á»i tiáº¿p nháº­n cÃ²n á»Ÿ kháº£ nÄƒng mÃ´ táº£ dá»¯ liá»‡u má»™t cÃ¡ch Ä‘áº§y Ä‘á»§ thÃ´ng tin hÆ¡n:CÃ¡c Ä‘á»“ thá»‹ dáº¡ng Ä‘á»™ng Ä‘áº·c biá»‡t hiá»‡u quáº£ trong viá»‡c mÃ´ táº£ sá»± thay Ä‘á»•i dá»¯ liá»‡u theo thá»i gian.CÃ¡c Ä‘á»“ thá»‹ dáº¡ng Ä‘á»™ng Ä‘áº·c biá»‡t hiá»‡u quáº£ trong viá»‡c mÃ´ táº£ sá»± thay Ä‘á»•i dá»¯ liá»‡u theo thá»i gian.CÃ¡c Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c cho phÃ©p hiá»ƒn thá»‹ thÃ´ng tin báº±ng con trá», hoáº·c phÃ³ng , thu nhá» tá»«ng pháº§n cá»§a Ä‘á»“ thá»‹. Báº¡n Ä‘á»c trÃ¡nh pháº£i hiá»ƒn thá»‹ quÃ¡ nhiá»u thÃ´ng tin lÃªn Ä‘á»“ thá»‹ cÃ¹ng lÃºc.CÃ¡c Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c cho phÃ©p hiá»ƒn thá»‹ thÃ´ng tin báº±ng con trá», hoáº·c phÃ³ng , thu nhá» tá»«ng pháº§n cá»§a Ä‘á»“ thá»‹. Báº¡n Ä‘á»c trÃ¡nh pháº£i hiá»ƒn thá»‹ quÃ¡ nhiá»u thÃ´ng tin lÃªn Ä‘á»“ thá»‹ cÃ¹ng lÃºc.Khuyáº¿t Ä‘iá»ƒm duy nháº¥t cá»§a cÃ¡c Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c vÃ  cÃ¡c Ä‘á»“ thá»‹ Ä‘á»™ng Ä‘Ã³ lÃ  khÃ´ng thá»ƒ biá»ƒu diá»…n trÃªn cÃ¡c báº£n cá»©ng.Trong pháº§n nÃ y cá»§a chÆ°Æ¡ng sÃ¡ch, chÃºng tÃ´i sáº½ tháº£o luáº­n vá» hai thÆ° viá»‡n dÃ¹ng Ä‘á»ƒ táº¡o Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c vÃ  Ä‘á»“ thá»‹ dáº¡ng Ä‘á»™ng sá»­ dá»¥ng cÃ¹ng vá»›i \\(ggplot2\\) lÃ  \\(ggiraph\\) vÃ  \\(plotly\\). Náº¿u nhÆ° \\(ggiraph\\) lÃ  thÆ° viá»‡n bá»• sung cho \\(ggplot2\\) vÃ  Ä‘Æ°á»£c xÃ¢y dá»±ng dá»±a trÃªn cáº¥u trÃºc ngá»¯ phÃ¡p Ä‘á»“ thá»‹ tÆ°Æ¡ng tá»± nhÆ° \\(ggplot2\\) thÃ¬ \\(plotly\\) lÃ  má»™t thÆ° viá»‡n khÃ¡ Ä‘á»™c láº­p vá»›i \\(ggplot2\\) vÃ  chuyÃªn sá»­ dá»¥ng Ä‘á»ƒ táº¡o Ä‘á»“ thá»‹ dáº¡ng Ä‘á»™ng vÃ  tÆ°Æ¡ng tÃ¡c.","code":""},{"path":"index.html","id":"táº¡o-Ä‘á»“-thá»‹-tÆ°Æ¡ng-tÃ¡c-vá»›i-ggiraph","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.8.1 Táº¡o Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c vá»›i \\(ggiraph\\)","text":"Æ¯u Ä‘iá»ƒm lá»›n nháº¥t cá»§a \\(ggiraph\\) Ä‘Ã³ lÃ  cÃ¡c cÃ¢u lá»‡nh táº¡o Ä‘á»“ thá»‹ cÅ©ng Ä‘Æ°á»£c dá»±a trÃªn ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹, nghÄ©a lÃ  hoÃ n toÃ n tÆ°Æ¡ng Ä‘á»“ng vá»›i cÃ¡c cÃ¢u lá»‡nh trong \\(ggplot2\\). Äá»ƒ táº¡o má»™t Ä‘á»“ thá»‹ trong \\(ggiraph\\), báº¡n Ä‘á»c chá»‰ cáº§n thÃªm cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ cá»§a Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c vÃ  Ä‘á»“ thá»‹ Ä‘á»™ng cÃ¹ng vá»›i cÃ¡c thuá»™c tÃ­nh cá»§a Ä‘á»“ thá»‹ tÄ©nh cá»§a \\(ggplot2\\). Táº¡i thá»i Ä‘iá»ƒm chÃºng tÃ´i viáº¿t chÆ°Æ¡ng sÃ¡ch nÃ y, thÆ° viá»‡n \\(ggiraph\\) Ä‘ang á»Ÿ phiÃªn báº£n 0.8.7 vÃ  hÆ°á»›ng dáº«n sá»­ dá»¥ng á»Ÿ trong link dÆ°á»›i Ä‘Ã¢yhttps://cloud.r-project.org/web/packages/ggiraph/ggiraph.pdfSau khi xem qua danh sÃ¡ch cÃ¡c hÃ m sá»‘ trong thÆ° viá»‡n \\(ggiraph\\), báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng Ä‘a sá»‘ cÃ¡c hÃ m geom_*() trong thÆ° viá»‡n \\(ggplot2\\) Ä‘á»u cÃ³ má»™t hÃ m tÆ°Æ¡ng á»©ng Ä‘á»ƒ táº¡o Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c lÃ  geom_*_interactive(). Cháº³ng háº¡n nhÆ° hÃ m geom_point() trong thÆ° viá»‡n \\(ggplot2\\) sáº½ cÃ³ hÃ m tÆ°Æ¡ng á»©ng trong \\(ggiraph\\) lÃ  geom_point_interactive(). Hai cáº¥u pháº§n tháº©m má»¹ cho Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c lÃ  \\(tooltip\\) vÃ  \\(data_id\\). CÅ©ng giá»‘ng nhÆ° \\(plotly\\), báº¡n Ä‘á»c cáº§n táº¡o má»™t Ä‘á»‘i tÆ°á»£ng kiá»ƒu Ä‘á»“ thá»‹ báº±ng hÃ m ggplot() sau Ä‘Ã³ sá»­ dá»¥ng hÃ m girafe() Ä‘á»ƒ táº¡o Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c. HÃ£y quan sÃ¡t vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y:Thuá»™c tÃ­nh tháº©m má»¹ \\(tooltip\\) cho biáº¿t thÃ´ng tin hiá»ƒn thá»‹ cá»§a cÃ¡c Ä‘iá»ƒm trÃªn Ä‘á»“ thá»‹ khi sá»­ dá»¥ng con trá» trong khi thuá»™c tÃ­nh tháº©m má»¹ \\(data\\_id\\) khi Ä‘Æ°á»£c Ã¡nh xáº¡ Ä‘áº¿n tá»« má»™t biáº¿n sáº½ cho biáº¿t cÃ¡c quan sÃ¡t cÃ³ cÃ¹ng giÃ¡ trá»‹ trÃªn biáº¿n Ä‘Ã³. Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng con trá» di chuyá»ƒn Ä‘áº¿n tá»«ng cÃ¡c Ä‘iá»ƒm Ä‘á»ƒ xem káº¿t quáº£ cá»§a Ã¡nh xáº¡ Ä‘áº¿n thuá»™c tÃ­nh \\(tooltip\\) vÃ  \\(data_id\\).CÃ¡ch sá»­ dá»¥ng cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ \\(tooltip\\) vÃ  \\(data\\_id\\) hoÃ n toÃ n tÆ°Æ¡ng tá»± trong cÃ¡c Ä‘á»“ thá»‹ cÆ¡ báº£n khÃ¡c.Äá»“ thá»‹ dáº¡ng bong bÃ³ngÄá»“ thá»‹ dáº¡ng line: Äá»“ thá»‹ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ tá»· lá»‡ tháº¥t nghiá»‡p cá»§a nÆ°á»›c Má»¹ qua cÃ¡c thá»i ká»³ Tá»•ng thá»‘ng vÃ  cÃ¡c Äáº£ngÄá»“ thá»‹ dáº¡ng thanhÄá»“ thá»‹ dáº¡ng thanhBáº£n Ä‘á»“ tÆ°Æ¡ng tÃ¡cBáº£n Ä‘á»“ tÆ°Æ¡ng tÃ¡cChÃºng ta sáº½ mÃ´ táº£ biáº¿n infant_mortality cá»§a dá»¯ liá»‡u \\(gapminder\\) thÃ´ng qua báº£n Ä‘á»“ tháº¿ giá»›i","code":"\np<-murders %>% ggplot(aes(y = total, x = population)) +\n  geom_point_interactive(aes(fill=region, \n                             tooltip = paste0(\"State: \", state, \"\\n Region: \", region, \"\\n Population: \", population), \n                             onclick = region), \n                         size = 4, shape=21, alpha = 0.8, color = \"black\") +\n  geom_smooth(method = \"lm\", se = FALSE, linetype = 2, color=\"grey\")+\n  scale_x_continuous(trans = \"log10\", labels = scales::label_comma()) +\n  scale_y_log10() +\n  scale_fill_brewer(palette = \"Dark2\")+\n  theme_minimal()+\n  ggtitle(\"Sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng táº¡i cÃ¡c bang nÄƒm 2010\")\ngirafe(ggobj = p)\np<-diamonds%>%group_by(cut,color)%>%mutate(ave_price = mean(price))%>%ungroup()%>%\n  as.data.frame()%>%\n  ggplot(aes(cut,color,color = ave_price))+\n  geom_count_interactive(aes(tooltip = paste0(\"Number: \", after_stat(n))))+\n  scale_color_continuous(type = \"viridis\")+\n  scale_size(range=c(1,12))+\n  theme_minimal()\ngirafe(ggobj = p)\ndat1<-presidential[3:11,]\np<-economics%>%mutate(unemploy_rate = unemploy/pop)%>%\n  ggplot()+\n  geom_line_interactive(aes(x=date,y=unemploy_rate,tooltip = name, data_id = party))+\n  scale_y_continuous(limits = c(0.013,0.052))+\n  geom_rect(data=dat1,\n              aes(xmin = start, xmax = end, \n                  ymin = 0.013, ymax = 0.052,fill = party),alpha = 0.4)+\n  geom_rect_interactive(data=dat1,\n            aes(xmin = start, xmax = end, \n                ymin = 0.013, ymax = 0.052,\n                tooltip = name,\n                data_id = name),color = \"black\",size=0.1,alpha=0.01)+\n  scale_fill_manual(values=c(\"blue\",\"red\"))+\n  theme_minimal()\ngirafe(ggobj = p)"},{"path":"index.html","id":"táº¡o-Ä‘á»“-thá»‹-tÆ°Æ¡ng-tÃ¡c-vá»›i-plotly","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.8.2 Táº¡o Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c vá»›i \\(plotly\\)","text":"Äá»ƒ táº¡o má»™t Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c báº±ng thÆ° viá»‡n \\(plotly\\) dá»… hÆ¡n báº¡n nghÄ© ráº¥t nhiá»u. Viá»‡c duy nháº¥t báº¡n Ä‘á»c cáº§n lÃ m lÃ  gá»i thÆ° viá»‡n \\(plotly\\) vÃ  sau Ä‘Ã³ sá»­ dá»¥ng hÃ m ggplotly(). Äoáº¡n cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ dá»¯ liá»‡u \\(murders\\) dÆ°á»›i dáº¡ng Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm tÆ°Æ¡ng tÃ¡c.Báº¡n Ä‘á»c cÃ³ thá»ƒ tÆ°Æ¡ng tÃ¡c vá»›i Ä‘á»“ thá»‹ báº±ng cÃ¡c thao tÃ¡c nhÆ° sau:Sá»­ dá»¥ng con trá» chá»‰ vÃ o cÃ¡c Ä‘iá»ƒm Ä‘á»ƒ xem thÃ´ng tin chÃ­nh xÃ¡c vá» dÃ¢n sá»‘, sá»‘ vá»¥ sÃ¡t nhÃ¢n, tÃªn bang, vÃ  tÃªn vÃ¹ng cá»§a má»—i Ä‘iá»ƒm.Sá»­ dá»¥ng con trá» chá»‰ vÃ o cÃ¡c Ä‘iá»ƒm Ä‘á»ƒ xem thÃ´ng tin chÃ­nh xÃ¡c vá» dÃ¢n sá»‘, sá»‘ vá»¥ sÃ¡t nhÃ¢n, tÃªn bang, vÃ  tÃªn vÃ¹ng cá»§a má»—i Ä‘iá»ƒm.Sá»­ dá»¥ng con trá», hoáº·c cÃ¡c nÃºt phÃ³ng , thu nhá» Ä‘á»ƒ xem tá»«ng pháº§n cá»§a Ä‘á»“ thá»‹.Sá»­ dá»¥ng con trá», hoáº·c cÃ¡c nÃºt phÃ³ng , thu nhá» Ä‘á»ƒ xem tá»«ng pháº§n cá»§a Ä‘á»“ thá»‹.Sá»­ dá»¥ng con trá» trÃªn chÃº giáº£i Ä‘á»ƒ lá»±a chá»n cÃ¡c vÃ¹ng nÃ o hiá»ƒn thá»‹, hoáº·c khÃ´ng hiá»ƒn thá»‹ trÃªn Ä‘á»“ thá»‹.Sá»­ dá»¥ng con trá» trÃªn chÃº giáº£i Ä‘á»ƒ lá»±a chá»n cÃ¡c vÃ¹ng nÃ o hiá»ƒn thá»‹, hoáº·c khÃ´ng hiá»ƒn thá»‹ trÃªn Ä‘á»“ thá»‹.Sá»­ dá»¥ng con trá» trÆ°á»£t theo Ä‘Æ°á»ng tháº³ng táº¡o bá»Ÿi geom_smooth() Ä‘á»ƒ biáº¿t giÃ¡ trá»‹ trÃªn trá»¥c total vÃ  population cá»§a má»—i Ä‘iá»ƒm trÃªn Ä‘Æ°á»ng tháº³ng. LÆ°u Ã½ ráº±ng giÃ¡ trá»‹ xuáº¥t hiá»‡n lÃ  giÃ¡ trá»‹ sau khi Ä‘Ã£ chuyá»ƒn Ä‘á»•i báº±ng hÃ m \\(log10()\\).Sá»­ dá»¥ng con trá» trÆ°á»£t theo Ä‘Æ°á»ng tháº³ng táº¡o bá»Ÿi geom_smooth() Ä‘á»ƒ biáº¿t giÃ¡ trá»‹ trÃªn trá»¥c total vÃ  population cá»§a má»—i Ä‘iá»ƒm trÃªn Ä‘Æ°á»ng tháº³ng. LÆ°u Ã½ ráº±ng giÃ¡ trá»‹ xuáº¥t hiá»‡n lÃ  giÃ¡ trá»‹ sau khi Ä‘Ã£ chuyá»ƒn Ä‘á»•i báº±ng hÃ m \\(log10()\\).CÃ¡c thÃ´ng tin báº¡n Ä‘á»c muá»‘n hiá»ƒn thá»‹ báº±ng con trá» lÃ  cÃ¡c dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c Ã¡nh xáº¡ vÃ o trong cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ cá»§a Ä‘á»“ thá»‹. Trong Ä‘á»“ thá»‹ á»Ÿ trÃªn thÃ´ng tin cá»§a má»—i Ä‘iá»ƒm bao gá»“m cÃ³ 1: Population, 2: Total, 3: State, vÃ  4: region. Náº¿u khÃ´ng sá»­ dá»¥ng \\(plotly\\), thuá»™c tÃ­nh tháº©m má»¹ \\(label\\) sáº½ khÃ´ng Ä‘Æ°á»£c hiá»ƒn thá»‹ chÃºng ta khÃ´ng sá»­ dá»¥ng geom_text() hay geom_label(). \\(plotly\\) sáº½ hiá»ƒn thá»‹ thÃ´ng tin cá»§a táº¥t cáº£ cÃ¡c biáº¿n cÃ³ Ã¡nh xáº¡ Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹, dÃ¹ thuá»™c tÃ­nh tháº©m má»¹ Ä‘Ã³ khÃ´ng hiá»ƒn thá»‹ trong \\(ggplot2\\).Tham sá»‘ \\(tooltip\\) trong hÃ m \\(ggplotly\\) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm soÃ¡t cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ xuáº¥t hiá»‡n trÃªn Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c. VÃ­ dá»¥ nhÆ° trong Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm á»Ÿ trÃªn, báº¡n Ä‘á»c khÃ´ng chá»‰ muá»‘n thÃ´ng tin hiá»ƒn thá»‹ trÃªn má»—i Ä‘iá»ƒm chá»‰ bao gá»“m tÃªn bang (thuá»™c tÃ­nh tháº©m má»¹ \\(fill\\)) vÃ  vÃ¹ng (thuá»™c tÃ­nh tháº©m má»¹ \\(label\\)), chÃºng ta sá»­ dá»¥ng tÃ¹y biáº¿n \\(tooltip\\) nhÆ° sauChÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng \\(ggplotly\\) trÃªn háº§u háº¿t cÃ¡c Ä‘á»“ thá»‹ Ä‘Æ°á»£c táº¡o bá»Ÿi \\(ggplot2\\), dÆ°á»›i Ä‘Ã¢y lÃ  má»™t sá»‘ vÃ­ dá»¥Äá»“ thá»‹ kiá»ƒu bong bÃ³ng:Äá»“ thá»‹ kiá»ƒu lineÄá»“ thá»‹ kiá»ƒu thanh: barplot káº¿t há»£p vá»›i thuá»™c tÃ­nh tháº©m má»¹ \\(fill\\) cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ trá»±c quan hÃ³a hai biáº¿n rá»i ráº¡c. Äá»“ thá»‹ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i táº¡i cÃ¡c ChÃ¢u lá»¥c vÃ o nÄƒm 2010 theo cÃ¡c má»©c Ä‘á»™: dÆ°á»›i $2000, tá»« $2000 Ä‘áº¿n $5000, vÃ  trÃªn $5000.Báº£n Ä‘á»“ tÆ°Æ¡ng tÃ¡c: báº£n Ä‘á»“ tÆ°Æ¡ng tÃ¡c giÃºp cho viá»‡c hiá»ƒn thá»‹ dá»¯ liá»‡u trÃªn báº£n Ä‘á»“ trá»Ÿ nÃªn Ä‘Æ¡n giáº£n hÆ¡n ráº¥t nhiá»u vá»›i sá»­ dá»¥ng geom_text() hoáº·c geom_label()Táº¡o Ä‘á»“ thá»‹ dáº¡ng Ä‘á»™ng (dynamic) lÃ  má»™t phÆ°Æ¡ng phÃ¡p thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ dá»¯ liá»‡u biáº¿n Ä‘á»•i theo thá»i gian. Äá»“ thá»‹ dáº¡ng Ä‘á»™ng ngoÃ i yáº¿u tá»‘ báº¯t máº¯t cÃ²n giÃºp cho ngÆ°á»i tiáº¿p nháº­n dá»¯ liá»‡u cáº£m nháº­n Ä‘Æ°á»£c báº£n cháº¥t cá»§a váº¥n Ä‘á» phá»©c táº¡p má»™t cÃ¡ch trá»±c quan nháº¥t. HÃ£y báº¯t Ä‘áº§u vá»›i má»™t dá»¯ liá»‡u Ä‘Æ¡n giáº£n bao gá»“m hai biáº¿n \\(x\\), \\(y\\) vÃ  thá»i gian \\(time\\).ChÃºng ta muá»‘n váº½ má»™t Ä‘iá»ƒm táº¡i cÃ¡c vá»‹ trÃ­ lÆ°u á»Ÿ cá»™t \\(x\\) vÃ  cá»™t \\(y\\) di chuyá»ƒn theo thá»i gian Ä‘Æ°á»£c lÆ°u trong cá»™t \\(time\\) vá»›i \\(ggplotly\\), chÃºng ta chá»‰ cáº§n khai bÃ¡o thÃªm Ã¡nh xáº¡ tháº©m má»¹ tá»« thuá»™c tÃ­nh \\(frame\\) cá»§a hÃ m animation_opts() Ä‘áº¿n biáº¿n \\(time\\) nhÆ° dÆ°á»›i Ä‘Ã¢yÄá»“ thá»‹ dáº¡ng Ä‘á»™ng sáº½ Ä‘Æ°á»£c kÃ­ch hoáº¡t má»—i khi chÃºng ta báº¥m nÃºt â€œplayâ€. CÃ¡c tham sá»‘ \\(width\\) vÃ  \\(height\\) trong hÃ m ggplotly() cho biáº¿t kÃ­ch thÆ°á»›c cá»§a Ä‘á»“ thá»‹ dáº¡ng Ä‘á»™ng trong khi tham sá»‘ \\(frame\\) trong hÃ m animation_opts() cho biáº¿t Ä‘á»™ mÆ°á»£t cá»§a hÃ¬nh Ä‘á»™ng.Giáº£ sá»­ báº¡n Ä‘á»c muá»‘n theo dÃµi má»‘i quan há»‡ giá»¯a hai biáº¿n tuá»•i thá» trung bÃ¬nh vÃ  tá»· lá»‡ sinh trung bÃ¬nh cá»§a táº¥t cáº£ cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i. Báº¡n sá»­ dá»¥ng Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ giá»¯a hai biáº¿n liÃªn tá»¥c, sá»­ dá»¥ng mÃ u sáº¯c Ä‘á»ƒ phÃ¢n biá»‡t giá»¯a cÃ¡c chÃ¢u lá»¥c, sá»­ dá»¥ng kÃ­ch thÆ°á»›c cá»§a cÃ¡c Ä‘iá»ƒm Ä‘á»ƒ mÃ´ táº£ dÃ¢n sá»‘, vÃ  sau cÃ¹ng báº¡n sá»­ dá»¥ng \\(frame\\) Ä‘á»ƒ mÃ´ táº£ biáº¿n \\(year\\). Vá»›i má»™t vÃ i Ä‘iá»u chá»‰nh Ã¡nh xáº¡ tháº©m má»¹, báº¡n Ä‘Ã£ cÃ³ thá»ƒ ká»ƒ Ä‘Æ°á»£c má»™t cÃ¢u chuyá»‡n háº¥p dáº«n vá» tuá»•i thá» trung bÃ¬nh vÃ  tá»· lá»‡ sinh dá»±a trÃªn dá»¯ liá»‡u \\(gapminder\\)Má»™t trong nhá»¯ng cÃ´ng viá»‡c khÃ³ khÄƒn nháº¥t cá»§a nhá»¯ng ngÆ°á»i lÃ m viá»‡c liÃªn quan Ä‘áº¿n xÃ¢y dá»±ng cÃ¡c mÃ´ hÃ¬nh toÃ¡n há»c phá»©c táº¡p lÃ  giáº£i thÃ­ch káº¿t quáº£ cá»§a mÃ¬nh cho nhá»¯ng ngÆ°á»i Ã­t cÃ³ kiáº¿n thá»©c chuyÃªn mÃ´n vá» lÄ©nh vá»±c nÃ y. Kinh nghiá»‡m cá»§a chÃºng tÃ´i lÃ  hÃ£y trá»±c quan hÃ³a káº¿t quáº£ cá»§a mÃ¬nh thay vÃ¬ cÃ¡c cÃ´ng thá»©c phá»©c táº¡p. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ i khÃ¡i niá»‡m toÃ¡n há»c phá»©c táº¡p Ä‘Æ°á»£c giáº£i thÃ­ch dÆ°á»›i dáº¡ng Ä‘á»“ thá»‹ Ä‘á»™ngChuyá»ƒn Ä‘á»™ng Brown: chuyá»ƒn Ä‘á»™ng Brown lÃ  má»™t quÃ¡ trÃ¬nh ngáº«u nhiÃªn cÃ³ Ã½ nghÄ©a Ä‘áº·c biá»‡t quan trá»ng trong tÃ i chÃ­nh, báº£o hiá»ƒm, vÃ  cáº£ cÃ¡c lÄ©nh vá»±c cÃ´ng nghá»‡. KhÃ´ng dá»… dÃ ng Ä‘á»ƒ giáº£i thÃ­ch cho nhá»¯ng ngÆ°á»i khÃ´ng cÃ³ ná»n táº£ng vá» toÃ¡n cÃ¡c khÃ¡i niá»‡m vá» chuyá»ƒn Ä‘á»™ng Brown. Thay vÃ¬ cÃ¡c cÃ´ng thá»©c toÃ¡n, chÃºng ta cÃ³ thá»ƒ giáº£i thÃ­ch vá» chuyá»ƒn Ä‘á»™ng Brown thÃ´ng qua trá»±c quan hÃ³a:Chuyá»ƒn Ä‘á»™ng Brown: chuyá»ƒn Ä‘á»™ng Brown lÃ  má»™t quÃ¡ trÃ¬nh ngáº«u nhiÃªn cÃ³ Ã½ nghÄ©a Ä‘áº·c biá»‡t quan trá»ng trong tÃ i chÃ­nh, báº£o hiá»ƒm, vÃ  cáº£ cÃ¡c lÄ©nh vá»±c cÃ´ng nghá»‡. KhÃ´ng dá»… dÃ ng Ä‘á»ƒ giáº£i thÃ­ch cho nhá»¯ng ngÆ°á»i khÃ´ng cÃ³ ná»n táº£ng vá» toÃ¡n cÃ¡c khÃ¡i niá»‡m vá» chuyá»ƒn Ä‘á»™ng Brown. Thay vÃ¬ cÃ¡c cÃ´ng thá»©c toÃ¡n, chÃºng ta cÃ³ thá»ƒ giáº£i thÃ­ch vá» chuyá»ƒn Ä‘á»™ng Brown thÃ´ng qua trá»±c quan hÃ³a:Markov Chain Monte Carlo lÃ  má»™t ká»¹ thuáº­t mÃ´ phá»ng biáº¿n ngáº«u nhiÃªn hoáº·c má»™t vÃ©c-tÆ¡ ngáº«u nhiÃªn cÃ³ hÃ m phÃ¢n phá»‘i \\(F\\) mÃ  khÃ´ng thá»ƒ mÃ´ phá»ng Ä‘Æ°á»£c má»™t cÃ¡ch trá»±c tiáº¿p. QuÃ¡ trÃ¬nh táº¡o ra biáº¿n ngáº«u nhiÃªn cÃ³ hÃ m phÃ¢n phá»‘i \\(F\\) sáº½ báº¯t Ä‘áº§u tá»« má»™t phÃ¢n phá»‘i \\(G\\) mÃ  chÃºng ta cÃ³ thá»ƒ mÃ´ phá»ng ra Ä‘Æ°á»£c Ä‘i qua cÃ¡c hÃ m phÃ¢n phá»‘i trung gian vÃ  sáº½ há»™i tá»¥ Ä‘áº¿n phÃ¢n phá»‘i \\(F\\). HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ quÃ¡ trÃ¬nh mÃ´ phá»ng biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(0,1)\\) tá»« má»™t phÃ¢n phá»‘i cÃ³ hai Ä‘inh (2 mode).Markov Chain Monte Carlo lÃ  má»™t ká»¹ thuáº­t mÃ´ phá»ng biáº¿n ngáº«u nhiÃªn hoáº·c má»™t vÃ©c-tÆ¡ ngáº«u nhiÃªn cÃ³ hÃ m phÃ¢n phá»‘i \\(F\\) mÃ  khÃ´ng thá»ƒ mÃ´ phá»ng Ä‘Æ°á»£c má»™t cÃ¡ch trá»±c tiáº¿p. QuÃ¡ trÃ¬nh táº¡o ra biáº¿n ngáº«u nhiÃªn cÃ³ hÃ m phÃ¢n phá»‘i \\(F\\) sáº½ báº¯t Ä‘áº§u tá»« má»™t phÃ¢n phá»‘i \\(G\\) mÃ  chÃºng ta cÃ³ thá»ƒ mÃ´ phá»ng ra Ä‘Æ°á»£c Ä‘i qua cÃ¡c hÃ m phÃ¢n phá»‘i trung gian vÃ  sáº½ há»™i tá»¥ Ä‘áº¿n phÃ¢n phá»‘i \\(F\\). HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ quÃ¡ trÃ¬nh mÃ´ phá»ng biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(0,1)\\) tá»« má»™t phÃ¢n phá»‘i cÃ³ hai Ä‘inh (2 mode).","code":"\np<-murders %>% ggplot(aes(y = total, label = state, x = population)) +\n  geom_point(aes(fill=region), size = 4, shape=21, alpha = 0.8, color = \"black\") +\n  geom_smooth(method = \"lm\", se = FALSE, linetype = 2, color=\"grey\")+\n  scale_x_continuous(trans = \"log10\", labels = scales::label_comma()) +\n  scale_y_log10() +\n  scale_fill_brewer(palette = \"Dark2\")+\n  theme_minimal()+\n  ggtitle(\"Sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng táº¡i cÃ¡c bang nÄƒm 2010\")\nggplotly(p)\n# ThÃ´ng tin má»—i Ä‘iá»ƒm chá»‰ bao gá»“m 1. TÃªn bang (label) vÃ  2. VÃ¹ng (fill) \nggplotly(p, tooltip = c(\"label\",\"fill\"))\np<-diamonds%>%group_by(cut,color)%>%mutate(ave_price = mean(price))%>%ungroup()%>%\n  as.data.frame()%>%\n  ggplot(aes(cut,color,color = ave_price))+\n  geom_count()+\n  scale_color_continuous(type = \"viridis\")+\n  scale_size(range=c(1,12))+\n  theme_minimal()\nggplotly(p, tooltip = c(\"n\", \"fill\"))\np<-gapminder%>%filter(country %in% c(\"United States\",\"Japan\",\"China\",\"Germany\",\"France\"),\n                   year <= 2011)%>%mutate(gdp_bil_usd = gdp/10^9)%>%\n  ggplot(aes(x = year, y = gdp_bil_usd, color = country, linetype = country))+\n  geom_line(size=0.5)+\n  scale_y_continuous(labels = scales::label_comma())+\n  theme_minimal()\nggplotly(p, tooltip = c(\"x\",\"y\", \"color\") )\np<-gapminder%>%filter(year == 2010)%>%drop_na()%>%\n  mutate(gdp_per_capita = gdp/population,\n         gdp_levels = ifelse(gdp_per_capita<2000,\"Low\",\n                            ifelse(gdp_per_capita<5000,\"Medium\",\"High\")),\n         gdp_range = factor(gdp_levels, levels = c(\"High\",\"Medium\",\"Low\")))%>%\n  ggplot(aes(x = continent,fill = gdp_range))+\n  geom_bar(color=\"grey\",alpha=0.6)+\n  scale_fill_manual(values = c(\"green\",\"blue\",\"red\"))+\n  theme_minimal()\nggplotly(p, tooltip = \"count\")\ndat<-map_data(\"state\")\ndat1<-murders%>%mutate(murder_rate=total/population*10^6,\n                       state = tolower(state))\n\np<-dat%>%mutate(state = region)%>%\n  mutate(murder_rate=dat1$murder_rate[match(state,dat1$state)])%>%\n  ggplot(aes(x=long,y=lat,group=group,label = state, fill=murder_rate))+\n  geom_polygon(color=\"black\",size = 0.1)+\n  scale_x_continuous(expand=c(0,0))+\n  scale_fill_gradientn(colors = c(rgb(0.95,0.95,0.95),rgb(0.95,0.3,0.3),\n                                  rgb(0.95,0.1,0.1)))+\n  theme_minimal()+\n  theme(legend.position = \"bottom\")\nggplotly(p)\ndat<-data.frame(x=1:10,y=1:10,time=1:10)\np<-dat%>%ggplot(aes(x=x,y=y,size=time, frame = time, color= time))+\n  geom_point()+\n  theme_minimal()\nggplotly(p, width = 600, height = 600, tooltip = \"color\") %>%\nanimation_slider(frame = 1000)\np<-gapminder%>%filter(year %in% 1960:2011)%>%\n  ggplot(aes(x = fertility, y = life_expectancy, size = population, \n             fill = continent, frame = year, label = country))+\n  geom_point(alpha = 0.5,shape=21)+\n  scale_fill_brewer(palette = \"Set1\")+\n  scale_size(range=c(1,15))+\n  theme_minimal()+\n  ggtitle(\"Tuá»•i thá» vÃ  tá»· lá»‡ sinh trung bÃ¬nh 1960 Ä‘áº¿n 2011\")\nggplotly(p, width = 800, height = 600, tooltip = c(\"label\",\"size\") ) %>%\nanimation_slider(frame = 204)"},{"path":"index.html","id":"kiáº¿n-thá»©c-nÃ¢ng-cao-vá»-ggplot2","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.9 Kiáº¿n thá»©c nÃ¢ng cao vá» \\(ggplot2\\)","text":"","code":""},{"path":"index.html","id":"láº­p-trÃ¬nh-trong-ggplot2","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.9.1 Láº­p trÃ¬nh trong \\(ggplot2\\)","text":"","code":""},{"path":"index.html","id":"táº¡o-dashboard-vá»›i-shiny","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"8.9.2 Táº¡o dashboard vá»›i \\(shiny\\)","text":"","code":"\nlibrary(readxl)\nlibrary(dplyr)## \n## Attaching package: 'dplyr'## The following objects are masked from 'package:stats':\n## \n##     filter, lag## The following objects are masked from 'package:base':\n## \n##     intersect, setdiff, setequal, union\nlibrary(knitr)\nlibrary(kableExtra)## \n## Attaching package: 'kableExtra'## The following object is masked from 'package:dplyr':\n## \n##     group_rows\nlibrary(ggplot2)\nlibrary(forcats)\nlibrary(ggpubr)\nlibrary(grid)\nlibrary(gridExtra)## \n## Attaching package: 'gridExtra'## The following object is masked from 'package:dplyr':\n## \n##     combine\nlibrary(forcats)\nlibrary(pryr)\ncolorize <- function(x, color) {\n if (knitr::is_latex_output()) {\n sprintf(\"\\\\textcolor{%s}{%s}\", color, x)\n } else if (knitr::is_html_output()) {\n sprintf(\"<span style='color: %s;'>%s<\/span>\", \n color,\n x)\n } else x\n}"},{"path":"index.html","id":"mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"9 MÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh","text":"","code":""},{"path":"index.html","id":"mÃ´-hÃ¬nh-há»•i-quy-tuyáº¿n-tÃ­nh-Ä‘Æ¡n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"9.1 MÃ´ hÃ¬nh há»•i quy tuyáº¿n tÃ­nh Ä‘Æ¡n","text":"","code":""},{"path":"index.html","id":"mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh-Ä‘a-biáº¿n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"9.2 MÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh Ä‘a biáº¿n","text":"","code":""},{"path":"index.html","id":"nhá»¯ng-cÃ¢n-nháº¯c-khi-xÃ¢y-dá»±ng-mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"9.3 Nhá»¯ng cÃ¢n nháº¯c khi xÃ¢y dá»±ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh","text":"","code":""},{"path":"index.html","id":"má»Ÿ-rá»™ng-mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"9.4 Má»Ÿ rá»™ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh","text":"","code":""},{"path":"index.html","id":"thá»±c-hÃ nh-xÃ¢y-dá»±ng-mÃ´-hÃ¬nh-há»•i-quy-tuyáº¿n-tÃ­nh-cho-dá»¯-liá»‡u-sales","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"9.5 Thá»±c hÃ nh: XÃ¢y dá»±ng mÃ´ hÃ¬nh há»•i quy tuyáº¿n tÃ­nh cho dá»¯ liá»‡u Sales","text":"","code":""},{"path":"index.html","id":"thá»±c-hÃ nh-mÃ´-hÃ¬nh-há»•i-quy-tuyáº¿n-tÃ­nh-má»Ÿ-rá»™ng","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"9.6 Thá»±c hÃ nh: MÃ´ hÃ¬nh há»•i quy tuyáº¿n tÃ­nh má»Ÿ rá»™ng","text":"","code":"## \n## Attaching package: 'dplyr'## The following objects are masked from 'package:stats':\n## \n##     filter, lag## The following objects are masked from 'package:base':\n## \n##     intersect, setdiff, setequal, union## \n## Attaching package: 'kableExtra'## The following object is masked from 'package:dplyr':\n## \n##     group_rows## \n## Attaching package: 'gridExtra'## The following object is masked from 'package:dplyr':\n## \n##     combine## Classes and Methods for R developed in the\n## Political Science Computational Laboratory\n## Department of Political Science\n## Stanford University\n## Simon Jackman\n## hurdle and zeroinfl functions by Achim Zeileis"},{"path":"index.html","id":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","text":"MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t, Generalized Linear Model hay viáº¿t táº¯t lÃ  GLM, Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng rÃ£i trong cÃ¡c doanh nghiá»‡p, cÃ¡c cÆ¡ quan tá»• chá»©c hoáº¡t Ä‘á»™ng trong lÄ©nh vá»±c tÃ i chÃ­nh, ngÃ¢n hÃ ng, vÃ  báº£o hiá»ƒm. CÃ¡c chuyÃªn gia quáº£n trá»‹ rá»§i ro trong cÃ¡c ngÃ¢n hÃ ng sá»­ dá»¥ng GLM Ä‘á»ƒ cháº¥m Ä‘iá»ƒm tÃ­n dá»¥ng khÃ¡ch hÃ ng vÃ  quyáº¿t Ä‘á»‹nh phÃª duyá»‡t tÃ­n dá»¥ng. CÃ¡c chuyÃªn gia tÃ­nh toÃ¡n thÆ°á»ng xuyÃªn sá»­ dá»¥ng mÃ´ hÃ¬nh GLM Ä‘á»ƒ xÃ¡c Ä‘á»‹nh phÃ­ thuáº§n cá»§a cÃ¡c sáº£n pháº©m báº£o hiá»ƒm, Ä‘á»ƒ xÃ¡c Ä‘á»‹nh dá»± phÃ²ng nghiá»‡p vá»¥, hoáº·c Ä‘á»ƒ phÃ¢n loáº¡i rá»§i ro mÃ  cÃ´ng ty pháº£i Ä‘á»‘i máº·t. KhÃ¡i niá»‡m GLM láº§n Ä‘áº§u tiÃªn Ä‘Æ°á»£c sá»­ dá»¥ng trong nghiÃªn cá»©u cá»§a Nelder vÃ  Wedderburn (1972) vÃ  tá»« Ä‘Ã³ Ä‘áº¿n nay Ä‘Ã£ cÃ³ nhiá»u sÃ¡ch tham kháº£o tin cáº­y cho mÃ´ hÃ¬nh nÃ y nhÆ° Alan Agresti (2015) hay Annette J. Dobson Adrian G. Barnett (2018). Äa sá»‘ cÃ¡c tÃ i liá»‡u tham kháº£o giá»›i thiá»‡u GLM dÆ°á»›i gÃ³c Ä‘á»™ toÃ¡n há»c vÃ  mang nhiá»u tÃ­nh lÃ½ thuyáº¿t. ChÆ°Æ¡ng sÃ¡ch nÃ y sáº½ cá»‘ gáº¯ng giáº£i thÃ­ch vÃ  tiáº¿p cáº­n GLM tá»« má»™t gÃ³c nhÃ¬n mang tÃ­nh thá»±c hÃ nh nhiá»u hÆ¡n. ChÃºng tÃ´i sáº½ khÃ´ng quÃ¡ Ä‘i sÃ¢u vÃ o cÃ¡c khÃ­a cáº¡nh nhÆ° giáº£ thiáº¿t hay phÆ°Æ¡ng phÃ¡p Æ°á»›c lÆ°á»£ng cá»§a mÃ´ hÃ¬nh GLM, mÃ  sáº½ táº­p trung vÃ o hÆ°á»›ng dáº«n báº¡n Ä‘á»c á»©ng dá»¥ng GLM trÃªn nhiá»u kiá»ƒu dá»¯ liá»‡u nháº¥t cÃ³ thá»ƒ.MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t Ä‘Æ°á»£c phÃ¡t biá»ƒu dÆ°á»›i dáº¡ng cÃ´ng thá»©c nhÆ° sau:\n\\[\\begin{align}\n& Y \\sim  \\mathcal{F}_{\\boldsymbol{\\theta}} \\\\\n& \\mathbb{E}(Y|\\textbf{X} = \\textbf{x}_i) = \\mu_i \\\\\n& g(\\mu_i) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p} \\\\\n& \\mu_i = g^{-1}\\left(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p} \\right)\n(\\#eq:glm1)\n\\end{align}\\]\nvá»›i \\(Y\\) lÃ  biáº¿n má»¥c tiÃªu, \\(\\mathcal{F}_{\\boldsymbol{\\theta}}\\) lÃ  má»™t phÃ¢n phá»‘i xÃ¡c suáº¥t cÃ³ tham sá»‘ lÃ  má»™t vÃ©c-tÆ¡ \\(\\boldsymbol{\\theta}\\). GiÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) phá»¥ thuá»™c vÃ o giÃ¡ trá»‹ cá»§a (cÃ¡c) biáº¿n Ä‘á»™c láº­p nhÆ° sau: vá»›i Ä‘iá»u kiá»‡n vÃ©c-tÆ¡ biáº¿n Ä‘á»™c láº­p \\(\\textbf{X} = (X_1, X_2, \\cdots, X_p)\\) nháº­n giÃ¡ trá»‹ \\(\\textbf{x_i} = (x_{,1}, x_{,2}, \\cdots, x_{,p})\\), giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vá»›i Ä‘iá»u kiá»‡n \\(\\textbf{X} = x_i\\), kÃ½ hiá»‡u \\(Y|\\textbf{X} = x_i\\) hoáº·c ngáº¯n gá»n hÆ¡n lÃ  \\(Y_i\\), Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh báº±ng giÃ¡ trá»‹ má»™t hÃ m sá»‘ ngÆ°á»£c cá»§a má»™t hÃ m sá»‘ thá»±c \\(g\\), kÃ½ hiá»‡u lÃ  hÃ m \\(g^{-1}\\), tÃ­nh táº¡i má»™t tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c giÃ¡ trá»‹ \\((x_{,1}, x_{,2}, \\cdots, x_{,p})\\).Thay vÃ¬ cá»‘ gáº¯ng hiá»ƒu cÃ¡c khÃ¡i niá»‡m toÃ¡n há»c á»Ÿ trÃªn, chÃºng ta hÃ£y thá»­ Ã¡p dá»¥ng mÃ´ hÃ¬nh ká»ƒ trÃªn trong má»™t trÆ°á»ng há»£p cá»¥ thá»ƒ. ChÃºng ta sáº½ xÃ¢y dá»±ng má»™t mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t mÃ  trong Ä‘Ã³ biáº¿n má»¥c tiÃªu \\(Y\\) cho biáº¿t ngÆ°á»i mua báº£o hiá»ƒm xe Ã´ tÃ´ cÃ³ hay khÃ´ng lá»±a chá»n Ä‘áº§y Ä‘á»§ cÃ¡c quyá»n lá»£i báº£o hiá»ƒm khi kÃ½ há»£p Ä‘á»“ng mua báº£o hiá»ƒm trÃ¡ch nhiá»‡m dÃ¢n sá»±. Dá»¯ liá»‡u Ä‘Æ°á»£c sá»­ dá»¥ng cÃ³ tÃªn lÃ  \\(MotoInsurance.csv\\). Dá»¯ liá»‡u cÃ³ 6 biáº¿n Ä‘á»™c láº­p lÃ :Äá»™ tuá»•i cá»§a ngÆ°á»i lÃ¡i xe, biáº¿n \\(age\\), nháº­n giÃ¡ trá»‹ lÃ  cÃ¡c sá»‘ nguyÃªn dÆ°Æ¡ng tá»« 15 Ä‘áº¿n 92 tuá»•i.\nÄá»™ tuá»•i cá»§a ngÆ°á»i lÃ¡i xe, biáº¿n \\(age\\), nháº­n giÃ¡ trá»‹ lÃ  cÃ¡c sá»‘ nguyÃªn dÆ°Æ¡ng tá»« 15 Ä‘áº¿n 92 tuá»•i.Kinh nghiá»‡m lÃ¡i xe, biáº¿n \\(seniority\\), cho biáº¿t sá»‘ nÄƒm kinh nghiá»‡m lÃ¡i xe, giÃ¡ trá»‹ lÃ  cÃ¡c sá»‘ nguyÃªn tá»« 2 Ä‘áº¿n 40 nÄƒm.\nKinh nghiá»‡m lÃ¡i xe, biáº¿n \\(seniority\\), cho biáº¿t sá»‘ nÄƒm kinh nghiá»‡m lÃ¡i xe, giÃ¡ trá»‹ lÃ  cÃ¡c sá»‘ nguyÃªn tá»« 2 Ä‘áº¿n 40 nÄƒm.Giá»›i tÃ­nh cá»§a ngÆ°á»i lÃ¡i xe, biáº¿n \\(sex\\), nháº­n giÃ¡ trá»‹ â€œMâ€ náº¿u ngÆ°á»i lÃ¡i xe lÃ  nam giá»›i vÃ  â€œFâ€ náº¿u ngÆ°á»i lÃ¡i xe lÃ  ná»¯ giá»›i.\nGiá»›i tÃ­nh cá»§a ngÆ°á»i lÃ¡i xe, biáº¿n \\(sex\\), nháº­n giÃ¡ trá»‹ â€œMâ€ náº¿u ngÆ°á»i lÃ¡i xe lÃ  nam giá»›i vÃ  â€œFâ€ náº¿u ngÆ°á»i lÃ¡i xe lÃ  ná»¯ giá»›i.NÆ¡i xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½, biáº¿n \\(urban\\), nháº­n giÃ¡ trá»‹ lÃ  1 náº¿u xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½ táº¡i khu vá»±c thÃ nh phá»‘ vÃ  nháº­n giÃ¡ trá»‹ 0 trong cÃ¡c trÆ°á»ng há»£p cÃ²n láº¡i.\nNÆ¡i xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½, biáº¿n \\(urban\\), nháº­n giÃ¡ trá»‹ lÃ  1 náº¿u xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½ táº¡i khu vá»±c thÃ nh phá»‘ vÃ  nháº­n giÃ¡ trá»‹ 0 trong cÃ¡c trÆ°á»ng há»£p cÃ²n láº¡i.Loáº¡i hÃ¬nh Ä‘Äƒng kÃ½ xe, biáº¿n \\(private\\), nháº­n giÃ¡ trá»‹ lÃ  1 náº¿u xe mua báº£o hiá»ƒm lÃ  xe Ä‘Äƒng kÃ½ theo cÃ¡ nhÃ¢n vÃ  nháº­n giÃ¡ trá»‹ 0 trong cÃ¡c trÆ°á»ng há»£p cÃ²n láº¡i.\nLoáº¡i hÃ¬nh Ä‘Äƒng kÃ½ xe, biáº¿n \\(private\\), nháº­n giÃ¡ trá»‹ lÃ  1 náº¿u xe mua báº£o hiá»ƒm lÃ  xe Ä‘Äƒng kÃ½ theo cÃ¡ nhÃ¢n vÃ  nháº­n giÃ¡ trá»‹ 0 trong cÃ¡c trÆ°á»ng há»£p cÃ²n láº¡i.TÃ¬nh tráº¡ng hÃ´n nhÃ¢n cá»§a ngÆ°á»i lÃ¡i xe, biáº¿n \\(marital\\), nháº­n giÃ¡ trá»‹ â€œCâ€ náº¿u Ä‘Ã£ káº¿t hÃ´n, â€œSâ€ tÆ°Æ¡ng á»©ng vá»›i chÆ°a káº¿t hÃ´n, vÃ  â€œOâ€ tÆ°Æ¡ng á»©ng vá»›i Ä‘Ã£ ly dá»‹.\nTÃ¬nh tráº¡ng hÃ´n nhÃ¢n cá»§a ngÆ°á»i lÃ¡i xe, biáº¿n \\(marital\\), nháº­n giÃ¡ trá»‹ â€œCâ€ náº¿u Ä‘Ã£ káº¿t hÃ´n, â€œSâ€ tÆ°Æ¡ng á»©ng vá»›i chÆ°a káº¿t hÃ´n, vÃ  â€œOâ€ tÆ°Æ¡ng á»©ng vá»›i Ä‘Ã£ ly dá»‹.Biáº¿n má»¥c tiÃªu hay biáº¿n phá»¥ thuá»™c lÃ  biáº¿n \\(Y\\) nháº­n má»™t trong hai giÃ¡ trá»‹, â€œYesâ€ náº¿u ngÆ°á»i mua báº£o hiá»ƒm trÃ¡ch nhiá»‡m dÃ¢n sá»± Ä‘á»“ng Ã½ lá»±a thÃªm quyá»n lá»£i báº£o hiá»ƒm bá»• sung vÃ  â€œâ€ náº¿u ngÆ°á»i mua báº£o hiá»ƒm trÃ¡ch nhiá»‡m dÃ¢n sá»± khÃ´ng lá»±a chá»n mua quyá»n lá»£i bá»• sung. Äá»ƒ mÃ´ hÃ¬nh á»Ÿ dáº¡ng Ä‘Æ¡n giáº£n nháº¥t cÃ³ thá»ƒ, chÃºng tÃ´i lá»±a chá»n hai biáº¿n Ä‘á»™c láº­p Ä‘á»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh lÃ  biáº¿n \\(age\\) vÃ  biáº¿n \\(sex\\). ChÃºng ta sáº½ sá»­ dá»¥ng biáº¿n \\(age\\) nhÆ° má»™t biáº¿n kiá»ƒu sá»‘, trong khi biáº¿n \\(sex\\) lÃ  má»™t biáº¿n kiá»ƒu phÃ¢n loáº¡i/rá»i ráº¡c nháº­n má»™t trong hai giÃ¡ trá»‹ lÃ  â€œMâ€ tÆ°Æ¡ng á»©ng vá»›i nam giá»›i vÃ  â€œFâ€ tÆ°Æ¡ng á»©ng vá»›i ná»¯ giá»›i.Äoáº¡n lá»‡nh R dÆ°á»›i Ä‘Ã¢y Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ láº¥y dá»¯ liá»‡u vÃ  phÃ¢n tÃ­ch nhanh áº£nh hÆ°á»Ÿng cá»§a cÃ¡c biáº¿n \\(age\\) vÃ  \\(sex\\) lÃªn quyáº¿t Ä‘á»‹nh mua báº£o hiá»ƒm bá»• sung cá»§a ngÆ°á»i sá»Ÿ há»¯u xe Ã´ tÃ´.Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng: Ä‘á»“ thá»‹ bÃªn trÃ¡i cho tháº¥y nhá»¯ng ngÆ°á»i tráº» tuá»•i hÆ¡n cÃ³ xu hÆ°á»›ng Ä‘á»“ng Ã½ mua báº£o hiá»ƒm bá»• sung hÆ¡n nhá»¯ng ngÆ°á»i nhiá»u tuá»•i; Ä‘á»“ thá»‹ bÃªn pháº£i cho tháº¥y ná»¯ giá»›i cÃ³ xu hÆ°á»›ng mua báº£o hiá»ƒm bá»• sung cao hÆ¡n vá»›i nam giá»›i.ChÃºng ta sáº½ xÃ¢y dá»±ng má»™t mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t Ä‘á»ƒ xÃ¡c nháº­n láº¡i cÃ¡c phÃ¢n tÃ­ch á»Ÿ trÃªn vÃ  lÆ°á»£ng hÃ³a Ä‘Æ°á»£c áº£nh hÆ°á»Ÿng cá»§a cÃ¡c biáº¿n \\(age\\) vÃ  \\(sex\\) lÃªn quyáº¿t Ä‘á»‹nh mua báº£o hiá»ƒm bá»• sung. HÃ m sá»‘ dÃ¹ng Ä‘á»ƒ xÃ¢y dá»±ng vÃ  Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trong R lÃ  hÃ m glm() cá»§a thÆ° viá»‡n \\(stat\\):ChÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng cÃ¡c há»‡ sá»‘ cá»§a biáº¿n \\(age\\) vÃ  \\(sex\\) Ä‘á»u cÃ³ Ã½ nghÄ©a thá»‘ng kÃª khi cÃ¡c giÃ¡ trá»‹ \\(p-value\\) Ä‘á»u ráº¥t nhá». ÄÃºng nhÆ° chÃºng nháº­n Ä‘á»‹nh tá»« pháº§n phÃ¢n tÃ­ch khai phÃ¡, há»‡ sá»‘ tuyáº¿n tÃ­nh cá»§a biáº¿n \\(age\\) lÃ  sá»‘ Ã¢m, báº±ng -0.016, cho biáº¿t ngÆ°á»i tráº» tuá»•i hÆ¡n cÃ³ kháº£ nÄƒng Ä‘á»“ng Ã½ mua báº£o hiá»ƒm bá»• sung cao hÆ¡n. Há»‡ sá»‘ á»©ng vá»›i biáº¿n giá»›i tÃ­nh nam lÃ  sá»‘ Ã¢m, báº±ng -0.447, Ä‘iá»u nÃ y cho biáº¿t kháº£ nÄƒng nam giá»›i Ä‘á»“ng Ã½ mua báº£o hiá»ƒm bá»• sung lÃ  tháº¥p hÆ¡n vá»›i ná»¯ giá»›i.ChÃºng ta cÃ³ thá»ƒ viáº¿t cÃ¡c thÃ nh pháº§n cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t Ä‘Ã£ xÃ¢y dá»±ng á»Ÿ trÃªn nhÆ° sau\\[\\begin{align}\n& Y \\sim  \\mathcal{B}(\\rho) \\\\\n& \\mathbb{E}(Y_i) = \\mathbb{E}\\left(Y|(age_i, sex_i)\\right) = \\rho_i \\\\\n& \\Phi^{-1}\\left(\\rho_i\\right) = 0.678 - 0.016 \\times age_i - 0.447 \\times sex_i \\\\\n& \\rho_i = \\Phi\\left(0.678 - 0.016 \\times age_i - 0.447 \\times sex_i\\right)\n(\\#eq:glm2)\n\\end{align}\\]\ntrong Ä‘Ã³ \\(\\rho_i\\) lÃ  xÃ¡c suáº¥t hay kháº£ nÄƒng ngÆ°á»i \\(\\) mua Ä‘áº§y Ä‘á»§ cÃ¡c quyá»n lá»£i cá»§a báº£o hiá»ƒm sau khi Ä‘Ã£ mua báº£o hiá»ƒm trÃ¡ch nhiá»‡m dÃ¢n sá»±. HÃ m \\(\\Phi\\) lÃ  hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n cÃ³ trung bÃ¬nh 0 va phÆ°Æ¡ng sai báº±ng 1. ÄÃ¢y lÃ  hÃ m sá»‘ mÃ  chÃºng ta lá»±a chá»n Ä‘á»ƒ liÃªn káº¿t giá»¯a xÃ¡c suáº¥t mua báº£o hiá»ƒm bá»• sung Ä‘áº¿n tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p.Tá»« káº¿t quáº£ cá»§a mÃ´ hÃ¬nh, chÃºng ta cÃ³ thá»ƒ káº¿t luáº­n ráº±ng kháº£ nÄƒng mua báº£o hiá»ƒm bá»• sung phá»¥ thuá»™c má»™t cÃ¡ch cÃ³ Ã½ nghÄ©a thá»‘ng kÃª biáº¿n Ä‘á»™ tuá»•i (\\(age\\)) vÃ  giá»›i tÃ­nh (\\(sex\\)) cá»§a ngÆ°á»i tham gia báº£o hiá»ƒm trÃ¡ch nhiá»‡m dÃ¢n sá»± báº¯t buá»™c. Sá»± phá»¥ thuá»™c nÃ y cá»¥ thá»ƒ nhÆ° sau:XÃ¡c suáº¥t mÃ  má»™t ngÆ°á»i mua Ä‘áº§y Ä‘á»§ cÃ¡c quyá»n lá»£i báº£o hiá»ƒm sau khi mua báº£o hiá»ƒm báº¯t buá»™c sáº½ GIáº¢M náº¿u tuá»•i cá»§a ngÆ°á»i tham gia báº£o hiá»ƒm TÄ‚NG, Ä‘iá»u nÃ y cÃ³ nghÄ©a lÃ  nhá»¯ng ngÆ°á»i tráº» tuá»•i hÆ¡n thÆ°á»ng cÃ³ nhu cáº§u mua Ä‘áº§y Ä‘á»§ cÃ¡c quyá»n lá»£i báº£o hiá»ƒm hÆ¡n nhá»¯ng ngÆ°á»i lá»›n tuá»•i.XÃ¡c suáº¥t mÃ  má»™t ngÆ°á»i mua Ä‘áº§y Ä‘á»§ cÃ¡c quyá»n lá»£i báº£o hiá»ƒm sau khi mua báº£o hiá»ƒm báº¯t buá»™c sáº½ GIáº¢M náº¿u tuá»•i cá»§a ngÆ°á»i tham gia báº£o hiá»ƒm TÄ‚NG, Ä‘iá»u nÃ y cÃ³ nghÄ©a lÃ  nhá»¯ng ngÆ°á»i tráº» tuá»•i hÆ¡n thÆ°á»ng cÃ³ nhu cáº§u mua Ä‘áº§y Ä‘á»§ cÃ¡c quyá»n lá»£i báº£o hiá»ƒm hÆ¡n nhá»¯ng ngÆ°á»i lá»›n tuá»•i.Nam giá»›i Ã­t cÃ³ kháº£ nÄƒng mua Ä‘áº§y Ä‘á»§ quyá»n lá»£i báº£o hiá»ƒm nhÆ° ná»¯ giá»›i.Nam giá»›i Ã­t cÃ³ kháº£ nÄƒng mua Ä‘áº§y Ä‘á»§ quyá»n lá»£i báº£o hiá»ƒm nhÆ° ná»¯ giá»›i.Má»‘i liÃªn há»‡ giá»¯a xÃ¡c suáº¥t mua báº£o hiá»ƒm Ä‘áº§y Ä‘á»§ vÃ  cÃ¡c thuá»™c tÃ­nh cá»§a ngÆ°á»i Ä‘Æ°á»£c quan sÃ¡t Ä‘Æ°á»£c mÃ´ táº£ má»™t cÃ¡ch Ä‘á»‹nh lÆ°á»£ng thÃ´ng qua phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\rho_i = \\Phi\\left(0.678 - 0.016 \\times age_i - 0.447 \\times sex_i\\right)\n(\\#eq:glm3)\n\\end{align}\\]\ntrong Ä‘Ã³\n\\(age_i\\) lÃ  tuá»•i cá»§a ngÆ°á»i tham gia báº£o hiá»ƒm; \\(sex_i\\) nháº­n giÃ¡ trá»‹ báº±ng 1 náº¿u ngÆ°á»i Ä‘Ã³ lÃ  nam giá»›i vÃ  0 náº¿u ngÆ°á»i Ä‘Ã³ lÃ  ná»¯ giá»›i; vÃ  \\(\\Phi\\) lÃ  hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(0,1)\\); miá»n giÃ¡ trá»‹ cá»§a hÃ m sá»‘ nÃ y Ä‘áº£m báº£o cho giÃ¡ trá»‹ xÃ¡c suáº¥t \\(\\rho_i\\) Ä‘Æ°á»£c tÃ­nh ra náº±m trong khoáº£ng (0,1).Báº¡n Ä‘á»c cÃ³ thá»ƒ nháº­n tháº¥y Ä‘Æ°á»£c sá»± khÃ¡c biá»‡t giá»¯a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t á»Ÿ trÃªn vá»›i mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng á»Ÿ hai Ä‘iá»ƒm:PhÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) lÃ  phÃ¢n phá»‘i nhá»‹ thá»©c chá»© khÃ´ng pháº£i lÃ  phÃ¢n phá»‘i chuáº©n.\nPhÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) lÃ  phÃ¢n phá»‘i nhá»‹ thá»©c chá»© khÃ´ng pháº£i lÃ  phÃ¢n phá»‘i chuáº©n.Má»‘i liÃªn káº¿t giá»¯a giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) vÃ  tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘Æ°á»£c thá»ƒ hiá»‡n thÃ´ng qua má»™t hÃ m sá»‘, trong trÆ°á»ng há»£p nÃ y lÃ  hÃ m \\(\\Phi\\). Trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng, giÃ¡ trá»‹ trunh bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu Ä‘Æ°á»£c mÃ´ táº£ trá»±c tiáº¿p báº±ng tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p.\nMá»‘i liÃªn káº¿t giá»¯a giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) vÃ  tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘Æ°á»£c thá»ƒ hiá»‡n thÃ´ng qua má»™t hÃ m sá»‘, trong trÆ°á»ng há»£p nÃ y lÃ  hÃ m \\(\\Phi\\). Trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng, giÃ¡ trá»‹ trunh bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu Ä‘Æ°á»£c mÃ´ táº£ trá»±c tiáº¿p báº±ng tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p.Háº£i Ä‘iá»ƒm nÃªu trÃªn cÅ©ng chÃ­nh lÃ  hai cáº£i tiáº¿n quan trá»ng cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng vá»›i mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng. Viá»‡c tá»•ng quÃ¡t hÃ³a phÃ¢n phá»‘i cá»§a biáº¿n phá»¥ thuá»™c vÃ  thiáº¿t láº­p má»™t hÃ m liÃªn káº¿t giá»¯a giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vÃ  vá»›i cÃ¡c biáº¿n Ä‘á»™c láº­p giÃºp cho mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t linh hoáº¡t hÆ¡n ráº¥t nhiá»u khi lÃ m viá»‡c vá»›i cÃ¡c dá»¯ liá»‡u cá»¥ thá»ƒ vÃ  váº«n giá»¯ Ä‘Æ°á»£c kháº£ nÄƒng suy diá»…n giá»‘ng nhÆ° mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng. Trong pháº§n tiáº¿p theo cá»§a chÆ°Æ¡ng chÃºng ta sáº½ tháº£o luáº­n ká»¹ hÆ¡n vá» cÃ¡c váº¥n Ä‘á» nÃ y.","code":"\ndat<-read.csv(\"../KHDL_KTKD/Dataset/MotoInsurance.csv\")\n\n# Äá»•i cÃ¡c biáº¿n Y vÃ  sex sang kiá»ƒu factor\ndat$Y<-as.factor(dat$Y)\ndat$sex<-as.factor(dat$sex)\n\n# Thá»±c hiá»‡n cÃ¡c phÃ¢n tÃ­ch khai phÃ¡\np1<-dat%>%ggplot()+geom_boxplot(aes(x = Y, y = age))+\n  ggtitle(\"Má»‘i liÃªn há»‡ giá»¯a biáº¿n age vÃ  biáº¿n Y\")+\n  theme_minimal()\n\np2<-dat%>%ggplot()+geom_bar(aes(x = sex, fill = Y),col = \"black\")+\n  ggtitle(\"Má»‘i liÃªn há»‡ giá»¯a biáº¿n sex vÃ  biáº¿n Y\")+\n  theme_minimal()+\n  scale_fill_manual(values = c(\"white\",\"grey\"))\n\ngrid.arrange(p1,p2, ncol = 2)\n# Biáº¿n Y cÃ³ phÃ¢n phá»‘i nhá»‹ thá»©c\n# HÃ m g lÃ  hÃ m probit\nglm1<-glm(Y ~ age + sex, data=dat, \n          family = binomial(link = \"probit\")) # khai bÃ¡o hÃ m g\nsummary(glm1)## \n## Call:\n## glm(formula = Y ~ age + sex, family = binomial(link = \"probit\"), \n##     data = dat)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -1.4495  -0.9278  -0.7382   1.2584   2.0391  \n## \n## Coefficients:\n##              Estimate Std. Error z value Pr(>|z|)    \n## (Intercept)  0.678644   0.079138   8.575   <2e-16 ***\n## age         -0.016257   0.001619 -10.041   <2e-16 ***\n## sexM        -0.446783   0.047421  -9.422   <2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for binomial family taken to be 1)\n## \n##     Null deviance: 5163.3  on 3999  degrees of freedom\n## Residual deviance: 4933.9  on 3997  degrees of freedom\n## AIC: 4939.9\n## \n## Number of Fisher Scoring iterations: 4"},{"path":"index.html","id":"cÃ¡c-nhÆ°á»£c-Ä‘iá»ƒm-cá»§a-mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.1 CÃ¡c nhÆ°á»£c Ä‘iá»ƒm cá»§a mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh.","text":"MÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh lÃ  ná»n táº£ng quan trá»ng cho háº§u háº¿t cÃ¡c mÃ´ hÃ¬nh há»c mÃ¡y vÃ  cÃ¡c mÃ´ hÃ¬nh trÃ­ tuá»‡ nhÃ¢n táº¡o hiá»‡n táº¡i. TrÆ°á»›c khi nhá»¯ng mÃ´ hÃ¬nh há»c mÃ¡y Ä‘Æ°á»£c nghiÃªn cá»©u vÃ  phÃ¡t triá»ƒn máº¡nh máº½ nhÆ° hiá»‡n nay, nhá»¯ng ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh luÃ´n gáº·p khÃ³ khÄƒn khi sá»­ dá»¥ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh trong nhiá»u hoÃ n cáº£nh. NguyÃªn nhÃ¢n lÃ  giáº£ thiáº¿t vá» phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n má»¥c tiÃªu vÃ  miá»n giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu cá»§a mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng lÃ  khÃ´ng phÃ¹ há»£p vá»›i Ä‘a sá»‘ dá»¯ liá»‡u thá»±c táº¿.Tháº­t váº­y, mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh Ä‘Æ°á»£c tháº£o luáº­n trong pháº§n trÆ°á»›c cá»§a cuá»‘n sÃ¡ch cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ³m táº¯t nhÆ° sau: ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh cá»‘ gáº¯ng nghiÃªn cá»©u má»‘i quan há»‡ giá»¯a má»™t biáº¿n má»¥c tiÃªu \\(Y\\) vá»›i vÃ©c-tÆ¡ biáº¿n Ä‘á»™c láº­p \\(\\textbf{X} = (X_1, X_2, \\cdots, X_p)\\) báº±ng cÃ¡ch cho ráº±ng má»‘i liÃªn há»‡ giá»¯a \\(Y\\) vÃ  \\(\\textbf{X}\\) lÃ  má»™t hÃ m tuyáº¿n tÃ­nh. Má»‘i liÃªn há»‡ Ä‘Ã³ khÃ´ng Ä‘á»“ng nháº¥t nÃªn sai sá»‘ sáº½ tá»“n táº¡i vÃ  nhá»¯ng ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh cho ráº±ng sai sá»‘ cÃ³ phÃ¢n phá»‘i chuáº©n vá»›i trung bÃ¬nh báº±ng 0 vÃ  Ä‘á»™ lá»‡ch chuáº©n lÃ  má»™t háº±ng sá»‘ \\(\\sigma > 0\\). ChÃºng ta biá»ƒu diá»…n mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°Æ¡ng nhÆ° sau\\[\\begin{align}\n& Y = \\beta_0 + \\beta_1 \\cdot X_1 + \\beta_2 \\cdot X_2 + \\cdots + \\beta_p \\cdot X_p + \\epsilon \\\\\n& \\epsilon \\sim \\mathcal{N}(0, \\sigma^2)\n(\\#eq:glm4)\n\\end{align}\\]Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng trong mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh, biáº¿n phá»¥ thuá»™c \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i chuáº©n cÃ³ phÆ°Æ¡ng sai lÃ  \\(\\sigma^2\\) vÃ  giÃ¡ trá»‹ trung bÃ¬nh phá»¥ thuá»™c vÃ o vÃ©c-tÆ¡ biáº¿n Ä‘á»™c láº­p \\(\\textbf{X}_i\\). Vá»›i Ä‘iá»u kiá»‡n biáº¿n Ä‘á»™c láº­p nháº­n giÃ¡ trá»‹ lÃ  \\(\\textbf{x}_i = (x_{,1}, x_{,2}, \\cdots, x_{,p})\\); chÃºng ta cÃ³ mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh nhÆ° sau:\\[\\begin{align}\n& Y_i \\sim  \\mathcal{N}(\\mu_i, \\sigma^2) \\\\\n& \\mu_i = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}\n(\\#eq:glm5)\n\\end{align}\\]NgoÃ i giáº£ thiáº¿t vá» phÃ¢n phá»‘i chuáº©n cá»§a \\(Y\\), mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng cÃ²n cho ráº±ng giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n ngáº«u nhiÃªn \\(Y\\) vá»›i Ä‘iá»u kiá»‡n cÃ¡c biáº¿n Ä‘á»™c láº­p nháº­n giÃ¡ trá»‹ \\(\\textbf{x}_i\\), kÃ½ hiá»‡u \\(\\mu_i\\), lÃ  má»™t tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p. Khi cÃ¡c biáº¿n Ä‘á»™c láº­p nháº­n cÃ¡c giÃ¡ trá»‹ báº¥t ká»³, miá»n giÃ¡ trá»‹ cá»§a \\(\\mu_i\\) sáº½ lÃ  (toÃ n bá»™) táº­p cÃ¡c sá»‘ thá»±c \\(\\mathbb{R}\\).CÃ¢u há»i Ä‘áº·t ra lÃ : lÃ m nhÆ° tháº¿ nÃ o Ä‘á»ƒ Ã¡p dá»¥ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh trong cÃ¡c trÆ°á»ng há»£p nhÆ° sau?Biáº¿n má»¥c tiÃªu \\(Y\\) chá»‰ nháº­n hai giÃ¡ trá»‹ lÃ  0 hoáº·c 1. ÄÃ¢y lÃ  trÆ°á»ng há»£p ráº¥t thÆ°á»ng gáº·p pháº£i trong nhiá»u lÄ©nh vá»±c khi thá»±c hiá»‡n phÃ¢n tÃ­ch dá»¯ liá»‡u. CÃ³ thá»ƒ ká»ƒ Ä‘áº¿n nhÆ°: khi biáº¿n \\(Y\\) Ä‘áº¡i diá»‡n cho sá»± kiá»‡n má»™t ngÆ°á»i cÃ³ hay khÃ´ng tham gia báº£o hiá»ƒm xÃ£ há»™i; má»™t ngÆ°á»i cÃ³ hay khÃ´ng thá»±c hiá»‡n rÃºt báº£o hiá»ƒm xÃ£ há»™i má»™t láº§n trong thá»i gian má»™t khoáº£ng thá»i gian; má»™t khÃ¡ch hÃ ng cÃ³ hay khÃ´ng gá»­i yÃªu cáº§u thanh toÃ¡n báº£o hiá»ƒm; hay tÆ°Æ¡ng tá»± nhÆ° vÃ­ dá»¥ trong pháº§n Ä‘áº§u cá»§a cuá»‘n sÃ¡ch, má»™t khÃ¡ch hÃ ng Ä‘Ã£ mua báº£o hiá»ƒm báº¯t buá»™c cÃ³ hay khÃ´ng mua thÃªm cÃ¡c quyá»n lá»£i báº£o hiá»ƒm bá»• sung. NgoÃ i lÄ©nh vá»±c báº£o hiá»ƒm, biáº¿n má»¥c tiÃªu \\(Y\\) chá»‰ nháº­n giÃ¡ trá»‹ 0 hoáº·c 1 cÃ²n xuáº¥t hiá»‡n trong lÄ©nh vá»±c ngÃ¢n hÃ ng tÃ i chÃ­nh: biáº¿n má»¥c tiÃªu cho biáº¿t má»™t giao dá»‹ch trá»±c tuyáº¿n cÃ³ pháº£i lÃ  má»™t giao dá»‹ch gian láº­n hay khÃ´ng; má»™t khÃ¡ch hÃ ng cÃ³ hay khÃ´ng tiáº¿p nháº­n sáº£n pháº©m dá»‹ch vá»¥ tÃ i chÃ­nh vá»›i má»›i; má»™t khÃ¡ch hÃ ng cÃ³ hay khÃ´ng hoÃ n tráº£ khoáº£n ná»£ tháº» tÃ­n dá»¥ng trong thá»i gian tá»›i,â€¦ Trong táº¥t cáº£ cÃ¡c trÆ°á»ng há»£p ká»ƒ trÃªn khÃ´ng thá»ƒ giáº£ thiáº¿t phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n má»¥c tiÃªu lÃ  phÃ¢n phá»‘i chuáº©n. HÆ¡n tháº¿ ná»¯a, giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu sáº½ luÃ´n náº±m trong khoáº£ng 0 Ä‘áº¿n 1, chá»© khÃ´ng pháº£i toÃ n bá»™ trá»¥c sá»‘ thá»±c. Náº¿u sá»­ dá»¥ng má»™t tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘á»ƒ tÃ­nh toÃ¡n giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu, chÃºng ta sáº½ cÃ³ thá»ƒ gáº·p cÃ¡c giÃ¡ trá»‹ nhá» hÆ¡n 0 hoáº·c cÃ¡c giÃ¡ trá»‹ lá»›n hÆ¡n 1.Biáº¿n má»¥c tiÃªu \\(Y\\) chá»‰ nháº­n hai giÃ¡ trá»‹ lÃ  0 hoáº·c 1. ÄÃ¢y lÃ  trÆ°á»ng há»£p ráº¥t thÆ°á»ng gáº·p pháº£i trong nhiá»u lÄ©nh vá»±c khi thá»±c hiá»‡n phÃ¢n tÃ­ch dá»¯ liá»‡u. CÃ³ thá»ƒ ká»ƒ Ä‘áº¿n nhÆ°: khi biáº¿n \\(Y\\) Ä‘áº¡i diá»‡n cho sá»± kiá»‡n má»™t ngÆ°á»i cÃ³ hay khÃ´ng tham gia báº£o hiá»ƒm xÃ£ há»™i; má»™t ngÆ°á»i cÃ³ hay khÃ´ng thá»±c hiá»‡n rÃºt báº£o hiá»ƒm xÃ£ há»™i má»™t láº§n trong thá»i gian má»™t khoáº£ng thá»i gian; má»™t khÃ¡ch hÃ ng cÃ³ hay khÃ´ng gá»­i yÃªu cáº§u thanh toÃ¡n báº£o hiá»ƒm; hay tÆ°Æ¡ng tá»± nhÆ° vÃ­ dá»¥ trong pháº§n Ä‘áº§u cá»§a cuá»‘n sÃ¡ch, má»™t khÃ¡ch hÃ ng Ä‘Ã£ mua báº£o hiá»ƒm báº¯t buá»™c cÃ³ hay khÃ´ng mua thÃªm cÃ¡c quyá»n lá»£i báº£o hiá»ƒm bá»• sung. NgoÃ i lÄ©nh vá»±c báº£o hiá»ƒm, biáº¿n má»¥c tiÃªu \\(Y\\) chá»‰ nháº­n giÃ¡ trá»‹ 0 hoáº·c 1 cÃ²n xuáº¥t hiá»‡n trong lÄ©nh vá»±c ngÃ¢n hÃ ng tÃ i chÃ­nh: biáº¿n má»¥c tiÃªu cho biáº¿t má»™t giao dá»‹ch trá»±c tuyáº¿n cÃ³ pháº£i lÃ  má»™t giao dá»‹ch gian láº­n hay khÃ´ng; má»™t khÃ¡ch hÃ ng cÃ³ hay khÃ´ng tiáº¿p nháº­n sáº£n pháº©m dá»‹ch vá»¥ tÃ i chÃ­nh vá»›i má»›i; má»™t khÃ¡ch hÃ ng cÃ³ hay khÃ´ng hoÃ n tráº£ khoáº£n ná»£ tháº» tÃ­n dá»¥ng trong thá»i gian tá»›i,â€¦ Trong táº¥t cáº£ cÃ¡c trÆ°á»ng há»£p ká»ƒ trÃªn khÃ´ng thá»ƒ giáº£ thiáº¿t phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n má»¥c tiÃªu lÃ  phÃ¢n phá»‘i chuáº©n. HÆ¡n tháº¿ ná»¯a, giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu sáº½ luÃ´n náº±m trong khoáº£ng 0 Ä‘áº¿n 1, chá»© khÃ´ng pháº£i toÃ n bá»™ trá»¥c sá»‘ thá»±c. Náº¿u sá»­ dá»¥ng má»™t tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘á»ƒ tÃ­nh toÃ¡n giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu, chÃºng ta sáº½ cÃ³ thá»ƒ gáº·p cÃ¡c giÃ¡ trá»‹ nhá» hÆ¡n 0 hoáº·c cÃ¡c giÃ¡ trá»‹ lá»›n hÆ¡n 1.Biáº¿n má»¥c tiÃªu \\(Y\\) lÃ  biáº¿n dáº¡ng Ä‘áº¿m. Cháº³ng háº¡n nhÆ° \\(Y\\) cho biáº¿t má»™t ngÆ°á»i tham gia báº£o hiá»ƒm xÃ£ há»™i gá»­i yÃªu cáº§u bá»“i thÆ°á»ng bao nhiÃªu láº§n trong má»™t nÄƒm; biáº¿n \\(Y\\) cho biáº¿t má»™t khÃ¡ch hÃ ng mua báº£o hiá»ƒm xe Ã´ tÃ´ gÃ¢y ra bao nhiÃªu tai náº¡n trong thá»i gian Ä‘Æ°á»£c báº£o hiá»ƒm,â€¦ Trong trÆ°á»ng há»£p nÃ y, \\(Y\\) sáº½ nháº­n giÃ¡ trá»‹ kiá»ƒu sá»‘ Ä‘áº¿m: \\(0, 1, 2, \\cdots\\) tÆ°Æ¡ng á»©ng vá»›i sá»‘ láº§n khÃ¡ch hÃ ng gá»­i yÃªu cáº§u báº£o hiá»ƒm. KhÃ´ng thá»ƒ sá»­ dá»¥ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng biáº¿n \\(Y\\) lÃ  biáº¿n rá»i ráº¡c Ä‘á»“ng thá»i giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) lÃ  má»™t sá»‘ lá»›n hÆ¡n 0.Biáº¿n má»¥c tiÃªu \\(Y\\) lÃ  biáº¿n dáº¡ng Ä‘áº¿m. Cháº³ng háº¡n nhÆ° \\(Y\\) cho biáº¿t má»™t ngÆ°á»i tham gia báº£o hiá»ƒm xÃ£ há»™i gá»­i yÃªu cáº§u bá»“i thÆ°á»ng bao nhiÃªu láº§n trong má»™t nÄƒm; biáº¿n \\(Y\\) cho biáº¿t má»™t khÃ¡ch hÃ ng mua báº£o hiá»ƒm xe Ã´ tÃ´ gÃ¢y ra bao nhiÃªu tai náº¡n trong thá»i gian Ä‘Æ°á»£c báº£o hiá»ƒm,â€¦ Trong trÆ°á»ng há»£p nÃ y, \\(Y\\) sáº½ nháº­n giÃ¡ trá»‹ kiá»ƒu sá»‘ Ä‘áº¿m: \\(0, 1, 2, \\cdots\\) tÆ°Æ¡ng á»©ng vá»›i sá»‘ láº§n khÃ¡ch hÃ ng gá»­i yÃªu cáº§u báº£o hiá»ƒm. KhÃ´ng thá»ƒ sá»­ dá»¥ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng biáº¿n \\(Y\\) lÃ  biáº¿n rá»i ráº¡c Ä‘á»“ng thá»i giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) lÃ  má»™t sá»‘ lá»›n hÆ¡n 0.Ngay cáº£ khi trong cÃ¡c trÆ°á»ng há»£p biáº¿n phá»¥ thuá»™c \\(Y\\) lÃ  biáº¿n liÃªn tá»¥c, sá»­ dá»¥ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng cÅ©ng sáº½ gáº·p pháº£i váº¥n Ä‘á». Cháº³ng háº¡n nhÆ° khi \\(Y\\) lÃ  sá»‘ tiá»n khÃ¡ch hÃ ng yÃªu cáº§u bá»“i thÆ°á»ng cho xe Ã´ tÃ´ trong trÆ°á»ng há»£p xáº£y ra tai náº¡n. Biáº¿n \\(Y\\) chá»‰ nháº­n giÃ¡ trá»‹ lÃ  sá»‘ dÆ°Æ¡ng vÃ  thÆ°á»ng cÃ³ phÃ¢n phá»‘i xÃ¡c suáº¥t lá»‡ch pháº£i vá»›i Ä‘uÃ´i lá»›n. Sá»­ dá»¥ng giáº£ thiáº¿t phÃ¢n phá»‘i chuáº©n cho biáº¿n \\(Y\\) sáº½ lÃ m cho mÃ´ hÃ¬nh khÃ´ng Ä‘Ã¡nh giÃ¡ Ä‘Ãºng kháº£ má»©c Ä‘á»™ nghiÃªm trá»ng cá»§a yÃªu cáº§u bá»“i thÆ°á»ng phÃ¢n phá»‘i chuáº©n khÃ´ng cÃ³ kháº£ nÄƒng mÃ´ táº£ cÃ¡c rá»§i ro cÃ³ Ä‘uÃ´i lá»›n. Äá»“ng thá»i, giÃ¡ trá»‹ trung bÃ¬nh cá»§a sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°á»ng luÃ´n lÃ  sá»‘ dÆ°Æ¡ng, Ä‘Ã³ cÅ©ng khÃ´ng thá»ƒ sá»­ dá»¥ng tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘á»ƒ trá»±c tiáº¿p mÃ´ táº£ giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\).Ngay cáº£ khi trong cÃ¡c trÆ°á»ng há»£p biáº¿n phá»¥ thuá»™c \\(Y\\) lÃ  biáº¿n liÃªn tá»¥c, sá»­ dá»¥ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng cÅ©ng sáº½ gáº·p pháº£i váº¥n Ä‘á». Cháº³ng háº¡n nhÆ° khi \\(Y\\) lÃ  sá»‘ tiá»n khÃ¡ch hÃ ng yÃªu cáº§u bá»“i thÆ°á»ng cho xe Ã´ tÃ´ trong trÆ°á»ng há»£p xáº£y ra tai náº¡n. Biáº¿n \\(Y\\) chá»‰ nháº­n giÃ¡ trá»‹ lÃ  sá»‘ dÆ°Æ¡ng vÃ  thÆ°á»ng cÃ³ phÃ¢n phá»‘i xÃ¡c suáº¥t lá»‡ch pháº£i vá»›i Ä‘uÃ´i lá»›n. Sá»­ dá»¥ng giáº£ thiáº¿t phÃ¢n phá»‘i chuáº©n cho biáº¿n \\(Y\\) sáº½ lÃ m cho mÃ´ hÃ¬nh khÃ´ng Ä‘Ã¡nh giÃ¡ Ä‘Ãºng kháº£ má»©c Ä‘á»™ nghiÃªm trá»ng cá»§a yÃªu cáº§u bá»“i thÆ°á»ng phÃ¢n phá»‘i chuáº©n khÃ´ng cÃ³ kháº£ nÄƒng mÃ´ táº£ cÃ¡c rá»§i ro cÃ³ Ä‘uÃ´i lá»›n. Äá»“ng thá»i, giÃ¡ trá»‹ trung bÃ¬nh cá»§a sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°á»ng luÃ´n lÃ  sá»‘ dÆ°Æ¡ng, Ä‘Ã³ cÅ©ng khÃ´ng thá»ƒ sá»­ dá»¥ng tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘á»ƒ trá»±c tiáº¿p mÃ´ táº£ giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\).CÃ³ thá»ƒ tá»•ng káº¿t ráº±ng hai váº¥n Ä‘á» thÆ°á»ng gáº·p pháº£i khi sá»­ dá»¥ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng trÃªn dá»¯ liá»‡u thá»±c táº¿ lÃ Thá»© nháº¥t: sá»± khÃ´ng phÃ¹ há»£p cá»§a giáº£ thiáº¿t phÃ¢n phá»‘i chuáº©n Ä‘á»‘i vá»›i biáº¿n má»¥c tiÃªu \\(Y\\); vÃ Thá»© nháº¥t: sá»± khÃ´ng phÃ¹ há»£p cá»§a giáº£ thiáº¿t phÃ¢n phá»‘i chuáº©n Ä‘á»‘i vá»›i biáº¿n má»¥c tiÃªu \\(Y\\); vÃ Thá»© hai: miá»n giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) khÃ´ng phÃ¹ há»£p vá»›i miá»n giÃ¡ trá»‹ cá»§a tá»• há»£p tuyáº¿n tÃ­nh cá»§a biáº¿n Ä‘á»™c láº­p. GiÃ¡ trá»‹ \\(\\textbf{x}_i^{'} \\boldsymbol{\\beta} = \\beta_0 + \\beta_1 \\ x_{,1} + \\beta_2 \\ x_{,2} + \\cdots + \\beta_p \\ x_{,p}\\) cÃ³ thá»ƒ nháº­n báº¥t ká»³ giÃ¡ trá»‹ nÃ o trong \\(\\mathbb{R}\\), trong khi giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) trong cÃ¡c dá»¯ liá»‡u thá»±c táº¿ láº¡i thÆ°á»ng chá»‰ lÃ  má»™t táº­p con cá»§a \\(\\mathbb{R}\\).Thá»© hai: miá»n giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) khÃ´ng phÃ¹ há»£p vá»›i miá»n giÃ¡ trá»‹ cá»§a tá»• há»£p tuyáº¿n tÃ­nh cá»§a biáº¿n Ä‘á»™c láº­p. GiÃ¡ trá»‹ \\(\\textbf{x}_i^{'} \\boldsymbol{\\beta} = \\beta_0 + \\beta_1 \\ x_{,1} + \\beta_2 \\ x_{,2} + \\cdots + \\beta_p \\ x_{,p}\\) cÃ³ thá»ƒ nháº­n báº¥t ká»³ giÃ¡ trá»‹ nÃ o trong \\(\\mathbb{R}\\), trong khi giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) trong cÃ¡c dá»¯ liá»‡u thá»±c táº¿ láº¡i thÆ°á»ng chá»‰ lÃ  má»™t táº­p con cá»§a \\(\\mathbb{R}\\).MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn cÆ¡ sá»Ÿ cá»§a mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng vá»›i má»¥c Ä‘Ã­ch kháº¯c phá»¥c hai nhÆ°á»£c Ä‘iá»ƒm ká»ƒ trÃªn.\n- TrÆ°á»›c háº¿t, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t giáº£ thiáº¿t má»™t phÃ¢n phá»‘i phÃ¹ há»£p cho biáº¿n phá»¥ thuá»™c \\(Y\\), tÃ¹y vÃ o dá»¯ liá»‡u sá»­ dá»¥ng Ä‘á»ƒ phÃ¢n tÃ­ch, táº¡m gá»i lÃ  phÃ¢n phá»‘i \\(F\\) vá»›i tham sá»‘ \\(\\boldsymbol{\\theta}\\), kÃ½ hiá»‡u lÃ  \\(F_\\boldsymbol{\\theta}\\).\n- Tiáº¿p theo, Ä‘á»ƒ Ä‘áº£m báº£o miá»n giÃ¡ trá»‹ cá»§a giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) vá»›i Ä‘iá»u kiá»‡n cÃ¡c biáº¿n Ä‘á»™c láº­p báº±ng \\(\\textbf{x}_i\\), \\(\\mu_i = E(Y|\\textbf{X} = \\textbf{x}_i)\\), phÃ¹ há»£p vá»›i miá»n giÃ¡ trá»‹ cá»§a \\(\\textbf{x}_i^{'} \\boldsymbol{\\beta}\\), mÃ´ hÃ¬nh tuyá»ƒn tÃ­nh tá»•ng quÃ¡t sá»­ dá»¥ng má»™t hÃ m sá»‘ Ä‘Æ¡n Ä‘iá»‡u \\(g\\), Ä‘Æ°á»£c gá»i lÃ  hÃ m liÃªn káº¿t, Ä‘á»ƒ biáº¿n Ä‘á»•i miá»n giÃ¡ trá»‹ cá»§a \\(\\mu_i\\). ChÃºng ta phÃ¡t biá»ƒu mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t nhÆ° sau\n\\[\\begin{align}\n& Y \\sim  F_\\theta \\\\\n& \\mathbb{E}(Y|\\textbf{X} = \\textbf{x}_i) = \\mu_i \\\\\n& g(\\mu_i) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}\n(\\#eq:glm6)\n\\end{align}\\]TrÆ°á»›c háº¿t, cÃ³ thá»ƒ tháº¥y ráº±ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng lÃ  trÆ°á»ng há»£p Ä‘áº·c biá»‡t cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t khi tham sá»‘ \\(\\boldsymbol{\\theta}\\) lÃ  \\(\\sigma^2\\); phÃ¢n phá»‘i \\(F\\) lÃ  phÃ¢n phá»‘i chuáº©n; vÃ  hÃ m \\(g\\) lÃ  hÃ m sá»‘ Ä‘á»“ng nháº¥t \\(g(x) = x\\).Giáº£ thiáº¿t Ä‘Æ¡n Ä‘iá»‡u cá»§a hÃ m liÃªn káº¿t \\(g\\) Ä‘áº£m báº£o sá»± tá»“n táº¡i cá»§a hÃ m sá»‘ ngÆ°á»£c \\(g^{-1}\\). Má»‘i liÃªn há»‡ cá»§a \\(\\mu_i\\) vÃ  \\(\\textbf{x}_i^{'} \\boldsymbol{\\beta}\\) cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t láº¡i dÆ°á»›i dáº¡ng hÃ m ngÆ°á»£c cá»§a hÃ m liÃªn káº¿t nhÆ° sau\n\\[\\begin{align}\n\\mu_i = g^{-1}(\\textbf{x}_i^{'} \\boldsymbol{\\beta})\n(\\#eq:glm7)\n\\end{align}\\]Quay trá»Ÿ láº¡i vÃ­ dá»¥ á»Ÿ pháº§n trÆ°á»›c cá»§a chÆ°Æ¡ng sÃ¡ch, chÃºng ta phÃ¢n tÃ­ch vá» tÃ¡c Ä‘á»™ng cá»§a Ä‘á»™ tuá»•i vÃ  giá»›i tÃ­nh lÃªn quyáº¿t Ä‘á»‹nh cÃ³ tham gia quyá»n lá»£i báº£o hiá»ƒm bá»• sung hay khÃ´ng. MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t Ä‘Æ°á»£c xÃ¢y dá»±ng nhÆ° sau:\\[\\begin{align}\n& Y \\sim  \\mathcal{B}(p) \\\\\n& \\mathbb{E}(Y|age_i, sex_i) = p_i \\\\\n& \\Phi^{-1}(p_i) = 0.678 - 0.016 \\times age_i - 0.446 \\times sex_i\n\\end{align}\\]PhÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n \\(Y\\) lÃ  phÃ¢n phá»‘i nhá»‹ thá»©c \\(Y\\) chá»‰ cÃ³ thá»ƒ nháº­n lÃ  0 hoáº·c 1. Äá»“ng thá»i, giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) náº±m trong khoáº£ng \\((0,1)\\) chÃºng ta cÃ³ thá»ƒ chá»n hÃ m liÃªn káº¿t \\(g\\) lÃ  hÃ m \\(\\Phi^{-1}\\). ÄÃ¢y lÃ  hÃ m ngÆ°á»£c cá»§a hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(0,1)\\) nÃªn thá»a mÃ£n cÃ¡c Ä‘iá»u kiá»‡n cá»§a má»™t hÃ m liÃªn káº¿t: hÃ m Ä‘Æ¡n Ä‘iá»‡u tÄƒng; cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  \\((0,1)\\); vÃ  miá»n giÃ¡ trá»‹ lÃ  táº­p sá»‘ thá»±c \\(\\mathbb{R}\\). Náº¿u khÃ´ng lá»±a chá»n \\(\\Phi^{-1}\\), má»i hÃ m sá»‘ Ä‘Æ¡n Ä‘iá»‡u, cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  khoáº£ng \\((0,1)\\), vÃ  miá»n giÃ¡ trá»‹ lÃ  táº­p sá»‘ thá»±c \\(\\mathbb{R}\\) Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c lá»±a chá»n lÃ m hÃ m sá»‘ káº¿t ná»‘i.","code":""},{"path":"index.html","id":"xÃ¢y-dá»±ng-mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.2 XÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t","text":"Pháº§n tiáº¿p theo cá»§a cuá»‘n sÃ¡ch sáº½ tháº£o luáº­n vá» cÃ¡ch xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tá»•ng quÃ¡t vá»›i cÃ¡c kiá»ƒu giÃ¡ trá»‹ khÃ¡c nhau cá»§a biáº¿n phá»¥ thuá»™c \\(Y\\). Xin Ä‘Æ°á»£c nháº¯c láº¡i ráº±ng Ä‘Ã¢y lÃ  cuá»‘n sÃ¡ch dÃ nh cho cáº£ cÃ¡c báº¡n Ä‘á»c khÃ´ng cÃ³ ná»n táº£ng toÃ¡n há»c nÃ¢ng cao. Ä‘Ã³, nhá»¯ng tháº£o luáº­n phá»©c táº¡p liÃªn quan Ä‘áº¿n cÃ¡c giáº£ thiáº¿t cá»§a mÃ´ hÃ¬nh hay phÆ°Æ¡ng phÃ¡p Æ°á»›c lÆ°á»£ng tham sá»‘ sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ pháº§n sau cá»§a chÆ°Æ¡ng sÃ¡ch. ChÃºng ta sáº½ hiá»ƒu vá» mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t thÃ´ng qua viá»‡c á»©ng dá»¥ng mÃ´ hÃ¬nh cho cÃ¡c cÃ¡c dá»¯ liá»‡u thá»±c táº¿ trÆ°á»›c khi Ä‘i sÃ¢u vÃ o báº£n cháº¥t toÃ¡n há»c cá»§a mÃ´ hÃ¬nh.","code":""},{"path":"index.html","id":"biáº¿n-phá»¥-thuá»™c-lÃ -biáº¿n-dáº¡ng-nhá»‹-phÃ¢n.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.2.1 Biáº¿n phá»¥ thuá»™c lÃ  biáº¿n dáº¡ng nhá»‹ phÃ¢n.","text":"ÄÃ¢y lÃ  cÃ¡c trÆ°á»ng há»£p mÃ  biáº¿n phá»¥ thuá»™c chá»‰ nháº­n má»™t trong hai giÃ¡ trá»‹. á» pháº§n trÃªn chÃºng ta Ä‘Ã£ trÃ¬nh bÃ y cÃ¡c vÃ­ dá»¥ cho trÆ°á»ng há»£p nÃ y: khÃ¡ch hÃ ng cÃ³ hay khÃ´ng hoÃ n tráº£ ná»£ tháº» tÃ­n dá»¥ng, khÃ¡ch hÃ ng pháº£n há»“i tÃ­ch cá»±c hay tiÃªu cá»±c vá» sáº£n pháº§m, má»™t yÃªu cáº§u bá»“i thÆ°á»ng lÃ  trá»¥c lá»£i hay bÃ¬nh thÆ°á»ng, má»™t giao dá»‹ch rÃºt tiá»n ngÃ¢n hÃ ng cÃ³ hay khÃ´ng pháº£i lÃ  giao dá»‹ch gian láº­n, â€¦ Máº·c dÃ¹ Ä‘Ã¢y chá»‰ lÃ  má»™t trÆ°á»ng há»£p Ä‘áº·c biá»‡t cá»§a biáº¿n phá»¥ thuá»™c nháº­n giÃ¡ trá»‹ rá»i ráº¡c nhÆ°ng qua cÃ¡c vÃ­ dá»¥ thá»±c táº¿ láº¡i tháº¥y ráº±ng pháº§n lá»›n cÃ¡c dá»¯ liá»‡u gáº·p pháº£i láº¡i cÃ³ biáº¿n phá»¥ thuá»™c á»Ÿ dáº¡ng nhá»‹ phÃ¢n. Khi \\(Y\\) chá»‰ nháº­n hai giÃ¡ trá»‹, chÃºng ta sáº½ luÃ´n mÃ£ hÃ³a giÃ¡ trá»‹ cá»§a \\(Y\\) thÃ nh hai sá»‘ lÃ  0 vÃ  1. Má»™t vÃ i cuá»‘n sÃ¡ch khÃ¡c, hoáº·c trong má»™t vÃ i lÄ©nh vá»±c nghiÃªn cá»©u khÃ¡c, ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh cÃ³ thá»ƒ mÃ£ hÃ³a \\(Y\\) thÃ nh -1 vÃ  1. Tuy nhiÃªn hai cÃ¡ch mÃ£ hÃ³a nÃ y chá»‰ khÃ¡c nhau á»Ÿ hÃ¬nh thá»©c chá»© khÃ´ng lÃ m áº£nh hÆ°á»Ÿng Ä‘áº¿n káº¿t quáº£ cá»§a mÃ´ hÃ¬nh.","code":""},{"path":"index.html","id":"phÃ¢n-phá»‘i-xÃ¡c-suáº¥t-cá»§a-biáº¿n-phá»¥-thuá»™c.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.2.1.1 PhÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n phá»¥ thuá»™c.","text":"Khi biáº¿n phá»¥ thuá»™c lÃ  biáº¿n dáº¡ng nhá»‹ phÃ¢n, má»™t cÃ¡ch tá»± nhiÃªn, chÃºng ta sáº½ sá»­ dá»¥ng phÃ¢n phá»‘i nhá»‹ thá»©c, hay cÃ²n gá»i lÃ  phÃ¢n phá»‘i Bernoulli, Ä‘á»ƒ mÃ´ táº£ biáº¿n phá»¥ thuá»™c. Biáº¿n ngáº«u nhiÃªn \\(B\\) cÃ³ phÃ¢n phá»‘i nhá»‹ thá»©c vá»›i tham sá»‘ \\(\\rho\\), \\(0 < \\rho < 1\\), kÃ½ hiá»‡u \\(\\mathcal{B}(\\rho)\\), lÃ  biáº¿n ngáº«u nhiÃªn chá»‰ nháº­n hai giÃ¡ trá»‹ lÃ  0 vÃ  1 vá»›i hÃ m khá»‘i lÆ°á»£ng xÃ¡c suáº¥t nhÆ° sau\\[\\begin{align}\n\\mathbb{P}(B = x) = \\rho^x \\times (1-\\rho)^{(1-x)} \\text{ vá»›i } x \\\\{0;1\\}\n(\\#eq:glm80)\n\\end{align}\\]ChÃºng ta cÃ³ giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a \\(\\mathcal{B}(\\rho)\\).\n\\[\\begin{align}\n& \\mathbb{E}(B) = \\rho \\\\\n& \\mathbb{V}(B) = \\rho \\ (1-\\rho)\n(\\#eq:glm81)\n\\end{align}\\]CÃ³ thá»ƒ tháº¥y ráº±ng phÃ¢n phá»‘i nhá»‹ thá»©c cÃ³ duy nháº¥t má»™t tham sá»‘ \\(\\rho\\) vÃ  tham sá»‘ nÃ y cÅ©ng chÃ­nh lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n Ä‘Ã³. PhÆ°Æ¡ng sai cá»§a \\(\\mathcal{B}(\\rho)\\) nhá» hÆ¡n giÃ¡ trá»‹ trung bÃ¬nh.","code":""},{"path":"index.html","id":"lá»±a-chá»n-hÃ m-liÃªn-káº¿t.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.2.1.2 Lá»±a chá»n hÃ m liÃªn káº¿t.","text":"Khi biáº¿n phá»¥ thuá»™c \\(Y\\) cÃ³ phÃ¢n phá»‘i nhá»‹ thá»©c, giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c sáº½ náº±m trong khoáº£ng \\((0,1)\\). Tá»« cÃ´ng thá»©c @ref(eq:glm6), náº¿u cho \\(\\rho_i\\) lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vá»›i Ä‘iá»u kiá»‡n cÃ¡c biáº¿n Ä‘á»™c láº­p \\(\\textbf{X} = \\textbf{x}_i\\), ta cÃ³\\[\\begin{align}\n& \\mathbb{E}(Y|\\textbf{X} = \\textbf{x}_i) = \\rho_i \\\\\n& g(\\rho_i) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,3}\n(\\#eq:bn1)\n\\end{align}\\]NhÆ° váº­y, má»i hÃ m sá»‘ Ä‘Æ¡n Ä‘iá»‡u cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  khoáº£ng \\((0,1)\\) vÃ  miá»n giÃ¡ trá»‹ lÃ  toÃ n bá»™ táº­p sá»‘ thá»±c \\(\\mathbb{R}\\) Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c lá»±a chá»n Ä‘á»ƒ lÃ m hÃ m ngÆ°á»£c cá»§a hÃ m liÃªn káº¿t. LÃ m tháº¿ nÃ o Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c nhá»¯ng hÃ m sá»‘ cÃ³ tÃ­nh cháº¥t nhÆ° váº­y? ChÃºng ta Ä‘á»u biáº¿t ráº±ng cÃ¡c hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a má»™t biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c báº¥t ká»³ lÃ  cÃ¡c hÃ m sá»‘ tÄƒng, cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  \\(\\mathbb{R}\\) vÃ  miá»n giÃ¡ trá»‹ lÃ  khoáº£ng \\((0,1)\\). Ä‘Ã³, hÃ m sá»‘ ngÆ°á»£c cá»§a cÃ¡c hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t, sáº½ lÃ  cÃ¡c hÃ m sá»‘ tÄƒng, cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  khoáº£ng \\((0,1)\\) vÃ  miá»n giÃ¡ trá»‹ lÃ  \\(\\mathbb{R}\\). NÃ³i má»™t cÃ¡ch khÃ¡c, hÃ m sá»‘ ngÆ°á»£c cá»§a cÃ¡c hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t báº¥t ká»³ thá»a mÃ£n Ä‘áº§y Ä‘á»§ tÃ­nh cháº¥t cá»§a hÃ m liÃªn káº¿t trong trÆ°á»ng há»£p \\(Y\\) cÃ³ phÃ¢n phá»‘i nhá»‹ thá»©c.Trong thá»±c táº¿, viá»‡c lá»±a chá»n hÃ m liÃªn káº¿t cÃ²n cÃ³ má»¥c tiÃªu lÃ  Ä‘á»ƒ mÃ´ hÃ¬nh dá»… giáº£i thÃ­ch vÃ  quÃ¡ trÃ¬nh Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh Ä‘Æ¡n giáº£n nháº¥t cÃ³ thá»ƒ. CÃ¡c hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t thÆ°á»ng Ä‘Æ°á»£c lá»±a chá»n lÃ m \\(g^{-1}(.)\\) bao gá»“m cÃ³: thá»© nháº¥t lÃ  hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn logistic; thá»© hai lÃ  hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n; vÃ  thá»© ba lÃ  hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i Cauchy.HÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn logistic vÃ  hÃ m ngÆ°á»£c Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c sau\n\\[\\begin{align}\n& \\textit{HÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t: } \\ g^{-1}(x) = \\cfrac{1}{1 + e^{-x}} \\\\\n& \\textit{HÃ m ngÆ°á»£c: } \\ g(x) = ln(\\cfrac{x}{1- x})\n\\end{align}\\]Vá»›i biáº¿n phá»¥ thuá»™c \\(Y\\) lÃ  cÃ³ phÃ¢n phá»‘i nhá»‹ thá»©c vÃ  hÃ m \\(g\\) lÃ  hÃ m sá»‘ ngÆ°á»£c cá»§a hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn logistic, chÃºng ta cÃ³ mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t nhÆ° sau:\\[\\begin{align}\n& Y_i \\sim \\mathcal{B}(\\rho_i) \\\\\n& \\rho_i = \\cfrac{1}{1 + exp(-(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}))} \\\\\n& ln(\\cfrac{\\rho_i}{1 - \\rho_i}) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}\n(\\#eq:logit1)\n\\end{align}\\]ÄÃ¢y lÃ  mÃ´ hÃ¬nh Ä‘Æ°á»£c biáº¿t Ä‘áº¿n rá»™ng rÃ£i vá»›i tÃªn gá»i lÃ  há»“i quy logistic vÃ  cÅ©ng lÃ  mÃ´ hÃ¬nh thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng nháº¥t trong khi biáº¿n phá»¥ thuá»™c lÃ  biáº¿n nhá»‹ phÃ¢n. MÃ´ hÃ¬nh cÃ³ Æ°u Ä‘iá»ƒm lÃ  sá»± dá»… hiá»ƒu khi diá»…n giáº£i káº¿t quáº£:\\(\\rho_i\\) ngoÃ i Ã½ nghÄ©a lÃ  trung bÃ¬nh cá»§a biáº¿n ngáº«u nhiÃªn \\(Y_i\\) cÃ²n cÃ³ Ã½ nghÄ©a lÃ  xÃ¡c suáº¥t xáº£y ra sá»± kiá»‡n \\(Y_i = 1\\).\\(\\rho_i\\) ngoÃ i Ã½ nghÄ©a lÃ  trung bÃ¬nh cá»§a biáº¿n ngáº«u nhiÃªn \\(Y_i\\) cÃ²n cÃ³ Ã½ nghÄ©a lÃ  xÃ¡c suáº¥t xáº£y ra sá»± kiá»‡n \\(Y_i = 1\\).GiÃ¡ trá»‹ \\(\\cfrac{\\rho_i}{1 - \\rho_i}\\) Ä‘Æ°á»£c gá»i lÃ  odds cá»§a sá»± kiá»‡n \\(Y_i = 1\\). Má»‘i liÃªn há»‡ giá»¯a quan sÃ¡t thá»© \\(\\) cá»§a biáº¿n Ä‘á»™c láº­p \\(X_j\\) lÃ  \\(x_{,j}\\) vÃ  obbs cá»§a sá»± kiá»‡n \\(Y_i = 1\\) cÃ³ thá»ƒ Ä‘Æ°á»£c diá»…n giáº£i thÃ´ng qua há»‡ sá»‘ \\(\\beta_j\\).GiÃ¡ trá»‹ \\(\\cfrac{\\rho_i}{1 - \\rho_i}\\) Ä‘Æ°á»£c gá»i lÃ  odds cá»§a sá»± kiá»‡n \\(Y_i = 1\\). Má»‘i liÃªn há»‡ giá»¯a quan sÃ¡t thá»© \\(\\) cá»§a biáº¿n Ä‘á»™c láº­p \\(X_j\\) lÃ  \\(x_{,j}\\) vÃ  obbs cá»§a sá»± kiá»‡n \\(Y_i = 1\\) cÃ³ thá»ƒ Ä‘Æ°á»£c diá»…n giáº£i thÃ´ng qua há»‡ sá»‘ \\(\\beta_j\\).HÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn chuáº©n \\(\\mathcal{N}(0,1)\\) vÃ  hÃ m ngÆ°á»£c cá»§a hÃ m phÃ¢n phá»‘i Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c sau\n\\[\\begin{align}\n& g^{-1}(x) = \\Phi(x) \\\\\n& g(x) = \\Phi^{-1}(x) \\\\\n& \\Phi(x) = \\cfrac{1}{\\sqrt{2 \\pi}} \\  \\int\\limits_{-\\infty}^x \\ exp(-t^2/2)  \\\\\n\\end{align}\\]ChÃºng ta cÃ³ mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t nhÆ° sau\\[\\begin{align}\n& Y_i \\sim \\mathcal{B}(\\rho_i) \\\\\n& \\rho_i = \\Phi(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}) \\\\\n& \\Phi^{-1}(\\rho_i) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}\n(\\#eq:probit1)\n\\end{align}\\]HÃ m sá»‘ ngÆ°á»£c cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n Ä‘Æ°á»£c gá»i lÃ  hÃ m probit Ä‘Ã³ mÃ´ hÃ¬nh GLM trong trÆ°á»ng há»£p nÃ y cÃ²n Ä‘Æ°á»£c biáº¿t Ä‘áº¿n vá»›i tÃªn gá»i lÃ  mÃ´ hÃ¬nh probit.HÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn Cauchy vÃ  hÃ m ngÆ°á»£c cá»§a hÃ m phÃ¢n phá»‘i Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c sau\n\\[\\begin{align}\n& g^{-1}(x) = \\cfrac{1}{2} + \\cfrac{arctan(x)}{\\pi} \\\\\n& g(x) = tan\\left( \\pi \\left( x - \\cfrac{1}{2} \\right) \\right)\n(\\#eq:cauchy1)\n\\end{align}\\]ChÃºng ta cÃ³ mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t nhÆ° sau\\[\\begin{align}\n& Y_i \\sim \\mathcal{B}(\\rho_i) \\\\\n& p_i = \\cfrac{1}{2} + \\cfrac{arctan(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p})}{\\pi}  \\\\\n& tan\\left( \\pi \\left( \\rho_i - \\cfrac{1}{2} \\right) \\right) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}\n(\\#eq:cauchy2)\n\\end{align}\\]HÃ m sá»‘ ngÆ°á»£c cá»§a phÃ¢n phá»‘i cauchy cÃ²n Ä‘Æ°á»£c gá»i lÃ  hÃ m cauchit, Ä‘Ã³ mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trong trÆ°á»ng há»£p nÃ y cÃ²n Ä‘Æ°á»£c biáº¿t Ä‘áº¿n vá»›i tÃªn lÃ  mÃ´ hÃ¬nh cauchit.HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ hÃ¬nh dáº¡ng cá»§a ba hÃ m sá»‘ káº¿t ná»‘iMÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trong trÆ°á»ng há»£p \\(Y\\) lÃ  biáº¿n nhá»‹ phÃ¢n thÆ°á»ng Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng báº±ng phÆ°Æ¡ng phÃ¡p tá»‘i Ä‘a hÃ³a hÃ m likelihood, hay gá»i táº¯t lÃ  phÆ°Æ¡ng phÃ¡p MLE. Äá»ƒ trÃ¡nh sá»± phá»©c táº¡p khÃ´ng cáº§n thiáº¿t chÃºng tÃ´i sáº½ trÃ¬nh bÃ y pháº§n Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh trong pháº§n sau cá»§a chÆ°Æ¡ng sÃ¡ch.Trong R, hÃ m sá»‘ glm() cá»§a thÆ° viá»‡n \\(stat\\) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t. Tham sá»‘ \\(family\\) trong hÃ m glm() dÃ¹ng Ä‘á»ƒ khai bÃ¡o phÃ¢n phá»‘i xÃ¡c suáº¥t cho biáº¿n phá»¥ thuá»™c \\(Y\\) vÃ  Ä‘á»ƒ lá»±a chá»n hÃ m liÃªn káº¿t phÃ¹ há»£p. Trá»Ÿ láº¡i vá»›i vÃ­ dá»¥ khi \\(Y\\) lÃ  biáº¿n nhá»‹ phÃ¢n mÃ´ táº£ khÃ¡ch hÃ ng cÃ³ hay khÃ´ng lá»±a chá»n cÃ¡c quyá»n lá»£i Ä‘áº§y Ä‘á»§ khi tham gia báº£o hiá»ƒm bá»• sung, chÃºng ra thá»±c hiá»‡n xÃ¢y dá»±ng mÃ´ hÃ¬nh nhÆ° sauCáº£ ba mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t á»Ÿ trÃªn Ä‘á»u cho \\(Y\\) lÃ  má»™t biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i nhá»‹ thá»©c, nhÆ°ng má»‘i liÃªn há»‡ giá»¯a Ä‘á»™ tuá»•i vÃ  giá»›i tÃ­nh Ä‘áº¿n giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) láº¡i Ä‘Æ°á»£c mÃ´ táº£ báº±ng cÃ¡c cÃ´ng thá»©c khÃ¡c nhauTrong mÃ´ hÃ¬nh logit:\n\\[\\begin{align}\n\\mathbb{P}(Y_i = 1| age_i, sex_i) = \\cfrac{1}{1 + exp(-(1.109 - 0.026 \\times age_{} - 0.723 \\times sex_{}))}\n\\end{align}\\]Trong mÃ´ hÃ¬nh logit:\n\\[\\begin{align}\n\\mathbb{P}(Y_i = 1| age_i, sex_i) = \\cfrac{1}{1 + exp(-(1.109 - 0.026 \\times age_{} - 0.723 \\times sex_{}))}\n\\end{align}\\]Trong mÃ´ hÃ¬nh probit\n\\[\\begin{align}\n\\mathbb{P}(Y_i = 1| age_i, sex_i) = \\Phi\\left(0.678 - 0.016 \\times age_{} - 0.446 \\times sex_{}\\right)\n\\end{align}\\]Trong mÃ´ hÃ¬nh probit\n\\[\\begin{align}\n\\mathbb{P}(Y_i = 1| age_i, sex_i) = \\Phi\\left(0.678 - 0.016 \\times age_{} - 0.446 \\times sex_{}\\right)\n\\end{align}\\]Trong mÃ´ hÃ¬nh cauchit\n\\[\\begin{align}\n\\mathbb{P}(Y_i = 1| age_i, sex_i) = \\cfrac{1}{2} + \\cfrac{arctan\\left(0.997 - 0.024 \\times age_{} - 0.624 \\times sex_{}\\right)} {\\pi}\n\\end{align}\\]Trong mÃ´ hÃ¬nh cauchit\n\\[\\begin{align}\n\\mathbb{P}(Y_i = 1| age_i, sex_i) = \\cfrac{1}{2} + \\cfrac{arctan\\left(0.997 - 0.024 \\times age_{} - 0.624 \\times sex_{}\\right)} {\\pi}\n\\end{align}\\]Cáº£ ba mÃ´ hÃ¬nh Ä‘á»u cho cÃ¹ng má»™t káº¿t quáº£: ngÆ°á»i cÃ³ Ä‘á»™ tuá»•i cÃ ng cao thÃ¬ cÃ ng Ã­t cÃ³ kháº£ nÄƒng lá»±a chá»n quyá»n lá»£i báº£o hiá»ƒm bá»• sung vÃ  xÃ¡c suáº¥t nam giá»›i lá»±a chá»n quyá»n lá»£i báº£o hiá»ƒm bá»• sung lÃ  Ã­t hÆ¡n vá»›i ná»¯ giá»›i. Báº£ng dÆ°á»›i Ä‘Ã¢y Ä‘Æ°a ra kháº£ nÄƒng/xÃ¡c suáº¥t cháº¥p nháº­n cá»§a ba mÃ´ hÃ¬nh tÃ­nh dá»±a trÃªn hai biáº¿n Ä‘á»™c láº­p lÃ  tuá»•i vÃ  giá»›i tÃ­nhCÃ³ thá»ƒ tháº¥y ráº±ng khÃ´ng cÃ³ sá»± khÃ¡c biá»‡t lá»›n trong tÃ­nh toÃ¡n xÃ¡c suáº¥t cá»§a \\(Y\\) khi sá»­ dá»¥ng hÃ m liÃªn káº¿t khÃ¡c nhau. Thá»±c táº¿ thÃ¬ viá»‡c lá»±a chá»n hÃ m káº¿t ná»‘i sáº½ khÃ´ng áº£nh hÆ°á»Ÿng lá»›n Ä‘áº¿n káº¿t quáº£ cá»§a mÃ´ hÃ¬nh báº±ng viá»‡c lá»±a chá»n phÃ¢n phá»‘i cho biáº¿n phá»¥ thuá»™c hay viá»‡c lá»±a chá»n biáº¿n Ä‘á»™c láº­p Ä‘á»ƒ giáº£i thÃ­ch mÃ´ hÃ¬nh.","code":"\n# PhÃ¢n phá»‘i Y lÃ  nhá»‹ thá»©c vÃ  hÃ m liÃªn káº¿t lÃ  hÃ m logit\nglm.binomial.logit<-glm(Y ~ age + sex, data=dat, \n          family = binomial(link = \"logit\"))\n\n# PhÃ¢n phá»‘i Y lÃ  nhá»‹ thá»©c vÃ  hÃ m liÃªn káº¿t lÃ  hÃ m probit\nglm.binomial.probit<-glm(Y ~ age + sex, data=dat, \n          family = binomial(link = \"probit\"))\n\n# PhÃ¢n phá»‘i Y lÃ  nhá»‹ thá»©c vÃ  hÃ m liÃªn káº¿t lÃ  hÃ m cauchit\nglm.binomial.cauchy<-glm(Y ~ age + sex, data=dat, \n          family = binomial(link = \"cauchit\"))"},{"path":"index.html","id":"biáº¿n-phá»¥-thuá»™c-lÃ -biáº¿n-rá»i-ráº¡c-khÃ´ng-cÃ³-thá»©-tá»±.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.2.2 Biáº¿n phá»¥ thuá»™c lÃ  biáº¿n rá»i ráº¡c khÃ´ng cÃ³ thá»© tá»±.","text":"Biáº¿n rá»i ráº¡c khÃ´ng cÃ³ thá»© tá»±, hay cÃ²n gá»i lÃ  biáº¿n rá»i ráº¡c danh nghÄ©a (non-ordinal variable), lÃ  biáº¿n ngáº«u nhiÃªn mÃ  cÃ¡c giÃ¡ trá»‹ cÃ³ thá»ƒ nháº­n khÃ´ng cÃ³ Ã½ nghÄ©a sÃ¡nh vá»›i nhau. Khi nÃ³i Ä‘áº¿n biáº¿n rá»i ráº¡c khÃ´ng cÃ³ thá»© tá»±, chÃºng ta luÃ´n hiá»ƒu ráº±ng biáº¿n nháº­n tá»« ba giÃ¡ trá»‹ trá»Ÿ lÃªn bá»Ÿi vÃ¬ trÆ°á»ng há»£p cÃ³ hai giÃ¡ trá»‹ sáº½ tÆ°Æ¡ng tá»± nhÆ° biáº¿n cÃ³ phÃ¢n phá»‘i nhá»‹ phÃ¢n. Má»™t vÃ­ dá»¥ Ä‘Æ¡n giáº£n cho biáº¿n rá»i ráº¡c khÃ´ng cÃ³ thá»© tá»± lÃ  mÃ u sáº¯c Ä‘Æ°á»£c chá»n khi mua xe Ã´ tÃ´, hoáº·c loáº¡i hÃ¬nh báº£o hiá»ƒm Ä‘Æ°á»£c lá»±a chá»n bá»Ÿi cÃ¡c khÃ¡ch hÃ ng cá»§a má»™t cÃ´ng ty báº£o hiá»ƒm.Giáº£ sá»­ biáº¿n rá»i ráº¡c danh nghÄ©a \\(Y\\) cÃ³ thá»ƒ nháº­n \\(J\\) giÃ¡ trá»‹ khÃ¡c nhau láº§n lÆ°á»£t lÃ  \\(1, 2, \\cdots, J\\). Vá»›i biáº¿n danh nghÄ©a, chÃºng ta khÃ´ng thá»ƒ mÃ´ táº£ Ä‘Æ°á»£c má»‘i liÃªn há»‡ giá»¯a xÃ¡c suáº¥t cá»§a hai sá»± kiá»‡n \\((Y=)\\) vÃ  \\((Y=j)\\) vá»›i \\(1 \\leq < j \\leq J\\) dÆ°á»›i dáº¡ng tham sá»‘. ChÃ­nh vÃ¬ tháº¿ cáº¥u trÃºc dáº¡ng tham sá»‘ cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t nhÆ° phÆ°Æ¡ng trÃ¬nh @ref(eq:glm1) lÃ  khÃ´ng thá»ƒ Ã¡p dá»¥ng Ä‘Æ°á»£c.Má»™t phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n cho trÆ°á»ng há»£p biáº¿n má»¥c tiÃªu \\(Y\\) lÃ  biáº¿n danh nghÄ©a lÃ  má»Ÿ rá»™ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n nhá»‹ phÃ¢n: vá»›i má»—i \\(j \\{1,2,\\cdots,J}\\)\\[\\begin{align}\n\\mathbb{P}\\left(Y = j\\right|\\textbf{x}_i) = \\cfrac{h(\\beta_{j,0} + \\beta_{j,1} \\cdot x_{,1} + \\cdots + \\beta_{j,p} \\cdot x_{,p} ) }{ \\sum\\limits_{j=1}^J h(\\beta_{j,0} + \\beta_{j,1} \\cdot x_{,1} + \\cdots + \\beta_{j,p} \\cdot x_{,p} ) }\n(\\#eq:sm)\n\\end{align}\\]vá»›i hÃ m \\(h\\): \\(\\mathbb{R} \\rightarrow \\mathbb{R}^+\\). HÃ m sá»‘ \\(h\\) thÆ°á»ng Ä‘Æ°á»£c lá»±a chá»n lÃ  hÃ m lÅ©y thá»«a cÆ¡ sá»‘ tá»± nhiÃªn exp(). HÃ m sá»‘ xÃ¡c Ä‘á»‹nh xÃ¡c suáº¥t xáº£y ra cÃ¡c sá»± kiá»‡n \\((Y=j)\\) trong phÆ°Æ¡ng trÃ¬nh @ref(eq:sm) Ä‘Æ°á»£c gá»i lÃ  hÃ m \\(softmax\\):\n\\[\\begin{align}\nsoftmax(z_1, z_2, \\cdots, z_p) = \\left(\\cfrac{e^{z_1}}{\\sum\\limits_{j=1}^p e^{z_j}}, \\cfrac{e^{z_2}}{\\sum\\limits_{j=1}^p e^{z_1}}, \\cdots, \\cfrac{e^{z_p}}{\\sum\\limits_{=1}^p e^{z_j}}  \\right)\n\\end{align}\\]CÃ¡c tham sá»‘ \\(\\beta_{j,k}\\) Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng Ä‘á»ƒ tá»‘i thiá»ƒu hÃ³a hÃ m tá»•n tháº¥t tÃ­nh báº±ng cross-entropy:\n\\[\\begin{align}\n\\sum\\limits_{=1}^n \\sum\\limits_{j=1}^J y_{,j} \\cdot \\log\\left(\\mathbb{P}\\left(Y = j|\\textbf{x}_i\\right)\\right)\n\\end{align}\\]trong Ä‘Ã³ \\(\\mathbb{P}\\left(Y = j|\\textbf{x}_i\\right)\\) Ä‘Æ°á»£c tÃ­nh toÃ¡n tá»« cÃ´ng thá»©c @ref(eq:sm) vÃ  \\(y_{,j}\\) nháº­n má»™t trong hai giÃ¡ trá»‹:báº±ng 1 náº¿u giÃ¡ trá»‹ quan sÃ¡t thá»© \\(\\) cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) báº±ng \\(j\\)báº±ng 1 náº¿u giÃ¡ trá»‹ quan sÃ¡t thá»© \\(\\) cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) báº±ng \\(j\\)báº±ng 0 náº¿u giÃ¡ trá»‹ quan sÃ¡t thá»© \\(\\) cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) khÃ¡c \\(j\\)báº±ng 0 náº¿u giÃ¡ trá»‹ quan sÃ¡t thá»© \\(\\) cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) khÃ¡c \\(j\\)LÆ°u Ã½ ráº±ng cÃ³ \\(J\\) vÃ©c-tÆ¡ há»‡ sá»‘ tuyáº¿n tÃ­nh trong phÆ°Æ¡ng trÃ¬nh @ref(eq:sm). Trong thá»±c táº¿, khi biáº¿n má»¥c tiÃªu \\(Y\\) cÃ³ thá»ƒ nháº­n \\(J\\) giÃ¡ trá»‹ danh nghÄ©a, chÃºng ta xÃ¢y dá»±ng mÃ´ hÃ¬nh vá»›i \\((J-1)\\) vÃ©c-tÆ¡ há»‡ sá»‘ tuyáº¿n tÃ­nh tÆ°Æ¡ng á»©ng vá»›i cÃ¡c giÃ¡ trá»‹ danh nghÄ©a \\(1, 2, \\cdots, (J-1)\\), Ä‘á»“ng thá»i cá»‘ Ä‘á»‹nh giÃ¡ trá»‹ cá»§a táº¥t cáº£ cÃ¡c há»‡ sá»‘ tuyáº¿n tÃ­nh báº±ng 0 vá»›i giÃ¡ trá»‹ danh nghÄ©a \\(J\\). Khi táº¥t cáº£ cÃ¡c há»‡ sá»‘ tuyáº¿n tÃ­nh báº±ng 0, chÃºng ta cÃ³ \\(h(.) = exp(0) = 1\\) vá»›i má»i \\(\\textbf{x}_i\\).\\[\\begin{align}\n& \\mathbb{P}\\left(Y = j\\right|x_i) = \\cfrac{h(\\beta_{j,0} + \\beta_{j,1} \\cdot x_{,1} + \\cdots + \\beta_{j,p} \\cdot x_{,p} ) }{1 + \\sum\\limits_{j=1}^{J-1} h(\\beta_{j,0} + \\beta_{j,1} \\cdot x_{,1} + \\cdots + \\beta_{j,p} \\cdot x_{,p} )} \\textit{ vá»›i } j < J \\\\\n& \\mathbb{P}\\left(Y = J\\right|x_i) = \\cfrac{1}{1 + \\sum\\limits_{j=1}^{J-1} h(\\beta_{j,0} + \\beta_{j,1} \\cdot x_{,1} + \\cdots + \\beta_{j,p} \\cdot x_{,p} )} \\\\\n(\\#eq:sm1)\n\\end{align}\\]ChÃºng ta sáº½ xÃ¢y dá»±ng mÃ´ hÃ¬nh phÃ¢n loáº¡i biáº¿n má»¥c tiÃªu trÃªn dá»¯ liá»‡u â€œtravel insurance.csvâ€. Dá»¯ liá»‡u cung cáº¥p thÃ´ng tin vá» cÃ¡c sáº£n pháº©m báº£o hiá»ƒm du lá»‹ch tá»« má»™t Ä‘áº¡i lÃ½ du lá»‹ch, vá»›i biáº¿n má»¥c tiÃªu lÃ  \\(product.name\\) cho biáº¿t khÃ¡ch hÃ ng Ä‘Ã£ lá»±a chá»n sáº£n pháº©m sáº£n pháº©m báº£o hiá»ƒm nÃ o. Biáº¿n má»¥c tiÃªu cÃ³ bá»‘n giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng vá»›i bá»‘n loáº¡i sáº£n pháº©m, máº·c dÃ¹ cÃ¡c sáº£n pháº©m nÃ y cÃ³ má»©c giÃ¡ khÃ¡c nhau nhÆ°ng viá»‡c sÃ¡nh cÃ¡c giÃ¡ trá»‹ lÃ  khÃ´ng cÃ³ Ã½ nghÄ©a. Dá»¯ liá»‡u cÃ³ 10 biáº¿n Ä‘á»™c láº­p, tuy nhiÃªn, Ä‘á»ƒ Ä‘Æ¡n giáº£n hÃ³a, chÃºng ta chá»‰ láº¥y hai biáº¿n lÃ  giá»›i tÃ­nh vÃ  Ä‘á»™ tuá»•i cá»§a ngÆ°á»i tham gia báº£o hiá»ƒm.Má»‘i liÃªn há»‡ giá»¯a Ä‘á»™ tuá»•i vÃ  giá»›i tÃ­nh cá»§a khÃ¡ch hÃ ng Ä‘áº¿n sáº£n pháº©m khÃ¡ch hÃ ng lá»±a chá»n Ä‘Æ°á»£c mÃ´ táº£ qua hÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢yCÃ³ thá»ƒ tháº¥y ráº±ng cÃ³ sá»± khÃ¡c biá»‡t vá» Ä‘á»™ tuá»•i cá»§a nhá»¯ng ngÆ°á»i lá»±a chá»n cÃ¡c sáº£n pháº©m báº£o hiá»ƒm: nhá»¯ng ngÆ°á»i tráº» tuá»•i cÃ³ xu hÆ°á»›ng lá»±a chá»n â€œBronze Planâ€ vÃ  â€œSilver Planâ€ trong khi nhá»¯ng ngÆ°á»i lá»›n tuá»•i cÃ³ xu hÆ°á»›ng lá»±a chá»n â€œBasic Planâ€ vÃ  â€œValue Planâ€. CÃ³ sá»± khÃ¡c biá»‡t vá» tá»· lá»‡ nam vÃ  ná»¯ khi lá»±a chá»n sáº£n pháº© báº£o hiá»ƒm, tá»· lá»‡ nam giá»›i lá»±a chá»n â€œBasic Planâ€ vÃ  â€œValue Planâ€ cao, trong khi ná»¯ giá»›i cÃ³ xu hÆ°á»›ng lá»±a chá»n â€œBronze Planâ€ vÃ  â€œSilver Planâ€.Äá»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t cho biáº¿n phÃ¢n loáº¡i danh nghÄ©a, chÃºng ta sá»­ dá»¥ng hÃ m multinom() tá»« thÆ° viá»‡n nnet:Dá»±a trÃªn káº¿t quáº£ Æ°á»›c lÆ°á»£ng, chÃºng ta cÃ³ cÃ´ng thá»©c tÃ­nh xÃ¡c suáº¥t cháº¥p nháº­n cÃ¡c sáº£n pháº©m báº£o hiá»ƒm du lá»‹ch cá»§a má»™t ngÆ°á»i cÃ³ giá»›i tÃ­nh lÃ  \\(g_i\\) vÃ  Ä‘á»™ tuá»•i \\(a_i\\) nhÆ° sau: vá»›i sáº£n pháº©m â€œBasic Planâ€\n\\[\\begin{align}\n\\mathbb{P}(Y = Basic|g_i, a_i) = \\cfrac{1}{S_0}\n\\end{align}\\]\nvá»›i\n\\[\\begin{align}\nS_0 = 1 + exp(1.512 - 0.558 \\cdot g_i - 0.038 \\cdot a_i) + exp(0.563 - 0.489 \\cdot g_i - 0.030 \\cdot a_i) +  exp(-3.028 - 0.246 \\cdot g_i - 0.039 \\cdot a_i)\n\\end{align}\\]\nVá»›i cÃ¡c sáº£n pháº©m Bronze Plan, Silver Plan vÃ  Value Plan, ta cÃ³\n\\[\\begin{align}\n& \\mathbb{P}(Y = Bronze|g_i, a_i) = \\cfrac{exp(1.512 - 0.558 \\cdot g_i - 0.038 \\cdot a_i)}{S_0} \\\\\n& \\mathbb{P}(Y = Silver|g_i, a_i) = \\cfrac{exp(0.563 - 0.489 \\cdot g_i - 0.030 \\cdot a_i)}{S_0} \\\\\n& \\mathbb{P}(Y = Value|g_i, a_i) = \\cfrac{exp(-3.028 - 0.246 \\cdot g_i - 0.039 \\cdot a_i)}{S_0}\n\\end{align}\\]Káº¿t quáº£ tá»« mÃ´ hÃ¬nh cho tháº¥y chá»‰ cÃ³ â€œBasic Planâ€ vÃ  â€œBronze Planâ€ Ä‘Æ°á»£c chá»n náº¿u chÃºng ta chá»‰ sá»­ dá»¥ng hai biáº¿n Ä‘á»™c láº­p lÃ  giá»›i tÃ­nh vÃ  Ä‘á»™ tuá»•i. Kháº£ nÄƒng dá»± Ä‘oÃ¡n cá»§a mÃ´ hÃ¬nh khÃ´ng cao mÃ´ hÃ¬nh cÃ²n quÃ¡ Ä‘Æ¡n giáº£n, chÃºng tÃ´i muá»‘n nháº¥n máº¡nh vá» cÃ¡ch xÃ¢y dá»±ng mÃ´ hÃ¬nh trÆ°á»›c khi cá»‘ gáº¯ng xÃ¢y dá»±ng má»™t mÃ´ hÃ¬nh cÃ³ kháº£ nÄƒng dá»± bÃ¡o tá»‘t. ChÃºng ta sáº½ tháº£o luáº­n vá» Ä‘Ã¡nh giÃ¡ hiá»‡u quáº£ cá»§a mÃ´ hÃ¬nh á»Ÿ cÃ¡c pháº§n sau cá»§a chÆ°Æ¡ng sÃ¡ch.","code":"## # weights:  16 (9 variable)\n## initial  value 19625.769270 \n## iter  10 value 18535.510505\n## final  value 18040.676017 \n## converged## Call:\n## multinom(formula = Product.Name ~ Gender + Age, data = dat1)\n## \n## Coefficients:\n##             (Intercept)    GenderM          Age\n## Bronze Plan   1.5631988 -0.5589519 -0.039513361\n## Silver Plan   0.6512458 -0.4871457 -0.031596816\n## Value Plan   -1.0970424  0.3380718  0.002018711\n## \n## Std. Errors:\n##             (Intercept)    GenderM         Age\n## Bronze Plan  0.07047991 0.04302279 0.001653049\n## Silver Plan  0.08280363 0.05117056 0.001938850\n## Value Plan   0.08264747 0.05092679 0.001676413\n## \n## Residual Deviance: 36081.35 \n## AIC: 36099.35"},{"path":"index.html","id":"biáº¿n-phá»¥-thuá»™c-lÃ -biáº¿n-rá»i-ráº¡c-cÃ³-thá»©-tá»±.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.2.3 Biáº¿n phá»¥ thuá»™c lÃ  biáº¿n rá»i ráº¡c cÃ³ thá»© tá»±.","text":"Biáº¿n rá»i ráº¡c cÃ³ thá»© tá»±, cÃ²n gá»i lÃ  ordinal categorical variable, lÃ  cÃ¡c biáº¿n nháº­n giÃ¡ trá»‹ rá»i ráº¡c mÃ  cÃ¡c giÃ¡ trá»‹ rá»i ráº¡c cÃ³ thá»ƒ sÃ¡nh Ä‘Æ°á»£c vá»›i nhau. Má»™t vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh cho biáº¿n rá»i ráº¡c cÃ³ thá»© tá»± lÃ  sá»‘ láº§n mÃ  má»™t ngÆ°á»i Ä‘i khÃ¡m chá»¯a bá»‡nh sá»­ dá»¥ng báº£o hiá»ƒm y táº¿ hoáº·c má»™t khÃ¡ch hÃ ng gá»­i yÃªu cáº§u bá»“i thÆ°á»ng Ä‘áº¿n cÃ´ng ty báº£o hiá»ƒm. ÄÃ¢y lÃ  trÆ°á»ng há»£p mÃ  chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng má»™t phÃ¢n phá»‘i xÃ¡c suáº¥t rá»i ráº¡c cÃ³ tham sá»‘ Ä‘á»ƒ mÃ´ táº£ biáº¿n phá»¥ thuá»™c \\(Y\\) giá»‘ng nhÆ° mÃ´ hÃ¬nh @ref(eq:gml1).","code":""},{"path":"index.html","id":"biáº¿n-phá»¥-thuá»™c-cÃ³-phÃ¢n-phá»‘i-poisson.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.2.3.1 Biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i Poisson.","text":"PhÃ¢n phá»‘i rá»i ráº¡c thÆ°á»ng Ä‘Æ°á»£c lá»±a chá»n cho biáº¿n phá»¥ thuá»™c rá»i ráº¡c cÃ³ thá»© tá»± lÃ  phÃ¢n phá»‘i Poisson. HÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn \\(Y\\) cÃ³ phÃ¢n phá»‘i Poisson vá»›i tham sá»‘ \\(\\lambda > 0\\), kÃ½ hiá»‡u \\(Y \\sim \\mathcal{P}(\\lambda)\\) Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c sau\n\\[\\begin{align}\n\\mathbb{P}(Y = y) = e^{-\\lambda} \\cdot \\cfrac{\\lambda^y}{y!} \\text{ vá»›i } y = 0, 1, 2, \\cdots\n\\end{align}\\]PhÃ¢n phá»‘i Poisson thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ sá»‘ láº§n má»™t hiá»‡n tÆ°á»£ng xáº£y ra trong má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh. NguyÃªn nhÃ¢n lÃ  phÃ¢n phá»‘i Poisson nÃ y cÃ³ má»‘i liÃªn há»‡ trá»±c tiáº¿p Ä‘áº¿n cÃ¡c mÃ´ hÃ¬nh cÃ³ thá»i gian chá» cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ©. Tháº­t váº­y, náº¿u thá»i gian chá» giá»¯a hai sá»± kiá»‡n liÃªn tiáº¿p xáº£y ra cá»§a má»™t hiá»‡n tÆ°á»£ng nÃ o Ä‘Ã³ lÃ  má»™t biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c cÃ³ hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t kiá»ƒu mÅ© vá»›i tham sá»‘ \\(\\gamma\\) thÃ¬ sá»‘ láº§n hiá»‡n tÆ°á»£ng Ä‘Ã³ xáº£y ra trong má»™t khoáº£ng thá»i gian tá»« \\(t_1\\) Ä‘áº¿n \\(t_2\\) sáº½ lÃ  má»™t biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i Poisson vá»›i tham sá»‘ \\(\\lambda = \\cfrac{(t_1 - t_2)}{\\gamma}\\). Tháº­t váº­y, vá»›i \\(T\\) lÃ  khoáº£ng thá»i gian giá»¯a 2 sá»± kiá»‡n liÃªn tiáº¿p xáº£y ra vÃ  \\(T\\) cÃ³ phÃ¢n phá»‘i mÅ©:\n\\[\\begin{align}\n\\mathbb{P}(T \\leq x) = 1 - exp(-\\gamma x)\n\\end{align}\\]\nvÃ  náº¿u \\(N\\) lÃ  sá»‘ láº§n xáº£y ra sá»± kiá»‡n (Ä‘i khÃ¡m bá»‡nh, lÃ¡i xe gÃ¢y ra tai náº¡n) giá»¯a hai má»‘c thá»i gian \\(t_1 < t_2\\) thÃ¬ \\(N\\) sáº½ cÃ³ phÃ¢n phá»‘i Poisson vá»›i tham sá»‘ \\(\\lambda\\):\n\\[\\begin{align}\n& \\mathbb{P}(N = k) = e^{-\\lambda} \\cdot \\cfrac{\\lambda^k}{k!}\\\\\n& \\lambda = \\cfrac{(t_1 - t_2)}{\\gamma}\n\\end{align}\\]Biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i Poisson vá»›i tham sá»‘ \\(\\lambda\\), kÃ½ hiá»‡u \\(\\mathcal{P}(\\lambda)\\), cÃ³ tÃ­nh cháº¥t lÃ  giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai Ä‘á»u báº±ng tham sá»‘ cá»§a biáº¿n Ä‘Ã³ lÃ  \\(\\lambda\\). PhÃ¢n phá»‘i Poisson náº±m trong há» cÃ¡c phÃ¢n phá»‘i mÅ© nÃªn sáº½ ráº¥t thuáº­n tiá»‡n trong xÃ¢y dá»±ng vÃ  Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh báº±ng phÆ°Æ¡ng phÃ¡p há»£p lÃ½ tá»‘i Ä‘a. NgoÃ i ra, báº±ng cÃ¡ch cho tham sá»‘ cá»§a phÃ¢n phá»‘i Poisson má»™t phÃ¢n phá»‘i xÃ¡c suáº¥t, chÃºng ta cÃ³ thá»ƒ thu Ä‘Æ°á»£c cÃ¡c phÃ¢n phá»‘i rá»i ráº¡c linh hoáº¡t hÆ¡n trong mÃ´ táº£ cÃ¡c biáº¿n ngáº«u nhiÃªn dáº¡ng Ä‘áº¿m Ä‘Æ°á»£c.Khi xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh vá»›i biáº¿n má»¥c tiÃªu \\(Y\\) cÃ³ phÃ¢n phá»‘i Poisson, giÃ¡ trá»‹ trung bÃ¬nh \\(Y\\) nháº­n giÃ¡ trá»‹ dÆ°Æ¡ng nÃªn chÃºng ta cáº§n chá»n cÃ¡c hÃ m liÃªn káº¿t \\(g\\) cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  táº­p cÃ¡c sá»‘ thá»±c dÆ°Æ¡ng \\(\\mathbb{R}^+\\) vÃ  miá»n giÃ¡ trá»‹ lÃ  táº­p sá»‘ thá»±c \\(\\mathbb{R}\\). HÃ m sá»‘ thÆ°á»ng Ä‘Æ°á»£c lá»±a chá»n lÃ  hÃ m \\(log\\).ChÃºng ta cÃ³ thá»ƒ viáº¿t mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t khi \\(Y\\) cÃ³ phÃ¢n phá»‘i Poisson, thÆ°á»ng Ä‘Æ°á»£c gá»i táº¯t lÃ  há»“i quy Poisson, nhÆ° sau\\[\\begin{align}\n& Y_i \\sim \\mathcal{P}(\\lambda_i) \\\\\n& log(\\lambda_i) = \\left(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}\\right) \\\\\n(\\#eq:pois1)\n\\end{align}\\]Dá»¯ liá»‡u Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n phá»¥ thuá»™c phÃ¢n phá»‘i Poisson lÃ  dá»¯ liá»‡u \\(SingaporeAuto.csv\\). Dá»¯ liá»‡u Ä‘Æ°á»£c tá»•ng há»£p bá»Ÿi Hiá»‡p há»™i báº£o hiá»ƒm Singapore trong nÄƒm 1993 mÃ´ táº£ sá»‘ vá»¥ tai náº¡n Ã´ tÃ´ xáº£y ra cÃ¹ng vá»›i cÃ¡c Ä‘áº·c Ä‘iá»ƒm cá»§a ngÆ°á»i lÃ¡i vÃ  Ä‘áº·c Ä‘iá»ƒm cá»§a xe gÃ¢y tai náº¡n. CÅ©ng giá»‘ng nhÆ° cÃ¡c pháº§n trÆ°á»›c, chÃºng ta sáº½ xÃ¢y dá»±ng mÃ´ hÃ¬nh á»Ÿ má»©c Ä‘á»™ Ä‘Æ¡n giáº£n nháº¥t Ä‘á»ƒ báº¡n Ä‘á»c dá»… dÃ ng hÃ¬nh dung. Biáº¿n phá»¥ thuá»™c trong mÃ´ hÃ¬nh lÃ  biáº¿n \\(Clm\\_Count\\) cho biáº¿t sá»‘ vá»¥ tai náº¡n mÃ  má»™t lÃ¡i xe gÃ¢y ra trong vÃ²ng má»™t nÄƒm, hai biáº¿n phá»¥ thuá»™c bao gá»“m cÃ³:Biáº¿n \\(PC\\) lÃ  biáº¿n nháº­n hai giÃ¡ trá»‹ lÃ  0 tÆ°Æ¡ng á»©ng vá»›i xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½ theo cÃ´ng ty vÃ  nháº­n giÃ¡ trá»‹ 1 tÆ°Æ¡ng á»©ng vá»›i xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½ theo cÃ¡ nhÃ¢n.Biáº¿n \\(PC\\) lÃ  biáº¿n nháº­n hai giÃ¡ trá»‹ lÃ  0 tÆ°Æ¡ng á»©ng vá»›i xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½ theo cÃ´ng ty vÃ  nháº­n giÃ¡ trá»‹ 1 tÆ°Æ¡ng á»©ng vá»›i xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½ theo cÃ¡ nhÃ¢n.Biáº¿n \\(NCD\\), viáº¿t táº¯t cá»§a Claims Discount, cho biáº¿t lá»‹ch sá»­ gÃ¢y ra tai náº¡n cá»§a lÃ¡i xe. GiÃ¡ trá»‹ \\(NCD\\) cÃ ng cao nghÄ©a lÃ  lá»‹ch sá»­ ngÆ°á»i lÃ¡i xe cÃ ng gÃ¢y ra Ã­t tai náº¡n.Biáº¿n \\(NCD\\), viáº¿t táº¯t cá»§a Claims Discount, cho biáº¿t lá»‹ch sá»­ gÃ¢y ra tai náº¡n cá»§a lÃ¡i xe. GiÃ¡ trá»‹ \\(NCD\\) cÃ ng cao nghÄ©a lÃ  lá»‹ch sá»­ ngÆ°á»i lÃ¡i xe cÃ ng gÃ¢y ra Ã­t tai náº¡n.ChÃºng ta sá»­ dá»¥ng hÃ m glm() Ä‘á»ƒ xÃ¢y dá»±ng vÃ  Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t:Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng cáº£ hai biáº¿n \\(PC\\) vÃ  \\(NCD\\) Ä‘á»u cÃ³ tÃ¡c Ä‘á»™ng Ä‘áº¿n giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Clm\\_Count\\) cÃ¡c giÃ¡ trá»‹ p-value Ä‘á»u nhá». Má»‘i liÃªn há»‡ giá»¯a sá»‘ lÆ°á»£ng tai náº¡n xáº£y ra vÃ  cÃ¡c biáº¿n \\(PC\\) vÃ  \\(NCD\\) Ä‘Æ°á»£c mÃ´ táº£ nhÆ° sau:\\[\\begin{align}\n& Clm\\_Count_i \\sim \\mathcal{P}(\\lambda_i) \\\\\n& \\log(\\lambda_i) = -2.641 + 0.432 \\cdot PC_{} - 0.013 \\cdot NCD_{} \\\\\n& \\lambda_i = \\exp\\left(-2.641 + 0.432 \\cdot PC_{} - 0.013 \\cdot NCD_{} \\right)\n(\\#eq:pois2)\n\\end{align}\\]Há»‡ sá»‘ cá»§a biáº¿n \\(PC\\) lÃ  sá»‘ dÆ°Æ¡ng, Ä‘iá»u nÃ y cho biáº¿t cÃ¡c xe Ä‘Äƒng kÃ½ dÆ°á»›i dáº¡ng cÃ¡ nhÃ¢n cÃ³ kháº£ nÄƒng gÃ¢y tai náº¡n cao hÆ¡n vá»›i xe Ä‘Äƒng kÃ½ dÆ°á»›i hÃ¬nh thá»©c doanh nghiá»‡p. Äá»“ng thá»i, há»‡ sá»‘ cá»§a biáº¿n \\(NCD\\) Ã¢m cho biáº¿t lÃ¡i xe cÃ³ lá»‹ch sá»­ lÃ¡i xe tá»‘t, tÆ°Æ¡ng á»©ng vá»›i \\(NCD\\) cao, Ã­t cÃ³ kháº£ nÄƒng gÃ¢y ra tai náº¡n hÆ¡n lÃ¡i xe cÃ³ lá»‹ch sá»­ lÃ¡i xe khÃ´ng tá»‘t, tÆ°Æ¡ng á»©ng vá»›i \\(NCD\\) tháº¥p.","code":"\ndat<-read.csv(\"../KHDL_KTKD/Dataset/SingaporeAuto.csv\")\nglm2<-glm(Clm_Count~PC+NCD, data=dat, family = poisson(link = \"log\"))\nsummary(glm2)## \n## Call:\n## glm(formula = Clm_Count ~ PC + NCD, family = poisson(link = \"log\"), \n##     data = dat)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -0.4685  -0.3801  -0.3520  -0.3283   4.1716  \n## \n## Coefficients:\n##              Estimate Std. Error z value Pr(>|z|)    \n## (Intercept) -2.641681   0.073836 -35.778  < 2e-16 ***\n## PC           0.431980   0.091840   4.704 2.56e-06 ***\n## NCD         -0.013943   0.002618  -5.327 9.99e-08 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for poisson family taken to be 1)\n## \n##     Null deviance: 2887.2  on 7482  degrees of freedom\n## Residual deviance: 2848.3  on 7480  degrees of freedom\n## AIC: 3849.4\n## \n## Number of Fisher Scoring iterations: 6"},{"path":"index.html","id":"phÃ¢n-phá»‘i-rá»i-ráº¡c-cÃ³-láº¡m-phÃ¡t-táº¡i-giÃ¡-trá»‹-0.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.2.3.2 PhÃ¢n phá»‘i rá»i ráº¡c cÃ³ láº¡m phÃ¡t táº¡i giÃ¡ trá»‹ 0.","text":"Biáº¿n phá»¥ thuá»™c dáº¡ng Ä‘áº¿m chá»©a má»™t tá»· lá»‡ lá»›n giÃ¡ trá»‹ báº±ng 0 lÃ  cÃ¡c kiá»ƒu biáº¿n phá»¥ thuá»™c thÆ°á»ng gáº·p pháº£i khi lÃ m viá»‡c trÃªn dá»¯ liá»‡u trong lÄ©nh vá»±c báº£o hiá»ƒm. Tá»· lá»‡ lá»›n á»Ÿ Ä‘Ã¢y thÆ°á»ng Ä‘Æ°á»£c hiá»ƒu lÃ  trÃªn 90% giÃ¡ trá»‹ quan sÃ¡t Ä‘Æ°á»£c. Äa sá»‘ cÃ¡c phÃ¢n phá»‘i xÃ¡c suáº¥t rá»i ráº¡c thÃ´ng thÆ°á»ng, bao gá»“m phÃ¢n phá»‘i Poisson, khÃ´ng mÃ´ táº£ tá»‘t khi biáº¿n phá»¥ thuá»™c \\(Y\\) trong trÆ°á»ng há»£p nÃ y.Má»™t giáº£i phÃ¡p phá»• biáº¿n khi lÃ m viá»‡c vá»›i kiá»ƒu dá»¯ liá»‡u nhÆ° váº­y lÃ  thay Ä‘á»•i phÃ¢n phá»‘i dáº¡ng Ä‘áº¿m thÃ´ng thÆ°á»ng Ä‘á»ƒ lÃ m tÄƒng tá»· lá»‡ giÃ¡ trá»‹ nháº­n Ä‘Æ°á»£c táº¡i 0, Ä‘á»ƒ thu Ä‘Æ°á»£c cÃ¡c phÃ¢n phá»‘i thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  cÃ¡c phÃ¢n phá»‘i láº¡m phÃ¡t táº¡i 0, hay Zero-inflated variable. PhÃ¢n phá»‘i láº¡m phÃ¡t táº¡i 0 lÃ  há»—n há»£p cá»§a hai phÃ¢n phá»‘i xÃ¡c suáº¥t rá»i ráº¡c, bao gá»“m má»™t phÃ¢n phá»‘i nhá»‹ thá»©c chá»‰ bÃ¡o cho trÆ°á»ng há»£p 0, vÃ  má»™t phÃ¢n phá»‘i xÃ¡c suáº¥t dÃ nh cho biáº¿n Ä‘áº¿m thÃ´ng thÆ°á»ng. HÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn dáº¡ng Ä‘áº¿m cÃ³ láº¡m phÃ¡t táº¡i 0, kÃ½ hiá»‡u \\(ZI_Y\\), cÃ³ thá»ƒ Ä‘Æ°á»£c mÃ´ táº£ nhÆ° sau\n\\[\\begin{align}\n\\mathbb{P}(ZI_Y = y) = \\begin{cases}\n& \\omega + (1-\\omega) \\cdot \\mathbb{P}(Y=0) \\text{ khi y = 0} \\\\\n& (1-\\omega) \\cdot \\mathbb{P}(Y=y) \\text{ khi y > 0}\n\\end{cases}\n(\\#eq:zip1)\n\\end{align}\\]\ntrong Ä‘Ã³ biáº¿n ngáº«u nhiÃªn \\(Y\\) tuÃ¢n theo phÃ¢n phá»‘i sá»‘ Ä‘áº¿m tiÃªu chuáº©n Ä‘Æ°á»£c. Trong trÆ°á»ng há»£p tham sá»‘ \\(\\omega\\) báº±ng 0, phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn \\(ZI_Y\\) sáº½ tÆ°Æ¡ng á»©ng tÆ°Æ¡ng á»©ng vá»›i phÃ¢n phá»‘i cá»§a biáº¿n Y.Táº¥t cáº£ cÃ¡c phÃ¢n phá»‘i kiá»ƒu Ä‘áº¿m Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ táº¡o ra cÃ¡c biáº¿n má»›i cÃ³ láº¡m phÃ¡t táº¡i 0. Trong cÃ¡c mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t, biáº¿n dáº¡ng Ä‘áº¿m thÆ°á»ng Ä‘Æ°á»£c mÃ´ táº£ báº±ng phÃ¢n phá»‘i cá»• Ä‘iá»ƒn Poisson. Vá»›i viá»‡c sá»­ dá»¥ng phÆ°Æ¡ng trÃ¬nh @ref(eq:zip1), hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn Poisson cÃ³ láº¡m phÃ¡t táº¡i 0, kÃ½ hiá»‡u lÃ  \\(ZI_\\mathcal{P}\\) Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c sau:\\[\\begin{align}\n\\mathbb{P}(ZI_\\mathcal{P} = y) = \\begin{cases}\n& \\omega + (1-\\omega) \\cdot e^{-\\lambda} \\text{ khi y = 0} \\\\\n& (1-\\omega) \\cdot e^{-\\omega} \\cdot \\cfrac{\\lambda^y}{y!} \\text{ khi y > 0}\n\\end{cases}\n(\\#eq:zip2)\n\\end{align}\\]ChÃºng ta cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(ZI_Y\\) dá»±a trÃªn tham sá»‘ \\(\\omega\\) vÃ  giÃ¡ trá»‹ trung bÃ¬nh cÅ©ng nhÆ° phÆ°Æ¡ng sai cá»§a biáº¿n \\(Y\\) nhÆ° sau\n\\[\\begin{align}\n& \\mathbb{E}(ZI_Y) = (1-\\omega) \\cdot \\mathbb{E}(Y) \\\\\n& \\mathbb{V}(ZI_Y) = (1-\\omega) \\cdot \\mathbb{V}(Y) + \\omega(1-\\omega) \\cdot \\mathbb{E}(Y)^2\n(\\#eq:zip3)\n\\end{align}\\]Trong trÆ°á»ng há»£p \\(Y\\) cÃ³ phÃ¢n phá»‘i Poission, chÃºng ta cÃ³ giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a biáº¿n \\(ZI_\\mathcal{P}\\):\n\\[\\begin{align}\n& \\mathbb{E}(ZI_\\mathcal{P}) = (1-\\omega) \\cdot \\lambda \\\\\n& \\mathbb{V}(ZI_\\mathcal{P}) = \\mathbb{E}(ZI_\\mathcal{P}) \\cdot (1 + \\lambda - \\mathbb{E}(ZI_\\mathcal{P}))\n(\\#eq:zip4)\n\\end{align}\\]Vá»›i giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a biáº¿n \\(ZI_\\mathcal{P}\\) nhÆ° phÆ°Æ¡ng trÃ¬nh @ref(eq:zip1), chÃºng ta cÃ³ thá»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n phá»¥ thuá»™c lÃ  \\(ZI_\\mathcal{P}\\) nhÆ° sau: giÃ¡ trá»‹ trung bÃ¬nh \\(\\left((1-\\omega) \\cdot \\lambda\\right)\\) sáº½ Ä‘Æ°á»£c giáº£i thÃ­ch thÃ´ng qua cÃ¡c biáº¿n phá»¥ thuá»™c trong khi tham sá»‘ \\(\\lambda\\) sáº½ Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng báº±ng phÆ°Æ¡ng phÃ¡p há»£p lÃ½ tá»‘i Ä‘a.Biáº¿n phá»¥ thuá»™c phÃ¢n phá»‘i \\(ZI_\\mathcal{P}\\) sáº½ há»¯u Ã­ch cho má»¥c Ä‘Ã­ch láº­p mÃ´ hÃ¬nh trong trÆ°á»ng há»£p dá»¯ liá»‡u quan sÃ¡t cÃ³ sá»± táº­p trung quÃ¡ má»©c táº¡i giÃ¡ trá»‹ 0. NgoÃ i phÃ¢n phá»‘i Poisson, cÃ¡c phÃ¢n phá»‘i má»Ÿ rá»™ng tá»« phÃ¢n phá»‘i Poisson cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i Ä‘á»ƒ táº¡o ra cÃ¡c phÃ¢n phá»‘i cÃ³ láº¡m phÃ¡t táº¡i 0, cháº³ng háº¡n nhÆ° biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i Poisson - Gamma, Poisson - Inverse gaussian.Trong cÃ¡c nghiÃªn cá»©u thá»±c nghiá»‡m, nhiá»u tÃ¡c giáº£ Ä‘Ã£ chá»©ng minh ráº±ng viá»‡c Ã¡p dá»¥ng phÃ¢n phá»‘i cÃ³ láº¡m phÃ¡t táº¡i 0 Ä‘á»ƒ mÃ´ hÃ¬nh hÃ³a sá»‘ lÆ°á»£ng yÃªu cáº§u bá»“i thÆ°á»ng báº£o hiá»ƒm lÃ  phÃ¹ há»£p Ä‘á»ƒ mÃ´ táº£ hÃ nh vi cá»§a ngÆ°á»i Ä‘Æ°á»£c báº£o hiá»ƒm. Tháº­t váº­y, trong ngÃ nh báº£o hiá»ƒm khÃ´ng pháº£i táº¥t cáº£ cÃ¡c vá»¥ tai náº¡n Ä‘á»u Ä‘Æ°á»£c bÃ¡o cÃ¡o, cÃ´ng ty báº£o hiá»ƒm chá»‰ cÃ³ thÃ´ng tin vá» cÃ¡c yÃªu cáº§u bá»“i thÆ°á»ng Ä‘Æ°á»£c bÃ¡o cÃ¡o. CÃ³ hai cÃ¡ch Ä‘á»ƒ giáº£i thÃ­ch cÃ¡ch phÃ¢n phá»‘i cÃ³ láº¡m phÃ¡t táº¡i 0 nhÆ° sau: (1) Má»™t sá»‘ ngÆ°á»i Ä‘Æ°á»£c báº£o hiá»ƒm khÃ´ng gá»­i yÃªu cáº§u bá»“i thÆ°á»ng dÃ¹ cÃ³ xáº£y ra sá»± kiá»‡n báº£o hiá»ƒm, há» khÃ´ng cÃ³ nháº­n thá»©c Ä‘Æ°á»£c vá» viá»‡c Ä‘Æ°á»£c báº£o hiá»ƒm, hoáº·c khÃ´ng cÃ³ nhu cáº§u gá»­i yÃªu cáº§u báº£o hiá»ƒm. (2) Má»™t cÃ¡ch giáº£i thÃ­ch khÃ¡c cá»§a mÃ´ hÃ¬nh láº¡m phÃ¡t táº¡i 0 lÃ  xem xÃ©t xÃ¡c suáº¥t cá»§a má»—i vá»¥ tai náº¡n Ä‘Æ°á»£c bÃ¡o cÃ¡o. Má»™t hÃ nh vi thá»±c táº¿ cá»§a ngÆ°á»i Ä‘Æ°á»£c báº£o hiá»ƒm lÃ  náº¿u há» Ä‘Ã£ bÃ¡o cÃ¡o vá»¥ tai náº¡n Ä‘áº§u tiÃªn thÃ¬ nhá»¯ng vá»¥ tai náº¡n tiáº¿p theo cÅ©ng sáº½ Ä‘Æ°á»£c bÃ¡o cÃ¡o, cÃ²n náº¿u vá»¥ tai náº¡n Ä‘áº§u tiÃªn khÃ´ng Ä‘Æ°á»£c bÃ¡o cÃ¡o thÃ¬ cÃ¡c vá»¥ tai náº¡n sau sáº½ khÃ´ng Ä‘Æ°á»£c bÃ¡o cÃ¡o. Cáº£ hai cÃ¡ch giáº£i thÃ­ch dá»±a trÃªn hÃ nh vi nÃ y Ä‘á»u dáº«n Ä‘áº¿n viá»‡c sá»‘ lÆ°á»£ng biáº¿n má»¥c tiÃªu nháº­n giÃ¡ trá»‹ báº±ng 0 cao hÆ¡n vá»›i sá»‘ lÆ°á»£ng tai náº¡n thá»±c táº¿ xáº£y ra.\n(#tab:unnamed-chunk-13)KhÃ¡c nhau giá»¯a GLM - Poisson vÃ  GLM - ZIP\nÄá»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trong Ä‘Ã³ biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i \\(ZI_\\mathcal{P}\\) chÃºng ta sá»­ dá»¥ng hÃ m sá»‘ zeroinfl() cá»§a thÆ° viá»‡n \\(pscl\\).ChÃºng ta cÃ³ káº¿t quáº£ Æ°á»›c lÆ°á»£ng cÃ¡c mÃ´ hÃ¬nh\n(#tab:unnamed-chunk-15)Káº¿t quáº£ Æ°á»›c lÆ°á»£ng GLM - Poisson vÃ  GLM - ZIP\nCÃ³ thá»ƒ tháº¥y ráº±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n phá»¥ thuá»™c phÃ¢n phá»‘i \\(ZI_\\mathcal{P}\\) cÃ³ giÃ¡ trá»‹ hÃ m há»£p lÃ½ tá»‘i Ä‘a lá»›n hÆ¡n, Ä‘iá»u nÃ y cÅ©ng cÃ³ nghÄ©a lÃ  phÃ¢n phá»‘i \\(ZI_\\mathcal{P}\\) phÃ¹ há»£p hÆ¡n phÃ¢n phá»‘i Poisson thÃ´ng thÆ°á»ng khi mÃ´ táº£ biáº¿n phá»¥ thuá»™c trong dá»¯ liá»‡u. Dá»±a vÃ o káº¿t quáº£ Æ°á»›c lÆ°á»£ng tá»« hai mÃ´ hÃ¬nh, chÃºng ta cÃ³ thá»ƒ tÃ­nh toÃ¡n xÃ¡c suáº¥t khÃ´ng cÃ³ tai náº¡n vÃ  xÃ¡c suáº¥t Ä‘á»ƒ xáº£y ra má»™t tai náº¡n theo Ä‘á»™ tuá»•i vÃ  giá»›i tÃ­nh cá»§a ngÆ°á»i tham gia báº£o hiá»ƒm nhÆ° sauCÃ³ thá»ƒ nháº­n tháº¥y ráº±ng xÃ¡c suáº¥t mÃ  má»™t ngÆ°á»i Ä‘Æ°á»£c báº£o hiá»ƒm khÃ´ng Ä‘á»ƒ xáº£y ra tai náº¡n trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i \\(ZI_\\mathcal{P}\\) lÃ  luÃ´n cao hÆ¡n vá»›i mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i Poisson thÃ´ng thÆ°á»ng. Äá»“ng thá»i, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i \\(ZI_\\mathcal{P}\\) cho káº¿t quáº£ xÃ¡c suáº¥t xáº£y ra Ä‘Ãºng má»™t tai náº¡n tháº¥p hÆ¡n vá»›i mÃ´ hÃ¬nh cÃ³ biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i Poisson thÃ´ng thÆ°á»ng.","code":"\ndat<-read.csv(\"../KHDL_KTKD/Dataset/exposure.csv\")\n# Biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i Poisson\nglm1<-glm(Claim_Count~Age+Gender,\n          family = poisson(link = \"log\"),\n          data=dat)\n\n# Biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i Zero inflated poisson\nzip.glm<-zeroinfl(Claim_Count~Age+Gender|1,\n                  dist = 'poisson',\n                  link = \"log\",\n                  data = dat)\nsummary(glm1)\nsummary(zip.glm)"},{"path":"index.html","id":"biáº¿n-phá»¥-thuá»™c-cÃ³-phÃ¢n-phá»‘i-liÃªn-tá»¥c.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.2.4 Biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i liÃªn tá»¥c.","text":"Má»™t giáº£ thiáº¿t quan trá»ng cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t lÃ  biáº¿n phá»¥ thuá»™c náº±m trong há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ©, hay exponential family. ChÃºng ta sáº½ tháº£o luáº­n ká»¹ hÆ¡n vá» há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© trong pháº§n sau cá»§a cuá»‘n sÃ¡ch. LÆ°u Ã½ ráº±ng há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© khÃ´ng tÆ°Æ¡ng Ä‘á»“ng vá»›i khÃ¡i niá»‡m biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i mÅ©. PhÃ¢n phá»‘i mÅ© chá»‰ lÃ  má»™ trÆ°á»ng há»£p Ä‘áº·c biá»‡t cá»§a phÃ¢n phá»‘i kiá»ƒn mÅ©. CÃ³ nhiá»u biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c khÃ¡c cÃ³ phÃ¢n phá»‘i náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©. CÃ³ thá»ƒ ká»ƒ Ä‘áº¿n nhÆ° phÃ¢n phá»‘i gamma, phÃ¢n phá»‘i chuáº©n, phÃ¢n phá»‘i chuáº©n ngÆ°á»£câ€¦CÃ¡c bÆ°á»›c Ä‘á»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trong trÆ°á»ng há»£p biáº¿n phá»¥ thuá»™c \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c hoÃ n toÃ n tÆ°Æ¡ng tá»± nhÆ° cÃ¡ch xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t á»Ÿ trÃªn, bao gá»“m bÆ°á»›c chá»n phÃ¢n phá»‘i xÃ¡c suáº¥t cho biáº¿n má»¥c tiÃªu vÃ  lá»±a chá»n hÃ m liÃªn káº¿t phÃ¹ há»£p. ChÃºng ta sáº½ tiáº¿p tá»¥c xÃ¢y dá»±ng mÃ´ hÃ¬nh vá»›i dá»¯ liá»‡u â€œexposure.csvâ€ Ä‘Ã£ Ä‘á» cáº­p á»Ÿ cÃ¡c pháº§n trÃªn. Biáº¿n má»¥c tiÃªu khÃ´ng cÃ²n lÃ  sá»‘ láº§n khÃ¡ch hÃ ng gá»­i yÃªu cáº§u bá»“i thÆ°á»ng, mÃ  lÃ  sá»‘ tiá»n trung bÃ¬nh má»—i láº§n khÃ¡ch hÃ ng gá»­i yÃªu cáº§u (biáº¿n \\(Ave\\_Amount\\)). CÃ¡c biáº¿n giáº£i thÃ­ch váº«n tiáº¿p tá»¥c lÃ  giá»›i tÃ­nh (\\(Gender\\)) vÃ  Ä‘á»™ tuá»•i (\\(Age\\)) cá»§a ngÆ°á»i Ä‘Æ°á»£c báº£o hiá»ƒm.Má»‘i liÃªn há»‡ giá»¯a \\(Ave\\_Amount\\) Ä‘Æ°á»£c thá»ƒ hiá»‡n qua Ä‘á»“ thá»‹ dÆ°á»›i Ä‘Ã¢yÄá»“ thá»‹ bÃªn trÃ¡i cho tháº¥y sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°á»ng trung bÃ¬nh cá»§a ná»¯ lÃ  cao hÆ¡n nam giá»›i. PhÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°Æ¡ng trung bÃ¬nh lÃ  phÃ¢n phá»‘i liÃªn tá»¥c lá»‡ch pháº£i, cÃ³ Ä‘uÃ´i bÃªn pháº£i lá»›n. Äá»“ thá»‹ bÃªn pháº£i cho tháº¥y sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°á»ng trung bÃ¬nh cÃ³ xu hÆ°á»›ng tÄƒng theo Ä‘á»™ tuá»•i.Sá»‘ tiá»n báº£o hiá»ƒm trung bÃ¬nh lÃ  sá»‘ dÆ°Æ¡ng nÃªn chÃºng ta sáº½ sá»­ dá»¥ng phÃ¢n phá»‘i \\(gamma\\) vá»›i hÃ m liÃªn káº¿t lÃ  hÃ m log(). LÆ°u Ã½ ráº±ng phÃ¢n phá»‘i gamma() lÃ  phÃ¢n phá»‘i cÃ³ hai tham sá»‘, thÆ°á»ng Ä‘Æ°á»£c kÃ½ hiá»‡u lÃ  \\(\\alpha\\) vÃ  \\(\\gamma\\), vá»›i hÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t, giÃ¡ trá»‹ trung bÃ¬nh, vÃ  phÆ°Æ¡ng sai nhÆ° sau\n\\[\\begin{align}\n& f_Y(y) = \\cfrac{\\beta^\\alpha}{\\Gamma(\\alpha)} \\ y^{\\alpha-1} \\ e^{-\\gamma y} \\\\\n& \\mathbb{E}(X) = \\cfrac{\\alpha}{\\gamma} \\\\\n& \\mathbb{V}(X) = \\cfrac{\\alpha}{\\gamma^2}\n\\end{align}\\]Khi phÃ¢n phá»‘i \\(gamma\\) Ä‘Æ°á»£c sá»­ dá»¥ng cho biáº¿n phá»¥ thuá»™c, giÃ¡ trá»‹ trung bÃ¬nh Ä‘Æ°á»£c tÃ­nh báº±ng \\(\\alpha/\\gamma\\), sáº½ Ä‘Æ°á»£c mÃ´ táº£ thÃ´ng qua cÃ¡c biáº¿n Ä‘á»™c láº­p trong khi tham sá»‘ \\(\\alpha\\) sáº½ Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng dá»±a trÃªn hÃ m há»£p lÃ½ tá»‘i Ä‘a:NgoÃ i cÃ¡c há»‡ sá»‘ cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t, hÃ m glm() cÃ²n cung cáº¥p giÃ¡ trá»‹ Æ°á»›c lÆ°á»£ng Ä‘Æ°á»£c cho tham sá»‘ \\(\\phi\\) (disperson paramter hay tham sá»‘ phÃ¢n tÃ¡n) lÃ  \\(0.924\\). Tham sá»‘ phÃ¢n tÃ¡n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ© sáº½ Ä‘Æ°á»£c tháº£o luáº­n trong pháº§n tiáº¿p theo. Äá»‘i vá»›i phÃ¢n phá»‘i \\(gamma\\), tham sá»‘ phÃ¢n tÃ¡n Ä‘Æ°á»£c tÃ­nh báº±ng \\(\\phi = 1/\\alpha\\).GiÃ¡ trá»‹ sá»‘ tiá»n bá»“i thÆ°á»ng trung bÃ¬nh Ä‘Æ°á»£c Ä‘Æ°á»£c mÃ´ táº£ báº±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t nhÆ° sau:\n\\[\\begin{align}\n& Y_i \\sim Gamma(\\mu_i = \\alpha_i/\\gamma_i , \\phi_i = 1/\\alpha_i) \\\\\n& \\phi_i = 0.924 \\\\\n& log(\\mu_i) = -0.0475 + 0.079 \\cdot Age_i + 0.534 \\cdot Gender_i\n\\end{align}\\]TrÆ°á»›c khi Ä‘i vÃ o chi tiáº¿t cÃ¡c thÃ nh pháº§n cá»§a mÃ´ hÃ¬nh, chÃºng tÃ´i muá»‘n káº¿t luáº­n ráº±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ hÃ¬nh hÃ³a dá»¯ liá»‡u trong nhiá»u hoÃ n cáº£nh khÃ¡c nhau. Viá»‡c xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t luÃ´n Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng viá»‡c lá»±a chá»n phÃ¢n phá»‘i cho biáº¿n phá»¥ thuá»™c vÃ  lá»±a chá»n hÃ m sá»‘ liÃªn káº¿t. CÃ³ cÃ¡c quy táº¯c chung trong viá»‡c lá»±a chá»n phÃ¢n phá»‘i vÃ  hÃ m liÃªn káº¿t giá»‘ng nhÆ° chÃºng tÃ´i Ä‘Ã£ trÃ¬nh bÃ y á»Ÿ pháº§n trÃªn. Tuy nhiÃªn Ä‘á»ƒ Ä‘Æ°a ra Ä‘Æ°á»£c mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t phÃ¹ há»£p cho tá»«ng dá»¯ liá»‡u cá»¥ thá»ƒ, hoáº·c Ä‘á»ƒ cÃ³ thá»ƒ má»Ÿ rá»™ng Ä‘Æ°á»£c mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trong cÃ¡c kiá»ƒu dá»¯ liá»‡u phá»©c táº¡p hÆ¡n, báº¡n Ä‘á»c cáº§n hiá»ƒu sÃ¢u hÆ¡n vá» cÃ¡c Ä‘áº·c Ä‘iá»ƒm ká»¹ thuáº­t cá»§a cÃ¡c mÃ´ hÃ¬nh nÃ y. CÃ¡c kiáº¿n thá»©c nÃ y sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y trong cÃ¡c pháº§n tiáº¿p theo cá»§a chÆ°Æ¡ng.","code":"\ndat<-read.csv(\"../KHDL_KTKD/Dataset/exposure.csv\")\ndat<-mutate(dat,Ave_Amount = ifelse(Claim_Count>0,Total_Claim/Claim_Count,0))\ndat1<-filter(dat,Claim_Count>0)\ndat1$Gender<-ifelse(dat1$Gender==0,\"F\",\"M\")\np1<-dat1%>%ggplot()+geom_boxplot(aes(Gender,y = Ave_Amount))+\n  ylim(0,200)+ggtitle(\"Sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°á»ng trung bÃ¬nh vÃ  giá»›i tÃ­nh\")\np2<-dat1%>%ggplot(aes(x=Age,y = Ave_Amount))+geom_point(alpha=0.2)+\n  geom_smooth(col=\"black\", size = 1, se = FALSE)+ylim(0,200)+\n  ggtitle(\"Sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°á»ng trung bÃ¬nh vÃ  Ä‘á»™ tuá»•i\")\ngrid.arrange(p1,p2,ncol=2)\ndat<-read.csv(\"../KHDL_KTKD/Dataset/exposure.csv\")\ndat<-mutate(dat,Ave_Amount = ifelse(Claim_Count>0,Total_Claim/Claim_Count,0))\ndat1<-filter(dat,Claim_Count>0)\nglm3<-glm(Ave_Amount~Age+Gender, family = Gamma(link = \"log\"),data = dat1)\nsummary(glm3)## \n## Call:\n## glm(formula = Ave_Amount ~ Age + Gender, family = Gamma(link = \"log\"), \n##     data = dat1)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -4.3309  -0.9498  -0.3047   0.3360   2.9954  \n## \n## Coefficients:\n##              Estimate Std. Error t value Pr(>|t|)    \n## (Intercept) -0.047535   0.065517  -0.726    0.468    \n## Age          0.079089   0.001534  51.563   <2e-16 ***\n## Gender      -0.534010   0.041951 -12.730   <2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for Gamma family taken to be 0.9241118)\n## \n##     Null deviance: 4666.5  on 2110  degrees of freedom\n## Residual deviance: 2205.7  on 2108  degrees of freedom\n## AIC: 15710\n## \n## Number of Fisher Scoring iterations: 6"},{"path":"index.html","id":"cÃ¡c-thÃ nh-pháº§n-cá»§a-mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.3 CÃ¡c thÃ nh pháº§n cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","text":"NhÆ° chÃºng ta Ä‘Ã£ tháº£o luáº­n trong pháº§n trÆ°á»›c, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t kháº¯c phá»¥c hai giáº£ thiáº¿t, cÅ©ng lÃ  hai nhÆ°á»£c Ä‘iá»ƒm cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng, Ä‘Ã³ lÃ  ) biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i chuáº©n, vÃ  ii) giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c báº±ng má»™t tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p. Trong pháº§n nÃ y cá»§a cuá»‘n sÃ¡ch, chÃºng tÃ´i sáº½ tháº£o luáº­n ká»¹ hÆ¡n vÃ o cÃ¡ch tiáº¿p cáº­n Ä‘á»ƒ kháº¯c phá»¥c cÃ¡c háº¡n cháº¿ ká»ƒ trÃªn.Thá»© nháº¥t, thay vÃ¬ sá»­ dá»¥ng phÃ¢n phá»‘i chuáº©n, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t giáº£ thiáº¿t ráº±ng biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ© (exponential family). PhÃ¢n phá»‘i chuáº©n chá»‰ lÃ  má»™t trÆ°á»ng há»£p Ä‘áº·c biá»‡t cá»§a há» cÃ¡c phÃ¢n phá»‘i nÃ y.Thá»© nháº¥t, thay vÃ¬ sá»­ dá»¥ng phÃ¢n phá»‘i chuáº©n, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t giáº£ thiáº¿t ráº±ng biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ© (exponential family). PhÃ¢n phá»‘i chuáº©n chá»‰ lÃ  má»™t trÆ°á»ng há»£p Ä‘áº·c biá»‡t cá»§a há» cÃ¡c phÃ¢n phá»‘i nÃ y.Thá»© hai, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t sá»­ dá»¥ng má»™t hÃ m \\(g\\), Ä‘Æ°á»£c gá»i lÃ  hÃ m liÃªn káº¿t, Ä‘á»ƒ mÃ´ táº£ má»‘i liÃªn há»‡ giá»¯a giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vá»›i tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p. Lá»±a chá»n hÃ m \\(g\\) cÃ³ Ã½ nghÄ©a quan trá»ng khÃ´ng chá»‰ trong cÃ¡ch luáº­n giáº£i káº¿t quáº£ cá»§a mÃ´ hÃ¬nh, mÃ  cÃ²n á»Ÿ viá»‡c dá»… dÃ ng Æ°á»›c lÆ°á»£ng tham sá»‘ cá»§a mÃ´ hÃ¬nh.Thá»© hai, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t sá»­ dá»¥ng má»™t hÃ m \\(g\\), Ä‘Æ°á»£c gá»i lÃ  hÃ m liÃªn káº¿t, Ä‘á»ƒ mÃ´ táº£ má»‘i liÃªn há»‡ giá»¯a giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vá»›i tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p. Lá»±a chá»n hÃ m \\(g\\) cÃ³ Ã½ nghÄ©a quan trá»ng khÃ´ng chá»‰ trong cÃ¡ch luáº­n giáº£i káº¿t quáº£ cá»§a mÃ´ hÃ¬nh, mÃ  cÃ²n á»Ÿ viá»‡c dá»… dÃ ng Æ°á»›c lÆ°á»£ng tham sá»‘ cá»§a mÃ´ hÃ¬nh.","code":""},{"path":"index.html","id":"há»-cÃ¡c-biáº¿n-ngáº«u-nhiÃªn-cÃ³-phÃ¢n-phá»‘i-kiá»ƒu-mÅ©.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.3.1 Há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ©.","text":"Thay vÃ¬ giáº£ thiáº¿t ráº±ng \\(Y\\) cÃ³ phÃ¢n phá»‘i chuáº©n trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t giáº£ thiáº¿t biáº¿n phá»¥ thuá»™c \\(Y\\) náº±m trong há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ©. Há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© (exponential family) cÃ³ hÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t cÃ³ thá»ƒ viáº¿t dÆ°á»›i dáº¡ng nhÆ° sau:\n\\[\\begin{align}\nf(y;\\theta,\\phi) = \\exp\\left[ \\cfrac{y \\theta - b(\\theta)}{(\\phi)} + c(y,\\phi) \\right]\n\\end{align}\\]\ntrong Ä‘Ã³Tham sá»‘ \\(\\theta\\) Ä‘Æ°á»£c gá»i lÃ  tham sá»‘ \\(chÃ­nh\\) \\(táº¯c\\) cá»§a phÃ¢n phá»‘i kiá»ƒu mÅ©.Tham sá»‘ \\(\\phi\\) Ä‘Æ°á»£c gá»i lÃ  tham sá»‘ \\(phÃ¢n\\) \\(tÃ¡n\\). NguyÃªn nhÃ¢n lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n ngáº«u nhiÃªn \\(Y\\) khÃ´ng phá»¥ thuá»™c vÃ o \\(\\phi\\). Tham sá»‘ \\(\\phi\\), mÃ  tá»•ng quÃ¡t hÆ¡n lÃ  hÃ m \\((\\phi)\\) sáº½ xÃ¡c Ä‘á»‹nh phÆ°Æ¡ng sai cá»§a biáº¿n phá»¥ thuá»™c.CÃ¡c hÃ m sá»‘ \\(b(\\theta)\\), \\((\\phi)\\) vÃ  \\(c(y,\\phi)\\) sáº½ quyáº¿t Ä‘á»‹nh kiá»ƒu phÃ¢n phá»‘i cá»§a biáº¿n phá»¥ thuá»™c.GiÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a biáº¿n phá»¥ thuá»™c \\(Y\\) Ä‘Æ°á»£c cho bá»Ÿi cÃ¡c cÃ´ng thá»©c sau:\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta)\n(\\#eq:EF1)\n\\end{align}\\]\nvá»›i \\(b^{'}(\\theta)\\) vÃ  \\(b^{''}(\\theta)\\) láº§n lÆ°á»£t lÃ  Ä‘áº¡o hÃ m báº­c má»™t vÃ  Ä‘áº¡o hÃ m báº­c hai cá»§a hÃ m sá»‘ \\(b\\) theo biáº¿n \\(\\theta\\).Há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© bao gá»“m Ä‘a sá»‘ cÃ¡c biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c thÃ´ng thÆ°á»ng nhÆ° phÃ¢n phá»‘i chuáº©n, phÃ¢n phá»‘i mÅ©, phÃ¢n phá»‘i Gamma, phÃ¢n phá»‘i chuáº©n ngÆ°á»£c. CÃ¡c biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i rá»i ráº¡c nhÆ° phÃ¢n phá»‘i nhá»‹ thá»©c, phÃ¢n phá»‘i binomial, hoáº·c phÃ¢n phá»‘i Poisson cÅ©ng náº±m trong há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ©.VÃ­ dá»¥ 1: phÃ¢n phá»‘i Poisson thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n Ä‘áº¿m trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t. HÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn Poisson vá»›i tham sá»‘ \\(\\lambda\\), kÃ½ hiá»‡u \\(\\mathcal{P}(\\lambda)\\), Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c\n\\[\\begin{align}\n\\mathbb{P}(Y = y; \\lambda) = exp(-\\lambda) \\ \\cfrac{\\lambda^y}{y!}\n\\end{align}\\]\nChÃºng ta cÃ³ thá»ƒ viáº¿t phÃ¢n phá»‘i \\(\\mathcal{P}(\\lambda)\\) dÆ°á»›i dáº¡ng phÃ¢n phá»‘i mÅ© nhÆ° sau\n\\[\\begin{align}\n\\mathbb{P}(Y = y; \\theta) = exp\\left[ \\cfrac{\\theta y - exp(\\theta)}{1} - log(\\Gamma(y+1)) \\right] \\text{ vá»›i } \\lambda = exp(\\theta)\n\\end{align}\\]\nÄÃ¢y lÃ  hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ© vá»›i \\((\\phi) = 1\\); \\(b(\\theta) = exp(\\theta)\\) vÃ  \\(c(y,\\phi) = log\\left(\\Gamma(y+1)\\right)\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ tÃ­nh toÃ¡n trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(\\lambda\\) dá»±a theo cÃ´ng thá»©c @ref(eq:EF1)\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) = exp(\\theta) = \\lambda \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta) = 1 \\cdot exp(\\theta) = \\lambda\n\\end{align}\\]VÃ­ dá»¥ 1: phÃ¢n phá»‘i Poisson thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n Ä‘áº¿m trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t. HÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn Poisson vá»›i tham sá»‘ \\(\\lambda\\), kÃ½ hiá»‡u \\(\\mathcal{P}(\\lambda)\\), Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c\n\\[\\begin{align}\n\\mathbb{P}(Y = y; \\lambda) = exp(-\\lambda) \\ \\cfrac{\\lambda^y}{y!}\n\\end{align}\\]\nChÃºng ta cÃ³ thá»ƒ viáº¿t phÃ¢n phá»‘i \\(\\mathcal{P}(\\lambda)\\) dÆ°á»›i dáº¡ng phÃ¢n phá»‘i mÅ© nhÆ° sau\n\\[\\begin{align}\n\\mathbb{P}(Y = y; \\theta) = exp\\left[ \\cfrac{\\theta y - exp(\\theta)}{1} - log(\\Gamma(y+1)) \\right] \\text{ vá»›i } \\lambda = exp(\\theta)\n\\end{align}\\]\nÄÃ¢y lÃ  hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ© vá»›i \\((\\phi) = 1\\); \\(b(\\theta) = exp(\\theta)\\) vÃ  \\(c(y,\\phi) = log\\left(\\Gamma(y+1)\\right)\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ tÃ­nh toÃ¡n trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(\\lambda\\) dá»±a theo cÃ´ng thá»©c @ref(eq:EF1)\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) = exp(\\theta) = \\lambda \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta) = 1 \\cdot exp(\\theta) = \\lambda\n\\end{align}\\]VÃ­ dá»¥ 2: phÃ¢n phá»‘i chuáº©n lÃ  má»™t biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©. Tháº­t váº­y, chÃºng ta cÃ³ hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n vá»›i trung bÃ¬nh \\(\\mu\\) vÃ  Ä‘á»™ lá»‡ch chuáº©n \\(\\sigma\\), kÃ½ hiá»‡u \\(\\mathcal{N}(\\mu,\\sigma)\\), nhÆ° sau\n\\[\\begin{align}\nf(y,\\mu,\\sigma) = \\cfrac{1}{\\sqrt{2 \\pi \\sigma^2}} \\exp\\left[ \\cfrac{-(y - \\mu)^2}{2 \\ \\sigma^2} \\right]\n\\end{align}\\]\nHÃ m phÃ¢n phá»‘i cá»§a \\(\\mathcal{N}(\\mu,\\sigma)\\) cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t dÆ°á»›i dáº¡ng phÃ¢n phá»‘i kiá»ƒu mÅ©\n\\[\\begin{align}\n\\cfrac{1}{\\sqrt{2 \\pi} \\sigma} \\exp\\left[ \\cfrac{-(y - \\mu)^2}{2 \\ \\sigma^2} \\right] &= \\exp\\left[ \\cfrac{-(y - \\mu)^2}{2 \\ \\sigma^2} - \\cfrac{1}{2} log(2 \\pi \\sigma^2) \\right] \\\\\n&= \\exp\\left[ \\cfrac{\\mu y - \\mu^2/2} {\\sigma^2} - \\cfrac{y^2}{2\\sigma^2} - \\cfrac{1}{2} log(2 \\pi \\sigma^2) \\right]\n\\end{align}\\]\nVá»›i \\(\\theta = \\mu\\) vÃ  \\(\\phi = \\sigma^2\\) chÃºng ta cÃ³ hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn \\(\\mathcal{N}(\\mu,\\sigma)\\) lÃ  hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©, vá»›i \\((\\phi) = \\phi\\), \\(b(\\theta) = \\theta^2/2\\) vÃ \n\\[\\begin{align}\nc(y,\\phi) = -\\cfrac{y^2}{2\\phi} - \\cfrac{1}{2} log(2 \\pi \\phi)\n\\end{align}\\]\nBáº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm tra giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(\\mathcal{N}(\\mu,\\sigma)\\) dá»±a theo cÃ´ng thá»©c @ref(eq:EF1)\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) = \\theta = \\mu \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta) = \\phi \\cdot 1 = \\phi = \\sigma^2\n\\end{align}\\]VÃ­ dá»¥ 2: phÃ¢n phá»‘i chuáº©n lÃ  má»™t biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©. Tháº­t váº­y, chÃºng ta cÃ³ hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n vá»›i trung bÃ¬nh \\(\\mu\\) vÃ  Ä‘á»™ lá»‡ch chuáº©n \\(\\sigma\\), kÃ½ hiá»‡u \\(\\mathcal{N}(\\mu,\\sigma)\\), nhÆ° sau\n\\[\\begin{align}\nf(y,\\mu,\\sigma) = \\cfrac{1}{\\sqrt{2 \\pi \\sigma^2}} \\exp\\left[ \\cfrac{-(y - \\mu)^2}{2 \\ \\sigma^2} \\right]\n\\end{align}\\]\nHÃ m phÃ¢n phá»‘i cá»§a \\(\\mathcal{N}(\\mu,\\sigma)\\) cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t dÆ°á»›i dáº¡ng phÃ¢n phá»‘i kiá»ƒu mÅ©\n\\[\\begin{align}\n\\cfrac{1}{\\sqrt{2 \\pi} \\sigma} \\exp\\left[ \\cfrac{-(y - \\mu)^2}{2 \\ \\sigma^2} \\right] &= \\exp\\left[ \\cfrac{-(y - \\mu)^2}{2 \\ \\sigma^2} - \\cfrac{1}{2} log(2 \\pi \\sigma^2) \\right] \\\\\n&= \\exp\\left[ \\cfrac{\\mu y - \\mu^2/2} {\\sigma^2} - \\cfrac{y^2}{2\\sigma^2} - \\cfrac{1}{2} log(2 \\pi \\sigma^2) \\right]\n\\end{align}\\]\nVá»›i \\(\\theta = \\mu\\) vÃ  \\(\\phi = \\sigma^2\\) chÃºng ta cÃ³ hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn \\(\\mathcal{N}(\\mu,\\sigma)\\) lÃ  hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©, vá»›i \\((\\phi) = \\phi\\), \\(b(\\theta) = \\theta^2/2\\) vÃ \n\\[\\begin{align}\nc(y,\\phi) = -\\cfrac{y^2}{2\\phi} - \\cfrac{1}{2} log(2 \\pi \\phi)\n\\end{align}\\]\nBáº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm tra giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(\\mathcal{N}(\\mu,\\sigma)\\) dá»±a theo cÃ´ng thá»©c @ref(eq:EF1)\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) = \\theta = \\mu \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta) = \\phi \\cdot 1 = \\phi = \\sigma^2\n\\end{align}\\]VÃ­ dá»¥ 3: phÃ¢n phá»‘i \\(Gamma(\\alpha,\\gamma)\\) náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©. Tháº­t váº­y\n\\[\\begin{align}\nf(y) &= \\cfrac{\\gamma^\\alpha}{\\Gamma(\\alpha)} \\ y^{\\alpha-1} \\ e^{-\\gamma \\cdot y} \\\\\n&= \\exp\\left[ -\\gamma \\cdot y + \\alpha \\log(\\gamma) - \\log(\\Gamma(\\alpha)) - (\\alpha-1) \\cdot \\log(y)    \\right]\n\\end{align}\\]\nVá»›i \\(\\theta = -\\gamma/\\alpha\\) vÃ  \\(\\phi = 1/\\alpha\\) ta cÃ³\n\\[\\begin{align}\nf(y) & = \\exp\\left[ \\cfrac{\\theta y + \\log(-\\theta)}{1/\\alpha} - \\cfrac{\\log(\\alpha)}{1/\\alpha} - \\log(\\Gamma(\\alpha)) - (\\alpha-1) \\cdot \\log(y)    \\right] \\\\\n& = \\exp\\left[ \\cfrac{\\theta y + \\log(-\\theta)}{\\phi} + \\cfrac{\\log(\\phi)}{\\phi} - \\log(\\Gamma(1/\\phi)) - (1/\\phi-1) \\cdot \\log(y)    \\right]\n\\end{align}\\]\nChÃºng ta cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© vá»›i \\((\\phi) = \\phi\\), \\(b(\\theta) = \\log(-\\theta)\\), vÃ \n\\[\\begin{align}\nc(y,\\phi) = \\cfrac{\\log(\\phi)}{\\phi} - \\log(\\Gamma(1/\\phi)) - (1/\\phi-1) \\cdot \\log(y)\n\\end{align}\\]\nChÃºng ta kiá»ƒm tra giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(Gamma(\\alpha,\\beta)\\) theo cÃ´ng thá»©c @ref(eq:EF1)\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) = - \\cfrac{1}{\\theta} = \\cfrac{\\alpha}{\\gamma} \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta) = \\cfrac{1}{\\alpha} \\cdot \\cfrac{\\alpha^2}{\\gamma^2} = \\cfrac{\\alpha}{\\gamma^2}\n\\end{align}\\]VÃ­ dá»¥ 3: phÃ¢n phá»‘i \\(Gamma(\\alpha,\\gamma)\\) náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©. Tháº­t váº­y\n\\[\\begin{align}\nf(y) &= \\cfrac{\\gamma^\\alpha}{\\Gamma(\\alpha)} \\ y^{\\alpha-1} \\ e^{-\\gamma \\cdot y} \\\\\n&= \\exp\\left[ -\\gamma \\cdot y + \\alpha \\log(\\gamma) - \\log(\\Gamma(\\alpha)) - (\\alpha-1) \\cdot \\log(y)    \\right]\n\\end{align}\\]\nVá»›i \\(\\theta = -\\gamma/\\alpha\\) vÃ  \\(\\phi = 1/\\alpha\\) ta cÃ³\n\\[\\begin{align}\nf(y) & = \\exp\\left[ \\cfrac{\\theta y + \\log(-\\theta)}{1/\\alpha} - \\cfrac{\\log(\\alpha)}{1/\\alpha} - \\log(\\Gamma(\\alpha)) - (\\alpha-1) \\cdot \\log(y)    \\right] \\\\\n& = \\exp\\left[ \\cfrac{\\theta y + \\log(-\\theta)}{\\phi} + \\cfrac{\\log(\\phi)}{\\phi} - \\log(\\Gamma(1/\\phi)) - (1/\\phi-1) \\cdot \\log(y)    \\right]\n\\end{align}\\]\nChÃºng ta cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© vá»›i \\((\\phi) = \\phi\\), \\(b(\\theta) = \\log(-\\theta)\\), vÃ \n\\[\\begin{align}\nc(y,\\phi) = \\cfrac{\\log(\\phi)}{\\phi} - \\log(\\Gamma(1/\\phi)) - (1/\\phi-1) \\cdot \\log(y)\n\\end{align}\\]\nChÃºng ta kiá»ƒm tra giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(Gamma(\\alpha,\\beta)\\) theo cÃ´ng thá»©c @ref(eq:EF1)\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) = - \\cfrac{1}{\\theta} = \\cfrac{\\alpha}{\\gamma} \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta) = \\cfrac{1}{\\alpha} \\cdot \\cfrac{\\alpha^2}{\\gamma^2} = \\cfrac{\\alpha}{\\gamma^2}\n\\end{align}\\]Trong trÆ°á»ng há»£p hÃ m sá»‘ \\((\\phi)\\) lÃ  hÃ m sá»‘ tuyáº¿n tÃ­nh theo \\(\\phi\\), nghÄ©a lÃ  tá»“n táº¡i sá»‘ \\(\\omega\\) sao cho \\((\\phi) = \\cfrac{\\phi}{\\omega}\\) chÃºng ta cÃ³ hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© nhÆ° sau\n\\[\\begin{align}\nf(y;\\theta,\\phi) = \\exp\\left[ \\cfrac{y \\theta - b(\\theta)}{\\phi/\\omega} + c(y,\\phi) \\right]\n\\end{align}\\]\nGiÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a biáº¿n ngáº«u nhiÃªn \\(Y\\) trong trÆ°á»ng há»£p nÃ y Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau:\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) \\\\\n& \\mathbb{V}(Y) = \\cfrac{\\phi}{\\omega} \\cdot b^{''}(\\theta)\n\\end{align}\\]Giáº£ sá»­ hÃ m \\(b^{'}(.)\\) lÃ  hÃ m sá»‘ Ä‘Æ¡n Ä‘iá»‡u vÃ  tá»“n táº¡i hÃ m sá»‘ ngÆ°á»£c \\({b^{'}}^{-1}(.)\\) thÃ¬ \\(\\theta = {b^{'}}^{-1}\\left(\\mathbb{E}(Y)\\right)\\). Ä‘Ã³ má»‘i liÃªn há»‡ giá»¯a phÆ°Æ¡ng sai cá»§a biáº¿n ngáº«u nhiÃªn \\(Y\\) vÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n \\(Y\\) Ä‘Æ°á»£c thá»ƒ hiá»‡n qua cÃ´ng thá»©c sau\n\\[\\begin{align}\n\\mathbb{V}(Y) = \\cfrac{\\phi}{\\omega} \\cdot b^{''}({b^{'}}^{-1}(\\mathbb{E}(Y)))\n\\end{align}\\]HÃ m sá»‘ \\(V(\\cdot) = b^{''}({b^{'}}^{-1}(\\cdot))\\) Ä‘Æ°á»£c gá»i lÃ  hÃ m phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i kiá»ƒu mÅ©. Táº¡i sao chÃºng ta cáº§n Ä‘á»‹nh nghÄ©a má»™t hÃ m sá»‘ phá»©c táº¡p nhÆ° váº­y? Bá»Ÿi vÃ¬ hÃ m \\(V(\\cdot)\\) lÃ  cÆ¡ sá»Ÿ Ä‘á»ƒ ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh kiá»ƒm soÃ¡t phÆ°Æ¡ng sai cá»§a biáº¿n ngáº«u nhiÃªn kiá»ƒu mÅ©.Giáº£ sá»­ biáº¿n phá»¥ thuá»™c quan sÃ¡t Ä‘Æ°á»£c lÃ  \\(Y_1, Y_2, \\cdots, Y_n\\) cÃ³ cÃ¹ng phÃ¢n phá»‘i kiá»ƒu mÅ© vá»›i cÃ¹ng tham sá»‘ \\(\\phi\\), cÃ¹ng hÃ m \\(b(\\cdot)\\) vÃ  \\(c(\\cdot)\\), nhÆ°ng cÃ³ giÃ¡ trá»‹ \\(\\omega_i\\) khÃ¡c nhau. GiÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n \\(Y_i\\), kÃ½ hiá»‡u lÃ  \\(\\mu_i\\) Ä‘Æ°á»£c giáº£i thÃ­ch thÃ´ng qua cÃ¡c biáº¿n Ä‘á»™c láº­p vÃ  khÃ´ng phá»¥ thuá»™c vÃ o \\(\\omega_i\\), trong khi phÆ°Æ¡ng sai cá»§a biáº¿n \\(Y_i\\) phá»¥ thuá»™c vÃ o \\(\\omega_i\\) vÃ  giÃ¡ trá»‹ trung bÃ¬nh \\(\\mu_i\\):\n\\[\\begin{align}\n\\mathbb{V}(Y_i) = \\cfrac{\\phi}{\\omega_i} \\cdot V(\\mu_i)\n\\end{align}\\]Khi Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trÃªn má»™t dá»¯ liá»‡u cá»¥ thá»ƒ, giÃ¡ trá»‹ hÃ m phÆ°Æ¡ng sai \\(V\\) phá»¥ thuá»™c vÃ o cÃ¡ch chÃºng ta lá»±a chá»n hÃ m \\(b\\) vÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y_i\\). Tham sá»‘ \\(\\phi\\) khÃ´ng phá»¥ thuá»™c vÃ o quan sÃ¡t \\(Y_i\\), Ä‘Ã³ há»‡ sá»‘ \\(w_i\\) cÃ³ Ã½ nghÄ©a quyáº¿t Ä‘á»‹nh trong xÃ¡c Ä‘á»‹nh phÆ°Æ¡ng sai cá»§a \\(Y_i\\). ChÃºng ta cÃ³ thá»ƒ lá»±a chá»n Ä‘Æ¡n giáº£n lÃ  cho \\(w_i\\) báº±ng 1 vá»›i má»i \\(\\), náº¿u chÃºng ta tin ráº±ng tá»· lá»‡ \\(\\cfrac{V(\\mu_i)}{\\mathbb{V}(Y_i)}\\) lÃ  háº±ng sá»‘. Trong má»™t sá»‘ trÆ°á»ng há»£p, \\(\\cfrac{V(\\mu_i)}{\\mathbb{V}(Y_i)}\\) thay Ä‘á»•i theo \\(\\), Ä‘Ã³ lÃ  lÃºc chÃºng ta cáº§n lá»±a chá»n \\(w_i\\) Ä‘á»ƒ cho káº¿t quáº£ tá»‘t nháº¥t. ChÃºng ta sáº½ tiáº¿p tá»¥c tháº£o luáº­n vá» hÃ m phÆ°Æ¡ng sai cá»§a biáº¿n phá»¥ thuá»™c trong pháº§n hÃ m há»£p lÃ½ tá»‘i Ä‘a cá»§a biáº¿n ngáº«u nhiÃªn náº±m trong há» phÃ¢n phá»‘i cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©.","code":""},{"path":"index.html","id":"hÃ m-liÃªn-káº¿t.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.3.2 HÃ m liÃªn káº¿t.","text":"HÃ m sá»‘ liÃªn káº¿t \\(g(\\cdot)\\) liÃªn káº¿t giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vá»›i tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p luÃ´n Ä‘Æ°á»£c lá»±a chá»n trong nhÃ³m cÃ¡c hÃ m sá»‘ Ä‘Æ¡n Ä‘iá»‡u vÃ  cÃ³ Ä‘áº¡o hÃ m trÃªn miá»n xÃ¡c Ä‘á»‹nh cá»§a hÃ m sá»‘ Ä‘Ã³. CÃ¡c giáº£ thiáº¿t nÃ y Ä‘áº£m báº£o Ä‘á»ƒ hÃ m liÃªn káº¿t cÃ³ hÃ m sá»‘ ngÆ°á»£c \\(g^{-1}(\\cdot)\\) cÅ©ng lÃ  hÃ m Ä‘Æ¡n Ä‘iá»‡u vÃ  cÃ³ Ä‘áº¡o hÃ m trÃªn miá»n xÃ¡c Ä‘á»‹nh. Má»™t yáº¿u tá»‘ quan trá»ng khÃ¡c khi lá»±a chá»n hÃ m liÃªn káº¿t Ä‘Ã³ lÃ  \\(g(\\cdot)\\) cÃ³ miá»n xÃ¡c Ä‘á»‹nh trÃ¹ng vá»›i miá»n xÃ¡c Ä‘á»‹nh cá»§a giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vÃ  miá»n giÃ¡ trá»‹ cá»§a \\(g(\\cdot)\\) lÃ  táº­p sá»‘ thá»±c \\(\\mathbb{R}\\).Xin Ä‘Æ°á»£c nháº¯c láº¡i ráº±ng má»‘i liÃªn há»‡ giá»¯a trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vÃ  tá»• há»£p tuyáº¿n tÃ­nh cá»§a biáº¿n Ä‘á»™c láº­p Ä‘Æ°á»£c mÃ´ táº£ thÃ´ng qua hÃ m liÃªn káº¿t nhÆ° sau:\n\\[\\begin{align}\n& g(\\mu_i) = \\beta_0 + \\beta_1 \\cdot x_{,1} +  \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,d} \\\\\n& \\mu_i = g^{-1}\\left( beta_0 + \\beta_1 \\cdot x_{,1} +  \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,d} \\right)\n\\end{align}\\]Danh sÃ¡ch cÃ¡c hÃ m sá»‘ thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m hÃ m liÃªn káº¿t Ä‘Æ°á»£c cho trong báº£ng dÆ°á»›i Ä‘Ã¢yVÃ­ dá»¥ 1: khi \\(Y\\) mÃ´ táº£ sá»‘ láº§n khÃ¡ch hÃ ng gá»­i yÃªu cáº§u báº£o hiá»ƒm, giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) sáº½ lÃ  sá»‘ thá»±c dÆ°Æ¡ng. CÃ¡c hÃ m sá»‘ cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  táº­p cÃ¡c sá»‘ thá»±c dÆ°Æ¡ng sáº½ phÃ¹ há»£p trong trÆ°á»ng há»£p nÃ y. CÃ³ thá»ƒ tháº¥y trong báº£ng trÃªn cÃ¡c hÃ m \\(g(\\mu) = \\log(\\mu)\\) vÃ  hÃ m \\(g(\\mu) = 1/\\mu^2\\) lÃ  cÃ¡c hÃ m sá»‘ cÃ³ thá»ƒ lá»±a chá»n lÃ  hÃ m liÃªn káº¿t.VÃ­ dá»¥ 1: khi \\(Y\\) mÃ´ táº£ sá»‘ láº§n khÃ¡ch hÃ ng gá»­i yÃªu cáº§u báº£o hiá»ƒm, giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) sáº½ lÃ  sá»‘ thá»±c dÆ°Æ¡ng. CÃ¡c hÃ m sá»‘ cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  táº­p cÃ¡c sá»‘ thá»±c dÆ°Æ¡ng sáº½ phÃ¹ há»£p trong trÆ°á»ng há»£p nÃ y. CÃ³ thá»ƒ tháº¥y trong báº£ng trÃªn cÃ¡c hÃ m \\(g(\\mu) = \\log(\\mu)\\) vÃ  hÃ m \\(g(\\mu) = 1/\\mu^2\\) lÃ  cÃ¡c hÃ m sá»‘ cÃ³ thá»ƒ lá»±a chá»n lÃ  hÃ m liÃªn káº¿t.VÃ­ dá»¥ 2: khi \\(Y\\) mÃ´ táº£ khÃ¡ch hÃ ng cÃ³ gá»­i yÃªu cáº§u báº£o hiá»ƒm hay khÃ´ng, hoáº·c mÃ´ táº£ sá»± kiá»‡n tai náº¡n cÃ³ xáº£y ra hay khÃ´ng, giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) náº±m trong khoáº£ng \\((0,1)\\). Ä‘Ã³ cÃ¡c hÃ m \\(Logit\\), hÃ m \\(Probit\\), hÃ m \\(Log-Log\\), hoáº·c hÃ m \\(Cauchit\\) sáº½ lÃ  lá»±a chá»n phÃ¹ há»£p cho hÃ m liÃªn káº¿t.VÃ­ dá»¥ 2: khi \\(Y\\) mÃ´ táº£ khÃ¡ch hÃ ng cÃ³ gá»­i yÃªu cáº§u báº£o hiá»ƒm hay khÃ´ng, hoáº·c mÃ´ táº£ sá»± kiá»‡n tai náº¡n cÃ³ xáº£y ra hay khÃ´ng, giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) náº±m trong khoáº£ng \\((0,1)\\). Ä‘Ã³ cÃ¡c hÃ m \\(Logit\\), hÃ m \\(Probit\\), hÃ m \\(Log-Log\\), hoáº·c hÃ m \\(Cauchit\\) sáº½ lÃ  lá»±a chá»n phÃ¹ há»£p cho hÃ m liÃªn káº¿t.Khi lá»±a chá»n hÃ m liÃªn káº¿t báº¡n Ä‘á»c cáº§n cÃ¢n nháº¯c Ä‘áº¿n kháº£ nÄƒng giáº£i thÃ­ch cá»§a mÃ´ hÃ¬nh vÃ  sá»± khÃ³ khÄƒn cÃ³ thá»ƒ gáº·p pháº£i khi Æ°á»›c lÆ°á»£ng cá»§a tham sá»‘ trong mÃ´ hÃ¬nh. VÃ­ dá»¥ nhÆ° khi biáº¿n má»¥c tiÃªu chá»‰ nháº­n giÃ¡ trá»‹ 0 hoáº·c 1, hÃ m logit thÆ°á»ng xuyÃªn Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi vÃ¬ kháº£ nÄƒng giáº£i thÃ­ch tá»‘t hÆ¡n hÃ m \\(Probit\\) hay \\(Log-Log\\). Hoáº·c khi cÃ¢n nháº¯c lá»±a chá»n giá»¯a hÃ m \\(log\\) vÃ  hÃ m \\(inverse\\) \\(squared\\), hÃ m \\(log\\) thÆ°á»ng Ä‘Æ°á»£c Æ°u tiÃªn lá»±a chá»n. CÃ³ thá»ƒ sÃ¡nh má»‘i liÃªn há»‡ giá»¯a \\(\\mu_i\\) vá»›i cÃ¡c biáº¿n Ä‘á»™c láº­p nhÆ° dÆ°á»›i Ä‘Ã¢y thÃ´ng qua hÃ m \\(log\\) hoáº·c hÃ m \\(inverse\\) \\(squared\\) nhÆ° sau\n\\[\\begin{align}\n&\\text{ HÃ m log: } \\mu_i = exp(\\beta_0) \\cdot exp(\\beta_1 \\cdot x_{,1}) \\cdots exp(\\beta_p \\cdot x_{,p}) \\\\\n&\\text{ Inverse squared: } \\mu_i = \\cfrac{1}{\\sqrt{\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}}}\n\\end{align}\\]\nKhi sá»­ dá»¥ng hÃ m \\(log\\), má»—i biáº¿n Ä‘á»™c láº­p tÃ¡c Ä‘á»™ng lÃªn giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c má»™t cÃ¡ch Ä‘á»™c láº­p vá»›i nhau theo quy táº¯c nhÃ¢n, trong khi Ä‘Ã³ khÃ´ng dá»… Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ tÃ¡c Ä‘á»™ng cá»§a má»™t biáº¿n Ä‘á»™c láº­p lÃªn biáº¿n phá»¥ thuá»™c trong cÃ´ng thá»©c cá»§a hÃ m \\(inverse\\) \\(squared\\). Hay nÃ³i cÃ¡ch khÃ¡c, sá»­ dá»¥ng hÃ m \\(log\\) thÆ°á»ng sáº½ dá»… dÃ ng giáº£i thÃ­ch káº¿t quáº£ hÆ¡n vá»›i khi sá»­ dá»¥ng hÃ m \\(inverse\\) \\(squared\\).Vá»›i \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ© ta cÃ³ \\(\\mathbb{E}(Y_i) = b^{'}(\\theta_i)\\). Khi chÃºng ta lá»±a chá»n hÃ m liÃªn káº¿t lÃ  \\(g(\\cdot) = (b^{'})^{-1}(\\cdot)\\) thÃ¬ má»‘i liÃªn há»‡ giá»¯a tham sá»‘ chÃ­nh táº¯c \\(\\theta_i\\) vá»›i cÃ¡c biáº¿n Ä‘á»™c láº­p sáº½ lÃ  tuyáº¿n tÃ­nh. Tháº­t váº­y,\n\\[\\begin{align}\n& \\mu_i = g^{-1}(\\theta_i) \\\\\n& g(\\mu_i) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}\\\\\n& \\rightarrow \\theta_i = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} \\cdots + \\beta_p \\cdot x_{,p}\n\\end{align}\\]NhÆ° váº­y, vá»›i lá»±a chá»n hÃ m liÃªn káº¿t \\(g(\\cdot) = (b^{'})^{-1}(\\cdot)\\), tham sá»‘ chÃ­nh táº¯c \\(\\theta_i\\) cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i mÅ© \\(Y_i\\) báº±ng tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p. Trong trÆ°á»ng há»£p nÃ y, hÃ m liÃªn káº¿t \\((b^{'})^{-1}(\\cdot)\\) cÃ²n Ä‘Æ°á»£c gá»i lÃ  hÃ m liÃªn káº¿t chÃ­nh táº¯c cá»§a biáº¿n phá»¥ thuá»™c \\(Y\\).VÃ­ dá»¥ 1: khi \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(\\mu, \\sigma)\\), chÃºng ta cÃ³ \\(b(\\mu) = \\mu^2/2\\) vÃ  \\(b^{'}(\\mu) = \\mu\\) Ä‘Ã³ hÃ m liÃªn káº¿t chÃ­nh táº¯c cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(\\mu, \\sigma)\\) lÃ  \\(g(\\mu) = \\mu\\).VÃ­ dá»¥ 1: khi \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(\\mu, \\sigma)\\), chÃºng ta cÃ³ \\(b(\\mu) = \\mu^2/2\\) vÃ  \\(b^{'}(\\mu) = \\mu\\) Ä‘Ã³ hÃ m liÃªn káº¿t chÃ­nh táº¯c cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(\\mu, \\sigma)\\) lÃ  \\(g(\\mu) = \\mu\\).VÃ­ dá»¥ 2: khi \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i \\(gamma(\\alpha,\\gamma)\\), chÃºng ta cÃ³ \\(b(\\mu) = \\log(-\\mu)\\), vÃ  \\(b^{'}(\\mu) = -1/\\mu\\), Ä‘Ã³ hÃ m liÃªn káº¿t chÃ­nh táº¯c cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i gamma lÃ  \\(g(\\mu) = -1/\\mu\\). Trong trÆ°á»ng há»£p nÃ y hÃ m liÃªn káº¿t khÃ´ng cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  táº­p cÃ¡c sá»‘ thá»±c dÆ°Æ¡ng. CÃ³ thá»ƒ tháº¥y ráº±ng lá»±a chá»n hÃ m liÃªn káº¿t chÃ­nh táº¯c khÃ´ng pháº£i lÃ  má»™t lá»±a chá»n phÃ¹ há»£p.VÃ­ dá»¥ 2: khi \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i \\(gamma(\\alpha,\\gamma)\\), chÃºng ta cÃ³ \\(b(\\mu) = \\log(-\\mu)\\), vÃ  \\(b^{'}(\\mu) = -1/\\mu\\), Ä‘Ã³ hÃ m liÃªn káº¿t chÃ­nh táº¯c cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i gamma lÃ  \\(g(\\mu) = -1/\\mu\\). Trong trÆ°á»ng há»£p nÃ y hÃ m liÃªn káº¿t khÃ´ng cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  táº­p cÃ¡c sá»‘ thá»±c dÆ°Æ¡ng. CÃ³ thá»ƒ tháº¥y ráº±ng lá»±a chá»n hÃ m liÃªn káº¿t chÃ­nh táº¯c khÃ´ng pháº£i lÃ  má»™t lá»±a chá»n phÃ¹ há»£p.","code":""},{"path":"index.html","id":"hÃ m-há»£p-lÃ½-tá»‘i-Ä‘a-vÃ -Æ°á»›c-lÆ°á»£ng-mÃ´-hÃ¬nh.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.4 HÃ m há»£p lÃ½ tá»‘i Ä‘a vÃ  Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh.","text":"Há»‡ sá»‘ tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p \\(\\boldsymbol{\\beta} = (\\beta_0, \\beta_1, \\cdots, \\beta_p)\\) Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng tá»« dá»¯ liá»‡u \\(\\textbf{y} = (y_1, y_2, \\cdots y_n)\\) vÃ  \\(\\textbf{x} = (\\textbf{x}_1, \\textbf{x}_2, \\cdots \\textbf{x}_n)\\) báº±ng phÆ°Æ¡ng phÃ¡p tá»‘i Ä‘a hÃ³a hÃ m há»£p lÃ½, hay cÃ²n gá»i lÃ  hÃ m likelihood. Khi biáº¿n má»¥c tiÃªu \\(Y_i\\) cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ©, hÃ m likelihood Ä‘Æ°á»£c viáº¿t nhÆ° sau\n\\[\\begin{align}\nL(\\textbf{y},\\boldsymbol{\\beta}) = \\prod\\limits_{=1}^n \\ \\exp\\left[ \\cfrac{y_i \\theta - b(\\theta)}{a_i(\\phi)} + c_i(y_i,\\phi) \\right]\n\\end{align}\\]\nTrong háº§u háº¿t cÃ¡c trÆ°á»ng há»£p, chÃºng ta sáº½ thá»±c hiá»‡n tÃ­nh toÃ¡n trÃªn hÃ m Log-likelihood thay vÃ¬ hÃ m likelihood. HÃ m Log-likelihood Ä‘Æ°á»£c kÃ½ hiá»‡u \\(l(\\textbf{y},\\beta)\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau\\[\\begin{align}\nl(\\textbf{y},\\beta) &= \\log \\left( \\prod\\limits_{=1}^n \\ \\exp\\left[ \\cfrac{y_i \\theta_i - b(\\theta_i)}{a_i(\\phi)} + c_i(y_i,\\phi) \\right] \\right) \\\\\n&= \\sum\\limits_{=1}^n  \\left(\\cfrac{y_i \\theta_i - b(\\theta_i)}{a_i(\\phi)} + c_i(y_i,\\phi)\\right)\n\\end{align}\\]\nVÃ©c-tÆ¡ há»‡ sá»‘ \\(\\boldsymbol{\\beta}\\) Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng sao cho giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood Ä‘áº¡t giÃ¡ trá»‹ lá»›n nháº¥t. NhÆ° váº­y \\(\\boldsymbol{\\beta}\\) lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\cfrac{\\partial l(\\textbf{y},\\boldsymbol{\\beta})}{\\partial \\beta_j} & = 0 \\ \\ \\forall j = 1,2, \\cdots, p\n\\end{align}\\]\nLÆ°u Ã½ ráº±ng \\(b^{'}(\\theta_i) = \\mu_i\\) nÃªn trong cÃ¡c thÃ nh pháº§n cá»§a hÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t cá»§a biáº¿n \\(Y_i\\) chá»‰ cÃ³ hÃ m sá»‘ \\(b(\\cdot)\\) vÃ  tham sá»‘ \\(\\theta_i\\) phá»¥ thuá»™c vÃ o há»‡ sá»‘ \\(\\boldsymbol{\\beta}\\). Äáº¡o hÃ m cá»§a hÃ m Log-likelihood theo \\(\\beta\\) cÃ³ thá»ƒ viáº¿t Ä‘Æ°á»£c nhÆ° sau\n\\[\\begin{align}\n\\cfrac{\\partial l(\\textbf{y},\\beta)}{\\partial \\beta_j} & = \\sum\\limits_{=1}^n  \\cfrac{1}{a_i(\\phi)} \\left(y_i \\cfrac{\\partial \\theta_i}{\\partial \\beta_j} - \\cfrac{\\partial b(\\theta_i)}{\\partial \\beta_j} \\right) \\\\\n& = \\sum\\limits_{=1}^n  \\cfrac{y_i - b^{'}(\\theta_i)}{a_i(\\phi)} \\cfrac{\\partial \\theta_i}{\\partial \\beta_j}\n\\end{align}\\]LÆ°u Ã½ ráº±ng \\(\\mu_i = b^{'}(\\theta_i)\\), Ä‘o Ä‘Ã³\n\\[\\begin{align}\n\\theta_i = (b^{'})^{-1}(\\mu_i) = (b^{'})^{-1}\\left(g^{-1}(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots \\beta_p \\cdot x_{,p})\\right)\n\\end{align}\\]\nÄ‘á»“ng thá»i, Ä‘áº¡o hÃ m cá»§a hÃ m ngÆ°á»£c Ä‘Æ°á»£c cá»§a cÃ¡c hÃ m \\(b^{'}(\\cdot)\\) vÃ  \\(g(\\cdot)\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau\n\\[\\begin{align}\n& \\left((b^{'})^{-1}\\right)^{'}(\\mu_i) = \\cfrac{1}{(b^{''}\\left((b^{'})^{-1}(\\mu_i)\\right)} = \\cfrac{1}{b^{''}(\\theta_i)} \\\\\n& (g^{-1}(\\psi_i))^{'} = \\cfrac{1}{(g^{'}(g^{-1}(\\psi_i))} =  \\cfrac{1}{g^{'}(\\mu_i)}\n\\end{align}\\]\nvá»›i \\(\\psi_i = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots \\beta_p \\cdot x_{,p}\\).NhÆ° váº­y, Ä‘áº¡o hÃ m cá»§a \\(\\theta_i\\) theo \\(\\beta_j\\) Ä‘Æ°á»£c tÃ­nh nhÆ° sau\n\\[\\begin{align}\n\\cfrac{\\partial \\theta_i}{\\partial \\beta_j} = \\cfrac{\\partial (b^{'})^{-1}(g^{-1}(\\psi_i(\\beta_j)))}{\\partial \\beta_j} = \\cfrac{x_{,j}}{b^{''}(\\theta_i) \\cdot g^{'}(\\mu_i)}\n\\end{align}\\]Ta cÃ³ Ä‘áº¡o hÃ m cá»§a hÃ m Log-likelihood theo cÃ¡c tham sá»‘ \\(\\beta_j\\)\n\\[\\begin{align}\n\\cfrac{\\partial l(\\textbf{y},\\beta)}{\\partial \\beta_j} = \\sum\\limits_{=1}^n  \\cfrac{(y_i - \\mu_i) \\cdot x_{,j}}{a_i(\\phi) \\cdot b^{''}(\\theta_i) \\cdot g^{'}(\\mu_i)}\n\\end{align}\\]Vá»›i lá»±a chá»n \\(a_i(\\phi) = \\cfrac{\\phi}{\\omega_i}\\), phÆ°Æ¡ng sai cá»§a biáº¿n phá»¥ thuá»™c lÃ  \\(a_i(\\phi) \\cdot b^{''}(\\theta_i)\\) nÃªn ta cÃ³ thá»ƒ viáº¿t hÃ m Log-likelihood theo cÃ¡c tham sá»‘ \\(\\beta_j\\) theo giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a biáº¿n phá»¥ thuá»™c\n\\[\\begin{align}\n\\cfrac{\\partial l(\\textbf{y},\\boldsymbol{\\beta})}{\\partial \\beta_j} &= \\sum\\limits_{=1}^n  \\cfrac{(y_i - \\mu_i) \\cdot x_{,j}}{\\mathbb{V}(y_i) \\cdot g^{'}(\\mu_i)} \\\\\n& = \\sum\\limits_{=1}^n w_i \\cfrac{(y_i - \\mu_i) \\cdot x_{,j}}{\\phi V(\\mu_i) \\cdot g^{'}(\\mu_i)} \\\\\n& =\\cfrac{1}{\\phi} \\sum\\limits_{=1}^n w_i \\cfrac{x_{,j}}{V(\\mu_i) \\cdot g^{'}(\\mu_i)} (y_i - \\mu_i)\n\\end{align}\\]\nCÃ³ thá»ƒ tháº§y ráº±ng:Thá»© nháº¥t, \\(\\beta_j\\) lÃ  nghiá»‡m cá»§a phÆ°Æ¡ng trÃ¬nh \\(\\cfrac{\\partial l(\\textbf{y},\\beta)}{\\partial \\beta_j} = 0\\) sáº½ khÃ´ng phá»¥ thuá»™c vÃ o giÃ¡ trá»‹ cá»§a tham sá»‘ phÃ¢n tÃ¡n \\(\\phi\\).Thá»© nháº¥t, \\(\\beta_j\\) lÃ  nghiá»‡m cá»§a phÆ°Æ¡ng trÃ¬nh \\(\\cfrac{\\partial l(\\textbf{y},\\beta)}{\\partial \\beta_j} = 0\\) sáº½ khÃ´ng phá»¥ thuá»™c vÃ o giÃ¡ trá»‹ cá»§a tham sá»‘ phÃ¢n tÃ¡n \\(\\phi\\).Thá»© hai, giÃ¡ trá»‹ cá»§a \\(\\mu_i\\) phá»¥ thuá»™c vÃ o giÃ¡ trá»‹ cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p \\(\\textbf{x}_i\\) vÃ  phá»¥ thuá»™c vÃ o cÃ¡c há»‡ sá»‘ \\(\\boldsymbol{\\beta}\\), Ä‘Ã³ giÃ¡ trá»‹ \\(\\cfrac{x_{,j}}{V(\\mu_i) \\cdot g^{'}(\\mu_i)}\\) khÃ´ng phá»¥ thuá»™c hoÃ n toÃ n vÃ o cÃ¡ch chÃºng ta xÃ¢y dá»±ng mÃ´ hÃ¬nh.Thá»© hai, giÃ¡ trá»‹ cá»§a \\(\\mu_i\\) phá»¥ thuá»™c vÃ o giÃ¡ trá»‹ cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p \\(\\textbf{x}_i\\) vÃ  phá»¥ thuá»™c vÃ o cÃ¡c há»‡ sá»‘ \\(\\boldsymbol{\\beta}\\), Ä‘Ã³ giÃ¡ trá»‹ \\(\\cfrac{x_{,j}}{V(\\mu_i) \\cdot g^{'}(\\mu_i)}\\) khÃ´ng phá»¥ thuá»™c hoÃ n toÃ n vÃ o cÃ¡ch chÃºng ta xÃ¢y dá»±ng mÃ´ hÃ¬nh.Thá»© ba, giÃ¡ trá»‹ \\(w_i\\) khÃ´ng phá»¥ thuá»™c vÃ o dá»¯ liá»‡u Ä‘Ã³ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng linh hoáº¡t Ä‘á»ƒ Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh cÃ³ káº¿t quáº£ tá»‘t nháº¥t.Thá»© ba, giÃ¡ trá»‹ \\(w_i\\) khÃ´ng phá»¥ thuá»™c vÃ o dá»¯ liá»‡u Ä‘Ã³ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng linh hoáº¡t Ä‘á»ƒ Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh cÃ³ káº¿t quáº£ tá»‘t nháº¥t.Giáº£i há»‡ phÆ°Æ¡ng trÃ¬nh vá»›i áº©n lÃ  vÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\) nhÆ° trÃªn thÆ°á»ng pháº£i sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng phÃ¡p giáº£i sá»‘. PhÆ°Æ¡ng phÃ¡p thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  thuáº­t toÃ¡n Newton Raphson.HÃ m glm() sá»­ dá»¥ng xuyÃªn suá»‘t trong chÆ°Æ¡ng sÃ¡ch cho phÃ©p báº¡n Ä‘á»c Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t cho Ä‘a sá»‘ cÃ¡c phÃ¢n phá»‘i thÆ°á»ng gáº·p cá»§a \\(Y_i\\). Tham sá»‘ \\(weight\\) trong hÃ m glm() lÃ  vÃ©c-tÆ¡ tham sá»‘ \\(w_i\\) nhÆ° chÃºng ta Ä‘Ã£ trÃ¬nh bÃ y á»Ÿ trÃªn. Lá»±a chá»n giÃ¡ trá»‹ cho \\(w_i\\) hoÃ n toÃ n cÃ¡ch tiáº¿p cáº­n cá»§a ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh.VÃ­ dá»¥ 1: khi lá»±a chá»n \\(Y_i\\) cÃ³ phÃ¢n phá»‘i Poisson vá»›i tham sá»‘ \\(\\lambda_i = exp(\\theta_i)\\) vÃ  hÃ m liÃªn káº¿t lÃ  hÃ m \\(g(\\cdot) = log(\\cdot)\\). ChÃºng ta cÃ³ \\((\\phi) = 1\\) Ä‘Ã³ \\(w_i = 1 \\forall \\).\n\\[\\begin{align}\n& g(\\mu_i) = log(\\mu_i) \\rightarrow g^{'}(\\mu_i) = 1/\\mu_i \\\\\n& b(\\theta) = exp(\\theta) \\rightarrow b^{'}(\\theta) = b^{''}(\\theta) = exp(\\theta) \\rightarrow (b^{'})^{-1}(\\theta) = \\log(\\theta) \\rightarrow V(\\theta) = b^{''}(b^{'})^{-1})(\\theta) = \\theta\n\\end{align}\\]\nÄáº¡o hÃ m cá»§a hÃ m Log-likelihood theo \\(\\beta_j\\) trá»Ÿ thÃ nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n w_i \\cdot \\cfrac{x_{,j}}{\\phi V(\\mu_i) \\cdot g^{'}(\\mu_i)} (y_i - \\mu_i) &= \\sum\\limits_{=1}^n x_{,j} (y_i - \\mu_i) \\\\\n&= \\sum\\limits_{=1}^n x_{,j} \\left[y_i - \\exp(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p})\\right]\n\\end{align}\\]\nhay nÃ³i má»™t cÃ¡ch khÃ¡c, vÃ©c-tÆ¡ tham sá»‘ \\(\\beta\\) Ä‘á»ƒ tá»‘i Ä‘a hÃ³a giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n x_{,j} \\left[y_i - \\exp \\left(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p} \\right) \\right] = 0 \\ \\forall j\n\\end{align}\\]VÃ­ dá»¥ 1: khi lá»±a chá»n \\(Y_i\\) cÃ³ phÃ¢n phá»‘i Poisson vá»›i tham sá»‘ \\(\\lambda_i = exp(\\theta_i)\\) vÃ  hÃ m liÃªn káº¿t lÃ  hÃ m \\(g(\\cdot) = log(\\cdot)\\). ChÃºng ta cÃ³ \\((\\phi) = 1\\) Ä‘Ã³ \\(w_i = 1 \\forall \\).\n\\[\\begin{align}\n& g(\\mu_i) = log(\\mu_i) \\rightarrow g^{'}(\\mu_i) = 1/\\mu_i \\\\\n& b(\\theta) = exp(\\theta) \\rightarrow b^{'}(\\theta) = b^{''}(\\theta) = exp(\\theta) \\rightarrow (b^{'})^{-1}(\\theta) = \\log(\\theta) \\rightarrow V(\\theta) = b^{''}(b^{'})^{-1})(\\theta) = \\theta\n\\end{align}\\]\nÄáº¡o hÃ m cá»§a hÃ m Log-likelihood theo \\(\\beta_j\\) trá»Ÿ thÃ nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n w_i \\cdot \\cfrac{x_{,j}}{\\phi V(\\mu_i) \\cdot g^{'}(\\mu_i)} (y_i - \\mu_i) &= \\sum\\limits_{=1}^n x_{,j} (y_i - \\mu_i) \\\\\n&= \\sum\\limits_{=1}^n x_{,j} \\left[y_i - \\exp(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p})\\right]\n\\end{align}\\]\nhay nÃ³i má»™t cÃ¡ch khÃ¡c, vÃ©c-tÆ¡ tham sá»‘ \\(\\beta\\) Ä‘á»ƒ tá»‘i Ä‘a hÃ³a giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n x_{,j} \\left[y_i - \\exp \\left(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p} \\right) \\right] = 0 \\ \\forall j\n\\end{align}\\]VÃ­ dá»¥ 2: khi \\(Y_i\\) cÃ³ phÃ¢n phá»‘i Gamma vá»›i tham sá»‘ \\(\\alpha\\), \\(\\gamma_i\\) chÃºng ta cÃ³ \\(b(\\theta_i) = log(-\\theta_i)\\) vá»›i \\(\\theta_i = - \\cfrac{\\gamma_i}{\\alpha}\\) Ä‘á»“ng thá»i \\((\\phi) = \\phi\\) Ä‘Ã³ \\(w_i = 1\\) \\(\\forall \\). Giáº£ sá»­ hÃ m liÃªn káº¿t Ä‘Æ°á»£c lá»±a chá»n lÃ  hÃ m \\(log\\): \\(g(\\cdot) = log(\\cdot)\\).\n\\[\\begin{align}\n& g(\\mu_i) = log(\\mu_i) \\rightarrow g^{'}(\\mu_i) = 1/\\mu_i \\\\\n& b(\\theta_i) = log(-\\theta_i) \\rightarrow b^{'}(\\theta_i) = -1/\\theta_i \\rightarrow b^{''}(\\theta) = 1/\\theta^2 \\rightarrow (b^{'})^{-1}(\\theta) = -1/\\theta \\rightarrow V(\\mu) = b^{''}(b^{'})^{-1})(\\mu) = \\mu^2\n\\end{align}\\]\nÄáº¡o hÃ m cá»§a hÃ m Log-likelihood theo \\(\\beta_j\\) trá»Ÿ thÃ nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n w_i \\cdot \\cfrac{x_{,j}}{\\phi V(\\mu_i) \\cdot g^{'}(\\mu_i)} (y_i - \\mu_i) &= \\sum\\limits_{=1}^n \\cfrac{x_{,j}}{\\mu_i} (y_i - \\mu_i)\n\\end{align}\\]\nvÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\) Ä‘á»ƒ tá»‘i Ä‘a hÃ³a giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n x_{,j} \\left\\{y_i \\cdot \\exp\\left[-(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}) \\right] - 1 \\right\\} = 0 \\ \\forall j\n\\end{align}\\]VÃ­ dá»¥ 2: khi \\(Y_i\\) cÃ³ phÃ¢n phá»‘i Gamma vá»›i tham sá»‘ \\(\\alpha\\), \\(\\gamma_i\\) chÃºng ta cÃ³ \\(b(\\theta_i) = log(-\\theta_i)\\) vá»›i \\(\\theta_i = - \\cfrac{\\gamma_i}{\\alpha}\\) Ä‘á»“ng thá»i \\((\\phi) = \\phi\\) Ä‘Ã³ \\(w_i = 1\\) \\(\\forall \\). Giáº£ sá»­ hÃ m liÃªn káº¿t Ä‘Æ°á»£c lá»±a chá»n lÃ  hÃ m \\(log\\): \\(g(\\cdot) = log(\\cdot)\\).\n\\[\\begin{align}\n& g(\\mu_i) = log(\\mu_i) \\rightarrow g^{'}(\\mu_i) = 1/\\mu_i \\\\\n& b(\\theta_i) = log(-\\theta_i) \\rightarrow b^{'}(\\theta_i) = -1/\\theta_i \\rightarrow b^{''}(\\theta) = 1/\\theta^2 \\rightarrow (b^{'})^{-1}(\\theta) = -1/\\theta \\rightarrow V(\\mu) = b^{''}(b^{'})^{-1})(\\mu) = \\mu^2\n\\end{align}\\]\nÄáº¡o hÃ m cá»§a hÃ m Log-likelihood theo \\(\\beta_j\\) trá»Ÿ thÃ nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n w_i \\cdot \\cfrac{x_{,j}}{\\phi V(\\mu_i) \\cdot g^{'}(\\mu_i)} (y_i - \\mu_i) &= \\sum\\limits_{=1}^n \\cfrac{x_{,j}}{\\mu_i} (y_i - \\mu_i)\n\\end{align}\\]\nvÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\) Ä‘á»ƒ tá»‘i Ä‘a hÃ³a giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n x_{,j} \\left\\{y_i \\cdot \\exp\\left[-(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}) \\right] - 1 \\right\\} = 0 \\ \\forall j\n\\end{align}\\]VÃ­ dá»¥ 3: khi \\(Y_i\\) lÃ  sá»‘ tiá»n bá»“i thÆ°á»ng trung bÃ¬nh cho 1 tai náº¡n trong vÃ²ng 1 nÄƒm cá»§a má»™t khÃ¡ch hÃ ng, biáº¿t ráº±ng khÃ¡ch hÃ ng Ä‘Æ°á»£c bá»“i thÆ°á»ng \\(n_i\\) láº§n trong nÄƒm vÃ  sá»‘ tiá»n bá»“i thÆ°á»ng cá»§a má»™t vá»¥ tai náº¡n lÃ  biáº¿n ngáº«u nhiÃªn \\(Y^*_i\\) phÃ¢n phá»‘i Gamma vá»›i tham sá»‘ \\(\\alpha\\), \\(\\beta_i\\). \\(Y_i\\) lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(n_i\\) biáº¿n phÃ¢n phá»‘i Gamma Ä‘á»™c láº­p vá»›i cÃ¹ng tham sá»‘ \\(\\alpha\\), \\(\\beta_i\\) nÃªn \\(Y_i\\) sáº½ cÃ³ phÃ¢n phá»‘i Gamma vá»›i tham sá»‘ \\((n_i \\alpha)\\) vÃ  \\((n_i \\beta_i)\\). Khi viáº¿t \\(Y_i\\) dÆ°á»›i dáº¡ng phÃ¢n phá»‘i kiá»ƒu mÅ©, chÃºng ta cÃ³ \\(b(\\theta_i) = log(-\\theta_i)\\) vá»›i \\(\\theta_i = - \\cfrac{\\beta_i}{\\alpha}\\) vÃ  \\((\\phi) = \\phi/n_i\\). VÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\) Ä‘á»ƒ tá»‘i Ä‘a hÃ³a giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n n_i \\cdot \\ x_{,j} \\cdot  \\left[y_i \\cdot \\exp\\left(-(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}) \\right) - 1 \\right] = 0 \\ \\forall j\n\\end{align}\\]VÃ­ dá»¥ 3: khi \\(Y_i\\) lÃ  sá»‘ tiá»n bá»“i thÆ°á»ng trung bÃ¬nh cho 1 tai náº¡n trong vÃ²ng 1 nÄƒm cá»§a má»™t khÃ¡ch hÃ ng, biáº¿t ráº±ng khÃ¡ch hÃ ng Ä‘Æ°á»£c bá»“i thÆ°á»ng \\(n_i\\) láº§n trong nÄƒm vÃ  sá»‘ tiá»n bá»“i thÆ°á»ng cá»§a má»™t vá»¥ tai náº¡n lÃ  biáº¿n ngáº«u nhiÃªn \\(Y^*_i\\) phÃ¢n phá»‘i Gamma vá»›i tham sá»‘ \\(\\alpha\\), \\(\\beta_i\\). \\(Y_i\\) lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(n_i\\) biáº¿n phÃ¢n phá»‘i Gamma Ä‘á»™c láº­p vá»›i cÃ¹ng tham sá»‘ \\(\\alpha\\), \\(\\beta_i\\) nÃªn \\(Y_i\\) sáº½ cÃ³ phÃ¢n phá»‘i Gamma vá»›i tham sá»‘ \\((n_i \\alpha)\\) vÃ  \\((n_i \\beta_i)\\). Khi viáº¿t \\(Y_i\\) dÆ°á»›i dáº¡ng phÃ¢n phá»‘i kiá»ƒu mÅ©, chÃºng ta cÃ³ \\(b(\\theta_i) = log(-\\theta_i)\\) vá»›i \\(\\theta_i = - \\cfrac{\\beta_i}{\\alpha}\\) vÃ  \\((\\phi) = \\phi/n_i\\). VÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\) Ä‘á»ƒ tá»‘i Ä‘a hÃ³a giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n n_i \\cdot \\ x_{,j} \\cdot  \\left[y_i \\cdot \\exp\\left(-(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}) \\right) - 1 \\right] = 0 \\ \\forall j\n\\end{align}\\]","code":""},{"path":"index.html","id":"so-sÃ¡nh-vÃ -lá»±a-chá»n-mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.5 So sÃ¡nh vÃ  lá»±a chá»n mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","text":"Náº¯m Ä‘Æ°á»£c cÃ¡c nguyÃªn táº¯c chung báº¡n Ä‘á»c cÃ³ thá»ƒ tá»± xÃ¢y dá»±ng nhiá»u mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t khÃ¡c nhau cho má»™t dá»¯ liá»‡u cá»¥ thá»ƒ. ThÃ¡ch thá»©c Ä‘áº·t ra lÃ  má»™t mÃ´ hÃ¬nh liá»‡u cÃ³ thá»±c sá»± cÃ³ tá»‘t hÆ¡n cÃ¡c mÃ´ hÃ¬nh khÃ¡c, hay trong sá»‘ cÃ¡c mÃ´ hÃ¬nh báº¡n lá»±a chá»n mÃ´ hÃ¬nh nÃ o lÃ  phÃ¹ há»£p nháº¥t? Pháº§n nÃ y cá»§a chÆ°Æ¡ng sáº½ tháº£o luáº­n vá» váº¥n Ä‘á» sÃ¡nh mÃ´ hÃ¬nh vÃ  lá»±a chá»n mÃ´ hÃ¬nh. CÃ¡c chá»‰ tiÃªu thá»‘ng kÃª Ä‘Æ°á»£c sá»§ dá»¥ng Ä‘á»ƒ sÃ¡nh mÃ´ hÃ¬nh sáº½ xoay quanh giÃ¡ trá»‹ cá»§a hÃ m há»£p lÃ½ tá»‘i Ä‘a, bao gá»“m cÃ³ thÆ°á»›c Ä‘o deviance, chá»‰ tiÃªu AIC, AICC, hay BIC.","code":""},{"path":"index.html","id":"thÆ°á»›c-Ä‘o-deviance","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.5.1 ThÆ°á»›c Ä‘o deviance","text":"ThÆ°á»›c Ä‘o Ä‘Æ°á»£c gá»i lÃ  deviance thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ vÃ  sÃ¡nh cÃ¡c mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t cÃ³ cÃ¹ng phÃ¢n phá»‘i cá»§a biáº¿n Ä‘á»™c láº­p. Chá»‰ tiÃªu nÃ y Ä‘Æ°á»£c tÃ­nh toÃ¡n dá»±a trÃªn giÃ¡ trá»‹ hÃ m Log-likelihood. Khi \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn trong nhÃ³m cÃ¡c phÃ¢n phá»‘i mÅ©, hÃ m log-likelihood Ä‘Æ°á»£c viáº¿t nhÆ° sau\n\\[\\begin{align}\nl(\\textbf{y},\\theta) & = \\sum\\limits_{=1}^n  \\left(\\cfrac{y_i \\theta_i - b(\\theta_i)}{a_i(\\phi)} + c_i(y_i,\\phi)\\right)\n\\end{align}\\]\nvá»›i \\(\\boldsymbol{\\theta}\\) lÃ  vÃ©c-tÆ¡ cÃ¡c tham sá»‘ chÃ­nh táº¯c, \\(\\boldsymbol{\\theta} = (\\theta_1, \\theta_2, \\cdots, \\theta_n)\\). Sau khi phÃ¢n phá»‘i cá»§a \\(Y\\) vÃ  hÃ m liÃªn káº¿t Ä‘Æ°á»£c lá»±a chá»n, chÃºng ta Æ°á»›c lÆ°á»£ng Ä‘Æ°á»£c vÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\) lÃ  há»‡ sá»‘ cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p báº±ng cÃ¡ch tá»‘i Ä‘a hÃ³a hÃ m log-likelihood. Sau khi Ä‘Ã£ xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c vÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\), vá»›i má»—i lá»±a chá»n cho phÃ¢n phá»‘i cá»§a \\(Y\\) vÃ  hÃ m liÃªn káº¿t, chÃºng ta sáº½ tÃ­nh toÃ¡n Ä‘Æ°á»£c cÃ¡c tham sá»‘ chÃ­nh táº¯c cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t. Náº¿u hÃ m liÃªn káº¿t Ä‘Æ°á»£c lá»±a chá»n lÃ  hÃ m liÃªn káº¿t chÃ­nh táº¯c, \\(g(\\cdot) = (b^{'})^{-1}(\\cdot)\\), chÃºng ta cÃ³ cÃ¡c tham sá»‘ chÃ­nh táº¯c chÃ­nh lÃ  tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p \\(\\boldsymbol{\\theta}^M = (\\theta^M_1, \\theta^M_2, \\cdots, \\theta^M_n)\\) vá»›i\n\\[\\begin{align}\n\\theta^M_i = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}\n(\\#eq:compa1)\n\\end{align}\\]Vá»›i má»—i lá»±a chá»n cho mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t, bao gá»“m lá»±a chá»n cho phÃ¢n phá»‘i cá»§a \\(Y\\) vÃ  hÃ m liÃªn káº¿t \\(g\\), táº¡m gá»i lÃ  mÃ´ hÃ¬nh \\(M\\), chÃºng ta gá»i \\(l(\\textbf{y},\\boldsymbol{\\theta}^M)\\) lÃ  giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood táº¡i tham sá»‘ \\(\\boldsymbol{\\theta}^M\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh qua phÆ°Æ¡ng trÃ¬nh @ref(eq:compa1). LÆ°u Ã½ ráº±ng vÃ©c-tÆ¡ \\(\\boldsymbol{\\theta}^M\\) cÃ³ Ä‘á»™ dÃ i lÃ  \\(n\\), báº±ng vá»›i kÃ­ch thÆ°á»›c cá»§a dá»¯ liá»‡u, tuy nhiÃªn cÃ¡c tham sá»‘ nÃ y Ä‘Æ°á»£c tÃ­nh toÃ¡n tá»« \\((p+1)\\) giÃ¡ trá»‹ \\(\\beta\\) Æ°á»›c lÆ°á»£ng Ä‘Æ°á»£c vÃ  giÃ¡ trá»‹ cá»§a biáº¿n Ä‘á»™c láº­p.Äiá»u gÃ¬ xáº£y ra náº¿u tham sá»‘ chÃ­nh táº¯c \\(\\boldsymbol{\\theta}\\) hoÃ n toÃ n tá»± vÃ  khÃ´ng phá»¥ thuá»™c vÃ o biáº¿n Ä‘á»™c láº­p? HÃ m Log-likelihood sáº½ Ä‘áº¡t giÃ¡ trá»‹ cá»±c Ä‘áº¡i táº¡i \\(\\theta^S = (\\theta^S_1, \\theta^S_2, \\cdots, \\theta^S_n)\\) vá»›i \\(\\theta^S_i\\) lÃ  giÃ¡ trá»‹ sao cho Ä‘áº¡o hÃ m cá»§a hÃ m Log-likelihood táº¡i \\(\\theta^S_i\\) báº±ng 0. \\(\\theta\\) hoÃ n toÃ n tá»± nÃªn chá»‰ cÃ³ thÃ nh pháº§n thá»© \\(\\) cá»§a hÃ m Log-likelihood phá»¥ thuá»™c vÃ o \\(\\theta^S_i\\)\n\\[\\begin{align}\n\\cfrac{\\partial l(\\textbf{y},\\theta)}{\\partial \\theta_i} & =  \\cfrac{y_i - b^{'}(\\theta_i)}{a_i(\\phi)}\n\\end{align}\\]\nCho Ä‘áº¡o hÃ m cá»§a \\(l(\\textbf{y},\\theta)\\) theo \\(\\theta_i\\) báº±ng 0 chÃºng ta cÃ³ \\(y_i - b^{'}(\\theta^S_i) = 0\\) hay \\(\\theta^S_i = (b^{'})^{-1}(y_i)\\).Báº¡n Ä‘á»c lÆ°u Ã½ ráº±ng giÃ¡ trá»‹ hÃ m Log-likelihood Ä‘áº¡t cá»±c Ä‘áº¡i táº¡i \\(\\boldsymbol{\\theta}^S\\) khÃ´ng cÃ³ nghÄ©a lÃ  tham sá»‘ \\(\\boldsymbol{\\theta}^S\\) lÃ  lá»±a chá»n tá»‘t nháº¥t cho mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t bá»Ÿi tham sá»‘ cÃ³ Ä‘áº¿n \\(n\\) báº­c tá»± . \\(\\boldsymbol{\\theta}^S\\) cho chÃºng ta thÃ´ng tin vá» giÃ¡ trá»‹ cáº­n trÃªn cá»§a \\(l(\\textbf{y},\\theta)\\) khi \\(\\theta\\) thay Ä‘á»•i. ThÆ°á»›c Ä‘o deviance cá»§a mÃ´ hÃ¬nh \\(M\\), kÃ½ hiá»‡u \\(D*(y,\\theta^M)\\) Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a lÃ  hai láº§n khoáº£ng cÃ¡ch tá»« \\(l(\\textbf{y},\\boldsymbol{\\theta}^M)\\) Ä‘áº¿n giÃ¡ trá»‹ tá»‘i Ä‘a \\(l(\\textbf{y},\\boldsymbol{\\theta}^S)\\). Deviance cá»§a má»™t mÃ´ hÃ¬nh cho biáº¿t mÃ´ hÃ¬nh Ä‘Æ°á»£c lá»±a chá»n gáº§n vá»›i phÃ¢n phá»‘i quan sÃ¡t Ä‘Æ°á»£c nhÆ° tháº¿ nÃ o, vÃ  mÃ´ hÃ¬nh cÃ³ deviance cÃ ng nhá» thÃ¬ cÃ ng giáº£i thÃ­ch tá»‘t hÆ¡n biáº¿n phá»¥ thuá»™c\n\\[\\begin{align}\nD^{*}(y, \\theta^M) &= 2 \\left( l(\\textbf{y},\\theta^S) - l(\\textbf{y},\\theta^M) \\right) \\\\\n& = 2 \\sum\\limits_{=1}^n  \\cfrac{y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i))}{a_i(\\phi)}\n\\end{align}\\]Trong trÆ°á»ng há»£p hÃ m \\(a_i(\\phi)\\) lÃ  tuyáº¿n tÃ­nh theo \\(\\phi\\); \\(a_i(\\phi) = \\cfrac{\\phi}{w_i}\\), ta cÃ³\n\\[\\begin{align}\nD^{*}(y, \\theta^M) & = \\cfrac{1}{\\phi} \\sum\\limits_{=1}^n 2w_i \\cdot \\left[y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i)) \\right]  = \\cfrac{D(y, \\theta^M)}{\\phi}\n\\end{align}\\]\nvá»›i\n\\[\\begin{align}\nD(y, \\theta^M) & = \\sum\\limits_{=1}^n 2w_i \\cdot \\left[y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i)) \\right]\n\\end{align}\\]\ntrong Ä‘Ã³ \\(D(y, \\theta^M)\\) lÃ  thÆ°á»›c Ä‘o deviance bá» qua áº£nh hÆ°á»Ÿng cá»§a tham sá»‘ dispersion \\(\\phi\\).VÃ­ dá»¥ 1: biáº¿n má»¥c tiÃªu \\(Y_i\\) cÃ³ phÃ¢n phá»‘i chuáº©n: \\(Y_i \\sim \\mathcal{N}(\\mu_i, \\sigma)\\) vÃ  hÃ m liÃªn káº¿t \\(g(x) = x\\). CÃ³ thá»ƒ viáº¿t hÃ m máº­t Ä‘á»™ cá»§a \\(Y_i\\) dÆ°á»›i dáº¡ng phÃ¢n phá»‘i mÅ© nhÆ° sau\n\\[\\begin{align}\nf(y, \\theta_i, \\phi) & = \\exp\\left[ \\cfrac{\\theta_i y - \\theta_i^2/2} {\\phi} - \\cfrac{y^2}{2\\phi} - \\cfrac{1}{2} log(2 \\pi \\phi) \\right]\n\\end{align}\\]\nvá»›i \\(\\theta_i = \\mu_i\\) vÃ  \\(\\phi = \\sigma^2\\). Ta cÃ³ \\(\\theta^S_i = (b^{'})^{-1}(y_i) = y_i\\), Ä‘Ã³ deviance tÃ­nh trÃªn quan sÃ¡t \\(\\textbf{y}\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau\n\\[\\begin{align}\nD(y, \\theta^M) & = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i)) \\right] \\\\\n& = \\sum\\limits_{=1}^n (y_i - \\theta^M_i)^2 \\\\\n& = \\sum\\limits_{=1}^n \\left[y_i -  (\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{p,1}) \\right]^2\n\\end{align}\\]\nTrong trÆ°á»ng há»£p há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng, deviance chÃ­nh lÃ  tá»•ng bÃ¬nh phÆ°Æ¡ng sai sá»‘.VÃ­ dá»¥ 1: biáº¿n má»¥c tiÃªu \\(Y_i\\) cÃ³ phÃ¢n phá»‘i chuáº©n: \\(Y_i \\sim \\mathcal{N}(\\mu_i, \\sigma)\\) vÃ  hÃ m liÃªn káº¿t \\(g(x) = x\\). CÃ³ thá»ƒ viáº¿t hÃ m máº­t Ä‘á»™ cá»§a \\(Y_i\\) dÆ°á»›i dáº¡ng phÃ¢n phá»‘i mÅ© nhÆ° sau\n\\[\\begin{align}\nf(y, \\theta_i, \\phi) & = \\exp\\left[ \\cfrac{\\theta_i y - \\theta_i^2/2} {\\phi} - \\cfrac{y^2}{2\\phi} - \\cfrac{1}{2} log(2 \\pi \\phi) \\right]\n\\end{align}\\]\nvá»›i \\(\\theta_i = \\mu_i\\) vÃ  \\(\\phi = \\sigma^2\\). Ta cÃ³ \\(\\theta^S_i = (b^{'})^{-1}(y_i) = y_i\\), Ä‘Ã³ deviance tÃ­nh trÃªn quan sÃ¡t \\(\\textbf{y}\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau\n\\[\\begin{align}\nD(y, \\theta^M) & = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i)) \\right] \\\\\n& = \\sum\\limits_{=1}^n (y_i - \\theta^M_i)^2 \\\\\n& = \\sum\\limits_{=1}^n \\left[y_i -  (\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{p,1}) \\right]^2\n\\end{align}\\]\nTrong trÆ°á»ng há»£p há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng, deviance chÃ­nh lÃ  tá»•ng bÃ¬nh phÆ°Æ¡ng sai sá»‘.VÃ­ dá»¥ 2: biáº¿n má»¥c tiÃªu \\(Y_i\\) cÃ³ phÃ¢n phá»‘i Poisson \\(Y_i \\sim \\mathcal{P}(\\lambda_i)\\) vÃ  hÃ m liÃªn káº¿t \\(g(\\cdot) = log(\\cdot)\\).\n\\[\\begin{align}\nf(y; \\theta_i) = exp\\left[ \\cfrac{\\theta_i y - exp(\\theta_i)}{1} - log(\\Gamma(y+1)) \\right] \\text{ vá»›i } \\lambda_i = exp(\\theta_i)\n\\end{align}\\]\nTa cÃ³ \\(\\theta^S_i = (b^{'})^{-1}(y_i) = log(y_i)\\), Ä‘Ã³ deviance tÃ­nh trÃªn quan sÃ¡t \\(\\textbf{y}\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau\n\\[\\begin{align}\nD(y, \\theta^M) & = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i)) \\right] \\\\\n& = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i (log(y_i) - \\theta^M_i) - (y_i - exp(\\theta^M_i)) \\right] \\\\\n& = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i \\left(log(y_i) - log(\\mu^M_i)\\right) - (y_i - \\mu^M_i) \\right]\n\\end{align}\\]\nvá»›i \\(\\mu^M_i = \\exp(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{p,1})\\).VÃ­ dá»¥ 2: biáº¿n má»¥c tiÃªu \\(Y_i\\) cÃ³ phÃ¢n phá»‘i Poisson \\(Y_i \\sim \\mathcal{P}(\\lambda_i)\\) vÃ  hÃ m liÃªn káº¿t \\(g(\\cdot) = log(\\cdot)\\).\n\\[\\begin{align}\nf(y; \\theta_i) = exp\\left[ \\cfrac{\\theta_i y - exp(\\theta_i)}{1} - log(\\Gamma(y+1)) \\right] \\text{ vá»›i } \\lambda_i = exp(\\theta_i)\n\\end{align}\\]\nTa cÃ³ \\(\\theta^S_i = (b^{'})^{-1}(y_i) = log(y_i)\\), Ä‘Ã³ deviance tÃ­nh trÃªn quan sÃ¡t \\(\\textbf{y}\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau\n\\[\\begin{align}\nD(y, \\theta^M) & = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i)) \\right] \\\\\n& = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i (log(y_i) - \\theta^M_i) - (y_i - exp(\\theta^M_i)) \\right] \\\\\n& = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i \\left(log(y_i) - log(\\mu^M_i)\\right) - (y_i - \\mu^M_i) \\right]\n\\end{align}\\]\nvá»›i \\(\\mu^M_i = \\exp(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{p,1})\\).Káº¿t quáº£ Æ°á»›c lÆ°á»£ng khi sá»­ dá»¥ng hÃ m glm() trong R hiá»ƒn thá»‹ hai giÃ¡ trá»‹ lÃ  Null deviance vÃ  Residual deviance. Null deviance Ä‘Æ°á»£c tÃ­nh toÃ¡n vá»›i giáº£ thiáº¿t lÃ  chá»‰ cÃ³ há»‡ sá»‘ cháº·n \\(\\beta_0\\), cÃ²n Residual deviance Ä‘Æ°á»£c tÃ­nh toÃ¡n vá»›i vÃ©c-tÆ¡ \\(\\boldsymbol{\\beta}\\) Ä‘áº§y Ä‘á»§.GiÃ¡ trá»‹ Residual deviance ngoÃ i sá»­ dá»¥ng Ä‘á»ƒ sÃ¡nh hai mÃ´ hÃ¬nh cÃ³ cÃ¹ng phÃ¢n phá»‘i cá»§a biáº¿n phá»¥ thuá»™c cÃ²n Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ lá»±a chá»n biáº¿n trong mÃ´ hÃ¬nh. Giáº£ sá»­ hai mÃ´ hÃ¬nh \\(M1\\) vÃ  \\(M2\\) cÃ³ cÃ¹ng phÃ¢n phá»‘i cho biáº¿n phá»¥ thuá»™c vÃ  cÃ³ cÃ¹ng hÃ m liÃªn káº¿t \\(g(.)\\), mÃ´ hÃ¬nh \\(M1\\) cÃ³ \\(m_1\\) biáº¿n Ä‘á»™c láº­p trong khi mÃ´ hÃ¬nh \\(M_2\\) cÃ³ \\(m_2\\) biáº¿n Ä‘á»™c láº­p, bao gá»“m táº¥t cáº£ cÃ¡c biáº¿n Ä‘á»™c láº­p cá»§a mÃ´ hÃ¬nh \\(M1\\). NÃ³i má»™t cÃ¡ch khÃ¡c, \\(M_2\\) cÃ³ nhiá»u hÆ¡n \\(M_1\\) lÃ  \\((m_2 - m_1)\\) biáº¿n Ä‘á»™c láº­p. MÃ´ hÃ¬nh \\(M_2\\) sáº½ cÃ³ deviance lá»›n hÆ¡n mÃ´ hÃ¬nh \\(M_1\\) cÃ³ nhiá»u biáº¿n Ä‘á»™c láº­p hÆ¡n, tuy nhiÃªn viá»‡c thÃªm \\((m_2 - m_1)\\) biáº¿n Ä‘á»™c láº­p vÃ o mÃ´ hÃ¬nh cÃ³ Ã½ nghÄ©a thá»‘ng kÃª náº¿u hiá»‡u sá»‘ giá»¯a \\(D^*(y, \\theta^{M_2})\\) vÃ  \\(D^*(y, \\theta^{M_1})\\) lÃ  Ä‘á»§ lá»›n.CÃ³ thá»ƒ chá»©ng minh Ä‘Æ°á»£c ráº±ng khi kÃ­ch thÆ°á»›c dá»¯ liá»‡u Ä‘á»§ lá»›n, hiá»‡u sá»‘ giá»¯a \\(D^*(y, \\theta^{M_2})\\) vÃ  \\(D^*(y, \\theta^{M_1})\\) lÃ  má»™t biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i xáº¥p xá»‰ phÃ¢n phá»‘i \\(\\chi^2\\) vá»›i báº­c tá»± \\((m_2 - m_1)\\)\n\\[\\begin{align}\nD^{*}(y, \\theta^{M_1}) - D^{*}(y, \\theta^{M_2}) = 2 \\cdot \\log\\left( \\cfrac{L(y,\\theta^{M_2})}{L(y,\\theta^{M_1})} \\right) \\sim \\chi^2(m_2 - m_1)\n\\end{align}\\]VÃ­ dá»¥ 3: trong dá»¯ liá»‡u \\(exposure.csv\\), khi biáº¿n \\(Claim\\_Count\\) Ä‘Æ°á»£c giáº£ thiáº¿t cÃ³ phÃ¢n phá»‘i Poisson vÃ  giÃ¡ trá»‹ trung bÃ¬nh Ä‘Æ°á»£c giáº£i thÃ­ch báº±ng Ä‘á»™ tuá»•i, hoáº·c giá»›i tÃ­nh cá»§a ngÆ°á»i Ä‘Æ°á»£c báº£o hiá»ƒm, hoáº·c cáº£ hai biáº¿n. ChÃºng ta gá»i mÃ´ hÃ¬nh \\(M_1\\) lÃ  mÃ´ hÃ¬nh mÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c Ä‘Æ°á»£c giáº£i thÃ­ch báº±ng biáº¿n Ä‘á»™ tuá»•i, mÃ´ hÃ¬nh \\(M_2\\) lÃ  mÃ´ hÃ¬nh mÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c Ä‘Æ°á»£c giáº£i thÃ­ch báº±ng cáº£ biáº¿n giá»›i tÃ­nh, vÃ  mÃ´ hÃ¬nh \\(M_3\\) lÃ  mÃ´ hÃ¬nh mÃ  biáº¿n phá»¥ thuá»™c phá»¥ thuá»™c vÃ o cáº£ Ä‘á»™ tuá»•i vÃ  giá»›i tÃ­nh cá»§a khÃ¡ch hÃ ng.MÃ´ hÃ¬nh \\(M_1\\) vÃ  \\(M_2\\) Ä‘á»u chá»‰ cÃ³ má»™t biáº¿n Ä‘á»™c láº­p vÃ  \\(M_1\\) cÃ³ deviance nhá» hÆ¡n \\(M_2\\) Ä‘Ã³ mÃ´ hÃ¬nh \\(M_1\\) tá»‘t hÆ¡n \\(M_2\\). sÃ¡nh mÃ´ hÃ¬nh \\(M_1\\) vá»›i 1 biáº¿n Ä‘á»™c láº­p lÃ  \\(Age\\) vá»›i mÃ´ hÃ¬nh \\(M_3\\) cÃ³ 2 biáº¿n Ä‘á»™c láº­p lÃ  \\(Age\\) vÃ  \\(Gender\\) cáº§n dá»±a trÃªn kiá»ƒm Ä‘á»‹nh \\(\\chi^2\\). Ta cÃ³ \\(D^{*}(y, \\theta^{M_1}) - D^{*}(y, \\theta^{M_2}) = 8324.2 - 8316.8 = 7.4\\). GiÃ¡ trá»‹ 7.4 tÆ°Æ¡ng á»©ng vá»›i má»©c xÃ¡c suáº¥t \\(0.994\\) cá»§a phÃ¢n phá»‘i \\(\\chi^2(1)\\). Äiá»u nÃ y cÃ³ Ã½ nghÄ©a lÃ  á»Ÿ má»©c Ä‘á»™ tin cáº­y 99%, cÃ³ thá»ƒ káº¿t luáº­n ráº±ng thÃªm biáº¿n \\(Gender\\) vÃ o mÃ´ hÃ¬nh \\(M_1\\) lÃ  cÃ³ Ã½ nghÄ©a thá»‘ng kÃª, tuy nhiÃªn viá»‡c thÃªm biáº¿n \\(Gender\\) láº¡i khÃ´ng cÃ³ Ã½ nghÄ©a thá»‘ng kÃª á»Ÿ má»©c Ä‘á»™ tin cáº­y \\(99.5\\%\\).","code":"\ndat<-read.csv(\"../KHDL_KTKD/Dataset/exposure.csv\")\n\nglm_M1<-glm(Claim_Count~Age, family = poisson(link=\"log\"), data = dat)\nglm_M2<-glm(Claim_Count~Gender, family = poisson(link=\"log\"), data = dat)\nglm_M3<-glm(Claim_Count~Age+Gender, family = poisson(link=\"log\"), data = dat)\n\nsummary(glm_M1)\nsummary(glm_M2)\nsummary(glm_M3)"},{"path":"index.html","id":"giÃ¡-trá»‹-hÃ m-log-likelihood-aic-vÃ -bic","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"10.5.2 GiÃ¡ trá»‹ hÃ m log-likelihood, AIC vÃ  BIC","text":"Deviance lÃ  má»™t thÆ°á»›c Ä‘o há»¯u Ã­ch trong sÃ¡nh cÃ¡c mÃ´ hÃ¬nh cÃ³ cÃ¹ng phÃ¢n phá»‘i cá»§a biáº¿n phá»¥ thuá»™c vÃ  hÃ m liÃªn káº¿t. Khi cÃ¡c mÃ´ hÃ¬nh cáº§n sÃ¡nh khÃ´ng cÃ³ chung phÃ¢n phá»‘i cá»§a biáº¿n phá»¥ thuá»™c thÃ¬ hiá»‡u giá»¯a hai hÃ m log-likelihood sáº½ khÃ´ng cÃ³ phÃ¢n phá»‘i \\(\\chi^2\\) vÃ  khi Ä‘Ã³ viá»‡c sÃ¡nh cÃ¡c mÃ´ hÃ¬nh lÃ  khÃ´ng tháº¿ thá»±c hiá»‡n Ä‘Æ°á»£c.Trong pháº§n trÆ°á»›c, chÃºng ta Ä‘Ã£ Ä‘á»‹nh nghÄ©a \\(l(y,\\theta^M)\\) lÃ  giÃ¡ trá»‹ tá»‘i Ä‘a cá»§a hÃ m log-likelihood cho mÃ´ hÃ¬nh M vá»›i táº­p há»£p cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘Ã£ lá»±a chá»n. NhÃ¬n chung, giÃ¡ trá»‹ cá»§a \\(l(y,\\theta^M)\\) khÃ´ng cho biáº¿t nhiá»u thÃ´ng tin vá» Ä‘á»™ phÃ¹ há»£p cá»§a mÃ´ hÃ¬nh, nhÆ°ng ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh thÆ°á»ng mong muá»‘n giÃ¡ trá»‹ nÃ y cÃ ng lá»›n thÃ¬ cÃ ng tá»‘t. Tuy nhiÃªn, cÃ³ má»™t váº¥n Ä‘á» khi sÃ¡nh trá»±c tiáº¿p giÃ¡ trá»‹ \\(l(y,\\theta^M)\\) giá»¯a cÃ¡c mÃ´ hÃ¬nh lÃ : má»™t mÃ´ hÃ¬nh bao gá»“m nhiá»u biáº¿n Ä‘á»™c láº­p hÆ¡n thÃ¬ ráº¥t cÃ³ thá»ƒ cÃ³ giÃ¡ trá»‹ \\(l(y,\\theta^M)\\) lá»›n hÆ¡n. Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, cÃ³ ba thÆ°á»›c Ä‘o Ä‘Æ°á»£c Ä‘iá»u chá»‰nh tá»« \\(l(y,\\theta^M)\\) thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng cho mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i má»¥c Ä‘Ã­ch Ä‘Ã¡nh giÃ¡ vÃ  sÃ¡nh giá»¯a cÃ¡c mÃ´ hÃ¬nh lÃ  AIC, AICC vÃ  BIC.Chá»‰ tiÃªu AIC, viáº¿t táº¯t cá»§a Akaike information criterion, lÃ  chá»‰ tiÃªu Ä‘Æ¡n giáº£n nháº¥t Ä‘Æ°á»£c tÃ­nh toÃ¡n tá»« cÃ´ng thá»©c nhÆ° sau\n\\[\\begin{align}\nAIC = 2 \\left(-l(y,\\theta^M)+r\\right)\n\\end{align}\\]\ntrong Ä‘Ã³ \\(r\\) lÃ  sá»‘ lÆ°á»£ng tham sá»‘ cáº§n Æ°á»›c lÆ°á»£ng trong mÃ´ hÃ¬nh. GiÃ¡ trá»‹ \\(AIC\\) cÃ ng nhá» thÃ¬ mÃ´ hÃ¬nh cÃ ng khá»›p hÆ¡n vá»›i dá»¯ liá»‡u.Chá»‰ tiÃªu AICC (hoáº·c AICs) Ä‘Æ°á»£c Ä‘iá»u chá»‰nh tá»« AIC, Ä‘Æ°á»£c sá»­ dá»¥ng khi kÃ­ch thÆ°á»›c dá»¯ liá»‡u khÃ´ng quÃ¡ lá»›n Ä‘á»ƒ thay tháº¿ cho AIC, vÃ  Ä‘Æ°á»£c tÃ­nh bá»Ÿi cÃ´ng thá»©c nhÆ° sau\n\\[\\begin{align}\nAICC = AIC + \\cfrac{2r(r+1)}{n-r-1}\n\\end{align}\\]\nKhi kÃ­ch thÆ°á»›c dá»¯ liá»‡u \\(n\\) lá»›n, AIC vÃ  AICC sáº½ tÆ°Æ¡ng Ä‘Æ°Æ¡ng nhau \\(\\cfrac{2r(r+1)}{n-r-1}\\) nhá».Chá»‰ tiÃªu thá»© ba lÃ  BIC, lÃ  viáº¿t táº¯t cá»§a Bayesian information criterion. Trong má»™t vÃ i tÃ i liá»‡u BIC cÃ²n Ä‘Æ°á»£c gá»i lÃ  SBC. CÅ©ng giá»‘ng nhÆ° AIC vÃ  AICC, BIC lÃ  chá»‰ tiÃªu Ä‘Æ°á»£c tÃ­nh toÃ¡n tá»« giÃ¡ trá»‹ cá»±c Ä‘áº¡i cá»§a hÃ m log-likelihood Ä‘iá»ƒu chá»‰nh Ä‘á»ƒ pháº£n Ã¡nh sá»‘ lÆ°á»£ng tham sá»‘ sá»­ dá»¥ng trong mÃ´ hÃ¬nh lÃ  nhiá»u hay Ã­t\n\\[\\begin{align}\nBIC = 2 \\left(-l(y,\\theta^M)+r log(n)\\right)\n\\end{align}\\]CÆ¡ sá»Ÿ lÃ½ thuyáº¿t cho cÃ¡c chá»‰ tiÃªu AIC, AICC, vÃ  BIC báº¡n Ä‘á»c cÃ³ thá»ƒ tÃ¬m tháº¥y trong báº¥t ká»³ tÃ i liá»‡u thá»‘ng kÃª toÃ¡n nÃ o, Ä‘Ã³ chÃºng tÃ´i sáº½ khÃ´ng trÃ¬nh bÃ y trong cuá»‘n sÃ¡ch nÃ y. ChÃºng tÃ´i muá»‘n nháº¥n máº¡nh vÃ o gÃ³c Ä‘á»™ á»©ng dá»¥ng cá»§a cÃ¡c chá»‰ tiÃªu nÃ y khi sá»­ dá»¥ng Ä‘á»ƒ sÃ¡nh cÃ¡c mÃ´ hÃ¬nh.VÃ­ dá»¥ 1: chÃºng ta quay trá»Ÿ láº¡i dá»¯ liá»‡u â€œMotoInsurance.csvâ€ khi biáº¿n má»¥c tiÃªu \\(Y\\) chá»‰ nháº­n hai giÃ¡ trá»‹ lÃ  â€œâ€ hoáº·c â€œYesâ€. Biáº¿n \\(Y\\) cÃ³ thá»ƒ lÃ  biáº¿n dáº¡ng nhá»‹ phÃ¢n hoáº·c vá»«a cÃ³ thá»ƒ lÃ  biáº¿n dáº¡ng Ä‘áº¿m náº¿u chÃºng ta cho tÆ°Æ¡ng Ä‘Æ°Æ¡ng giÃ¡ trá»‹ â€œâ€ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i 0 vÃ  giÃ¡ trá»‹ â€œYesâ€ tÆ°Æ¡ng á»©ng vá»›i 1. Khi xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t, chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng phÃ¢n phá»‘i Poisson cho biáº¿n má»¥c tiÃªu vá»›i hÃ m liÃªn káº¿t \\(g(\\cdot) = log(\\cdot)\\).\\(Y\\) lÃ  biáº¿n nhá»‹ phÃ¢n nÃªn má»™t cÃ¡ch tá»± nhiÃªn, báº¡n Ä‘á»c sáº½ cÃ¢n nháº¯c sá»­ dá»¥ng phÃ¢n phá»‘i nhá»‹ phÃ¢n cho \\(Y\\). ChÃºng ta xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i phÃ¢n phá»‘i nhá»‹ thá»©c cho \\(Y\\) vÃ  hÃ m liÃªn káº¿t lÃ  hÃ m \\(logit\\). Thay vÃ¬ sá»­ dá»¥ng cáº£ 4 biáº¿n Ä‘á»™c láº­p, chÃºng ta chá»‰ sá»­ dá»¥ng hai biáº¿n Ä‘á»™c láº­p lÃ  \\(age\\) vÃ  \\(sex\\),TÆ°Æ¡ng tá»± nhÆ° mÃ´ hÃ¬nh \\(glm.pois\\), mÃ´ hÃ¬nh \\(glm.binom.logit\\) cÅ©ng cÃ³ táº¥t cáº£ cÃ¡c há»‡ sá»‘ cá»§a biáº¿n Ä‘á»™c láº­p khÃ¡c 0. LÃ m tháº¿ nÃ o Ä‘á»ƒ biáº¿t ráº±ng mÃ´ hÃ¬nh \\(glm.pois\\) sá»­ dá»¥ng phÃ¢n phá»‘i Poisson vá»›i 4 biáº¿n Ä‘á»™c láº­p hay mÃ´ hÃ¬nh \\(glm.binom.logit\\) vá»›i phÃ¢n phá»‘i nhá»‹ thá»©c cho \\(Y\\) vÃ  2 biáº¿n Ä‘á»™c láº­p lÃ  tá»‘t hÆ¡n? Náº¿u chÃºng ta sá»­ dá»¥ng thÆ°á»›c Ä‘o deviance thÃ¬ káº¿t quáº£ sáº½ khÃ´ng chÃ­nh xÃ¡c vÃ¬ cÃ¡c mÃ´ hÃ¬nh cÃ³ phÃ¢n phá»‘i cá»§a biáº¿n phá»¥ thuá»™c khÃ¡c nhau. Chá»‰ tiÃªu \\(AIC\\) Ä‘Æ°á»£c tÃ­nh toÃ¡n sáºµn tá»« hÃ m \\(glm\\) cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ sÃ¡nh hai mÃ´ hÃ¬nh trong trÆ°á»ng há»£p nÃ y. Chá»‰ tiÃªu AIC cá»§a \\(glm.pois\\) lÃ  5202.7 trong khi chá»‰ tiÃªu AIC cá»§a \\(glm.binom.logit\\) lÃ  4941.3. MÃ´ hÃ¬nh \\(glm.binom.logit\\) cÃ³ AIC nhá» hÆ¡n nÃªn sáº½ tá»‘t hÆ¡n Ä‘á»ƒ mÃ´ hÃ¬nh hÃ³a dá»¯ liá»‡u trong trÆ°á»ng há»£p nÃ y.VÃ­ dá»¥ 2: chÃºng ta sáº½ tiáº¿p tá»¥c vá»›i dá»¯ liá»‡u â€œMotoInsurance.csvâ€. Má»™t cÃ¡ch tá»± nhiÃªn, khi sá»­ dá»¥ng phÃ¢n phá»‘i nhá»‹ thá»©c cho biáº¿n phá»¥ thuá»™c, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m liÃªn káº¿t lÃ  hÃ m \\(logit\\). Liá»‡u lá»±a chá»n nÃ y cÃ³ lÃ  tá»‘t nháº¥t Ä‘á»ƒ mÃ´ hÃ¬nh hÃ³a dá»¯ liá»‡u mÃ  chÃºng ta Ä‘ang nghiÃªn cá»©u? Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng chá»‰ tiÃªu AIC Ä‘á»ƒ lá»±a chá»n hÃ m liÃªn káº¿t phÃ¹ há»£p. ChÃºng ta sáº½ sá»­ dá»¥ng 4 biáº¿n Ä‘á»™c láº­p lÃ  \\(age\\), \\(sex\\), \\(urban\\), vÃ  \\(seniority\\) Ä‘á»ƒ giáº£i thÃ­ch giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c khi xÃ¢y dá»±ng mÃ´ hÃ¬nhMÃ´ hÃ¬nh \\(glm.binom.probit\\) cÃ³ deviance vÃ  AIC nhá» hÆ¡n \\(glm.binom.logit\\), Ä‘iá»u nÃ y cho biáº¿t sá»­ dá»¥ng hÃ m liÃªn káº¿t \\(probit\\) sáº½ cho káº¿t quáº£ tá»‘t hÆ¡n vá»›i hÃ m liÃªn káº¿t \\(logit\\).","code":"\ndat<-read.csv(\"../KHDL_KTKD/Dataset/MotoInsurance.csv\")\ndat$Y<-ifelse(dat$Y==\"Yes\",1,0)\ndat$sex<-as.factor(dat$sex)\ndat$urban<-as.factor(dat$urban)\nglm.pois<-glm(Y~age+sex+urban+seniority,data=dat, family = poisson(link = \"log\"))\nsummary(glm.pois)## \n## Call:\n## glm(formula = Y ~ age + sex + urban + seniority, family = poisson(link = \"log\"), \n##     data = dat)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -2.0824  -0.7362  -0.5465   0.5711   1.9556  \n## \n## Coefficients:\n##              Estimate Std. Error z value Pr(>|z|)    \n## (Intercept) -0.286511   0.105615  -2.713  0.00667 ** \n## age         -0.034131   0.002546 -13.406  < 2e-16 ***\n## sexM        -0.491418   0.057331  -8.572  < 2e-16 ***\n## urban1       0.625032   0.053999  11.575  < 2e-16 ***\n## seniority    0.070888   0.004257  16.652  < 2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for poisson family taken to be 1)\n## \n##     Null deviance: 2938.1  on 3999  degrees of freedom\n## Residual deviance: 2418.7  on 3995  degrees of freedom\n## AIC: 5202.7\n## \n## Number of Fisher Scoring iterations: 5\ndat$Y<-as.factor(dat$Y) # Ä‘á»•i biáº¿n Y thÃ nh factor\nglm.binom.logit<-glm(Y~age+sex,data=dat, family = binomial(link = \"logit\"))\nsummary(glm.binom.logit)## \n## Call:\n## glm(formula = Y ~ age + sex, family = binomial(link = \"logit\"), \n##     data = dat)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -1.4544  -0.9261  -0.7396   1.2607   2.0088  \n## \n## Coefficients:\n##              Estimate Std. Error z value Pr(>|z|)    \n## (Intercept)  1.109828   0.130876   8.480   <2e-16 ***\n## age         -0.026603   0.002709  -9.822   <2e-16 ***\n## sexM        -0.723479   0.076585  -9.447   <2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for binomial family taken to be 1)\n## \n##     Null deviance: 5163.3  on 3999  degrees of freedom\n## Residual deviance: 4935.3  on 3997  degrees of freedom\n## AIC: 4941.3\n## \n## Number of Fisher Scoring iterations: 4\nglm.binom.logit<-glm(Y~age+sex+seniority+urban,data=dat, family = binomial(link = \"logit\"))\nglm.binom.probit<-glm(Y~age+sex+seniority+urban,data=dat, family = binomial(link = \"probit\"))\nsummary(glm.binom.logit)## \n## Call:\n## glm(formula = Y ~ age + sex + seniority + urban, family = binomial(link = \"logit\"), \n##     data = dat)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -2.4424  -0.8115  -0.5046   1.0440   2.7439  \n## \n## Coefficients:\n##              Estimate Std. Error z value Pr(>|z|)    \n## (Intercept)  0.793757   0.144541   5.492 3.98e-08 ***\n## age         -0.058754   0.003525 -16.668  < 2e-16 ***\n## sexM        -0.983040   0.085377 -11.514  < 2e-16 ***\n## seniority    0.133569   0.006808  19.618  < 2e-16 ***\n## urban1       1.174515   0.078060  15.046  < 2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for binomial family taken to be 1)\n## \n##     Null deviance: 5163.3  on 3999  degrees of freedom\n## Residual deviance: 4295.8  on 3995  degrees of freedom\n## AIC: 4305.8\n## \n## Number of Fisher Scoring iterations: 4\nsummary(glm.binom.probit)## \n## Call:\n## glm(formula = Y ~ age + sex + seniority + urban, family = binomial(link = \"probit\"), \n##     data = dat)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -2.4931  -0.8168  -0.4987   1.0639   2.9359  \n## \n## Coefficients:\n##              Estimate Std. Error z value Pr(>|z|)    \n## (Intercept)  0.449579   0.085724   5.244 1.57e-07 ***\n## age         -0.034482   0.002009 -17.163  < 2e-16 ***\n## sexM        -0.577303   0.050821 -11.360  < 2e-16 ***\n## seniority    0.077888   0.003890  20.021  < 2e-16 ***\n## urban1       0.697759   0.046129  15.126  < 2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for binomial family taken to be 1)\n## \n##     Null deviance: 5163.3  on 3999  degrees of freedom\n## Residual deviance: 4292.4  on 3995  degrees of freedom\n## AIC: 4302.4\n## \n## Number of Fisher Scoring iterations: 5"},{"path":"index.html","id":"reference","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"11 REFERENCE","text":"1. Annette J. Dobson Adrian G. Barnett (2018). Introduction Generalized Linear Models.2. Alan Agresti. (2015). Foundations Linear Generalized Linear Models.","code":"## \n## Attaching package: 'dplyr'## The following objects are masked from 'package:stats':\n## \n##     filter, lag## The following objects are masked from 'package:base':\n## \n##     intersect, setdiff, setequal, union## \n## Attaching package: 'kableExtra'## The following object is masked from 'package:dplyr':\n## \n##     group_rows## \n## Attaching package: 'gridExtra'## The following object is masked from 'package:dplyr':\n## \n##     combine"},{"path":"index.html","id":"mÃ´-hÃ¬nh-dáº¡ng-cÃ¢y","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"12 MÃ´ hÃ¬nh dáº¡ng cÃ¢y","text":"","code":""},{"path":"index.html","id":"cÃ¢y-quyáº¿t-Ä‘á»‹nh-vÃ -bÃ i-toÃ¡n-há»“i-quy","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"12.1 CÃ¢y quyáº¿t Ä‘á»‹nh vÃ  bÃ i toÃ¡n há»“i quy","text":"","code":""},{"path":"index.html","id":"cÃ¢y-quyáº¿t-Ä‘á»‹nh-trong-bÃ i-toÃ¡n-phÃ¢n-loáº¡i","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"12.2 CÃ¢y quyáº¿t Ä‘á»‹nh trong bÃ i toÃ¡n phÃ¢n loáº¡i","text":"","code":""},{"path":"index.html","id":"cÃ¡c-ká»¹-thuáº­t-káº¿t-há»£p-nhiá»u-cÃ¢y-quyáº¿t-Ä‘á»‹nh","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"12.3 CÃ¡c ká»¹ thuáº­t káº¿t há»£p nhiá»u cÃ¢y quyáº¿t Ä‘á»‹nh","text":"","code":""},{"path":"index.html","id":"thá»±c-hÃ nh","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"12.4 Thá»±c hÃ nh:","text":"","code":""},{"path":"index.html","id":"so-sÃ¡nh-random-forest-boosting-vÃ -mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-trÃªn-dá»¯-liá»‡u-sales.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"12.4.1 So sÃ¡nh random forest, boosting, vÃ  mÃ´ hÃ¬nh tuyáº¿n tÃ­nh trÃªn dá»¯ liá»‡u Sales.","text":"","code":""},{"path":"index.html","id":"so-sÃ¡nh-random-forest-boosting-vÃ -logistic-regression-trÃªn-dá»¯-liá»‡u-tÃ­n-dá»¥ng-khÃ¡ch-hÃ ng.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"12.4.2 So sÃ¡nh random forest, boosting, vÃ  logistic regression trÃªn dá»¯ liá»‡u tÃ­n dá»¥ng khÃ¡ch hÃ ng.","text":"","code":""},{"path":"index.html","id":"so-sÃ¡nh-random-forest-boosting-vÃ -poisson-regression-trÃªn-dá»¯-liá»‡u-bá»“i-thÆ°á»ng-báº£o-hiá»ƒm.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"12.4.3 So sÃ¡nh random forest, boosting, vÃ  Poisson regression trÃªn dá»¯ liá»‡u bá»“i thÆ°á»ng báº£o hiá»ƒm.","text":"","code":"## \n## Attaching package: 'dplyr'## The following objects are masked from 'package:stats':\n## \n##     filter, lag## The following objects are masked from 'package:base':\n## \n##     intersect, setdiff, setequal, union## \n## Attaching package: 'kableExtra'## The following object is masked from 'package:dplyr':\n## \n##     group_rows## \n## Attaching package: 'gridExtra'## The following object is masked from 'package:dplyr':\n## \n##     combine"},{"path":"index.html","id":"mÃ´-hÃ¬nh-máº¡ng-neural-network","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"13 MÃ´ hÃ¬nh máº¡ng neural network","text":"ChÆ°Æ¡ng sÃ¡ch nÃ y tháº£o luáº­n má»™t chá»§ Ä‘á» quan trá»ng cÃ³ á»©ng dá»¥ng rá»™ng rÃ£i nháº¥t trong lÄ©nh vá»±c trÃ­ tuá»‡ nhÃ¢n táº¡o, Ä‘Ã³ lÃ  mÃ´ hÃ¬nh máº¡ng há»c sÃ¢u. Táº¡i thá»i Ä‘iá»ƒm nhÃ³m tÃ¡c giáº£ viáº¿t cuá»‘n sÃ¡ch (2023), máº¡ng há»c sÃ¢u lÃ  má»™t lÄ©nh vá»±c nghiÃªn cá»©u tÃ­ch cá»±c nháº¥t khÃ´ng chá»‰ trong khoa há»c mÃ¡y tÃ­nh, cÃ´ng nghá»‡ thÃ´ng tin mÃ  cÃ²n cáº£ trong cÃ¡c lÄ©nh vá»±c khÃ¡c nhÆ° kinh táº¿, tÃ i chÃ­nh, y táº¿, xÃ¢y dá»±ng,â€¦ Ná»n táº£ng cá»§a mÃ´ hÃ¬nh máº¡ng há»c sÃ¢u lÃ  mÃ´ hÃ¬nh máº¡ng tháº§n kinh nhÃ¢n táº¡o (Neural Network). MÃ´ hÃ¬nh neural network Ä‘Ã£ Ä‘Æ°á»£c biáº¿t Ä‘áº¿n Ä‘áº¿n rá»™ng rÃ£i vÃ o cuá»‘i nhá»¯ng nÄƒm 1980 bá»Ÿi cÃ¡ch váº­n hÃ nh cá»§a mÃ´ hÃ¬nh mÃ´ táº£ láº¡i cÃ¡ch thá»©c mÃ  há»‡ thá»‘ng tháº§n kinh cá»§a con ngÆ°á»i xá»­ lÃ½ thÃ´ng tin. Máº·c dÃ¹ cÃ¡c Ä‘áº·c tÃ­nh cá»§a mÃ´ hÃ¬nh Neural Network Ä‘Æ°á»£c phÃ¢n tÃ­ch bá»Ÿi nhá»¯ng nhÃ  toÃ¡n há»c vÃ  nhÃ  thá»‘ng kÃª vÃ  cÃ¡c thuáº­t toÃ¡n liÃªn quan Ä‘áº¿n mÃ´ hÃ¬nh nÃ y Ä‘Ã£ Ä‘Æ°á»£c cáº£i thiá»‡n nhÆ°ng sau Ä‘Ã³, vá»›i sá»± ra Ä‘á»i cá»§a cÃ¡c phÆ°Æ¡ng phÃ¡p há»c mÃ¡y khÃ¡c nhÆ° SVM, random forest, boosting,â€¦ cÃ¡c mÃ´ hÃ¬nh máº¡ng nÆ¡-ron pháº§n nÃ o khÃ´ng Ä‘Æ°á»£c Æ°a chuá»™ng.Tá»« nhá»¯ng nÄƒm 2010, vá»›i nhu cáº§u xá»­ lÃ½ cÃ¡c dá»¯ liá»‡u ngÃ y cÃ ng phá»©c táº¡p vÃ  sá»± ra Ä‘á»i cá»§a cÃ¡c kiáº¿n trÃºc mÃ¡y tÃ­nh lá»›n, mÃ´ hÃ¬nh máº¡ng nÆ¡-ron Ä‘Ã£ quay trá»Ÿ láº¡i vá»›i tÃªn má»›i lÃ  máº¡ng há»c sÃ¢u (deep learning). Máº¡ng há»c sÃ¢u vÆ°á»£t trá»™i hoÃ n toÃ n cÃ¡c mÃ´ hÃ¬nh há»c mÃ¡y thÃ´ng thÆ°á»ng trong phÃ¢n loáº¡i hÃ¬nh áº£nh/video vÃ  mÃ´ hÃ¬nh hÃ³a ngÃ´n ngá»¯ tá»± nhiÃªn bao gá»“m dá»¯ liá»‡u kiá»ƒu vÄƒn báº£n vÃ  lá»i nÃ³i (Natural Langugue Processing). CÃ¡c nhÃ  khoa há»c trong lÄ©nh vá»±c nÃ y tin ráº±ng lÃ½ chÃ­nh cho nhá»¯ng thÃ nh cÃ´ng cá»§a mÃ´ hÃ¬nh máº¡ng nÆ¡-ron lÃ  sáºµn cÃ³ cá»§a cÃ¡c bá»™ dá»¯ liá»‡u Ä‘á»ƒ huáº¥n luyá»‡n mÃ´n hÃ¬nh vÃ  cáº¥u trÃºc cá»§a mÃ´ hÃ¬nh máº¡ng nÆ¡-ron cÃ³ thá»ƒ Ä‘Ã¡p á»©ng Ä‘Æ°á»£c vá»›i báº¥t ká»³ táº­p dá»¯ liá»‡u khá»•ng lá»“ nÃ o.","code":""},{"path":"index.html","id":"máº¡ng-neural-vá»›i-má»™t-layer-duy-nháº¥t","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"13.1 Máº¡ng neural vá»›i má»™t layer duy nháº¥t","text":"","code":""},{"path":"index.html","id":"há»“i-quy-logistic-lÃ -má»™t-máº¡ng-nÆ¡-ron-khÃ´ng-cÃ³-layer-áº©n","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"13.1.1 Há»“i quy logistic lÃ  má»™t máº¡ng nÆ¡-ron khÃ´ng cÃ³ layer áº©n","text":"TrÆ°á»›c khi giá»›i thiá»‡u vá» cáº¥u trÃºc cá»§a má»™t mÃ´ hÃ¬nh máº¡ng nÆ¡-ron, chÃºng ta sáº½ xem xÃ©t láº¡i cÃ¡ch há»“i quy logistic hoáº¡t Ä‘á»™ng. Sau Ä‘Ã³, khi nhÃ¬n nháº­n cÃ¡ch váº­n hÃ nh cá»§a há»•i quy logistic nhÆ° má»™t máº¡ng nÆ¡-ron Ä‘Æ¡n giáº£n, báº¡n Ä‘á»c sáº½ cÃ³ hÃ¬nh dung cá»¥ thá»ƒ hÆ¡n vá» cÃ¡ch xÃ¢y dá»±ng mÃ´ hÃ¬nh máº¡ng nÆ¡-ron.Dá»¯ liá»‡u dÃ¹ng Ä‘á»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh há»“i quy logistic Ä‘Æ°á»£c xÃ¢y dá»±ng dá»±a trÃªn dá»¯ liá»‡u bao gá»“m 5 quan sÃ¡t Ä‘Æ°á»£c cho trong báº£ng dÆ°á»›i Ä‘Ã¢y\n(#tab:unnamed-chunk-3)Dá»¯ liá»‡u cho há»“i quy Logistic\nVá»›i má»—i Ä‘iá»ƒm dá»¯ liá»‡u báº¥t ká»³, giáº£ sá»­ lÃ  Ä‘iá»ƒm cÃ³ vá»›i cÃ¡c thuá»™c tÃ­nh $x_1() = $ vÃ  $x_2() = $, chÃºng ta sáº½ thá»±c hiá»‡n hai phÃ©p biáº¿n Ä‘á»•i káº¿ tiáº¿p nhau:PhÃ©p biáº¿n Ä‘á»•i tuyá»ƒn tÃ­nh: vá»›i bá»™ 3 sá»‘ thá»±c báº¥t ká»³ \\((b_0, b_1, b_2)\\), chÃºng ta luÃ´n cÃ³ thá»ƒ thá»±c hiá»‡n phÃ©p biáº¿n Ä‘á»•i tuyáº¿n tÃ­nh:\\[\n(1, x_1, x_2) \\rightarrow b_0 \\times 1 + b_1 \\times x_1 + b_2 \\times x_2\n\\]\n- PhÃ©p biáº¿n Ä‘á»•i phi tuyáº¿n tÃ­nh: chÃºng ta sá»­ dá»¥ng hÃ m sá»‘ \\(f(x) = sigmoid(x) = \\cfrac{1}{1+e^{x}}\\) Ä‘á»ƒ thá»±c hiá»‡n phÃ©p biáº¿n Ä‘á»•i thá»© hai\\[\nb_0 + b_1 x_1 + b_2 x_2 \\rightarrow \\cfrac{1}{1+e^{b_0 + b_1 x_1 + b_2 x_2}}\n\\]\nSau khi thá»±c hiá»‡n cÃ¡c phÃ©p biáº¿n Ä‘á»•i vá»›i tá»«ng Ä‘iá»ƒm dá»¯ liá»‡u, chÃºng ta sáº½ thu Ä‘Æ°á»£c vá»›i má»—i Ä‘iá»ƒm dá»¯ liá»‡u má»™t sá»‘ náº±m trong khoáº£ng \\((0,1)\\).\n(#tab:unnamed-chunk-4)Dá»¯ liá»‡u cho há»“i quy Logistic\nHÃ m tá»•n tháº¥t, tÃ­nh báº±ng Cross Entropy qua nÄƒm Ä‘iá»ƒm dá»¯ liá»‡u , B, C, D, vÃ  E, sáº½ lÃ  má»™t hÃ m sá»‘ cá»§a ba biáº¿n \\((b_0, b_1, b_2)\\) nhÆ° sau\\[\nLoss(b_0, b_1, b_2) = - \\sum\\limits_{Data = }^E [y_i \\times log(p_i) + (1-y_i) \\times log(1-p_i)]\n\\]\nvá»›i giÃ¡ trá»‹ cá»§a \\(y_i\\) vÃ  \\(p_i\\) Ä‘Æ°á»£c cho bá»Ÿi báº£ng á»Ÿ trÃªn. Báº±ng thuáº­t toÃ¡n gradient descent, chÃºng ta cÃ³ thá»ƒ tÃ­nh toÃ¡n Ä‘Æ°á»£c giÃ¡ trá»‹ cá»§a \\((b_0, b_1, b_2)\\) sao cho hÃ m \\(Loss\\) Ä‘áº¡t giÃ¡ trá»‹ nhá» nháº¥t báº±ng \\((25,15,-30)\\). Váº­y cÃ³ thá»ƒ tÃ­nh toÃ¡n kháº£ nÄƒng Ä‘iá»ƒm \\(F\\) cÃ³ mÃ u xanh lÃ \n\\[\n\\mathbb{P}(F = blue) = (1+exp(25 + 3 \\times 15 + 3 \\times -30))^{-1} = 1\n\\]\nNhÆ° váº­y, trong há»•i quy logistic, chÃºng ta Ä‘Ã£ sá»­ dá»¥ng 2 phÃ©p biáº¿n Ä‘á»•i dá»¯ liá»‡u bao gá»“m má»™t phÃ©p biáº¿n Ä‘á»•i tuyáº¿n tÃ­nh thÃ´ng qua má»™t vÃ©c-tÆ¡ \\(b\\) vÃ  sau Ä‘Ã³ lÃ  má»™t phÃ©p biáº¿n Ä‘á»•i phi tuyáº¿n (hÃ m sigmoid) Ä‘á»ƒ thu Ä‘Æ°á»£c má»™t giÃ¡ trá»‹ duy nháº¥t cho má»—i Ä‘iá»ƒm dá»¯ liá»‡u. QuÃ¡ trÃ¬nh Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh logistic lÃ  quÃ¡ trÃ¬nh tÃ¬m kiáº¿m cÃ¡c tham sá»‘ \\(b\\) sao cho giÃ¡ trá»‹ Ä‘áº§u ra sau cÃ¡c phÃ©p biáº¿n Ä‘á»•i cá»§a má»—i Ä‘iá»ƒm dá»¯ liá»‡u gáº§n vá»›i káº¿t quáº£ mong muá»‘n nháº¥t cÃ³ thá»ƒ.","code":""},{"path":"index.html","id":"máº¡ng-neural-vá»›i-nhiá»u-layer-áº©n.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"13.2 Máº¡ng neural vá»›i nhiá»u layer áº©n.","text":"","code":""},{"path":"index.html","id":"Æ°á»›c-lÆ°á»£ng-tham-sá»‘-cho-máº¡ng-neural-network","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"13.3 Æ¯á»›c lÆ°á»£ng tham sá»‘ cho máº¡ng neural network","text":"","code":""},{"path":"index.html","id":"backpropagation","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"13.3.1 Backpropagation","text":"","code":""},{"path":"index.html","id":"regularization-and-stochastic-gradient-descent","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"13.3.2 Regularization and Stochastic Gradient Descent","text":"","code":""},{"path":"index.html","id":"thá»±c-hÃ nh-1","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"13.4 Thá»±c hÃ nh:","text":"","code":""},{"path":"index.html","id":"sá»­-dá»¥ng-máº¡ng-neural-network-trong-phÃ¢n-loáº¡i-vÄƒn-báº£n.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"13.4.1 Sá»­ dá»¥ng máº¡ng neural network trong phÃ¢n loáº¡i vÄƒn báº£n.","text":"","code":""},{"path":"index.html","id":"sá»­-dá»¥ng-máº¡ng-neural-network-tÃ­ch-cháº­p-vá»›i-dá»¯-liá»‡u-mnist.","chapter":"1 Kiáº¿n thá»©c R cÆ¡ báº£n","heading":"13.4.2 Sá»­ dá»¥ng máº¡ng neural network tÃ­ch cháº­p vá»›i dá»¯ liá»‡u \\(mnist()\\).","text":"","code":""},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","text":"Trong cuá»‘n sÃ¡ch nÃ y chÃºng tÃ´i cá»‘ gáº¯ng trÃ¡nh nháº¯c Ä‘áº¿n cÃ¡c khÃ¡i niá»‡m toÃ¡n há»c phá»©c táº¡p bá»Ÿi Ä‘á»‘i tÆ°á»£ng chÃºng tÃ´i hÆ°á»›ng Ä‘áº¿n lÃ  nhá»¯ng ngÆ°á»i lÃ m viá»‡c vá»›i dá»¯ liá»‡u nhÆ°ng khÃ´ng cÃ³ má»™t ná»n táº£ng chuyÃªn sÃ¢u vá» toÃ¡n há»c. Tuy nhiÃªn Ä‘á»ƒ lÃ m viá»‡c Ä‘Æ°á»£c vá»›i dá»¯ liá»‡u thÃ¬ cÃ¡c kiáº¿n thá»©c vá» ma tráº­n nÃ³i riÃªng vÃ  kiáº¿n thá»©c vá» Ä‘áº¡i sá»‘ tuyáº¿n tÃ­nh nÃ³i chung lÃ  báº¯t buá»™c pháº£i náº¯m vá»¯ng. Äiá»u Ä‘Ã¡ng tiáº¿c lÃ  táº¡i thá»i Ä‘iá»ƒm chÃºng tÃ´i viáº¿t cuá»‘n sÃ¡ch nÃ y, Ä‘a sá»‘ cÃ¡c chÆ°Æ¡ng trÃ¬nh Ä‘Ã o táº¡o dÃ nh cho sinh viÃªn cÃ¡c ngÃ nh kinh táº¿ Ä‘ang cáº¯t giáº£m dáº§n kiáº¿n thá»©c vá» toÃ¡n há»c vÃ  Ä‘áº·c biá»‡t lÃ  kiáº¿n thá»©c Ä‘áº¡i sá»‘ tuyáº¿n tÃ­nh.","code":""},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"ma-tráº­n","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.1 Ma tráº­n","text":"Ma tráº­n cÃ³ Ã½ nghÄ©a Ä‘áº·c biá»‡t quan trá»ng trong phÃ¢n tÃ­ch dá»¯ liá»‡u bá»Ÿi Ä‘a sá»‘ cÃ¡c dá»¯ liá»‡u Ä‘á»u Ä‘Æ°á»£c chuyá»ƒn thÃ nh kiá»ƒu ma tráº­n Ä‘á»ƒ dá»… dÃ ng phÃ¢n tÃ­ch vÃ  tÃ­nh toÃ¡n. CÅ©ng giá»‘ng nhÆ° vÃ©c-tÆ¡, ma tráº­n lÃ  má»™t Ä‘á»‘i tÆ°á»£ng dÃ¹ng Ä‘á»ƒ lÆ°u cÃ¡c biáº¿n cÃ³ cÃ¹ng kiá»ƒu. KhÃ¡c vá»›i vÃ©c-tÆ¡, ma tráº­n lÆ°u pháº§n tá»­ theo hÃ ng vÃ  cá»™t, nghÄ©a lÃ  trong khÃ´ng gian hai chiá»u trong khi vÃ©c-tÆ¡ lÆ°u pháº§n tá»­ trong khÃ´ng gian má»™t chiá»u. Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ hiá»ƒu vÃ©c-tÆ¡ lÃ  má»™t cá»™t trong khi ma tráº­n lÃ  táº­p há»£p cá»§a cÃ¡c cá»™t cÃ³ cÃ¹ng Ä‘á»™ dÃ i. KÃ­ch thÆ°á»›c cá»§a má»™t vÃ©c-tÆ¡ lÃ  chiá»u dÃ i cá»§a vÃ©c-tÆ¡ Ä‘Ã³ trong khi kÃ­ch thÆ°á»›c cá»§a má»™t ma tráº­n lÃ  sá»‘ hÃ ng vÃ  sá»‘ cá»™t cá»§a ma tráº­n Ä‘Ã³.","code":""},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"khá»Ÿi-táº¡o-ma-tráº­n","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.1.1 Khá»Ÿi táº¡o ma tráº­n","text":"HÃ m sá»‘ dÃ¹ng Ä‘á»ƒ táº¡o ra ma tráº­n trong R lÃ  hÃ m matrix(). Khi táº¡o ma tráº­n, báº¡n Ä‘á»c sáº½ luÃ´n luÃ´n pháº£i khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n Ä‘Ã³. Äoáº¡n lá»‡nh sau sáº½ khá»Ÿi táº¡o má»™t ma tráº­n cÃ³ tÃªn lÃ  \\(M\\), cÃ³ 3 hÃ ng, 4 cá»™t, vÃ  giÃ¡ trá»‹ trong ma tráº­n lÃ  cÃ¡c sá»‘ tá»± nhiÃªn tá»« 1 Ä‘áº¿n 12 Ä‘Æ°á»£c sáº¯p xáº¿p theo thá»© tá»±CÃ¡c giÃ¡ trá»‹ dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o cho ma tráº­n lÃ  cÃ¡c sá»‘ tá»« 1 Ä‘áº¿n 12 vÃ  Ä‘Æ°á»£c Ä‘iá»n vÃ o ma tráº­n \\(M\\) theo nguyÃªn táº¯c tá»« trÃªn xuá»‘ng dÆ°á»›i rá»“i tá»« trÃ¡i sang pháº£i, nghÄ©a lÃ  cá»™t thá»© nháº¥t sáº½ Ä‘Æ°á»£c Æ°u tiÃªn cho giÃ¡ trá»‹ trÆ°á»›c; pháº§n tá»­ hÃ ng thá»© nháº¥t cá»§a cá»™t thá»© nháº¥t sáº½ Ä‘Æ°á»£c Ä‘iá»n giÃ¡ trá»‹ trÆ°á»›c, sau Ä‘Ã³ Ä‘áº¿n pháº§n tá»­ á»Ÿ hÃ ng thá»© hai cá»§a cá»™t thá»© nháº¥t, â€¦; sau khi háº¿t cá»™t thá»© nháº¥t R sáº½ tiáº¿p tá»¥c Ä‘iá»n vÃ o giÃ¡ trá»‹ á»Ÿ hÃ ng thá»© nháº¥t cá»§a cá»™t thá»© hai,â€¦, vÃ  cá»© tiáº¿p tá»¥c nhÆ° tháº¿ sau khi táº¥t cáº£ cÃ¡c pháº§n tá»­ trong ma tráº­n Ä‘á»u cÃ³ giÃ¡ trá»‹. VÃ©c-tÆ¡ dÃ¹ng Ä‘á» khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n cÃ³ Ä‘á»™ dÃ i 12 vá»«a Ä‘Ãºng vá»›i sá»‘ pháº§n tá»­ trong ma tráº­n nÃªn cÃ¢u lá»‡nh táº¡o ma tráº­n \\(M\\) á»Ÿ trÃªn hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng. Trong trÆ°á»ng há»£p báº¡n Ä‘á»c sá»­ dá»¥ng vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i khÃ¡c 12 Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n, cÃ¢u lá»‡nh váº«n sáº½ cháº¡y nhÆ°ng cÃ³ kÃ¨m theo cáº£nh bÃ¡o:Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng:Náº¿u vÃ©c-tÆ¡ dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n \\(M\\) cÃ³ Ä‘á»™ dÃ i lá»›n hÆ¡n 12, R sáº½ dÃ¹ng 12 giÃ¡ trá»‹ Ä‘áº§u tiÃªn Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n.Náº¿u vÃ©c-tÆ¡ dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n \\(M\\) cÃ³ Ä‘á»™ dÃ i lá»›n hÆ¡n 12, R sáº½ dÃ¹ng 12 giÃ¡ trá»‹ Ä‘áº§u tiÃªn Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n.Náº¿u vÃ©c-tÆ¡ dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n \\(M\\) cÃ³ Ä‘á»™ dÃ i nhá» hÆ¡n 12, R sáº½ láº·p láº¡i vÃ©c-tÆ¡ Ä‘Ã³ cho Ä‘áº¿n khi cÃ³ Ä‘á»™ dÃ i lá»›n hÆ¡n hoáº·c báº±ng 12 rá»“i sau Ä‘Ã³ dÃ¹ng 12 giÃ¡ trá»‹ Ä‘áº§u tiÃªn Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n.Náº¿u vÃ©c-tÆ¡ dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n \\(M\\) cÃ³ Ä‘á»™ dÃ i nhá» hÆ¡n 12, R sáº½ láº·p láº¡i vÃ©c-tÆ¡ Ä‘Ã³ cho Ä‘áº¿n khi cÃ³ Ä‘á»™ dÃ i lá»›n hÆ¡n hoáº·c báº±ng 12 rá»“i sau Ä‘Ã³ dÃ¹ng 12 giÃ¡ trá»‹ Ä‘áº§u tiÃªn Ä‘á»ƒ khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n.Khi khá»Ÿi táº¡o ma tráº­n, báº¡n Ä‘á»c cÃ³ thá»ƒ yÃªu cáº§u giÃ¡ trá»‹ Ä‘Æ°á»£c khá»Ÿi táº¡o theo hÃ ng thay vÃ¬ theo cá»™t báº±ng tÃ¹y biáº¿n \\(byrow = TRUE\\) trong hÃ m matrix().Äá»ƒ biáº¿t kÃ­ch cá»¡ cá»§a ma tráº­n, chÃºng ta sá»­ dá»¥ng hÃ m dim(). HÃ m dim() trÃªn ma tráº­n sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ cÃ³ Ä‘á»™ dÃ i lÃ  hai, pháº§n tá»­ thá»© nháº¥t lÃ  sá»‘ hÃ ng, pháº§n tá»­ thá»© hai lÃ  sá»‘ cá»™t cá»§a ma tráº­nMa tráº­n cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c khá»Ÿi táº¡o báº±ng cÃ¡ch ghÃ©p cÃ¡c vÃ©c-tÆ¡ hoáº·c cÃ¡c ma tráº­n khÃ¡c theo hÃ ng hay theo cá»™t báº±ng cÃ¡c hÃ m cbind() hoáº·c rbind():HÃ m cbind() ná»‘i cÃ¡c ma tráº­n cÃ³ cÃ¹ng sá»‘ hÃ ng hoáº·c ma tráº­n vá»›i vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i báº±ng sá»‘ hÃ ng cá»§a ma tráº­n.HÃ m cbind() ná»‘i cÃ¡c ma tráº­n cÃ³ cÃ¹ng sá»‘ hÃ ng hoáº·c ma tráº­n vá»›i vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i báº±ng sá»‘ hÃ ng cá»§a ma tráº­n.TÆ°Æ¡ng tá»±, rbind() ná»‘i cÃ¡c ma tráº­n cÃ³ cÃ¹ng sá»‘ cá»™t hoáº·c ma tráº­n vá»›i vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i báº±ng sá»‘ cá»™t cá»§a ma tráº­n.TÆ°Æ¡ng tá»±, rbind() ná»‘i cÃ¡c ma tráº­n cÃ³ cÃ¹ng sá»‘ cá»™t hoáº·c ma tráº­n vá»›i vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i báº±ng sá»‘ cá»™t cá»§a ma tráº­n.CÃ¡c phÃ©p tÃ­nh toÃ¡n thÃ´ng thÆ°á»ng trÃªn ma tráº­n cÅ©ng cÃ³ nguyÃªn táº¯c giá»‘ng nhÆ° Ä‘á»‘i vá»›i vÃ©c-tÆ¡. CÃ¡c phÃ©p toÃ¡n nhÆ° cá»™ng, trá»«, nhÃ¢n, chia, lÅ©y thá»«a, â€¦, sáº½ tÃ¡c Ä‘á»™ng lÃªn táº¥t cáº£ cÃ¡c pháº§n tá»­ trong ma tráº­n theo thá»© tá»± cá»§a cÃ¡c pháº§n tá»­ xuáº¥t hiá»‡n trÃªn ma tráº­n. Báº¡n Ä‘á»c hÃ£y quan sÃ¡t káº¿t quáº£ cá»§a cÃ¡c vÃ­ dá»¥ sau Ä‘á»ƒ hiá»ƒu cÃ¡ch R thá»±c hiá»‡n cÃ¡c phÃ©p toÃ¡n trÃªn ma tráº­nNhÃ¢n ma tráº­n \\(M\\) kÃ­ch thÆ°á»›c \\(3 \\times 4\\) vá»›i má»™t sá»‘Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng káº¿t quáº£ nháº­n Ä‘Æ°á»£c lÃ  má»™t ma tráº­n cÃ³ kÃ­ch thÆ°á»›c báº±ng vá»›i kÃ­ch thÆ°á»›c cá»§a ma tráº­n \\(M\\) vÃ  má»—i pháº§n tá»­ báº±ng pháº§n tá»­ á»Ÿ vá»‹ trÃ­ tÆ°Æ¡ng á»©ng cá»§a ma tráº­n \\(M\\) nhÃ¢n vá»›i 2.Khi thá»±c hiá»‡n phÃ©p nhÃ¢n thÃ´ng thÆ°á»ng ma tráº­n \\(M\\) vá»›i má»™t ma tráº­n \\(M_1\\) cÃ³ cÃ¹ng kÃ­ch thÆ°á»›c thÃ¬ káº¿t quáº£ nháº­n Ä‘Æ°á»£c lÃ  má»™t ma tráº­n mÃ  má»—i pháº§n tá»­ báº±ng tÃ­ch cá»§a 2 pháº§n tá»­ á»Ÿ vá»‹ trÃ­ tÆ°Æ¡ng á»©ng cá»§a \\(M\\) vÃ  \\(M_1\\). R sáº½ bÃ¡o lá»—i náº¿u thá»±c hiá»‡n phÃ©p nhÃ¢n thÃ´ng thÆ°á»ng giá»¯a hai ma tráº­n khÃ´ng cÃ³ cÃ¹ng kÃ­ch thÆ°á»›c.PhÃ©p nhÃ¢n thÃ´ng thÆ°á»ng cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c thá»±c hiá»‡n giá»¯a ma tráº­n \\(M\\) vá»›i má»™t vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i nhá» hÆ¡n hoáº·c báº±ng sá»‘ pháº§n tá»­ cá»§a \\(M\\). TrÆ°á»›c khi thá»±c hiá»‡p phÃ©p nhÃ¢n, R sáº½ chuyá»ƒn cÃ¡c pháº§n tá»­ trong vÃ©c-tÆ¡ vÃ o má»™t ma tráº­n cÃ³ kÃ­ch thÆ°á»›c tÆ°Æ¡ng á»©ng vá»›i \\(M\\) sau Ä‘Ã³ thá»±c hiá»‡n phÃ©p nhÃ¢n giá»‘ng nhÆ° nhÃ¢n hai ma tráº­n cÃ³ cÃ¹ng kÃ­ch thÆ°á»›c:Khi thá»±c hiá»‡n tÃ­nh toÃ¡n nhÆ° trÃªn, R Ä‘Ã£ tá»± Ä‘á»™ng láº·p láº¡i \\(x\\) cho Ä‘áº¿n khi sá»‘ lÆ°á»£ng pháº§n tá»­ báº±ng vá»›i sá»‘ pháº§n tá»­ cá»§a \\(M\\), Ä‘iá»n cÃ¡c giÃ¡ trá»‹ nÃ y vÃ o má»™t ma tráº­n cÃ³ kÃ­ch thÆ°á»›c báº±ng vá»›i kÃ­ch thÆ°á»›c cá»§a \\(M\\) rá»“i sau Ä‘Ã³ thá»±c hiá»‡n phÃ©p nhÃ¢n. Tháº­t váº­y","code":"\nM<-matrix(1:12, nrow = 3, ncol = 4) # nrow: sá»‘ hÃ ng, ncol: sá»‘ cá»™t\nM # in M ra cá»§a sá»• console##      [,1] [,2] [,3] [,4]\n## [1,]    1    4    7   10\n## [2,]    2    5    8   11\n## [3,]    3    6    9   12\nM<-matrix(1:13, nrow = 3, ncol = 4) # Code cháº¡y kÃ¨m theo cáº£nh bÃ¡o; \nM<-matrix(1:5, nrow = 3, ncol = 4) # Code cháº¡y kÃ¨m theo cáº£nh bÃ¡o; \nM<-matrix(1:12, nrow = 3, ncol = 4, byrow = TRUE) # nrow: sá»‘ hÃ ng, ncol: sá»‘ cá»™t\nM # in M ra cá»§a sá»• console##      [,1] [,2] [,3] [,4]\n## [1,]    1    2    3    4\n## [2,]    5    6    7    8\n## [3,]    9   10   11   12\ndim(M) # ma tráº­n 3 hÃ ng 4 cá»™t## [1] 3 4\ncbind(M,rep(1,3)) # ghÃ©p THEO Cá»˜T, ma tráº­n M (3 hÃ ng, 4 cá»™t) vá»›i vÃ©c-tÆ¡ Ä‘á»™ dÃ i 3##      [,1] [,2] [,3] [,4] [,5]\n## [1,]    1    2    3    4    1\n## [2,]    5    6    7    8    1\n## [3,]    9   10   11   12    1\nrbind(M,rep(1,4)) # ghÃ©p THEO HÃ€NG, ma tráº­n M (3 hÃ ng, 4 cá»™t) vá»›i vÃ©c-tÆ¡ Ä‘á»™ dÃ i 4##      [,1] [,2] [,3] [,4]\n## [1,]    1    2    3    4\n## [2,]    5    6    7    8\n## [3,]    9   10   11   12\n## [4,]    1    1    1    1\nM<-matrix(1:12, nrow = 3, ncol = 4) \nM * 2 # in M*2 ra cá»§a sá»• console##      [,1] [,2] [,3] [,4]\n## [1,]    2    8   14   20\n## [2,]    4   10   16   22\n## [3,]    6   12   18   24\nM<-matrix(1:12, nrow = 3, ncol = 4) \nM1<-matrix(rep(c(0,1),6), nrow = 3, ncol = 4) \nM * M1# in M * M1 ra cá»§a sá»• console##      [,1] [,2] [,3] [,4]\n## [1,]    0    4    0   10\n## [2,]    2    0    8    0\n## [3,]    0    6    0   12\nM<-matrix(1:12, nrow = 3, ncol = 4) \nx<-c(-2,-1,0,1,2) # vÃ©c-tÆ¡ Ä‘á»™ dÃ i 5\nM * x # phÃ©p nhÃ¢n Ä‘Æ°á»£c thá»±c hiá»‡n mÃ  khÃ´ng bÃ¡o lá»—i##      [,1] [,2] [,3] [,4]\n## [1,]   -2    4   -7   20\n## [2,]   -2   10    0  -22\n## [3,]    0  -12    9  -12\ny<-rep(x,3) # láº·p láº¡i x cho Ä‘áº¿n khi sá»‘ pháº§n tá»­ cá»§a vÃ©c-tÆ¡ thu Ä‘Æ°á»£c lá»›n hÆ¡n 12\nM1<-matrix(y[1:12],nrow = 3, ncol = 4) # dÃ¹ng 12 giÃ¡ trá»‹ ban Ä‘áº§u Ä‘á»ƒ táº¡o thÃ nh ma tráº­n cÃ³ cÃ¹ng kÃ­ch thÆ°á»›c 3*4\nM * M1 # káº¿t quáº£ giá»‘ng nhÆ° M * x##      [,1] [,2] [,3] [,4]\n## [1,]   -2    4   -7   20\n## [2,]   -2   10    0  -22\n## [3,]    0  -12    9  -12"},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"cÃ¡ch-láº¥y-pháº§n-tá»­-con-vÃ -ma-tráº­n-con-cá»§a-ma-tráº­n.","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.1.2 CÃ¡ch láº¥y pháº§n tá»­ con vÃ  ma tráº­n con cá»§a ma tráº­n.","text":"TÆ°Æ¡ng tá»± nhÆ° vá»›i vÃ©c-tÆ¡, chÃºng ta sá»­ dá»¥ng \\([]\\) Ä‘á»ƒ láº¥y pháº§n tá»­ con trong ma tráº­n. KhÃ¡c vá»›i vÃ©c-tÆ¡, ma tráº­n cÃ³ chá»‰ sá»‘ hÃ ng vÃ  chá»‰ sá»‘ cá»™t nÃªn chÃºng ta cáº§n cho biáº¿t pháº§n tá»­ Ä‘Æ°á»£c láº¥y ra á»Ÿ hÃ ng thá»© bao nhiÃªu vÃ  cá»™t thá»© bao nhiÃªu:ChÃºng ta cÅ©ng cÃ³ thá»ƒ láº¥y ra vÃ©c-tÆ¡ hÃ ng hoáº·c vÃ©c-tÆ¡ cá»™t cá»§a ma tráº­n báº±ng cÃ¡ch sauÄá»ƒ láº¥y ra má»™t ma tráº­n con cá»§a má»™t ma tráº­n, chÃºng ta cÅ©ng táº¡o vÃ©c-tÆ¡ chá»‰ sá»‘ giá»‘ng nhÆ° cÃ¡ch táº¡o chá»‰ sá»‘ vá»›i vÃ©c-tÆ¡. Thay vÃ¬ chá»‰ táº¡o má»™t vÃ©c-tÆ¡ chá»‰ sá»‘ duy nháº¥t nhÆ° khi lÃ m vá»›i vÃ©c-tÆ¡, chÃºng ta cáº§n táº¡o má»™t vÃ©c-tÆ¡ chá»‰ sá»‘ theo hÃ ng vÃ  má»™t vÃ©c-tÆ¡ chá»‰ sá»‘ theo cá»™t. Báº¡n Ä‘á»c cÃ³ thá»ƒ táº¡o chá»‰ sá»‘ báº±ng má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ hoáº·c vÃ©c-tÆ¡ kiá»ƒu logical hoáº·c káº¿t há»£p cáº£ hai phÆ°Æ¡ng phÃ¡p nÃ y","code":"\nM[2,3] # pháº§n tá»­ á»Ÿ hÃ ng thá»© hai, cá»™t thá»© ba cá»§a ma tráº­n M## [1] 8\nM[,3] # láº¥y ra vÃ©c-tÆ¡ cá»™t thá»© 3 cá»§a ma tráº­n M## [1] 7 8 9\nM[2,] # láº¥y ra vÃ©c-tÆ¡ hÃ ng thá»© 2 cá»§a ma tráº­n M## [1]  2  5  8 11\nchi_so_hang<-c(TRUE,FALSE,TRUE) # Chá»‰ sá»‘ theo hÃ ng kiá»ƒu logical\nchi_so_cot<-c(2,4) # chá»‰ sá»‘ cá»™t theo kiá»ƒu sá»‘\nM[chi_so_hang,chi_so_cot] # ma tráº­n con cá»§a ma tráº­n M##      [,1] [,2]\n## [1,]    4   10\n## [2,]    6   12"},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"cÃ¡c-phÃ©p-toÃ¡n-trÃªn-ma-tráº­n.","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.1.3 CÃ¡c phÃ©p toÃ¡n trÃªn ma tráº­n.","text":"CÃ¡c phÃ©p toÃ¡n trÃªn ma tráº­n cÃ³ Ã½ nghÄ©a Ä‘áº·c biá»‡t trong phÃ¢n tÃ­ch dá»¯ liá»‡u. á» cÃ¡c chÆ°Æ¡ng sÃ¡ch tiáº¿p theo báº¡n Ä‘á»c sáº½ tháº¥y ráº±ng táº¥t cáº£ cÃ¡c tÃ­nh toÃ¡n nháº±m biáº¿n Ä‘á»•i dá»¯ liá»‡u, hoáº·c Æ°á»›c lÆ°á»£ng tham sá»‘ cho cÃ¡c mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u Ä‘á»u dá»±a trÃªn cÃ¡c phÃ©p tÃ­nh toÃ¡n trÃªn ma tráº­n. ChÃºng tÃ´i sáº½ giáº£i thÃ­ch cÃ¡c phÃ©p toÃ¡n nÃ y má»™t cÃ¡ch Ä‘Æ¡n giáº£n nháº¥t Ä‘á»ƒ nhá»¯ng báº¡n Ä‘á»c khÃ´ng cÃ³ ná»n táº£ng chuyÃªn sÃ¢u vá» toÃ¡n cÅ©ng cÃ³ thá»ƒ hiá»ƒu Ä‘Æ°á»£c. Tuy nhiÃªn, Ä‘á»ƒ cÃ³ ká»¹ nÄƒng thÃ nh tháº¡o trong biáº¿n Ä‘á»•i dá»¯ liá»‡u, phÃ¢n tÃ­ch dá»¯ liá»‡u, vÃ  xÃ¢y dá»±ng cÃ¡c mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u, chÃºng tÃ´i khuyÃªn báº¡n Ä‘á»c nÃªn tá»± trang bá»‹ cho mÃ¬nh cÃ¡c kiáº¿n thá»©c vá» Ä‘áº¡i sá»‘ tuyáº¿n tÃ­nh vÃ  giáº£i tÃ­ch vÃ©c-tÆ¡.","code":""},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"phÃ©p-chuyá»ƒn-vá»‹.","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.1.3.1 PhÃ©p chuyá»ƒn vá»‹.","text":"PhÃ©p toÃ¡n chuyá»ƒn vá»‹ (transpose) lÃ  má»™t phÃ©p toÃ¡n biáº¿n Ä‘á»•i má»™t ma tráº­n \\(M\\) kÃ­ch thÆ°á»›c \\(n \\times p\\) (\\(n\\) hÃ ng vÃ  \\(p\\) cá»™t) thÃ nh má»™t ma tráº­n má»›i, kÃ½ hiá»‡u lÃ  \\(M^T\\), cÃ³ kÃ­ch thÆ°á»›c \\(p \\times n\\) (\\(p\\) hÃ ng vÃ  \\(n\\) cá»™t), Ä‘á»“ng thá»i pháº§n tá»­ hÃ ng thá»© \\(j\\) vÃ  cá»™t thá»© \\(\\) cá»§a ma tráº­n \\(M^T\\) báº±ng pháº§n tá»­ á»Ÿ hÃ ng thá»© \\(\\) vÃ  cá»™t thá»© \\(j\\) cá»§a ma tráº­n \\(M\\).\\[\\begin{align}\n\\begin{bmatrix}\nm_{11} & m_{12} & m_{13}\\\\\nm_{21} & m_{22} & m_{23}\n\\end{bmatrix}\n\n\\xrightarrow[\\text{(transpose)}]{\\text{chuyá»ƒn vá»‹}}\n\n\\begin{bmatrix}\nm_{11} & m_{21} \\\\\nm_{12} & m_{22} \\\\\nm_{13} & m_{23}\n\\end{bmatrix}\n\n\\end{align}\\]HÃ m sá»‘ Ä‘á»ƒ thá»±c hiá»‡n phÃ©p chuyá»ƒn vá»‹ ma tráº­n trong R lÃ  hÃ m t()Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng náº¿u thá»±c hiá»‡n phÃ©p chuyá»ƒn vá»‹ hai láº§n liÃªn tiáº¿p ta sáº½ thu Ä‘Æ°á»£c ma tráº­n ban Ä‘áº§u","code":"\nM<-matrix(1:12, nrow = 3, ncol = 4, byrow = TRUE) # nrow: sá»‘ hÃ ng, ncol: sá»‘ cá»™t\nM # in M ra cá»§a sá»• console##      [,1] [,2] [,3] [,4]\n## [1,]    1    2    3    4\n## [2,]    5    6    7    8\n## [3,]    9   10   11   12\nt(M) # ma tráº­n chuyá»ƒn vá»‹ cá»§a ma tráº­n ##      [,1] [,2] [,3]\n## [1,]    1    5    9\n## [2,]    2    6   10\n## [3,]    3    7   11\n## [4,]    4    8   12\nt(t(M)) # ma tráº­n chuyá»ƒn vá»‹ cá»§a ma tráº­n chuyá»ƒn vá»‹ lÃ  ma tráº­n ban Ä‘áº§u ##      [,1] [,2] [,3] [,4]\n## [1,]    1    2    3    4\n## [2,]    5    6    7    8\n## [3,]    9   10   11   12"},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"phÃ©p-nhÃ¢n-ma-tráº­n","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.1.4 PhÃ©p nhÃ¢n ma tráº­n","text":"PhÃ©p nhÃ¢n ma tráº­n (matrix multiplication) cá»§a ma tráº­n \\(\\) vá»›i ma tráº­n \\(B\\) chá»‰ thá»±c hiá»‡n Ä‘Æ°á»£c náº¿u sá»‘ cá»™t cá»§a ma tráº­n \\(\\) báº±ng vá»›i sá»‘ hÃ ng cá»§a ma tráº­n \\(B\\). Giáº£ sá»­ ráº±ng \\(\\) cÃ³ kÃ­ch thÆ°á»›c lÃ  \\(n \\times p\\) vÃ  \\(B\\) cÃ³ kÃ­ch thÆ°á»›c lÃ  \\(p \\times k\\) thÃ¬ káº¿t quáº£ cá»§a phÃ©p nhÃ¢n ma tráº­n cá»§a ma tráº­n \\(\\) vá»›i ma tráº­n \\(B\\) lÃ  má»™t ma tráº­n \\(M\\) cÃ³ kÃ­ch thÆ°á»›c \\(n \\times k\\), pháº§n tá»­ á»Ÿ hÃ ng thá»© \\(\\) vÃ  cá»™t thá»© \\(j\\) cá»§a ma tráº­n \\(M\\) lÃ  tÃ­ch vÃ´ hÆ°á»›ng giá»¯a vÃ©c-tÆ¡ hÃ ng \\(\\) cá»§a ma tráº­n \\(\\) vÃ  vÃ©c-tÆ¡ cá»™t \\(j\\) cá»§a ma tráº­n \\(B\\). Nháº¯c láº¡i vá»›i báº¡n Ä‘á»c ráº±ng tÃ­ch vÃ´ hÆ°á»›ng cá»§a hai vÃ©c-tÆ¡ \\(x\\) vÃ  \\(y\\) (pháº£i) cÃ³ cÃ¹ng Ä‘á»™ dÃ i \\(n\\) Ä‘Æ°á»£c kÃ½ hiá»‡u lÃ  \\(<x,y>\\) vÃ  Ä‘Æ°á»£c tÃ­nh nhÆ° sau\\[\\begin{align}\n<x,y> = \\sum\\limits_{= 1}^n \\ x_i y_i\n\\end{align}\\]trong Ä‘Ã³ \\(x_i\\), \\(y_i\\) láº§n lÆ°á»£t lÃ  pháº§n tá»­ thá»© \\(\\) cá»§a vÃ©c-tÆ¡ \\(x\\) vÃ  vÃ©c-tÆ¡ \\(y\\). Äá»ƒ phÃ¢n biá»‡t vá»›i phÃ©p nhÃ¢n thÃ´ng thÆ°á»ng, chÃºng tÃ´i sá»­ dá»¥ng kÃ½ hiá»‡u \\(*\\) cho phÃ©p nhÃ¢n ma tráº­n mÃ  chá»‰ Ä‘Æ¡n giáº£n kÃ½ hiá»‡u phÃ©p nhÃ¢n ma tráº­n giá»¯a ma tráº­n \\(\\) vÃ  ma tráº­n \\(B\\) lÃ  \\(AB\\). CÃ´ng thá»©c dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ phÃ©p nhÃ¢n ma tráº­n giá»¯a má»™t ma tráº­n cÃ³ 2 hÃ ng vÃ  3 cá»™t vá»›i má»™t ma tráº­n cÃ³ 3 hÃ ng vÃ  4 cá»™t Ä‘á»ƒ Ä‘Æ°á»£c má»™t ma tráº­n cÃ³ kÃ­ch thÆ°á»›c lÃ  2 hÃ ng vÃ  4 cá»™t\\[\\begin{align}\n&& AB = M \\\\\n\n&&\n\n\\begin{bmatrix}\na_{11} & a_{12} & a_{13}\\\\\na_{21} & a_{22} & a_{23}\n\\end{bmatrix}\n\n\\% * \\%\n\n\\begin{bmatrix}\nb_{11} & b_{12} & b_{13} & b_{14} \\\\\nb_{21} & b_{22} & b_{23} & b_{24} \\\\\nb_{31} & b_{32} & b_{33} & b_{34}\n\\end{bmatrix}\n\n=\n\n\\begin{bmatrix}\nm_{11} & m_{12} & m_{13} & m_{14} \\\\\nm_{21} & m_{22} & m_{23} & m_{24} \\\\\n\\end{bmatrix} \\\\\n\n&& m_{ij} = <[,],B[,j]>\n\n\\end{align}\\]\ntrong Ä‘Ã³ \\([,]\\) lÃ  vÃ©c-tÆ¡ hÃ ng \\(\\) cá»§a ma tráº­n \\(\\) vÃ  \\(B[,j]\\) lÃ  vÃ©c-tÆ¡ cá»™t \\(j\\) cá»§a ma tráº­n \\(B\\).ToÃ¡n tá»­ dÃ¹ng Ä‘á»ƒ thá»±c hiá»‡n phÃ©p nhÃ¢n ma tráº­n trong R lÃ  \\(\\% * \\%\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ thá»±c hiá»‡n phÃ©p nhÃ¢n hai ma tráº­n \\(\\) vÃ  \\(B\\) nhÆ° sauChÃºng ta cÃ³ thá»ƒ kiá»ƒm tra giÃ¡ trá»‹ cá»§a pháº§n tá»­ á»Ÿ hÃ ng thá»© 2 vÃ  cá»™t thá»© 3 cá»§a ma tráº­n káº¿t quáº£ (sá»‘ 100) chÃ­nh lÃ  tÃ­ch vÃ´ hÆ°á»›ng giá»¯a vÃ©c-tÆ¡ hÃ ng thá»© hai cá»§a ma tráº­n \\(\\) vÃ  vÃ©c-tÆ¡ cá»™t thá»© ba cá»§a ma tráº­n \\(B\\).\\[\\begin{align}\n<(2,4,6),(7,8,9)> &=& 2 \\times 7 + 4 \\times 8 + 6 \\times 9 \\\\\n&=& 100\n\\end{align}\\]Báº¡n Ä‘á»c cáº§n phÃ¢n biá»‡t giá»¯a phÃ©p nhÃ¢n ma tráº­n (kÃ½ hiá»‡u \\(\\% * \\%\\)) vÃ  phÃ©p nhÃ¢n thÃ´ng thÆ°á»ng (kÃ½ hiá»‡u \\(*\\)) nhÆ° Ä‘Ã£ trÃ¬nh bÃ y á»Ÿ trÃªn. Äá»ƒ trÃ¡nh gÃ¢y nháº§m láº«n, chÃºng tÃ´i luÃ´n sá»­ dá»¥ng cá»¥m tá»« nhÃ¢n ma tráº­n cho phÃ©p nhÃ¢n \\(\\% * \\%\\).","code":"\nA<-matrix(1:6, nrow = 2, ncol = 3) # ma tráº­n kÃ­ch thÆ°á»›c 2 * 3\nprint(A)##      [,1] [,2] [,3]\n## [1,]    1    3    5\n## [2,]    2    4    6\nB<-matrix(1:12, nrow = 3, ncol = 4) # ma tráº­n kÃ­ch thÆ°á»›c 3 * 4\nprint(B)##      [,1] [,2] [,3] [,4]\n## [1,]    1    4    7   10\n## [2,]    2    5    8   11\n## [3,]    3    6    9   12\nM <- A %*% B # káº¿t quáº£ lÃ  ma tráº­n M cÃ³ kich thÆ°á»›c 2 * 4\nprint(M)##      [,1] [,2] [,3] [,4]\n## [1,]   22   49   76  103\n## [2,]   28   64  100  136"},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"ma-tráº­n-Ä‘Æ°á»ng-chÃ©o-vÃ -ma-tráº­n-Ä‘Æ¡n-vá»‹.","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.1.5 Ma tráº­n Ä‘Æ°á»ng chÃ©o vÃ  ma tráº­n Ä‘Æ¡n vá»‹.","text":"CÃ¡c khÃ¡i niá»‡m vÃ  phÃ©p toÃ¡n trÃªn ma tráº­n Ä‘Æ°á»£c trÃ¬nh bÃ y tá»« pháº§n nÃ y sáº½ chá»‰ Ã¡p dá»¥ng trÃªn ma tráº­n vuÃ´ng, nghÄ©a lÃ  ma tráº­n cÃ³ sá»‘ hÃ ng báº±ng vá»›i sá»‘ cá»™t. Trong má»™t ma tráº­n vuÃ´ng, cÃ¡c pháº§n tá»­ náº±m trÃªn Ä‘Æ°á»ng chÃ©o \\(chÃ­nh\\) lÃ  cÃ¡c pháº§n tá»­ cÃ³ chá»‰ sá»‘ hÃ ng báº±ng vá»›i chá»‰ sá»‘ cá»™t, cÃ¡c pháº§n tá»­ náº±m trÃªn Ä‘Æ°á»ng chÃ©o \\(phá»¥\\) lÃ  cÃ¡c pháº§n tá»­ cÃ³ chá»‰ sá»‘ hÃ ng cá»™ng vá»›i chá»‰ sá»‘ cá»™t báº±ng \\((n+1)\\) trong Ä‘Ã³ \\(n\\) lÃ  sá»‘ hÃ ng. Vá»›i ma tráº­n vuÃ´ng \\(M\\) cÃ³ kÃ­ch thÆ°á»›c \\(n \\times n\\) Ä‘Æ°á»ng chÃ©o chÃ­nh cá»§a ma tráº­n Ä‘Æ°á»£c kÃ½ hiá»‡u lÃ  \\(diag(M)\\) xÃ¡c Ä‘á»‹nh nhÆ° sau\\[\\begin{align}\nM\n=\n\\begin{bmatrix}\nm_{11} & m_{12} & m_{13} & m_{14} \\\\\nm_{21} & m_{22} & m_{23} & m_{24} \\\\\nm_{31} & m_{32} & m_{33} & m_{34}\\\\\nm_{41} & m_{42} & m_{43} & m_{44}\n\\end{bmatrix} \\\\\n\ndiag(M) = (m_{11}, m_{22}, m_{33},  m_{44})\n\n\\end{align}\\]Ma tráº­n cÃ³ táº¥t cáº£ cÃ¡c pháº§n tá»­ náº±m \\(ngoÃ i\\) Ä‘Æ°á»ng chÃ©o chÃ­nh báº±ng 0 Ä‘Æ°á»£c gá»i lÃ  ma tráº­n Ä‘Æ°á»ng chÃ©o. HÃ m diag() trong R Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ láº¥y ra vÃ©c-tÆ¡ Ä‘Æ°á»ng chÃ©o chÃ­nh cá»§a má»™t ma tráº­n vuÃ´ng vÃ  Ä‘á»ƒ táº¡o ra má»™t ma tráº­n Ä‘Æ°á»ng chÃ©o hoáº·c cÅ©ng cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ khai bÃ¡o má»™t ma tráº­n Ä‘Æ°á»ng chÃ©o.Ma tráº­n Ä‘Æ¡n vá»‹ kÃ­ch thÆ°á»›c \\(n \\times n\\), thÆ°á»ng Ä‘Æ°á»£c kÃ½ hiá»‡u \\(I_n\\), lÃ  má»™t ma tráº­n Ä‘Æ°á»ng chÃ©o mÃ  táº¥t cáº£ cÃ¡c pháº§n tá»­ trÃªn Ä‘Æ°á»ng chÃ©o chÃ­nh báº±ng 1. Ma tráº­n Ä‘Æ¡n vá»‹ \\(I_n\\) cÃ³ tÃ­nh cháº¥t quan trá»ng lÃ  má»i ma tráº­n \\(M\\) kÃ­ch thÆ°á»›c \\(k \\times n\\) khi thá»±c hiá»‡n phÃ©p nhÃ¢n ma tráº­n vá»›i ma tráº­n \\(I_n\\) sáº½ Ä‘Æ°á»£c káº¿t quáº£ Ä‘Ãºng báº±ng ma tráº­n \\(M\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ quan sÃ¡t vÃ­ dá»¥ sau","code":"\nM<-matrix(1:9, nrow = 3, ncol = 3) # ma tráº­n vuÃ´ng 3 * 3\nprint(M)##      [,1] [,2] [,3]\n## [1,]    1    4    7\n## [2,]    2    5    8\n## [3,]    3    6    9\ndiag(M) # láº¥y ra vÃ©c-tÆ¡ Ä‘Æ°á»ng chÃ©o chÃ­nh cá»§a M## [1] 1 5 9\nM1<-diag(c(1,10,100)) # táº¡o ra ma tráº­n Ä‘Æ°á»ng chÃ©o cÃ³ Ä‘Æ°á»ng chÃ©o chÃ­nh lÃ  (1,10,100)\nprint(M1)##      [,1] [,2] [,3]\n## [1,]    1    0    0\n## [2,]    0   10    0\n## [3,]    0    0  100\nIn<-diag(rep(1,4)) # ma tráº­n Ä‘Æ¡n vá»‹ kÃ­ch thÆ°á»›c 4*4\nprint(In)##      [,1] [,2] [,3] [,4]\n## [1,]    1    0    0    0\n## [2,]    0    1    0    0\n## [3,]    0    0    1    0\n## [4,]    0    0    0    1\nM<-matrix(1:20, nrow = 5, ncol = 4) # ma tráº­n vuÃ´ng 5 * 4\nprint(M %*% In) # káº¿t quáº£ váº«n lÃ  ma tráº­n M##      [,1] [,2] [,3] [,4]\n## [1,]    1    6   11   16\n## [2,]    2    7   12   17\n## [3,]    3    8   13   18\n## [4,]    4    9   14   19\n## [5,]    5   10   15   20"},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"Ä‘á»‹nh-thá»©c-cá»§a-ma-tráº­n","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.1.6 Äá»‹nh thá»©c cá»§a ma tráº­n","text":"Äá»‹nh thá»©c cá»§a ma tráº­n lÃ  má»™t khÃ¡i niá»‡m toÃ¡n há»c phá»©c táº¡p. Pháº§n lá»›n báº¡n Ä‘á»c khi lÃ m quen vá»›i khÃ¡i niá»‡m Ä‘á»‹nh thá»©c trong mÃ´n há»c Ä‘áº¡i sá»‘ tuyáº¿n tÃ­nh sáº½ Ä‘Æ°á»£c giá»›i thiá»‡u vá» cÃ´ng thá»©c tÃ­nh Ä‘á»‹nh thá»©c cá»§a má»™t ma tráº­n, hoáº·c sá»­ dá»¥ng Ä‘á»‹nh thá»©c cá»§a ma tráº­n Ä‘á»ƒ thá»±c hiá»‡n tÃ­nh toÃ¡n nhÆ° giáº£i há»‡ phÆ°Æ¡ng trÃ¬nh thay vÃ¬ thá»±c sá»± hiá»ƒu khÃ¡i niá»‡m Ä‘á»‹nh thá»©c Ä‘Æ°á»£c báº¯t Ä‘áº§u tá»« Ä‘Ã¢u. Äá»‹nh thá»©c lÃ  má»™t giÃ¡ trá»‹ sá»‘ thá»±c Ä‘áº·c trÆ°ng cá»§a má»™t ma tráº­n vuÃ´ng. Äá»‹nh thá»©c cho biáº¿t nhiá»u tÃ­nh cháº¥t quan trá»ng cá»§a ma tráº­n Ä‘Ã³, Ä‘á»“ng thá»i Ä‘á»‹nh thá»©c xuáº¥t hiá»‡n trong ráº¥t nhiá»u tÃ­nh toÃ¡n liÃªn quan Ä‘áº¿n ma tráº­n.HÃ£y báº¯t Ä‘áº§u vá»›i má»™t ma tráº­n vuÃ´ng \\(M\\) kÃ­ch thÆ°á»›c \\(2 \\times 2\\) nhÆ° sau:\n\\[\\begin{align}\nM\n=\n\\begin{bmatrix}\nm_{11} & m_{12}\\\\\nm_{21} & m_{22}\n\\end{bmatrix}\n\\end{align}\\]Äá»‹nh thá»©c cá»§a ma tráº­n \\(M\\) Ä‘Æ°á»£c kÃ½ hiá»‡u lÃ  \\(|M|\\) hoáº·c \\(det(M)\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh bá»Ÿi cÃ´ng thá»©c\n\\[\\begin{align}\ndet(M) = m_{11} \\times m_{22} - m_{12} \\times m_{21}\n\\end{align}\\]Äá»‹nh thá»©c cá»§a ma tráº­n \\(M\\) cÃ³ thá»ƒ biá»ƒu diá»…n dÆ°á»›i dáº¡ng diá»‡n tÃ­ch cá»§a hÃ¬nh bÃ¬nh hÃ nh táº¡o thÃ nh tá»« 4 Ä‘iá»ƒm cÃ³ tá»a Ä‘á»™ \\((0,0)\\), \\((m_{11},m_{12})\\), \\((m_{21},m_{22})\\), vÃ  \\((m_{11}+m_{21}, m_{12}+m_{22})\\). Tháº­t váº­y, giáº£ sá»­ hai ma tráº­n \\(M\\) vÃ  \\(M_1\\) cÃ³ kÃ­ch thÆ°á»›c \\(2 \\times 2\\); ma tráº­n \\(M_1\\) nháº­n Ä‘Æ°á»£c báº±ng cÃ¡ch Ä‘á»•i vá»‹ trÃ­ 2 dÃ²ng cá»§a ma tráº­n \\(M\\)\\[\\begin{align}\nM\n=\n\\begin{bmatrix}\n2 & 1 \\\\\n1 & 3\n\\end{bmatrix}  \\text{  vÃ   } M_1\n=\n\\begin{bmatrix}\n1 & 3 \\\\\n2 & 1\n\\end{bmatrix} \\\\\n\ndet(M) = 5  \\text{  vÃ   } det(M_1) = -5\n\n\\end{align}\\]ChÃºng ta cÃ³ thá»ƒ biá»ƒu diá»…n Ä‘á»‹nh thá»©c cá»§a \\(M\\) vÃ  \\(M_1\\) qua diá»‡n tÃ­ch cá»§a cÃ¡c hÃ¬nh bÃ¬nh hÃ nh nhÆ° hÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y:GiÃ¡ trá»‹ cá»§a Ä‘á»‹nh thá»©c sáº½ cho ta biáº¿t thÃ´ng tin vá» cÃ¡c vÃ©c-tÆ¡ táº¡o nÃªn ma tráº­n:Äá»‹nh thá»©c báº±ng 0 chá»‰ xáº£y ra khi hai vÃ©c-tÆ¡ (hai mÅ©i tÃªn mÃ u xanh vÃ  mÃ u Ä‘á» xuáº¥t phÃ¡t tá»« Ä‘iá»ƒm \\((0,0)\\)) trÃ¹ng nhau hoáº·c Ä‘á»‘i Ä‘á»‰nh nhau. Äiá»u nÃ y chá»‰ xáº£y ra khi vÃ©c-tÆ¡ thá»© nháº¥t báº±ng vÃ©c-tÆ¡ thá»© hai nhÃ¢n vá»›i má»™t sá»‘. Trong trÆ°á»ng há»£p tá»•ng quÃ¡t vá»›i ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\(n \\times n\\), Ä‘á»‹nh thá»©c báº±ng 0 khi má»™t vÃ©c-tÆ¡ nÃ o Ä‘Ã³ lÃ  tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c vÃ©c-tÆ¡ cÃ²n láº¡i.Äá»‹nh thá»©c báº±ng 0 chá»‰ xáº£y ra khi hai vÃ©c-tÆ¡ (hai mÅ©i tÃªn mÃ u xanh vÃ  mÃ u Ä‘á» xuáº¥t phÃ¡t tá»« Ä‘iá»ƒm \\((0,0)\\)) trÃ¹ng nhau hoáº·c Ä‘á»‘i Ä‘á»‰nh nhau. Äiá»u nÃ y chá»‰ xáº£y ra khi vÃ©c-tÆ¡ thá»© nháº¥t báº±ng vÃ©c-tÆ¡ thá»© hai nhÃ¢n vá»›i má»™t sá»‘. Trong trÆ°á»ng há»£p tá»•ng quÃ¡t vá»›i ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\(n \\times n\\), Ä‘á»‹nh thá»©c báº±ng 0 khi má»™t vÃ©c-tÆ¡ nÃ o Ä‘Ã³ lÃ  tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c vÃ©c-tÆ¡ cÃ²n láº¡i.Äá»‹nh thá»©c gáº§n báº±ng 0 nghÄ©a lÃ  gÃ³c táº¡o bá»Ÿi 2 vÃ©c-tÆ¡ ráº¥t gáº§n 0 hoáº·c táº¡o vá»›i nhau má»™t gÃ³c xáº¥p xá»‰ 180 Ä‘á»™. Ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\(n \\times n\\) cÃ³ Ä‘á»‹nh thá»©c xáº¥p xá»‰ báº±ng 0 nghÄ©a lÃ  má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh giá»¯a cÃ¡c vÃ©c-tÆ¡ cá»§a ma tráº­n lÃ  ráº¥t cháº·t cháº½.Äá»‹nh thá»©c gáº§n báº±ng 0 nghÄ©a lÃ  gÃ³c táº¡o bá»Ÿi 2 vÃ©c-tÆ¡ ráº¥t gáº§n 0 hoáº·c táº¡o vá»›i nhau má»™t gÃ³c xáº¥p xá»‰ 180 Ä‘á»™. Ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\(n \\times n\\) cÃ³ Ä‘á»‹nh thá»©c xáº¥p xá»‰ báº±ng 0 nghÄ©a lÃ  má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh giá»¯a cÃ¡c vÃ©c-tÆ¡ cá»§a ma tráº­n lÃ  ráº¥t cháº·t cháº½.Dáº¥u cá»§a Ä‘á»‹nh thá»©c cho ta biáº¿t vá»‹ trÃ­ cá»§a cÃ¡c vÃ©c-tÆ¡. VÃ©c-tÆ¡ hÃ ng thá»© nháº¥t tÆ°Æ¡ng á»©ng vá»›i mÃ u xanh dÆ°Æ¡ng trong khi vÃ©c-tÆ¡ hÃ ng thá»© hai tÆ°Æ¡ng á»©ng vá»›i mÃ u Ä‘á». Dáº¥u cá»§a Ä‘á»‹nh thá»©c dÆ°Æ¡ng chá»‰ khi vÃ©c-tÆ¡ mÃ u xanh dÆ°Æ¡ng náº±m phÃ­a trÃªn (bÃªn trÃ¡i) vÃ©c-tÆ¡ mÃ u Ä‘á», vÃ  dáº¥u cá»§a Ä‘á»‹nh thá»©c lÃ  Ã¢m chá»‰ khi vÃ©c-tÆ¡ mÃ u xanh dÆ°Æ¡ng náº±m phÃ­a dÆ°á»›i (bÃªn pháº£i) vÃ©c-tÆ¡ mÃ u Ä‘á».Dáº¥u cá»§a Ä‘á»‹nh thá»©c cho ta biáº¿t vá»‹ trÃ­ cá»§a cÃ¡c vÃ©c-tÆ¡. VÃ©c-tÆ¡ hÃ ng thá»© nháº¥t tÆ°Æ¡ng á»©ng vá»›i mÃ u xanh dÆ°Æ¡ng trong khi vÃ©c-tÆ¡ hÃ ng thá»© hai tÆ°Æ¡ng á»©ng vá»›i mÃ u Ä‘á». Dáº¥u cá»§a Ä‘á»‹nh thá»©c dÆ°Æ¡ng chá»‰ khi vÃ©c-tÆ¡ mÃ u xanh dÆ°Æ¡ng náº±m phÃ­a trÃªn (bÃªn trÃ¡i) vÃ©c-tÆ¡ mÃ u Ä‘á», vÃ  dáº¥u cá»§a Ä‘á»‹nh thá»©c lÃ  Ã¢m chá»‰ khi vÃ©c-tÆ¡ mÃ u xanh dÆ°Æ¡ng náº±m phÃ­a dÆ°á»›i (bÃªn pháº£i) vÃ©c-tÆ¡ mÃ u Ä‘á».Vá»›i cÃ¡c ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\(n \\times n\\); \\(n \\geq 3\\) Ä‘á»‹nh thá»©c cá»§a ma tráº­n Ä‘Æ°á»£c tÃ­nh báº±ng cÃ¡ch lá»±a chá»n má»™t dÃ²ng (hoáº·c cá»™t) thá»© \\(\\) báº¥t ká»³ vÃ  sau Ä‘Ã³ thá»±c hiá»‡n phÃ©p khai triá»ƒn\n\\[\\begin{align}\ndet(M) = \\sum\\limits_{j = 1}^n (-1)^{+j} \\times m_{ij} \\times det(M_{-,-j})\n\\end{align}\\]\ntrong Ä‘Ã³ \\(M_{-,-j}\\) mÃ  ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\((n-1) \\times (n-1)\\) nháº­n Ä‘Æ°á»£c sau khi bá» Ä‘i hÃ ng thá»© \\(\\) vÃ  cá»™t thá»© \\(j\\) cá»§a ma tráº­n \\(M\\).Äá»‹nh thá»©c cá»§a ma tráº­n \\(M\\) kÃ­ch thÆ°á»›c \\(3 \\times 3\\) cÃ³ thá»ƒ tÃ­nh toÃ¡n dá»±a trÃªn Ä‘á»‹nh thá»©c cá»§a cÃ¡c ma tráº­n con vÃ  lá»±a chá»n hÃ ng \\(=2\\) nhÆ° sau\\[\\begin{align}\n& & M\n=\n\\begin{bmatrix}\nm_{11} & m_{12} & m_{13}  \\\\\nm_{21} & m_{22} & m_{23} \\\\\nm_{31} & m_{32} & m_{33}\n\\end{bmatrix} \\\\\n\n& & det(M) = - m_{21} \\times \\begin{vmatrix}\nm_{12} & m_{13}  \\\\\nm_{32} & m_{33}\n\\end{vmatrix} + m_{22} \\times \\begin{vmatrix}\nm_{11} & m_{13}  \\\\\nm_{31} & m_{33}  \n\\end{vmatrix} - m_{23} \\times \\begin{vmatrix}\nm_{11} & m_{12}  \\\\\nm_{31} & m_{32}  \n\\end{vmatrix}\n\\end{align}\\]HÃ m det() trong R Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ­nh Ä‘á»‹nh thá»©c cá»§a ma tráº­n.Má»™t vÃ i tÃ­nh cháº¥t quan trá»ng cá»§a Ä‘á»‹nh thá»©c:Äá»‹nh thá»©c cá»§a má»™t ma tráº­n Ä‘Æ°á»ng chÃ©o báº±ng tÃ­ch cÃ¡c pháº§n tá»­ náº±m trÃªn Ä‘Æ°á»ng chÃ©o chÃ­nh cá»§a ma tráº­n Ä‘Ã³. Ma tráº­n Ä‘Æ°á»ng chÃ©o lÃ  má»™t trÆ°á»ng há»£p Ä‘áº·c biá»‡t cá»§a ma tráº­n tam giÃ¡c. Ma tráº­n tam giÃ¡c trÃªn lÃ  ma tráº­n cÃ³ táº¥t cáº£ cÃ¡c pháº§n tá»­ náº±m phÃ­a dÆ°á»›i Ä‘Æ°á»ng chÃ©o chÃ­nh nháº­n giÃ¡ trá»‹ báº±ng 0. TÆ°Æ¡ng tá»±, ma tráº­n tÃ¢m giÃ¡c dÆ°á»›i lÃ  ma tráº­n cÃ³ táº¥t cáº£ cÃ¡c pháº§n tá»­ náº±m phÃ­a trÃªn Ä‘Æ°á»ng chÃ©o chÃ­nh nháº­n giÃ¡ trá»‹ báº±ng 0. CÃ¡c ma tráº­n tam giÃ¡c cÃ³ tÃ­nh cháº¥t nhÆ° Ä‘Ã£ phÃ¡t biá»ƒu á»Ÿ trÃªn: Ä‘á»‹nh thá»©c cá»§a cÃ¡c ma tráº­n nÃ y báº±ng tÃ­ch cÃ¡c pháº§n tá»­ náº±m trÃªn Ä‘Æ°á»ng chÃ©o chÃ­nh.Äá»‹nh thá»©c cá»§a ma tráº­n chuyá»ƒn vá»‹ báº±ng Ä‘á»‹nh thá»©c cá»§a ma tráº­n ban Ä‘áº§u\n\\[\\begin{align}\ndet(M) = det(M^T)\n\\end{align}\\]Äá»‹nh thá»©c cá»§a tÃ­ch hai ma tráº­n báº±ng tÃ­ch cá»§a cÃ¡c Ä‘á»‹nh thá»©c.\n\\[\\begin{align}\ndet(\\% * \\% B) = det() \\times det(B)\n\\end{align}\\]","code":"\nM<-matrix(c(2,1,1,3),nrow = 2,ncol = 2,byrow = TRUE)\ndet(M)## [1] 5\nM<-matrix(1:16,nrow = 4,ncol = 4) \nM[lower.tri(M)]<-0 # cho cÃ¡c pháº§n tá»­ phÃ­a dÆ°á»›i Ä‘Æ°á»ng chÃ©o chÃ­nh báº±ng 0\nprint(M) # ma tráº­n M lÃ  ma tráº­n tam giÃ¡c trÃªn##      [,1] [,2] [,3] [,4]\n## [1,]    1    5    9   13\n## [2,]    0    6   10   14\n## [3,]    0    0   11   15\n## [4,]    0    0    0   16\nprint(c(det(M), prod(diag(M)))) # Ä‘á»‹nh thá»©c cá»§a M báº±ng tÃ­ch cÃ¡c sá»‘ trÃªn Ä‘Æ°á»ng chÃ©o chÃ­nh## [1] 1056 1056\nM<-matrix(rnorm(16),nrow = 4,ncol = 4) \nprint(c(det(M),det(t(M))))## [1] -4.377982 -4.377982\nM<-matrix(rnorm(16),nrow = 4,ncol = 4) \nM1<-matrix(rnorm(16),nrow = 4,ncol = 4) \nprint(c(det(M%*%M1),det(M)*det(M1))) ## [1] 0.09626011 0.09626011"},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"ma-tráº­n-nghá»‹ch-Ä‘áº£o","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.1.7 Ma tráº­n nghá»‹ch Ä‘áº£o","text":"Ma tráº­n nghá»‹ch Ä‘áº£o cá»§a má»™t ma tráº­n vuÃ´ng \\(M\\), thÆ°á»ng Ä‘Æ°á»£c kÃ½ hiá»‡u \\(M^{-1}\\), lÃ  ma tráº­n vuÃ´ng cÃ³ cÃ¹ng kÃ­ch thÆ°á»›c vá»›i ma tráº­n \\(M\\) vÃ  thá»a mÃ£n tÃ­nh cháº¥t: phÃ©p nhÃ¢n ma tráº­n giá»¯a ma tráº­n \\(M\\) vá»›i ma tráº­n nghá»‹ch Ä‘áº£o \\(M^{-1}\\) sáº½ cho káº¿t quáº£ lÃ  má»™t ma tráº­n Ä‘Æ¡n vá»‹. KhÃ´ng pháº£i ma tráº­n vuÃ´ng nÃ o cÅ©ng cÃ³ ma tráº­n nghá»‹ch Ä‘áº£o; chá»‰ cÃ³ cÃ¡c ma tráº­n cÃ³ Ä‘á»‹nh thá»©c khÃ¡c lÃ  cÃ³ ma tráº­n nghá»‹ch Ä‘áº£o. CÃ¡c ma tráº­n cÃ³ ma tráº­n nghá»‹ch Ä‘áº£o Ä‘Æ°á»£c cÃ²n Ä‘Æ°á»£c gá»i lÃ  cÃ¡c ma tráº­n kháº£ nghá»‹ch. CÃ¡c ma tráº­n kháº£ nghá»‹ch luÃ´n cÃ³ má»™t ma tráº­n nghá»‹ch Ä‘áº£o duy nháº¥t.\\[\\begin{align}\nM \\% * \\% M^{-1} = I_n\n\\end{align}\\]Hai láº§n láº¥y nghá»‹ch Ä‘áº£o liÃªn tiáº¿p vá»›i má»™t ma tráº­n kháº£ nghá»‹ch sáº½ quay trá»Ÿ láº¡i ma tráº­n ban Ä‘áº§u, hay nÃ³i má»™t cÃ¡ch khÃ¡c ma tráº­n nghá»‹ch Ä‘áº£o cá»§a ma tráº­n \\(M^{-1}\\) chÃ­nh lÃ  ma tráº­n \\(M\\)\n\\[\\begin{align}\nM^{-1} \\% * \\% M = I_n\n\\end{align}\\]PhÆ°Æ¡ng phÃ¡p chung Ä‘á»ƒ tÃ­nh toÃ¡n ma tráº­n nghá»‹ch Ä‘áº£o lÃ  dá»±a trÃªn cÃ¡c ma tráº­n liÃªn há»£p (adjugate matrix). Ma tráº­n liÃªn há»£p cá»§a ma tráº­n \\(M\\) Ä‘Æ°á»£c kÃ½ hiá»‡u lÃ  \\(adj(M)\\) lÃ  ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\(n \\times n\\) mÃ  pháº§n tá»­ á»Ÿ hÃ ng thá»© \\(\\), cá»™t thá»© \\(j\\) Ä‘Æ°á»£c tÃ­nh báº±ng\n\\[\\begin{align}\nadj(M)_{ij} = (-1)^{j+} det(M_{-j,-})\n\\end{align}\\]\nKhi tÃ­nh toÃ¡n Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M\\), chÃºng tÃ´i Ä‘Ã£ sá»­ dá»¥ng kÃ½ hiá»‡u \\(M_{-,-j}\\) cho ma tráº­n vuÃ´ng kÃ­ch thÆ°á»›c \\((n-1) \\times (n-1)\\) nháº­n Ä‘Æ°á»£c sau khi bá» Ä‘i hÃ ng thá»© \\(\\) vÃ  cá»™t thá»© \\(j\\) cá»§a ma tráº­n \\(M\\). Báº¡n Ä‘á»c lÆ°u Ã½ ráº±ng cÃ³ sá»± thay Ä‘á»•i vá»‹ trÃ­ cá»§a \\(\\) vÃ  \\(j\\) trong váº¿ pháº£i cá»§a phÆ°Æ¡ng trÃ¬nh á»Ÿ trÃªn. Ma tráº­n nghá»‹ch Ä‘áº£o \\(M^{-1}\\) Ä‘Æ°á»£c tÃ­nh tá»« ma tráº­n liÃªn há»£p nhÆ° sau\n\\[\\begin{align}\nM^{-1} = \\cfrac{1}{det(M)} adj(M)_{ij}\n\\end{align}\\]NhÃ¬n chung, Ä‘á»ƒ tÃ­nh toÃ¡n ma tráº­n nghá»‹ch Ä‘áº£o cá»§a má»™t ma tráº­n kÃ­ch thÆ°á»›c \\(n \\times n\\), chÃºng ta sáº½ pháº£i tÃ­nh toÃ¡n Ä‘á»‹nh thá»©c cá»§a ma tráº­n ban Ä‘áº§u vÃ  Ä‘á»‹nh thá»©c cá»§a \\(n^2\\) ma tráº­n vuÃ´ng cÃ³ kÃ­ch thÆ°á»›c \\((n-1) \\times (n-1)\\). Vá»›i cÃ¡c ma tráº­n vuÃ´ng cÃ³ kÃ­ch thÆ°á»›c lá»›n, viá»‡c tÃ­nh toÃ¡n sá»­ dá»¥ng cÃ´ng thá»©c nhÆ° trÃªn sáº½ tá»‘n nhiá»u thá»i gian vÃ  bá»™ nhá»›. CÃ³ nhiá»u thuáº­t toÃ¡n Ä‘á»ƒ tÃ­nh xáº¥p xá»‰ ma tráº­n nghá»‹ch Ä‘áº£o cá»§a má»™t ma tráº­n. TrÃ¬nh bÃ y cÃ¡c thuáº­t toÃ¡n nÃ y á»Ÿ Ä‘Ã¢y lÃ  khÃ´ng cáº§n thiáº¿t. R sá»­ dá»¥ng hÃ m solve() Ä‘á»ƒ tÃ­nh toÃ¡n ma tráº­n nghá»‹ch Ä‘áº£o.CÃ¡c tÃ­nh toÃ¡n liÃªn quan Ä‘áº¿n Ä‘á»‹nh thá»©c cáº§n nhá»›Äá»‹nh thá»©c cá»§a ma tráº­n sau khi nhÃ¢n táº¥t cáº£ cÃ¡c pháº§n tá»­ vá»›i má»™t sá»‘\n\\[\\begin{align}\ndet(\\lambda M) = \\lambda^n \\times det(M)\n\\end{align}\\]Äá»‹nh thá»©c cá»§a ma tráº­n sau khi nhÃ¢n táº¥t cáº£ cÃ¡c pháº§n tá»­ vá»›i má»™t sá»‘\n\\[\\begin{align}\ndet(\\lambda M) = \\lambda^n \\times det(M)\n\\end{align}\\]Äá»‹nh thá»©c cá»§a ma tráº­n chuyá»ƒn vá»‹ \\(M^{-T}\\) báº±ng Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M\\)\n\\[\\begin{align}\ndet(M^T) = det(M)\n\\end{align}\\]Äá»‹nh thá»©c cá»§a ma tráº­n chuyá»ƒn vá»‹ \\(M^{-T}\\) báº±ng Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M\\)\n\\[\\begin{align}\ndet(M^T) = det(M)\n\\end{align}\\]TÃ­ch cá»§a Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M^{-1}\\) vá»›i Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M\\) báº±ng 1.\n\\[\\begin{align}\ndet(M^{-1}) \\times det(M) = det(I_n) = 1\n\\end{align}\\]TÃ­ch cá»§a Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M^{-1}\\) vá»›i Ä‘á»‹nh thá»©c cá»§a ma tráº­n \\(M\\) báº±ng 1.\n\\[\\begin{align}\ndet(M^{-1}) \\times det(M) = det(I_n) = 1\n\\end{align}\\]","code":"\nM<-matrix(rnorm(16),nrow = 4,ncol = 4) \nM1<-solve(M) # ma tráº­n M1 lÃ  ma tráº­n nghá»‹ch Ä‘áº£o cá»§a ma tráº­n M\nM1 %*% M # tÃ­ch cá»§a M1 vá»›i M lÃ  ma tráº­n Ä‘Æ¡n vá»‹##               [,1]          [,2]          [,3]          [,4]\n## [1,]  1.000000e+00 -1.387779e-16 -2.220446e-16 -1.040834e-16\n## [2,] -2.081668e-17  1.000000e+00  0.000000e+00  1.387779e-17\n## [3,] -6.938894e-18  1.110223e-16  1.000000e+00 -2.775558e-17\n## [4,] -3.469447e-17  1.665335e-16  1.110223e-16  1.000000e+00\nM %*% M1 # tÃ­ch cá»§a M vá»›i M1 lÃ  ma tráº­n Ä‘Æ¡n vá»‹##               [,1]          [,2]          [,3]          [,4]\n## [1,]  1.000000e+00 -1.734723e-17 -3.053113e-16  3.122502e-17\n## [2,] -5.551115e-17  1.000000e+00  5.551115e-17 -1.144917e-16\n## [3,]  0.000000e+00  0.000000e+00  1.000000e+00  5.551115e-17\n## [4,]  0.000000e+00  1.873501e-16  2.775558e-17  1.000000e+00"},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"máº£ng-nhiá»u-chiá»u","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.2 Máº£ng nhiá»u chiá»u","text":"Ma tráº­n lÆ°u pháº§n tá»­ trong hai chiá»u mÃ  chÃºng ta gá»i lÃ  hÃ ng vÃ  cá»™t. Äa sá»‘ dá»¯ liá»‡u kiá»ƒu báº£ng biá»ƒu truyá»n thá»‘ng Ä‘á»u cÃ³ thá»ƒ biá»ƒu diá»…n dÆ°á»›i dáº¡ng ma tráº­n. Tuy nhiÃªn cÃ³ nhá»¯ng kiá»ƒu dá»¯ liá»‡u mÃ  khi biá»ƒu diá»…n dÆ°á»›i dáº¡ng ma tráº­n hai chiá»u lÃ  khÃ´ng dá»… dÃ ng vÃ  cÃ³ thá»ƒ gÃ¢y nháº§m láº«n cho ngÆ°á»i sá»­ dá»¥ng. CÃ³ thá»ƒ ká»ƒ Ä‘áº¿n dá»¯ liá»‡u kiá»ƒu hÃ¬nh áº£nh. Khi báº¡n Ä‘á»c lÆ°u má»™t bá»©c áº£nh mÃ u lÃªn trÃªn mÃ¡y tÃ­nh Ä‘iá»‡n tá»­, bá»©c áº£nh sáº½ Ä‘Æ°á»£c sá»‘ hÃ³a thÃ nh má»™t máº£ng ba chiá»u, bao gá»“m cÃ³ chiá»u cao, chiá»u rá»™ng cá»§a áº£nh vÃ  má»™t chiá»u thá»© ba lÃ  mÃ u sáº¯c cá»§a Ä‘iá»ƒm áº£nh. Phá»©c táº¡p hÆ¡n ná»¯a náº¿u dá»¯ liá»‡u lÃ  má»™t Ä‘oáº¡n phim, hay má»™t hÃ¬nh Ä‘á»™ng, báº¡n Ä‘á»c sáº½ cáº§n pháº£i sá»­ dá»¥ng thÃªm chiá»u thá»© tÆ° Ä‘á»ƒ mÃ´ táº£ thá»i gian xuáº¥t hiá»‡n cá»§a má»—i hÃ¬nh áº£nh trong Ä‘oáº¡n phim.ThÃ´ng thÆ°á»ng thÃ¬ ngÆ°á»i lÃ m viá»‡c vá»›i dá»¯ liá»‡u sáº½ Ä‘á»•i cÃ¡c máº£ng nhiá»u chiá»u vá» máº£ng hai chiá»u hoáº·c má»™t chiá»u (vÃ©c-tÆ¡) Ä‘á»ƒ dá»… dÃ ng xá»­ lÃ½. CÃ¡c thao tÃ¡c cÆ¡ báº£n khi lÃ m viá»‡c vá»›i máº£ng nhiá»u chiá»u lÃ  cáº§n thiáº¿t Ä‘á»ƒ thá»±c hiá»‡n xá»­ lÃ½ dá»¯ liá»‡u má»™t cÃ¡ch chÃ­nh xÃ¡c.","code":""},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"khá»Ÿi-táº¡o-máº£ng-nhiá»u-chiá»u","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.2.1 Khá»Ÿi táº¡o máº£ng nhiá»u chiá»u","text":"Äá»ƒ táº¡o máº£ng nhiá»u chiá»u báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m \\(array()\\).Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y R hiá»ƒn thá»‹ máº£ng ba chiá»u \\(Ar\\) kÃ­ch thÆ°á»›c \\(2 \\times 3 \\times 4\\) nhÆ° lÃ  sá»± káº¿t há»£p cá»§a 4 ma tráº­n kÃ­ch thÆ°á»›c \\(2 \\times 3\\). TÆ°Æ¡ng tá»± nhÆ° khi khá»Ÿi táº¡o giÃ¡ trá»‹ cho ma tráº­n, sá»‘ lÆ°á»£ng pháº§n tá»­ Ä‘Æ°a vÃ o trong máº£ng pháº£i báº±ng vá»›i sá»‘ pháº§n tá»­ cá»§a máº£ng, trong trÆ°á»ng há»£p máº£ng \\(Ar\\) á»Ÿ trÃªn lÃ  vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i 24 tÆ°Æ¡ng á»©ng vá»›i \\(2 \\times 3 \\times 4 = 24\\) pháº§n tá»­ cá»§a máº£ng.Äá»ƒ láº¥y ra cÃ¡c pháº§n tá»­ con (má»™t biáº¿n, má»™t ma tráº­n, hay 1 máº£ng nhiá»u chiá»u) tá»« má»™t nhiá»u máº£ng, báº¡n Ä‘á»c sá»­ dá»¥ng \\([]\\) giá»‘ng nhÆ° khi lÃ m vá»›i ma tráº­n. LÆ°u Ã½ ráº±ng khi láº¥y pháº§n tá»­ con tá»« má»™t máº£ng, báº¡n Ä‘á»c cáº§n pháº£i sá»­ dá»¥ng chá»‰ sá»‘ cho táº¥t cáº£ cÃ¡c chiá»u.Thá»© tá»± cÃ¡c pháº§n tá»­ khi Ä‘iá»n vÃ o máº£ng khi sá»­ dá»¥ng hÃ m trong hÃ m array() sáº½ lÃ  Æ°u tiÃªn ma tráº­n kÃ­ch thÆ°á»›c \\(2 \\times 3\\) tÆ°Æ¡ng á»©ng vá»›i chá»‰ sá»‘ \\([,,1]\\) trÆ°á»›c, rá»“i Ä‘áº¿n ma tráº­n kÃ­ch thÆ°á»›c \\(2 \\times 3\\) tÆ°Æ¡ng á»©ng vá»›i chá»‰ sá»‘ \\([,,2]\\),â€¦, vÃ  tiáº¿p tá»¥c nhÆ° tháº¿ cho Ä‘áº¿n khi táº¥t cáº£ cÃ¡c pháº§n tá»­ cá»§a máº£ng Ä‘Æ°á»£c gÃ¡n giÃ¡ trá»‹.","code":"\nAr<-array(1:24,dim=c(2,3,4)) # máº£ng 3 chiá»u\nAr # hiá»ƒn thá»‹ máº£ng 3 chiá»u Ar## , , 1\n## \n##      [,1] [,2] [,3]\n## [1,]    1    3    5\n## [2,]    2    4    6\n## \n## , , 2\n## \n##      [,1] [,2] [,3]\n## [1,]    7    9   11\n## [2,]    8   10   12\n## \n## , , 3\n## \n##      [,1] [,2] [,3]\n## [1,]   13   15   17\n## [2,]   14   16   18\n## \n## , , 4\n## \n##      [,1] [,2] [,3]\n## [1,]   19   21   23\n## [2,]   20   22   24\nAr[1,2,1] # pháº§n tá»­ cÃ³ cÃ¡c chá»‰ sá»‘ 1 - 2 - 1 ## [1] 3\nAr[,,1] # ma tráº­n 2 * 3##      [,1] [,2] [,3]\n## [1,]    1    3    5\n## [2,]    2    4    6\nAr[,c(1,3),c(1,4)] # máº£ng tráº­n 2 * 2 * 2## , , 1\n## \n##      [,1] [,2]\n## [1,]    1    5\n## [2,]    2    6\n## \n## , , 2\n## \n##      [,1] [,2]\n## [1,]   19   23\n## [2,]   20   24"},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"sá»­-dá»¥ng-máº£ng-nhiá»u-chiá»u-Ä‘á»ƒ-biáº¿n-Ä‘á»•i-dá»¯-liá»‡u-kiá»ƒu-hÃ¬nh-áº£nh","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.2.2 Sá»­ dá»¥ng máº£ng nhiá»u chiá»u Ä‘á»ƒ biáº¿n Ä‘á»•i dá»¯ liá»‡u kiá»ƒu hÃ¬nh áº£nh","text":"Äá»ƒ báº¡n Ä‘á»c cÃ³ cÃ¡i nhÃ¬n trá»±c quan hÆ¡n vá» máº£ng nhiá»u chiá»u, chÃºng ta sáº½ thá»±c hiá»‡n cÃ¡c phÃ©p biáº¿n Ä‘á»•i, tÃ­nh toÃ¡n trÃªn má»™t dá»¯ liá»‡u cá»¥ thá»ƒ. NhÆ° chÃºng tÃ´i Ä‘Ã£ nÃ³i á»Ÿ trÃªn, máº£ng nhiá»u chiá»u lÃ  má»™t Ä‘á»‘i tÆ°á»£ng thÃ­ch há»£p dÃ¹ng Ä‘á»ƒ lÆ°u dá»¯ liá»‡u kiá»ƒu hÃ¬nh áº£nh. ThÆ° viá»‡n \\(imager\\) Ä‘Æ°á»£c cÃ i thÃªm trÃªn R cÃ³ cÃ¡c hÃ m thÃ­ch há»£p Ä‘á»ƒ lÃ m viá»‡c vá»›i dá»¯ liá»‡u kiá»ƒu hÃ¬nh áº£nh. ChÃºng ta sáº½ sá»­ dá»¥ng má»™t máº£ng nhiá»u chiá»u Ä‘á»ƒ lÆ°u má»™t bá»©c áº£nh vÃ  thá»±c hiá»‡n cÃ¡c phÃ©p biáº¿n Ä‘á»•i bá»©c áº£nh Ä‘Ã³ sá»­ dá»¥ng tÃ­nh toÃ¡n trÃªn máº£ng nhiá»u chiá»u.HÃ m load.image() trong thÆ° viá»‡n \\(imager\\) cÃ³ thá»ƒ Ä‘á»c cÃ¡c file hÃ¬nh áº£nh cÃ³ Ä‘á»‹nh dáº¡ng \\(png\\), \\(jpeg\\), hoáº·c \\(bmp\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘á»c má»™t hÃ¬nh áº£nh cÃ³ má»™t trong cÃ¡c Ä‘á»‹nh dáº¡ng ká»ƒ trÃªnÄá»ƒ biáº¿t \\(img\\) lÃ  kiá»ƒu Ä‘á»‘i tÆ°á»£ng nÃ o, báº¡n Ä‘á»c dÃ¹ng hÃ m class()R cho biáº¿t Ä‘Ã¢y lÃ  má»™t Ä‘á»‘i tÆ°á»£ng kiá»ƒu \\(cimg\\). Kiá»ƒu Ä‘á»‘i tÆ°á»£ng nÃ y vá» báº£n cháº¥t lÃ  má»™t máº£ng bá»‘n chiá»u. Chiá»u thá»© nháº¥t lÃ  cho biáº¿t chiá»u rá»™ng cá»§a bá»©c áº£nh, chiá»u thá»© hai cho biáº¿t chiá»u cao cá»§a bá»©c áº£nh, chiá»u thá»© ba luÃ´n báº±ng 1 Ä‘á»‘i vá»›i dá»¯ liá»‡u kiá»ƒu áº£nh vÃ  chiá»u thá»© tÆ° báº±ng 3 náº¿u bá»©c áº£nh lÃ  áº£nh mÃ u.Äá»‘i tÆ°á»£ng kiá»ƒu \\(cimg\\) cho phÃ©p báº¡n Ä‘á»c thá»±c hiá»‡n cÃ¡c biáº¿n Ä‘á»•i, tÃ­nh toÃ¡n giá»‘ng nhÆ° trÃªn má»™t máº£ng nhiá»u chiá»u mÃ  khÃ´ng cáº§n pháº£i chuyá»ƒn Ä‘á»•i sang kiá»ƒu máº£ng. Cháº³ng háº¡n nhÆ° Ä‘á»ƒ biáº¿t bá»©c áº£nh Ä‘Æ°á»£c lÆ°u bá»Ÿi Ä‘á»‘i tÆ°á»£ng tÃªn \\(img\\) cÃ³ bao nhiÃªu chiá»u, chÃºng ta sá»­ dá»¥ng hÃ m dim() giá»‘ng nhÆ° vá»›i máº£ngBá»©c áº£nh Ä‘Æ°á»£c lÆ°u bá»Ÿi Ä‘á»‘i tÆ°á»£ng \\(img\\) á»Ÿ trÃªn lÃ  má»™t bá»©c áº£nh mÃ u cÃ³ chiá»u rá»™ng 535 vÃ  chiá»u cao 595. Chiá»u thá»© ba báº±ng 1 nghÄ©a lÃ  Ä‘Ã¢y lÃ  má»™t bá»©c áº£nh (chiá»u thá»© ba lá»›n hÆ¡n 1 khi Ä‘á»‘i tÆ°á»£ng lÃ  hÃ¬nh áº£nh Ä‘á»™ng). Chiá»u thá»© tÆ° báº±ng 3 Ä‘áº¡i diá»‡n cho 3 mÃ u Ä‘á» (Red), mÃ u xanh lÃ¡ cÃ¢y (Green), vÃ  mÃ u xanh da trá»i (Blue). Báº¡n Ä‘á»c cÃ³ thá»ƒ hÃ¬nh dung má»™t bá»©c áº£nh mÃ u á»Ÿ trÃªn nhÆ° lÃ  sá»± káº¿t há»£p cá»§a ba ma tráº­n cÃ¹ng kÃ­ch thÆ°á»›c \\(535 \\times 595\\), ma tráº­n thá»© nháº¥t Ä‘áº¡i diá»‡n cho mÃ u Ä‘á», ma tráº­n thá»© hai Ä‘áº¡i diá»‡n cho mÃ u xanh lÃ¡ cÃ¢y vÃ  ma tráº­n thá»© ba Ä‘áº¡i diá»‡n cho mÃ u xanh da trá»i. Má»—i giÃ¡ trá»‹ trong ma tráº­n lÃ  má»™t sá»‘ trong khoáº£ng tá»« 0 Ä‘áº¿n 1. GiÃ¡ trá»‹ 0 tÆ°Æ¡ng á»©ng vá»›i mÃ u Ä‘en vÃ  giÃ¡ trá»‹ cÃ ng gáº§n 1 thÃ¬ mÃ u sáº¯c cá»§a Ä‘iá»ƒm Ä‘Ã³ cÃ ng gáº§n mÃ u mÃ  ma tráº­n Ä‘áº¡i diá»‡n. Äá»ƒ quan sÃ¡t ma tráº­n tÆ°Æ¡ng á»©ng vá»›i má»—i mÃ u, báº¡n Ä‘á»c cáº§n gÃ¡n giÃ¡ trá»‹ cá»§a 2 ma tráº­n cÃ²n láº¡i báº±ng 0 trÆ°á»›c khi hiá»ƒn thá»‹.HÃ m .cimg() Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ Ä‘á»•i má»™t máº£ng bá»‘n chiá»u sang kiá»ƒu \\(cimg\\) Ä‘á»ƒ cÃ³ thá»ƒ hiá»ƒn thá»‹ khi sá»­ dá»¥ng hÃ m plot(). LÆ°u Ã½ ráº±ng hÃ£y luÃ´n sá»­ dá»¥ng chiá»u thá»© ba báº±ng 1 vÃ  chiá»u thá»© tÆ° báº±ng 3 náº¿u báº¡n muá»‘n táº¡o áº£nh mÃ u. CÃ¡c cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y táº¡o ra cÃ¡c bá»©c áº£nh mÃ  cÃ¡c giÃ¡ trá»‹ trong cÃ¡c ma tráº­n mÃ u sáº¯c hoÃ n toÃ n lÃ  cÃ¡c giÃ¡ trá»‹ ngáº«u nhiÃªn phÃ¢n phá»‘i Ä‘á»u (uniform) trong khoáº£ng (0,1).Tham sá»‘ \\(interpolate\\) nháº­n giÃ¡ trá»‹ báº±ng \\(FALSE\\) cÃ³ nghÄ©a lÃ  cÃ¡c Ä‘iá»ƒm áº£nh giá»¯ nguyÃªn giÃ¡ trá»‹. Tham sá»‘ nÃ y cÃ³ giÃ¡ trá»‹ lÃ  máº·c Ä‘á»‹nh lÃ  \\(TRUE\\). Khi \\(interpolate\\) nháº­n giÃ¡ trá»‹ báº±ng \\(TRUE\\) hÃ¬nh áº£nh hiá»ƒn thá»‹ sáº½ cÃ³ sá»± giao thoa vá» mÃ u sáº¯c táº¡i viá»n cÃ¡c Ä‘iá»ƒm áº£nh vÃ  lÃ m cho áº£nh nhÃ¬n mÆ°á»£t mÃ  hÆ¡n.Vá» báº£n cháº¥t, xá»­ lÃ½ áº£nh trÃªn mÃ¡y tÃ­nh Ä‘iá»‡n tá»­ chÃ­nh lÃ  xá»­ lÃ½ cÃ¡c con sá»‘ náº±m trong máº£ng nhiá»u chiá»u. ChÃºng tÃ´i sáº½ giá»›i thiá»‡u má»™t vÃ i ká»¹ thuáº­t xá»­ lÃ½ Ä‘Æ¡n giáº£n trÃªn áº£nh Ä‘á»ƒ báº¡n Ä‘á»c cÃ³ thá»ƒ hiá»ƒu hÆ¡n vá» xá»­ lÃ½ máº£ng nhiá»u chiá»u. TrÆ°á»›c háº¿t lÃ  thao tÃ¡c cáº¯t áº£nh. Cáº¯t áº£nh chÃ­nh lÃ  má»™t phÃ©p láº¥y máº£ng con tá»« má»™t máº£ng ban Ä‘áº§u. Tháº­t váº­y,Tiáº¿p theo, chÃºng ta sáº½ thá»±c hiá»‡n tÄƒng hoáº·c giáº£m Ä‘á»™ sÃ¡ng cá»§a áº£nh. TÄƒng hoáº·c giáº£m Ä‘á»™ sÃ¡ng cá»§a áº£nh tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i viá»‡c Ä‘iá»u chá»‰nh Ä‘á»“ng thá»i cÃ¡c sá»‘ trong máº£ng nhiá»u chiá»u gáº§n hÆ¡n Ä‘áº¿n giÃ¡ trá»‹ 1 hoáº·c gáº§n hÆ¡n Ä‘áº¿n giÃ¡ trá»‹ 0. ChÃºng ta thá»±c hiá»‡n nhÆ° sauMá»™t ká»¹ thuáº­t xá»­ lÃ½ áº£nh khÃ¡c lÃ  giáº£m kÃ­ch thÆ°á»›c cá»§a áº£nh. Giáº£ sá»­ báº¡n Ä‘á»c muá»‘n giáº£m kÃ­ch thÆ°á»›c áº£nh má»—i chiá»u 50%. Äá»ƒ lÃ m Ä‘Æ°á»£c viá»‡c nÃ y, má»—i ma tráº­n kÃ­ch thÆ°á»›c \\(n \\times m\\) sáº½ Ä‘Æ°á»£c Ä‘á»•i thÃ nh ma tráº­n kÃ­ch thÆ°á»›c \\([n/2] \\times [m/2]\\) trong Ä‘Ã³ \\([n/2]\\) lÃ  pháº§n nguyÃªn cá»§a sá»‘ \\(n/2\\). NguyÃªn táº¯c chuyá»ƒn tá»« ma tráº­n ban Ä‘áº§u sang ma tráº­n cÃ³ kÃ­ch thÆ°á»›c nhá» hÆ¡n lÃ  má»—i Ã´ \\(2 \\times 2\\) cá»§a ma tráº­n ban Ä‘áº§u Ä‘Æ°á»£c chuyá»ƒn thÃ nh 1 sá»‘ trong ma tráº­n má»›i","code":"\n#install.packages(\"imager\")\nlibrary(imager)\nsetwd(\"../KHDL_KTKD/Image\")\nimg<-load.image(\"cat.jpg\") # Ä‘á»c hÃ¬nh áº£nh tÃªn \"cat\" vÃ o \nplot(img)\nclass(img)## [1] \"cimg\"         \"imager_array\" \"numeric\"\ndim(img) # máº£ng bá»‘n chiá»u: chiá»u rá»™ng * chiá»u cao * chiá»u thá»i gian * chiá»u mÃ u sáº¯c## [1] 535 595   1   3\nimg_red<-img\nimg_red[,,1,2:3]<-0 # cho 2 ma tráº­n mÃ u xanh lÃ¡ cÃ¢y vÃ  xanh da trá»i báº±ng 0\n\nimg_green<-img\nimg_green[,,1,c(1,3)]<-0 # cho 2 ma tráº­n mÃ u Ä‘á» vÃ  xanh da trá»i báº±ng 0\n\nimg_blue<-img\nimg_blue[,,1,1:2]<-0 # cho 2 ma tráº­n mÃ u xanh lÃ¡ cÃ¢y vÃ  Ä‘á» báº±ng 0\n\npar(mfrow = c(1,3))\nplot(img_red, main = \"Chá»‰ giá»¯a láº¡i mÃ u Ä‘á»\")\nplot(img_green, main = \"Chá»‰ giá»¯a láº¡i mÃ u xanh lÃ¡ cÃ¢y\")\nplot(img_blue, main = \"Chá»‰ giá»¯a láº¡i mÃ u xanh da trá»i\")\nimg1<-array(runif(5*5*1*3),dim=c(5,5,1,3)) # bá»©c áº£nh mÃ u kÃ­ch thÆ°á»›c 5*5\nimg1<-as.cimg(img1)\n\nimg2<-array(runif(1000*1000*1*3),dim=c(1000,1000,1,3)) # bá»©c áº£nh mÃ u kÃ­ch thÆ°á»›c 1000*1000\nimg2<-as.cimg(img2)\n\npar(mfrow = c(1,2))\nplot(img1, interpolate = FALSE, main = \"áº¢nh nhiá»…u kÃ­ch thÆ°á»›c 5 * 5\") \nplot(img2, interpolate = FALSE, main = \"áº¢nh nhiá»…u kÃ­ch thÆ°á»›c 1000 * 1000\")\nn<-dim(img)[1] # chiá»u rá»™ng cá»§a áº£nh\nk<-round(n/2) # Ä‘iá»ƒm giá»¯a Ä‘á»ƒ chia áº£nh lÃ m hai ná»­a\nimg1<-img[1:k,,,] # img1 lÃ  ná»­a bÃªn trÃ¡i cá»§a áº£nh\nimg2<-img[(k+1):n,,,] # img2 lÃ  ná»­a bÃªn pháº£i cá»§a áº£nh\npar(mfrow = c(1,2))\nplot(as.cimg(img1), main = \"Ná»­a bÃªn trÃ¡i\") \nplot(as.cimg(img2), main = \"Ná»­a bÃªn pháº£i\")\nimg1<-img + (1 - img) * 0.3 # img1 lÃ  bá»©c áº£nh sau khi tÄƒng Ä‘á»™ sÃ¡ng lÃªn 30% \nimg2<-img - img * 0.3 # img2 lÃ  bá»©c áº£nh sau khi giáº£m Ä‘á»™ sÃ¡ng Ä‘i 30%\npar(mfrow = c(1,3))\nplot(img, rescale = FALSE, main= \"áº¢nh ban Ä‘áº§u\") \nplot(as.cimg(img1), rescale = FALSE, main = \"TÄƒng Ä‘á»™ sÃ¡ng\") \nplot(as.cimg(img2),rescale = FALSE, main = \"Giáº£m Ä‘á»™ sÃ¡ng\")\ngiamchieu<-function(M,k){\n  n<-dim(M)[1]; m<-dim(M)[2]\n  n1<-round(n/k)-1; m1<-round(m/k)-1\n  M1<-matrix(0,n1,m1)\n  for (i in 1:n1){\n    for (j in 1:m1){\n      i1<-(k*(i-1)+1):(k*i)\n      j1<-(k*(j-1)+1):(k*j)\n      M1[i,j]<-mean(M[i1,j1],na.rm=TRUE)\n    }\n  }\n  return(M1)\n}\n\nn<-dim(img)[1]; m<-dim(img)[2]\nk1<-10; k2<-20\nn1<-round(n/k1)-1; m1<-round(m/k1)-1\nn2<-round(n/k2)-1; m2<-round(m/k2)-1\n\nimg1<-array(0,dim=c(n1,m1,1,3));\nimg2<-array(0,dim=c(n2,m2,1,3));\n\nfor (i in 1:3){ \n  img1[,,1,i]<-giamchieu(img[,,1,i],k1)\n  img2[,,1,i]<-giamchieu(img[,,1,i],k2)\n}\n\npar(mfrow = c(1,3))\nplot(img, interpolate = FALSE, main= \"áº¢nh ban Ä‘áº§u\") \nplot(as.cimg(img1), interpolate = FALSE, main = \"Giáº£m kÃ­ch thÆ°á»›c 1:10\") \nplot(as.cimg(img2), interpolate = FALSE, main = \"Giáº£m kÃ­ch thÆ°á»›c 1:20\")"},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"list","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.3 List","text":"KhÃ´ng giá»‘ng nhÆ° vÃ©c-tÆ¡, ma tráº­n, hay máº£ng nhiá»u chiá»u, \\(list\\) lÃ  má»™t cáº¥u trÃºc trong R mÃ  cÃ³ thá»ƒ chá»©a nhiá»u kiá»ƒu Ä‘á»‘i tÆ°á»£ng khÃ¡c nhau bao gá»“m biáº¿n, vÃ©c-tÆ¡, ma tráº­n, vÃ  cáº£ cÃ¡c \\(list\\) khÃ¡c. Vá»›i nhá»¯ng báº¡n Ä‘á»c Ä‘Ã£ há»c qua Python, \\(list\\) cÅ©ng giá»‘ng nhÆ° má»™t \\(dictionary\\). Äá»‘i vá»›i cÃ¡c báº¡n Ä‘á»c Ä‘Ã£ há»c qua ngÃ´n ngá»¯ láº­p trÃ¬nh C++, \\(list\\) tÆ°Æ¡ng tá»± nhÆ° má»™t \\(struct\\). \\(list\\) Ä‘Ã³ng vai trÃ² quan trá»ng trong R, Ä‘áº·c biá»‡t lÃ  trong viáº¿t hÃ m sá»‘ vÃ  láº­p trÃ¬nh hÆ°á»›ng Ä‘á»‘i tÆ°á»£ng.Trong pháº§n nÃ y cá»§a cuá»‘n sÃ¡ch, chÃºng ta sáº½ tÃ¬m hiá»ƒu cÃ¡ch táº¡o ra \\(list\\) vÃ  á»©ng dá»¥ng cáº¥u trÃºc cá»§a \\(list\\) Ä‘á»ƒ phá»¥c vá»¥ cÃ´ng viá»‡c phÃ¢n tÃ­ch dá»¯ liá»‡u má»™t cÃ¡ch hiá»‡u quáº£ nháº¥t.","code":""},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"khá»Ÿi-táº¡o-list-vÃ -chá»‰-sá»‘-cá»§a-list.","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.3.1 Khá»Ÿi táº¡o \\(list\\) vÃ  chá»‰ sá»‘ cá»§a \\(list\\).","text":"HÃ m sá»‘ Ä‘á»ƒ táº¡o ra má»™t \\(list\\) trong R lÃ  hÃ m list(). Giáº£ sá»­ chÃºng ta muá»‘n táº¡o thÃ nh má»™t Ä‘á»‘i tÆ°á»£ng cÃ³ tÃªn \\(SV1\\) chá»©a cÃ¡c thÃ´ng tin vá» má»™t sinh viÃªnTÃªn cá»§a sinh viÃªn: Ä‘Æ°á»£c lÆ°u trong má»™t biáº¿n kiá»ƒu chuá»—i kÃ½ tá»±.TÃªn cá»§a sinh viÃªn: Ä‘Æ°á»£c lÆ°u trong má»™t biáº¿n kiá»ƒu chuá»—i kÃ½ tá»±.NgÃ y sinh cá»§a sinh viÃªn: Ä‘Æ°á»£c lÆ°u trong má»™t biáº¿n kiá»ƒu thá»i gian.NgÃ y sinh cá»§a sinh viÃªn: Ä‘Æ°á»£c lÆ°u trong má»™t biáº¿n kiá»ƒu thá»i gian.Giá»›i tÃ­nh cá»§a sinh viÃªn: Ä‘Æ°á»£c lÆ°u trong má»™t biáº¿n kiá»ƒu logic, giÃ¡ trá»‹ \\(TRUE\\) tÆ°Æ¡ng á»©ng vá»›i giá»›i tÃ­nh Nam, vÃ  \\(FALSE\\) tÆ°Æ¡ng á»©ng vá»›i giá»›i tÃ­nh ná»¯.Giá»›i tÃ­nh cá»§a sinh viÃªn: Ä‘Æ°á»£c lÆ°u trong má»™t biáº¿n kiá»ƒu logic, giÃ¡ trá»‹ \\(TRUE\\) tÆ°Æ¡ng á»©ng vá»›i giá»›i tÃ­nh Nam, vÃ  \\(FALSE\\) tÆ°Æ¡ng á»©ng vá»›i giá»›i tÃ­nh ná»¯.Báº£ng Ä‘iá»ƒm cá»§a sinh viÃªn: lÃ  má»™t \\(data.frame\\) cÃ³ 2 cá»™t, 1 cá»™t lÃ  tÃªn mÃ´n há»c vÃ  má»™t cá»™t lÃ  Ä‘iá»ƒm cá»§a mÃ´n há»c tÆ°Æ¡ng á»©ng.Báº£ng Ä‘iá»ƒm cá»§a sinh viÃªn: lÃ  má»™t \\(data.frame\\) cÃ³ 2 cá»™t, 1 cá»™t lÃ  tÃªn mÃ´n há»c vÃ  má»™t cá»™t lÃ  Ä‘iá»ƒm cá»§a mÃ´n há»c tÆ°Æ¡ng á»©ng.ChÃºng ta sá»­ dá»¥ng hÃ m list() Ä‘á»ƒ táº¡o ra má»™t \\(list\\) cÃ³ tÃªn \\(SV1\\) nhÆ° sauBáº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y \\(SV1\\) cÃ³ bá»‘n Ä‘á»‘i tÆ°á»£ng con cÃ³ tÃªn lÃ  \\(Ten\\), \\(Ngay\\_sinh\\), \\(Gioi\\_tinh\\), vÃ  \\(Bang\\_diem\\). Má»—i Ä‘á»‘i tÆ°á»£ng con cÃ³ má»™t kiá»ƒu giÃ¡ trá»‹ khÃ¡c nhau, riÃªng Ä‘á»‘i tÆ°á»£ng con \\(Bang\\_diem\\) lÃ  má»™t dá»¯ liá»‡u (\\(data.frame\\)).Äá»ƒ láº¥y ra má»™t Ä‘á»‘i tÆ°á»£ng con cá»§a \\(list\\) báº¡n Ä‘á»c sá»­ dá»¥ng kÃ½ hiá»‡u \\(\\$\\). Cháº³ng háº¡n báº¡n Ä‘á»c muá»‘n hiá»ƒn thá»‹ báº£ng Ä‘iá»ƒm cá»§a sinh viÃªn cÃ³ thÃ´ng tin Ä‘Æ°á»£c lÆ°u trong \\(list\\) SV1, báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¢u lá»‡nh sauÄá»ƒ biáº¿t tÃªn cÃ¡c Ä‘á»‘i tÆ°á»£ng trong má»™t \\(list\\), báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m names()Má»™t cÃ¡ch khÃ¡c Ä‘á»ƒ láº¥y ra má»™t Ä‘á»‘i tÆ°á»£ng con cá»§a \\(list\\) lÃ  sá»­ dá»¥ng chá»‰ sá»‘ cá»§a Ä‘á»‘i tÆ°á»£ng. báº£ng Ä‘iá»ƒm náº±m á»Ÿ vá»‹ trÃ­ thá»© 4 trong list nÃªn báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¢u lá»‡nh sauBáº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng Ä‘á»ƒ láº¥y ra pháº§n tá»­ con, chÃºng ta cáº§n pháº£i sá»­ dá»¥ng hai láº§n dáº¥u ngoáº·c vuÃ´ng. Náº¿u chá»‰ sá»­ dá»¥ng má»™t dáº¥u ngoáº·c vuÃ´ng, pháº§n tá»­ Ä‘Æ°á»£c láº¥y ra sáº½ lÃ  1 list cÃ³ 1 pháº§n tá»­ vÃ  pháº§n tá»­ duy nháº¥t lÃ  báº£ng Ä‘iá»ƒm.Äá»ƒ thÃªm má»™t Ä‘á»‘i tÆ°á»£ng vÃ o \\(list\\), chÃºng ta cÃ³ thá»ƒ Ä‘áº·t tÃªn trá»±c tiáº¿p cho Ä‘á»‘i tÆ°á»£ng má»›i vÃ  gÃ¡n giÃ¡ trá»‹ cho Ä‘á»‘i tÆ°á»£ng. VÃ­ dá»¥ nhÆ° chÃºng ta muá»‘n thÃªm thÃ´ng tin vá» quÃª quÃ¡n cá»§a sinh viÃªn vÃ o má»™t Ä‘á»‘i tÆ°á»£ng cÃ³ tÃªn lÃ  \\(que\\_quan\\)Äá»ƒ xÃ³a Ä‘i má»™t Ä‘á»‘i tÆ°á»£ng khá»i list, chÃºng ta gÃ¡n cho Ä‘á»‘i tÆ°á»£ng Ä‘Ã³ giÃ¡ trá»‹ báº±ng \\(NULL\\)NhÆ° chÃºng ta Ä‘Ã£ tháº£o luáº­n trong pháº§n giá»›i thiá»‡u, \\(list\\) lÃ  má»™t cáº¥u trÃºc nhiá»u lá»›p, nghÄ©a lÃ  má»™t list cÃ³ thá»ƒ chá»©a cÃ¡c Ä‘á»‘i tÆ°á»£ng cÃ³ kiá»ƒu \\(list\\). Tháº­t váº­y, giáº£ sá»­ chÃºng ta cÃ³ list \\(SV2\\) chá»©a cÃ¡c thÃ´ng tin tÆ°Æ¡ng á»©ng cá»§a má»™t sinh viÃªn khÃ¡cChÃºng ta cÃ³ thá»ƒ táº¡o má»™t \\(list\\) cÃ³ tÃªn lÃ  \\(DS\\) chá»©a thÃ´ng tin cá»§a cáº£ 2 sinh viÃªnÄá»ƒ xem báº£ng Ä‘iá»ƒm cá»§a sinh viÃªn thá»© hai, chÃºng ta cáº§n sá»­ dá»¥ng 2 láº§n kÃ½ hiá»‡u \\(\\$\\):","code":"\nSV1<-list(Ten = \"Nguyá»…n Äá»©c Nam\",\n          Ngay_sinh = as.Date(\"2000-06-20\"),\n          Gioi_tinh = TRUE,\n          Bang_diem = data.frame(Mon_hoc = c(\"Giáº£i tÃ­ch\", \"Äáº¡i sá»‘\", \"XÃ¡c suáº¥t\"),\n                                 Diem = c(6.5, 8.5, 7.0)))\nstr(SV1) # xem cáº¥u trÃºc cá»§a list SV1## List of 4\n##  $ Ten      : chr \"Nguyá»…n Äá»©c Nam\"\n##  $ Ngay_sinh: Date[1:1], format: \"2000-06-20\"\n##  $ Gioi_tinh: logi TRUE\n##  $ Bang_diem:'data.frame':   3 obs. of  2 variables:\n##   ..$ Mon_hoc: chr [1:3] \"Giáº£i tÃ­ch\" \"Äáº¡i sá»‘\" \"XÃ¡c suáº¥t\"\n##   ..$ Diem   : num [1:3] 6.5 8.5 7\nSV1$Bang_diem # hiá»ƒn thá»‹ báº£ng Ä‘iá»ƒm##     Mon_hoc Diem\n## 1 Giáº£i tÃ­ch  6.5\n## 2    Äáº¡i sá»‘  8.5\n## 3  XÃ¡c suáº¥t  7.0\nnames(SV1)## [1] \"Ten\"       \"Ngay_sinh\" \"Gioi_tinh\" \"Bang_diem\"\nSV1[[4]] # sá»­ dá»¥ng 2 láº§n dáº¥u ngoáº·c vuÃ´ng##     Mon_hoc Diem\n## 1 Giáº£i tÃ­ch  6.5\n## 2    Äáº¡i sá»‘  8.5\n## 3  XÃ¡c suáº¥t  7.0\nSV1[4] # lÃ  má»™t list cÃ³ 1 pháº§n tá»­## $Bang_diem\n##     Mon_hoc Diem\n## 1 Giáº£i tÃ­ch  6.5\n## 2    Äáº¡i sá»‘  8.5\n## 3  XÃ¡c suáº¥t  7.0\nSV1$que_quan<-\"HÃ  Ná»™i\" # ThÃªm vÃ o má»™t pháº§n tá»­ cÃ³ tÃªn que_quan lÃ  má»™t biáº¿n\nstr(SV1) # list SV1 Ä‘Ã£ cÃ³ thÃªm pháº§n tá»­ thá»© nÄƒm## List of 5\n##  $ Ten      : chr \"Nguyá»…n Äá»©c Nam\"\n##  $ Ngay_sinh: Date[1:1], format: \"2000-06-20\"\n##  $ Gioi_tinh: logi TRUE\n##  $ Bang_diem:'data.frame':   3 obs. of  2 variables:\n##   ..$ Mon_hoc: chr [1:3] \"Giáº£i tÃ­ch\" \"Äáº¡i sá»‘\" \"XÃ¡c suáº¥t\"\n##   ..$ Diem   : num [1:3] 6.5 8.5 7\n##  $ que_quan : chr \"HÃ  Ná»™i\"\nSV1$que_quan<-NULL # xÃ³a pháº§n tá»­ cÃ³ tÃªn que_quan khá»i SV1\nstr(SV1) # list SV1 chá»‰ cÃ²n 4 pháº§n tá»­## List of 4\n##  $ Ten      : chr \"Nguyá»…n Äá»©c Nam\"\n##  $ Ngay_sinh: Date[1:1], format: \"2000-06-20\"\n##  $ Gioi_tinh: logi TRUE\n##  $ Bang_diem:'data.frame':   3 obs. of  2 variables:\n##   ..$ Mon_hoc: chr [1:3] \"Giáº£i tÃ­ch\" \"Äáº¡i sá»‘\" \"XÃ¡c suáº¥t\"\n##   ..$ Diem   : num [1:3] 6.5 8.5 7\nSV2<-list(Ten = \"Nguyá»…n Thá»‹ Loan\",\n          Ngay_sinh = as.Date(\"2000-05-13\"),\n          Gioi_tinh = FALSE,\n          Bang_diem = data.frame(Mon_hoc = c(\"XÃ¡c suáº¥t\", \"Thá»‘ng kÃª\", \"Há»c mÃ¡y\",\"AI\"),\n                                 Diem = c(7.0, 9.5, 10.0, 9.0)),\n          Que_quan = \"HÃ  Ná»™i\")\nDS<-list(SV1 = SV1,SV2 = SV2) # DS lÃ  má»™t list cÃ³ 2 pháº§n tá»­, má»—i pháº§n tá»­ lÃ  1 list\nstr(DS) # xem cáº¥u trÃºc cá»§a list DS## List of 2\n##  $ SV1:List of 4\n##   ..$ Ten      : chr \"Nguyá»…n Äá»©c Nam\"\n##   ..$ Ngay_sinh: Date[1:1], format: \"2000-06-20\"\n##   ..$ Gioi_tinh: logi TRUE\n##   ..$ Bang_diem:'data.frame':    3 obs. of  2 variables:\n##   .. ..$ Mon_hoc: chr [1:3] \"Giáº£i tÃ­ch\" \"Äáº¡i sá»‘\" \"XÃ¡c suáº¥t\"\n##   .. ..$ Diem   : num [1:3] 6.5 8.5 7\n##  $ SV2:List of 5\n##   ..$ Ten      : chr \"Nguyá»…n Thá»‹ Loan\"\n##   ..$ Ngay_sinh: Date[1:1], format: \"2000-05-13\"\n##   ..$ Gioi_tinh: logi FALSE\n##   ..$ Bang_diem:'data.frame':    4 obs. of  2 variables:\n##   .. ..$ Mon_hoc: chr [1:4] \"XÃ¡c suáº¥t\" \"Thá»‘ng kÃª\" \"Há»c mÃ¡y\" \"AI\"\n##   .. ..$ Diem   : num [1:4] 7 9.5 10 9\n##   ..$ Que_quan : chr \"HÃ  Ná»™i\"\nDS$SV2$Bang_diem # Xem báº£ng Ä‘iá»ƒm cá»§a sinh viÃªn thá»© hai##    Mon_hoc Diem\n## 1 XÃ¡c suáº¥t  7.0\n## 2 Thá»‘ng kÃª  9.5\n## 3  Há»c mÃ¡y 10.0\n## 4       AI  9.0"},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"sá»­-dá»¥ng-list-vá»›i-hÃ m-sá»‘","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.3.2 Sá»­ dá»¥ng \\(list\\) vá»›i hÃ m sá»‘","text":"Háº§u nhÆ° táº¥t cáº£ cÃ¡c hÃ m sá»‘ Ä‘Æ°á»£c xÃ¢y dá»±ng sáºµn trong R Ä‘á»u cho káº¿t quáº£ Ä‘áº§u ra dÆ°á»›i dáº¡ng \\(list\\). Báº¡n Ä‘á»c quan sÃ¡t giÃ¡ trá»‹ Ä‘áº§u ra cá»§a hÃ m cÃ³ tÃªn lÃ  uniroot() nhÆ° sauHÃ m uniroot() Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ¬m nghiá»‡m duy nháº¥t cá»§a má»™t hÃ m sá»‘ trÃªn má»™t khoáº£ng. Äoáº¡n cÃ¢u lá»‡nh á»Ÿ trÃªn sá»­ dá»¥ng hÃ m \\(uniroot()\\) Ä‘á»ƒ tÃ¬m nghiá»‡m duy nháº¥t cá»§a phÆ°Æ¡ng trÃ¬nh \\(x^2 - 1/4 = 0\\) trÃªn khoáº£ng \\((0,1)\\). Káº¿t quáº£ cá»§a hÃ m uniroot() lÃ  má»™t list cÃ³ 5 pháº§n tá»­ Ä‘á»u lÃ  cÃ¡c biáº¿n kiá»ƒu sá»‘ vá»›i tÃªn tÆ°Æ¡ng á»©ng lÃ  \\(root\\), \\(f.root\\), \\(iter\\), \\(init.\\), vÃ  $ estim.prec$. CÃ¡c hÃ m sá»‘ phá»©c táº¡p hÆ¡n sáº½ cÃ³ cáº¥u trÃºc cá»§a káº¿t quáº£ Ä‘áº§u ra phá»©c táº¡p hÆ¡n ráº¥t nhiá»u. Báº¡n Ä‘á»c cáº§n Ä‘á»c ká»¹ hÆ°á»›ng dáº«n cá»§a cÃ¡c hÃ m Ä‘á»ƒ hiá»ƒu má»—i Ä‘á»‘i tÆ°á»£ng con cá»§a káº¿t quáº£ Ä‘áº§u ra cÃ³ Ã½ nghÄ©a nhÆ° tháº¿ nÃ o.Báº¡n Ä‘á»c cÅ©ng nÃªn sá»­ dá»¥ng kiá»ƒu \\(list\\) Ä‘á»ƒ lÃ m Ä‘áº§u ra cho cÃ¡c hÃ m sá»‘ tá»± xÃ¢y dá»±ng. ChÃºng ta sáº½ quay trá»Ÿ láº¡i vÃ­ dá»¥ vá» xÃ¢y dá»±ng hÃ m sá»‘ \\(PV\\) Ä‘á»ƒ tÃ­nh giÃ¡ trá»‹ hiá»‡n táº¡i cá»§a má»™t dÃ²ng tiá»n. Äá»‘i vá»›i má»™t dÃ²ng tiá»n tÆ°Æ¡ng lai, ngoÃ i giÃ¡ trá»‹ hiá»‡n táº¡i, báº¡n Ä‘á»c cÃ³ thá»ƒ quan tÃ¢m Ä‘áº¿n cÃ¡c giÃ¡ trá»‹ khÃ¡c nhÆ° Macaulay Duration, Modified Duration, Dollar Duration, Convexity (Ã½ nghÄ©a vÃ  cÃ¡ch tÃ­nh cÃ¡c giÃ¡ trá»‹ nÃ y á»Ÿ trong pháº§n phá»¥ lá»¥c cá»§a chÆ°Æ¡ng nÃ y).ChÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m summary_CF() Ä‘á»ƒ tÃ­nh toÃ¡n cÃ¡c Ä‘áº·c trÆ°ng cá»§a má»™t trÃ¡i phiáº¿u vá»›i cÃ¡c thÃ´ng sá»‘ nhÆ° sau:\nTable 2.1: CÃ¡c thÃ´ng sá»‘ cá»§a má»™t trÃ¡i phiáº¿u\nChÃºng ta táº¡o ra dÃ²ng tiá»n tÆ°Æ¡ng lai cá»§a trÃ¡i phiáº¿u vá»›i cÃ¡c thÃ´ng sá»‘ nhÆ° trÃªn vÃ  sau Ä‘Ã³ sá»­ dá»¥ng hÃ m summary_CF()Chuyá»ƒn sang má»™t vÃ­ dá»¥ khÃ¡c khi sá»­ dá»¥ng \\(list\\) lÃ m Ä‘áº§u ra cho má»™t hÃ m sá»‘ tá»± xÃ¢y dá»±ng. Khi báº¡n Ä‘á»c tÃ¬m hiá»ƒu vá» giÃ¡ trá»‹ cá»§a má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘, chÃºng ta thÆ°á»ng tÃ­nh toÃ¡n cÃ¡c giÃ¡ trá»‹ Ä‘áº·c trÆ°ng nhÆ° giÃ¡ trá»‹ trung bÃ¬nh, giÃ¡ trá»‹ lá»›n nháº¥t, nhá» nháº¥t, cÃ¡c phÃ¢n vá»‹, vÃ  muá»‘n xem phÃ¢n phá»‘i cÃ¡c giÃ¡ trá»‹ trong vÃ©c-tÆ¡ Ä‘Ã³ nhÆ° tháº¿ nÃ o. ChÃºng ta cÃ³ thá»ƒ tá»± viáº¿t má»™t hÃ m sá»‘ Ä‘á»ƒ thá»±c hiá»‡n viá»‡c nÃ y vá»›i Ä‘áº§u ra lÃ  má»™t \\(list\\)ChÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m summary_vec() Ä‘á»ƒ tá»•ng há»£p thÃ´ng tin vá» lá»£i suáº¥t tÃ­nh theo ngÃ y cá»§a chá»‰ sá»‘ FTSE (chá»‰ sá»‘ cá»• phiáº¿u cá»§a 100 cÃ´ng ty cÃ³ giÃ¡ trá»‹ vá»‘n hÃ³a thá»‹ trÆ°á»ng lá»›n nháº¥t niÃªm yáº¿t trÃªn Sá»Ÿ giao dá»‹ch chá»©ng khoÃ¡n London) trong nÄƒm 1991 Ä‘áº¿n nÄƒm 1999. Chá»‰ sá»‘ nÃ y Ä‘Æ°á»£c lÆ°u trong dá»¯ liá»‡u \\(EuStockMarkets\\) cÃ³ sáºµn trong R.Má»™t lá»£i tháº¿ khÃ¡c cá»§a Ä‘á»‘i tÆ°á»£ng kiá»ƒu \\(list\\) lÃ  Ä‘áº©y nhanh tá»‘c Ä‘á»™ tÃ­nh toÃ¡n khi dÃ¹ng cÃ¡c hÃ m há» apply(). ChÃºng ta sáº½ tháº£o luáº­n váº¥n Ä‘á» nÃ y trong pháº§n tiáº¿p theo cá»§a cuá»‘n sÃ¡ch.","code":"\nf<-function(x) x^2 - 1/4\nresult<-uniroot(f,c(0,1))\nclass(result) # Ä‘á»‘i tÆ°á»£ng result cÃ³ kiá»ƒu list## [1] \"list\"\nstr(result) # xem cáº¥u trÃºc cá»§a Ä‘á»‘i tÆ°á»£ng result## List of 5\n##  $ root      : num 0.5\n##  $ f.root    : num -2.85e-05\n##  $ iter      : int 6\n##  $ init.it   : int NA\n##  $ estim.prec: num 6.1e-05\nsummaryCF<-function(i,CF){\n  n<-length(CF)\n  PV<-sum(CF/((1+i)^(1:n)))\n  Mac_D<-sum(CF*(1:n)/((1+i)^(1:n)))/PV\n  Mod_D<-Mac_D/(1+i)\n  Dollar_D<-PV*Mod_D*100\n  Convexity<-Mod_D\n  ket_qua<-list(PV = PV, Mac_D = Mac_D, Mod_D = Mod_D, \n               Dollar_D = Dollar_D, Convexity = Convexity)\n  return(ket_qua)\n}\n# Nháº­p liá»‡u\nF<-10 # má»‡nh giÃ¡ trÃ¡i phiáº¿u, Ä‘Æ¡n vá»‹ tá»· Ä‘á»“ng \nT<-12 # 12 cho Ä‘áº¿n ngÃ y Ä‘Ã¡o háº¡n\nc<-9.25/100 # lÃ£i suáº¥t coupon\ni<-5/100 # lÃ£i suáº¥t dÃ¹ng Ä‘á»ƒ chiáº¿t kháº¥u\nCF<-c(rep(c*F,(T-2)),c*F+F) # DÃ²ng tiá»n tÆ°Æ¡ng lai cá»§a trÃ¡i phiáº¿u\nsummaryCF(i,CF)## $PV\n## [1] 13.53023\n## \n## $Mac_D\n## [1] 7.884908\n## \n## $Mod_D\n## [1] 7.509436\n## \n## $Dollar_D\n## [1] 10160.44\n## \n## $Convexity\n## [1] 7.509436\nsummary_vec<-function(x){\n  do_dai<-length(x) # Ä‘á»™ dÃ i cá»§a vÃ©c-tÆ¡\n  ty_le_na<-paste(round(sum(is.na(x))/do_dai*100,2),\"%\") # % giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c\n  gioi_han<-c(min(x,na.rm=TRUE),max(x,na.rm=TRUE)) # lá»›n nháº¥t vÃ  nhá» nháº¥t\n  trung_binh<-mean(x,na.rm=TRUE)\n  do_lech_chuan<-sd(x,na.rm=TRUE)\n  phan_vi<-quantile(x,c(0.01,0.1,0.25,0.5,0.75,0.9,0.99),na.rm=TRUE)\n  do_thi<-ggplot(data=data.frame(x=x), aes(x=x))+\n    geom_histogram(color = \"black\", fill = \"blue\",alpha = 0.5)+\n    xlab(\"\")+ylab(\"\")\n  result<-list(do_dai = do_dai, ty_le_na = ty_le_na, gioi_han = gioi_han,\n               trung_binh = trung_binh, do_lech_chuan = do_lech_chuan, \n               phan_vi = phan_vi, do_thi = do_thi)\n  return(result)\n}\nchi_so<-EuStockMarkets[,4] # láº¥y chá»‰ sá»‘ FTSE ra tá»« cá»™t thá»© 4 cá»§a EuStockMarkets\nn<-length(chi_so) # Ä‘á»™ dÃ i cá»§a chuá»—i chá»‰ sá»‘ chá»©ng khoÃ¡n\nloi_suat<-log(chi_so[2:n]/chi_so[1:(n-1)]) # lá»£i suáº¥t cá»§a chá»‰ sá»‘\nsummary_vec(loi_suat)## $do_dai\n## [1] 1859\n## \n## $ty_le_na\n## [1] \"0 %\"\n## \n## $gioi_han\n## [1] -0.04139903  0.05439552\n## \n## $trung_binh\n## [1] 0.0004319851\n## \n## $do_lech_chuan\n## [1] 0.007957728\n## \n## $phan_vi\n##            1%           10%           25%           50%           75% \n## -2.060655e-02 -9.139666e-03 -4.318778e-03  8.021069e-05  5.253592e-03 \n##           90%           99% \n##  9.714781e-03  1.931723e-02 \n## \n## $do_thi"},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"cÃ¡c-hÃ m-há»-apply","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.4 CÃ¡c hÃ m há» apply()","text":"NhÃ³m hÃ m apply() lÃ  nhÃ³m hÃ m cÃ³ sáºµn trong R cho phÃ©p báº¡n Ä‘á»c thá»±c hiá»‡n láº·p Ä‘i láº·p láº¡i má»™t hÃ m sá»‘ trÃªn nhiá»u Ä‘á»‘i tÆ°á»£ng. Vá» cÆ¡ báº£n nhÃ³m hÃ m nÃ y hoáº¡t Ä‘á»™ng giá»‘ng nhÆ° má»™t vÃ²ng láº·p nhÆ°ng cÃ¢u lá»‡nh viáº¿t báº±ng nhÃ³m hÃ m nÃ y sáº½ cháº¡y nhanh hÆ¡n vÃ  Ä‘Æ¡n giáº£n hÆ¡n viáº¿t vÃ²ng láº·p ráº¥t nhiá»ƒu.CÃ¡c hÃ m mÃ  chÃºng tÃ´i sáº½ giá»›i thiá»‡u Ä‘áº¿n báº¡n Ä‘á»c trong pháº§n nÃ y bao gá»“m apply(), lapply() vÃ  sapply. CÃ²n nhiá»u hÃ m khÃ¡c thuá»™c nhÃ³m hÃ m nÃ y nhÆ° vapply(), tapply(), mapply(), â€¦, nhÆ°ng vá» nguyÃªn táº¯c hoáº¡t Ä‘á»™ng cá»§a cÃ¡c hÃ m nÃ y lÃ  tÆ°Æ¡ng tá»± vÃ  chá»‰ khÃ¡c á»Ÿ chá»— chÃºng Ã¡p dá»¥ng trÃªn cÃ¡c loáº¡i Ä‘á»‘i tÆ°á»£ng khÃ¡c nhau nÃªn báº¡n Ä‘á»c cÃ³ thá»ƒ tá»± tÃ¬m hiá»ƒu mÃ  khÃ´ng gáº·p khÃ³ khÄƒn nÃ o.","code":""},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"hÃ m-apply","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.4.1 HÃ m apply()","text":"Cho má»™t vÃ©c-tÆ¡ \\(x\\) kiá»ƒu sá»‘ vÃ  má»™t hÃ m \\(f\\), cháº³ng háº¡n nhÆ° \\(f(x) = x^2\\). Khi báº¡n Ä‘á»c viáº¿t f(x) R sáº½ hiá»ƒu ráº±ng báº¡n Ä‘ang thá»±c hiá»‡n hÃ m sá»‘ \\(f\\) cho tá»«ng pháº§n tá»­ cá»§a vÃ©c-tÆ¡ \\(x\\) vÃ  sáº½ tráº£ láº¡i giÃ¡ trá»‹ lÃ  má»™t vÃ©c-tÆ¡ mÃ  tá»«ng pháº§n tá»­ tÆ°Æ¡ng á»©ng lÃ  bÃ¬nh phÆ°Æ¡ng cá»§a cÃ¡c pháº§n tá»­ trong \\(x\\). Viá»‡c thá»±c hiá»‡n hÃ m \\(f\\) trÃªn vÃ©c-tÆ¡ \\(x\\) diá»…n ra má»™t cÃ¡ch Ä‘á»“ng thá»i vÃ  hiá»‡u quáº£ hÆ¡n vá»›i viá»‡c viáº¿t má»™t vÃ²ng láº·p Ä‘á»ƒ tÃ­nh hÃ m \\(f\\) trÃªn tá»«ng pháº§n tá»­ cá»§a \\(x\\).Äiá»u gÃ¬ xáº£y ra khi \\(x\\) khÃ´ng pháº£i lÃ  má»™t vÃ©c-tÆ¡ Ä‘á»“ng cÃ¡c pháº§n tá»­ con cá»§a \\(x\\) khÃ´ng pháº£i lÃ  má»™t biáº¿n, cháº³ng háº¡n nhÆ°\\(x\\) lÃ  má»™t ma tráº­n vÃ  báº¡n muá»‘n tÃ­nh toÃ¡n má»™t hÃ m \\(f\\) trÃªn cÃ¡c pháº§n tá»­ con cá»§a \\(x\\) lÃ  má»™t vÃ©c-tÆ¡ hÃ ng hoáº·c má»™t vÃ©c-tÆ¡ cá»™t.\\(x\\) lÃ  má»™t ma tráº­n vÃ  báº¡n muá»‘n tÃ­nh toÃ¡n má»™t hÃ m \\(f\\) trÃªn cÃ¡c pháº§n tá»­ con cá»§a \\(x\\) lÃ  má»™t vÃ©c-tÆ¡ hÃ ng hoáº·c má»™t vÃ©c-tÆ¡ cá»™t.\\(x\\) lÃ  má»™t dá»¯ liá»‡u vÃ  báº¡n muá»‘n thá»±c hiá»‡n má»™t hÃ m \\(f\\) trÃªn táº¥t cáº£ cÃ¡c cá»™t dá»¯ liá»‡u.\\(x\\) lÃ  má»™t dá»¯ liá»‡u vÃ  báº¡n muá»‘n thá»±c hiá»‡n má»™t hÃ m \\(f\\) trÃªn táº¥t cáº£ cÃ¡c cá»™t dá»¯ liá»‡u.\\(x\\) lÃ  má»™t list vÃ  báº¡n muá»‘n thá»±c hiá»‡n má»™t hÃ m \\(f\\) trÃªn táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng con cá»§a \\(x\\).\\(x\\) lÃ  má»™t list vÃ  báº¡n muá»‘n thá»±c hiá»‡n má»™t hÃ m \\(f\\) trÃªn táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng con cá»§a \\(x\\).CÃ¡c hÃ m thuá»™c há» apply() sáº½ giÃºp báº¡n Ä‘á»c thá»±c hiá»‡n tÃ¡c tÃ­nh toÃ¡n nhÆ° váº­y. CÃ¡ch viáº¿t hÃ m apply() nhÆ° sau:trong Ä‘Ã³ \\(x\\) lÃ  má»™t ma tráº­n, má»™t máº£ng nhiá»u chiá»u, hoáº·c má»™t dá»¯ liá»‡u; \\(MARGIN\\) lÃ  má»™t sá»‘, hoáº·c vÃ©c-tÆ¡ chá»‰ sá»‘ cho biáº¿t hÃ m sáº½ Ã¡p dá»¥ng trÃªn chiá»u (hoáº·c cÃ¡c chiá»u) nÃ o, vÃ  \\(FUN\\) lÃ  hÃ m sá»‘ mÃ  báº¡n muá»‘n thá»±c hiá»‡n. VÃ­ dá»¥ nhÆ° báº¡n Ä‘á»c muá»‘n tÃ­nh giÃ¡ trá»‹ trung bÃ¬nh cá»§a má»—i cá»™t cá»§a má»™t ma tráº­n \\(M\\), hÃ£y sá»­ dá»¥ng cÃ¢u lá»‡nh nhÆ° sauDo ma tráº­n \\(M\\) cÃ³ 5 cá»™t nÃªn giÃ¡ trá»‹ tráº£ láº¡i lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ cÃ³ Ä‘á»™ dÃ i báº±ng 5. VÃ©c-tÆ¡ nÃ y chá»©a giÃ¡ trá»‹ lÃ  trung bÃ¬nh cá»§a cÃ¡c cá»™t thá»© tá»± 1, 2, 3, 4, vÃ  5 cá»§a ma tráº­n \\(M\\).Vá» nguyÃªn táº¯c Ä‘á»‘i tÆ°á»£ng sá»­ dá»¥ng trong hÃ m apply() lÃ  ma tráº­n hoáº·c máº£ng nhiá»u chiá»u. Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m apply() trÃªn Ä‘á»‘i tÆ°á»£ng lÃ  dá»¯ liá»‡u (data.frame). Khi Ä‘á»‘i tÆ°á»£ng cá»§a hÃ m apply() cÃ³ tá»« 3 chiá»u trá»Ÿ lÃªn, giÃ¡ trá»‹ cá»§a tÃ¹y biáº¿n \\(MARGIN\\) cÃ³ thá»ƒ lÃ  má»™t sá»‘ hoáº·c má»™t vÃ©c-tÆ¡. Tháº­t váº­y,GiÃ¡ trá»‹ tráº£ láº¡i sáº½ lÃ  má»™t vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i lÃ  2, pháº§n tá»­ thá»© nháº¥t lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a cÃ¡c pháº§n tá»­ thuá»™c ma tráº­n kÃ­ch thÆ°á»›c \\(5 \\times 2\\) thá»© nháº¥t (ma tráº­n \\(Ar[,,1]\\)) vÃ  pháº§n tá»­ thá»© hai lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a cÃ¡c pháº§n tá»­ thuá»™c ma tráº­n kÃ­ch thÆ°á»›c \\(5 \\times 2\\) thá»© hai (ma tráº­n \\(Ar[,,2]\\)). ChÃºng ta cÃ³ thá»ƒ kiá»ƒm tra káº¿t quáº£ nhÆ° sau:ChÃºng ta cÃ³ thá»ƒ Ã¡p dá»¥ng Ä‘á»“ng thá»i hÃ m mean() theo chiá»u thá»© 2 vÃ  chiá»u thá»© 3 trÃªn máº£ng \\(Ar\\) nhÆ° sauKáº¿t quáº£ thu Ä‘Æ°á»£c sáº½ lÃ  má»™t ma tráº­n kÃ­ch thÆ°á»›c \\(2 \\times 2\\) mÃ  cÃ¡c pháº§n tá»­ sáº½ tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ trung bÃ¬nh:Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,1] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,1,1]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,1] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,1,1]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,2] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,1,2]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,2] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,1,2]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [2,1] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,2,1]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [2,1] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,2,1]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [2,2] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,2,2]\\)Pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [2,2] cá»§a ma tráº­n káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(Ar[,2,2]\\)ChÃºng ta cÃ³ thá»ƒ sÃ¡nh giÃ¡ trá»‹ trung bÃ¬nh cá»§a cÃ¡c vÃ©c-tÆ¡ vá»›i ma tráº­n káº¿t quáº£ cá»§a hÃ m apply():HÃ m sá»‘ sá»­ dá»¥ng vá»›i tÃ¹y biáº¿n \\(FUN\\) cÃ³ thá»ƒ lÃ  hÃ m sá»‘ cÃ³ sáºµn trong R vÃ  cÃ¡c thÆ° viá»‡n cÃ i Ä‘áº·t bá»• sung, hoáº·c cÅ©ng cÃ³ thá»ƒ lÃ  má»™t hÃ m sá»‘ mÃ  báº¡n Ä‘á»c tá»± xÃ¢y dá»±ng. Khi cÃ¡c cÃ¢u lá»‡nh cá»§a hÃ m sá»‘ tá»± xÃ¢y dá»±ng ngáº¯n gá»n, báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a hÃ m sá»‘ Ä‘Ã³ bÃªn trong hÃ m apply(). GiÃ¡ trá»‹ Ä‘áº§u ra cá»§a hÃ m sá»‘ Ä‘Æ°á»£c tá»± Ä‘á»‹nh nghÄ©a cÅ©ng cÃ³ thá»ƒ lÃ  má»™t vÃ©c-tÆ¡, tháº­m chÃ­ lÃ  má»™t ma tráº­n hay lÃ  má»™t máº£ng nhiá»u chiá»u, tháº­m chÃ­ lÃ  má»™t \\(list\\). Náº¿u káº¿t quáº£ Ä‘áº§u ra cá»§a hÃ m sá»­ dá»¥ng trong apply() lÃ  má»™t ma tráº­n hoáº·c máº£ng nhiá»u chiá»u, R sáº½ chuyá»ƒn ma tráº­n hoáº·c máº£ng nhiá»u chiá»u vá» dáº¡ng vÃ©c-tÆ¡. Trong trÆ°á»ng há»£p Ä‘áº§u ra cá»§a hÃ m tá»± Ä‘á»‹nh nghÄ©a lÃ  má»™t \\(list\\), giÃ¡ trá»‹ Ä‘áº§u ra sáº½ lÃ  má»™t ma tráº­n hoáº·c máº£ng nhiá»u chiá»u mÃ  má»—i pháº§n tá»­ con lÃ  má»™t list. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ mÃ  giÃ¡ trá»‹ Ä‘áº§u ra lÃ  má»™t vÃ©c-tÆ¡ ba chiá»u.Káº¿t quáº£ nháº­n Ä‘Æ°á»£c sáº½ lÃ  má»™t ma tráº­n kÃ­ch thÆ°á»›c \\(3 \\times 5\\). Cá»™t thá»© nháº¥t cá»§a ma tráº­n káº¿t quáº£ nháº­n giÃ¡ trá»‹ (1, 10.5, 20) tÆ°Æ¡ng á»©ng vá»›i cÃ¡c giÃ¡ trá»‹ \\(min\\), \\(mean\\), vÃ  \\(max\\) cá»§a vÃ©c-tÆ¡ \\(M[,1]\\).Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ tá»± xÃ¢y dá»±ng hÃ m sá»‘ trÃªn mÃ´i trÆ°á»ng chung sau Ä‘Ã³ gá»i tÃªn hÃ m sá»‘ nÃ y trong hÃ m apply(). Náº¿u hÃ m sá»‘ tá»± xÃ¢y dá»±ng lÃ  hÃ m sá»‘ cÃ³ tham sá»‘ khÃ¡c ngoÃ i \\(x\\), báº¡n Ä‘á»c cáº§n pháº£i khai bÃ¡o giÃ¡ trá»‹ cho tham sá»‘ Ä‘Ã³ trong mÃ´i trÆ°á»ng cá»¥c bá»™ cá»§a hÃ m apply():Khi tham sá»‘ cá»§a hÃ m sá»‘ mÃ  báº¡n Ä‘á»c muá»‘n Ã¡p dá»¥ng trÃªn ma tráº­n lÃ  khÃ´ng cá»‘ Ä‘á»‹nh mÃ  thay Ä‘á»•i theo má»™t chiá»u cá»§a \\(x\\) thÃ¬ khÃ´ng nÃªn khai bÃ¡o giÃ¡ trá»‹ cá»§a tham sá»‘ theo dáº¡ng vÃ©c-tÆ¡ trong hÃ m apply(). Tháº­t váº­y, giáº£ sá»­ báº¡n Ä‘á»c muá»‘n tÃ­nh cÃ¡c giÃ¡ trá»‹ phÃ¢n vá»‹ á»Ÿ má»©c xÃ¡c suáº¥t 10% vÃ  90% láº§n lÆ°á»£t cá»§a vÃ©c-tÆ¡ hÃ ng thá»© nháº¥t vÃ  vÃ©c-tÆ¡ hÃ ng thá»© hai cá»§a má»™t ma tráº­n M kÃ­ch thÆ°á»›c \\(2 \\times 10\\). HÃ m sá»‘ quantile(x, probs = p) lÃ  hÃ m sá»‘ cÃ³ sáºµn trong R Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ­nh giÃ¡ trá»‹ phÃ¢n vá»‹ táº¡i má»©c xÃ¡c suáº¥t \\(p\\) cá»§a vÃ©c-tÆ¡ sá»‘ \\(x\\). HÃ£y quan sÃ¡t káº¿t quáº£ cá»§a hÃ m apply() khi sá»­ dá»¥ng tham sá»‘ \\(probs\\) cá»§a hÃ m quantile() dÆ°á»›i dáº¡ng vÃ©c-tÆ¡:Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng káº¿t quáº£ cá»§a hÃ m apply() khi tham sá»‘ \\(probs\\) lÃ  má»™t vÃ©c-tÆ¡ lÃ  má»™t ma tráº­n, trong Ä‘Ã³ cá»™t thá»© nháº¥t lÃ  giÃ¡ trá»‹ phÃ¢n vá»‹ táº¡i cÃ¡c má»©c xÃ¡c suáº¥t 10% vÃ  90% cá»§a vÃ©c-tÆ¡ \\(M[1,]\\) vÃ  cá»™t thá»© hai giÃ¡ trá»‹ phÃ¢n vá»‹ táº¡i cÃ¡c má»©c xÃ¡c suáº¥t 10% vÃ  90% cá»§a vÃ©c-tÆ¡ \\(M[2,]\\). GiÃ¡ trá»‹ chÃºng ta mong muá»‘n láº¥y ra chÃ­nh lÃ  cÃ¡c sá»‘ náº±m trÃªn Ä‘Æ°á»ng chÃ©o chÃ­nh cá»§a ma tráº­n káº¿t quáº£. Sáº½ khÃ´ng cÃ³ khÃ³ khÄƒn gÃ¬ náº¿u sá»‘ lÆ°á»£ng hÃ ng cá»§a ma tráº­n \\(M\\) nhá». Báº¡n Ä‘á»c sáº½ gáº·p váº¥n Ä‘á» khi sá»‘ lÆ°á»£ng vÃ©c-tÆ¡ Ä‘Æ°á»£c Ã¡p dá»¥ng lÃ  lá»›n bá»Ÿi kÃ­ch thÆ°á»›c cá»§a ma tráº­n káº¿t quáº£ sáº½ tÄƒng lÃªn theo cáº¥p sá»‘ nhÃ¢n. Tháº­t váº­y, náº¿u \\(M\\) cÃ³ \\(n\\) hÃ ng vÃ  hÃ m sá»‘ Ä‘Æ°á»£c Ã¡p dá»¥ng cÃ³ 1 tham sá»‘, ma tráº­n káº¿t quáº£ sáº½ cÃ³ kÃ­ch thÆ°á»›c sáº½ lÃ  $ n n$ náº¿u báº¡n Ä‘á»c sá»­ dá»¥ng trá»±c tiáº¿p hÃ m apply(). Cháº³ng háº¡n nhÆ° báº¡n muá»‘n tÃ­nh giÃ¡ trá»‹ phÃ¢n vá»‹ á»Ÿ cÃ¡c má»©c xÃ¡c suáº¥t 10%, 30%, 50%, 70%, vÃ  90% cá»§a láº§n lÆ°á»£t cÃ¡c vÃ©c-tÆ¡ hÃ ng thá»© 1, 2, 3, 4, vÃ  5 cá»§a má»™t ma tráº­n \\(M\\) kÃ­ch thÆ°á»›c \\(5 \\times 10\\).Äiá»u gÃ¬ xáº£y ra khi ma tráº­n \\(M\\) cÃ³ \\(10^4\\) vÃ©c-tÆ¡ hÃ ng? Ma tráº­n káº¿t quáº£ sáº½ cÃ³ kÃ­ch thÆ°á»›c lÃ  \\(10^4 \\times 10^4\\). Khi ma tráº­n \\(M\\) cÃ³ \\(10^5\\) vÃ©c-tÆ¡ hÃ ng? Ma tráº­n káº¿t quáº£ sáº½ cÃ³ kÃ­ch thÆ°á»›c lÃ  \\(10^5 \\times 10^5\\) vÃ  R sáº½ bÃ¡o lá»—i vÃ¬ bá»™ nhá»› khÃ´ng Ä‘á»§ Ä‘á»ƒ lÆ°u má»™t ma tráº­n cÃ³ kÃ­ch thÆ°á»›c nhÆ° váº­y.Má»™t cÃ¡ch Ä‘Æ¡n giáº£n Ä‘á»ƒ tiáº¿t kiá»‡m thá»i gian vÃ  bá»™ nhá»› khi Ã¡p dá»¥ng hÃ m sá»‘ cÃ³ tham sá»‘ lÃ  hÃ£y thÃªm tham sá»‘ vÃ o nhÆ° lÃ  má»™t pháº§n cá»§a ma tráº­n \\(M\\) vÃ  Ä‘iá»u chá»‰nh láº¡i hÃ m quantile() trÆ°á»›c khi sá»­ dá»¥ng hÃ m apply()","code":"\nx<-1:5; f<-function(x) x^2\nf(x) # f Ä‘Æ°á»£c Ã¡p dá»¥ng trÃªn tá»«ng pháº§n tá»­ cá»§a x## [1]  1  4  9 16 25\napply(x, MARGIN, FUN, ...)\nM<-matrix(1:100,20,5) # ma tráº­n kÃ­ch thÆ°á»›c 20 * 5\napply(M, MARGIN = 2, FUN = mean) # MARGIN = 2 nghÄ©a lÃ  Ã¡p dá»¥ng theo cá»™t (1 nghÄ©a lÃ  theo hÃ ng)  ## [1] 10.5 30.5 50.5 70.5 90.5\nAr<-array(1:20,dim=c(5,2,2)) # máº£ng kÃ­ch thÆ°á»›c 5 * 2 * 2\napply(Ar, MARGIN = 3, FUN = mean) # MARGIN = 3 nghÄ©a lÃ  Ã¡p dá»¥ng hÃ m mean theo chiá»u thá»© 3  ## [1]  5.5 15.5\nmean(Ar[,,1]) # báº±ng pháº§n tá»­ thá»© nháº¥t khi dÃ¹ng apply## [1] 5.5\nmean(Ar[,,2]) # báº±ng pháº§n tá»­ thá»© hai khi dÃ¹ng apply## [1] 15.5\napply(Ar, MARGIN = c(2,3), mean) # MARGIN = c(2,3) nghÄ©a lÃ  Ã¡p dá»¥ng hÃ m mean theo chiá»u thá»© 2 vÃ  3  ##      [,1] [,2]\n## [1,]    3   13\n## [2,]    8   18\nmean(Ar[,1,1]) # báº±ng pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,1] cá»§a ma tráº­n káº¿t quáº£## [1] 3\nmean(Ar[,1,2]) # báº±ng pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,2] cá»§a ma tráº­n káº¿t quáº£## [1] 13\nmean(Ar[,2,1]) # báº±ng pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,2] cá»§a ma tráº­n káº¿t quáº£## [1] 8\nmean(Ar[,2,2]) # báº±ng pháº§n tá»­ á»Ÿ vá»‹ trÃ­ [1,2] cá»§a ma tráº­n káº¿t quáº£## [1] 18\napply(M, 2, function(x) c(min(x),mean(x),max(x))) ##      [,1] [,2] [,3] [,4]  [,5]\n## [1,]  1.0 21.0 41.0 61.0  81.0\n## [2,] 10.5 30.5 50.5 70.5  90.5\n## [3,] 20.0 40.0 60.0 80.0 100.0\nM[,1]##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20\nc(min(M[,1]), mean(M[,1]), max(M[,1]))## [1]  1.0 10.5 20.0\nmy_range<-function(x, a) (max(x^a) - min(x^a)) # hÃ m sá»‘ cÃ³ tham sá»‘ khÃ¡c lÃ  a\napply(M, 2, my_range, a = 2) # cáº§n khai bÃ¡o giÃ¡ trá»‹ tham sá»‘ a cá»§a my_range trong hÃ m apply## [1]  399 1159 1919 2679 3439\nM<-matrix(1:20,2,10) # ma tráº­n 2 * 10\napply(M, 1, quantile, probs = c(0.1,0.9)) # MARGIN = 1 nghÄ©a lÃ  tÃ­nh theo cÃ¡c hÃ ng cá»§a M##     [,1] [,2]\n## 10%  2.8  3.8\n## 90% 17.2 18.2\nquantile(M[1,],0.1) # giÃ¡ trá»‹ mong muá»‘n## 10% \n## 2.8\nquantile(M[2,],0.9) # giÃ¡ trá»‹ mong muá»‘n##  90% \n## 18.2\nM<-matrix(1:50,5,10) # ma tráº­n 5 * 10\napply(M, 1, quantile, probs = c(0.1,0.3,0.5,0.7,0.9)) # ma tráº­n káº¿t quáº£ kÃ­ch thÆ°á»›c 5 * 5##     [,1] [,2] [,3] [,4] [,5]\n## 10%  5.5  6.5  7.5  8.5  9.5\n## 30% 14.5 15.5 16.5 17.5 18.5\n## 50% 23.5 24.5 25.5 26.5 27.5\n## 70% 32.5 33.5 34.5 35.5 36.5\n## 90% 41.5 42.5 43.5 44.5 45.5\ndiag(apply(M, 1, quantile, probs = c(0.1,0.3,0.5,0.7,0.9))) # láº¥y ra Ä‘Æ°á»ng chÃ©o chÃ­nh## [1]  5.5 15.5 25.5 35.5 45.5\nM1<-cbind(M,c(0.1,0.3,0.5,0.7,0.9)) # thÃªm tham sá»‘ vÃ o cá»™t cuá»‘i cá»§a ma tráº­n M\nmy_quantile<-function(x){ # Ä‘á»‹nh nghÄ©a láº¡i hÃ m quantile mÃ  tham sá»‘ p lÃ  giÃ¡ trá»‹ cuá»‘i cÃ¹ng trong vÃ©c-tÆ¡\n  n<-length(x)\n  quantile(x[1:(n-1)], x[n])\n}\napply(M1, 1, my_quantile) # Ã¡p dá»¥ng hÃ m má»›i trÃªn ma tráº­n má»›i## [1]  5.5 15.5 25.5 35.5 45.5"},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"hÃ m-lapply-vÃ -sapply.","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.4.2 HÃ m lapply() vÃ  sapply().","text":"CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng cá»§a lapply() tÆ°Æ¡ng tá»± nhÆ° apply() vÃ  chá»‰ khÃ¡c á»Ÿ Ä‘á»‘i tÆ°á»£ng Ã¡p dá»¥ng vÃ  cáº¥u trÃºc cá»§a káº¿t quáº£ Ä‘áº§u ra. lapply() thÆ°á»ng Ã¡p dá»¥ng trÃªn cÃ¡c Ä‘á»‘i tÆ°á»£ng kiá»ƒu \\(list\\) hoáº·c cÃ¡c kiá»ƒu Ä‘á»‘i tÆ°á»£ng mÃ  cÃ³ thá»ƒ sá»­ dá»¥ng kÃ½ hiá»‡u \\(\\$\\) Ä‘á»ƒ gá»i pháº§n tá»­ con cháº³ng háº¡n nhÆ° \\(data.frame\\) hoáº·c \\(tibbles\\). ChÃºng ta sáº½ tháº£o luáº­n vá» cÃ¡c Ä‘á»‘i tÆ°á»£ng nÃ y á»Ÿ pháº§n sau cá»§a cuá»‘n sÃ¡ch. Khi báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m lapply(), báº¡n khÃ´ng cáº§n pháº£i sá»­ dá»¥ng tÃ¹y biáº¿n \\(MARGIN\\) bá»Ÿi vÃ¬ lapply() sáº½ luÃ´n luÃ´n hiá»ƒu cÃ¡c Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c tÃ¡c Ä‘á»™ng Ä‘áº¿n lÃ  táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng con cá»§a \\(list\\).Káº¿t quáº£ cá»§a lapply() lÃ  má»™t list cÃ³ sá»‘ lÆ°á»£ng pháº§n tá»­ vÃ  tÃªn cÃ¡c pháº§n tá»­ con giá»‘ng vá»›i vÃ©c-tÆ¡ \\(x\\). Trong trÆ°á»ng há»£p Ã¡p dá»¥ng hÃ m mean(), má»—i giÃ¡ trá»‹ náº±m trong \\(list\\) káº¿t quáº£ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a pháº§n tá»­ cÃ³ tÃªn tÆ°Æ¡ng á»©ng náº±m trong \\(list\\) ban Ä‘áº§u. hÃ m mean() khÃ´ng thá»ƒ sá»­ dá»¥ng vá»›i má»™t \\(list\\) nÃªn pháº§n tá»­ \\(x4\\) cá»§a káº¿t quáº£ nháº­n giÃ¡ trá»‹ \\(NA\\).HÃ m sapply() cÃ³ cÆ¡ cháº¿ hoáº¡t Ä‘á»™ng hoÃ n toÃ n tÆ°Æ¡ng tá»± nhÆ° lapply() vÃ  chá»‰ khÃ¡c á»Ÿ chá»— káº¿t quáº£ Ä‘áº§u ra lÃ  dÆ°á»›i dáº¡ng vÃ©c-tÆ¡, ma tráº­n, hoáº·c máº£ng. Tháº­t váº­y, váº«n vá»›i Ä‘á»‘i tÆ°á»£ng \\(x\\) kiá»ƒu \\(list\\) á»Ÿ trÃªn, chÃºng ta sá»­ dá»¥ng sapply() thay vÃ¬ lapply() sáº½ cho káº¿t quáº£ dÆ°á»›i dáº¡ng vÃ©c-tÆ¡ thay vÃ¬ dÆ°á»›i dáº¡ng \\(list\\)CÃ¡c hÃ m lapply() vÃ  sapply() thÆ°á»ng xuyÃªn Ä‘Æ°á»£c sá»­ dá»¥ng khi lÃ m viá»‡c vá»›i dá»¯ liá»‡u vÃ¬ R lÆ°u dá»¯ liá»‡u dÆ°á»›i dáº¡ng cÃ¡c \\(data.frame\\) hoáº·c \\(tibbles\\). Khi sá»­ dá»¥ng cÃ¡c hÃ m lapply() vÃ  sapply() vá»›i dá»¯ liá»‡u, cÃ¡c Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c tÃ¡c Ä‘á»™ng Ä‘áº¿n sáº½ luÃ´n luÃ´n lÃ  cÃ¡c vÃ©c-tÆ¡ cá»™t. HÃ£y quan sÃ¡t vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y khi sá»­ dá»¥ng sapply() Ä‘á»ƒ tÃ­nh tá»· lá»‡ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cá»§a má»—i vÃ©c-tÆ¡ cá»™t cá»§a má»™t dá»¯ liá»‡u cÃ³ tÃªn lÃ  \\(gapminder\\) náº±m trong thÆ° viá»‡n \\(dslabs\\).","code":"\nx <- list(x1 = 1:10, \n          x2 = c(TRUE,FALSE,TRUE,TRUE), \n          x3 = matrix(1:6,2,3), \n          x4 = list(x41 = c(1,2), x42 = c(3,4)) )\nlapply(x, mean) # Ã¡p dá»¥ng hÃ m mean trÃªn táº¥t cáº£ cÃ¡c pháº§n tá»­ con cá»§a x## $x1\n## [1] 5.5\n## \n## $x2\n## [1] 0.75\n## \n## $x3\n## [1] 3.5\n## \n## $x4\n## [1] NA\nsapply(x, mean) # Ã¡p dá»¥ng hÃ m mean trÃªn táº¥t cáº£ cÃ¡c pháº§n tá»­ con cá»§a x##   x1   x2   x3   x4 \n## 5.50 0.75 3.50   NA\nlibrary(dslabs)\ns1<-sapply(gapminder, function(x) sum(is.na(x))/length(x)) # tá»· lá»‡ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cá»§a má»—i cá»™t trong dá»¯ liá»‡u\ns1<-sort(s1) # sáº¯p xáº¿p s1 theo thá»© tá»± tÄƒng dáº§n\nprint(s1) # hiá»ƒn thá»‹ s1##          country             year  life_expectancy        continent \n##       0.00000000       0.00000000       0.00000000       0.00000000 \n##           region       population        fertility infant_mortality \n##       0.00000000       0.01754386       0.01773352       0.13779042 \n##              gdp \n##       0.28183973\nbarplot(s1,col = \"lightskyblue\", \n        ylab = \"Tá»· lá»‡\",\n        xlab = \"TÃªn biáº¿n/cá»™t\",\n        main = \"Tá»· lá»‡ missing value cá»§a cÃ¡c cá»™t dá»¯ liá»‡u Gapminder\")"},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"phá»¥-lá»¥c-1","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.5 Phá»¥ lá»¥c","text":"","code":""},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"kiáº¿n-thá»©c-nÃ¢ng-cao-liÃªn-quan-Ä‘áº¿n-ma-tráº­n","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.5.1 Kiáº¿n thá»©c nÃ¢ng cao liÃªn quan Ä‘áº¿n ma tráº­n","text":"CÃ¡c kiáº¿n thá»©c liÃªn quan Ä‘áº¿n ma tráº­n trong pháº§n nÃ y Ä‘Ã²i há»i báº¡n Ä‘á»c cáº§n cÃ³ kiáº¿n thá»©c nÃ¢ng cao hÆ¡n. Náº¿u báº¡n Ä‘á»c cáº£m tháº¥y khÃ´ng cáº§n thiáº¿t cÃ³ thá»ƒ bá» qua vÃ¬ cÃ¡c kiáº¿n thá»©c Ä‘Æ°á»£c sá»­ dá»¥ng trong pháº§n nÃ y sáº½ Ä‘Æ°á»£c nháº¯c láº¡i khi cÃ³ á»©ng dá»¥ng cá»¥ thá»ƒ.","code":""},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"giÃ¡-trá»‹-riÃªng-vÃ -vÃ©c-tÆ¡-riÃªng-cá»§a-ma-tráº­n","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.5.1.1 GiÃ¡ trá»‹ riÃªng vÃ  vÃ©c-tÆ¡ riÃªng cá»§a ma tráº­n","text":"","code":""},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"ma-tráº­n-hiá»‡p-phÆ°Æ¡ng-sai","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.5.1.2 Ma tráº­n hiá»‡p phÆ°Æ¡ng sai","text":"","code":""},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"cÃ¡c-giÃ¡-trá»‹-Ä‘áº·c-trÆ°ng-cá»§a-má»™t-dÃ²ng-tiá»n-tÆ°Æ¡ng-lai","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.5.2 CÃ¡c giÃ¡ trá»‹ Ä‘áº·c trÆ°ng cá»§a má»™t dÃ²ng tiá»n tÆ°Æ¡ng lai","text":"","code":""},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"giÃ¡-trá»‹-hiá»‡n-táº¡i-vÃ -tá»·-suáº¥t-sinh-lá»i-ná»™i-bá»™","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.5.2.1 GiÃ¡ trá»‹ hiá»‡n táº¡i vÃ  tá»· suáº¥t sinh lá»i ná»™i bá»™","text":"GiÃ¡ trá»‹ hiá»‡n táº¡i cá»§a má»™t dÃ²ng tiá»n \\(CF\\) vá»›i lÃ£i suáº¥t \\(\\) tÃ­nh theo kiá»ƒu gá»™p Ä‘Æ°á»£c tÃ­nh nhÆ° sau\n\\[\\begin{align}\nPV(CF) = \\sum\\limits_{t=1}^n \\ \\cfrac{CF_t}{(1+)^t}\n\\end{align}\\]GiÃ¡ trá»‹ hiá»‡n táº¡i cá»§a má»™t dÃ²ng tiá»n lÃ  má»™t thÆ°á»›c Ä‘o cho giÃ¡ trá»‹ cá»§a tÃ i sáº£n táº¡o ra dÃ²ng tiá»n Ä‘Ã³. NhÃ¬n chung, tÃ i sáº£n nÃ o cÃ³ giÃ¡ trá»‹ hiá»‡n táº¡i lá»›n hÆ¡n thÃ¬ cÃ³ giÃ¡ trá»‹ cao hÆ¡n.Tá»· suáº¥t sinh lá»i ná»™i bá»™ (Internal rate return hay IRR) lÃ  má»©c lÃ£i suáº¥t \\(i_0\\) mÃ  tÃ­nh theo má»©c lÃ£i suáº¥t nÃ y giÃ¡ trá»‹ hiá»‡n táº¡i cá»§a má»™t dÃ²ng tiá»n báº±ng 0. Tá»· suáº¥t sinh lá»i ná»™i bá»™ khÃ´ng tá»“n táº¡i náº¿u dÃ²ng tiá»n tÆ°Æ¡ng lai cá»§a má»™t tÃ i sáº£n chá»‰ cÃ³ giÃ¡ trá»‹ dÆ°Æ¡ng (hoáº·c Ã¢m).","code":""},{"path":"ma-tráº­n-máº£ng-nhiá»u-chiá»u-vÃ -list.html","id":"durations-vÃ -convexity","chapter":"ChÆ°Æ¡ng 2 Ma tráº­n, máº£ng nhiá»u chiá»u vÃ  \\(list\\)","heading":"2.5.2.2 Durations vÃ  convexity","text":"Duration khÃ´ng pháº£i lÃ  thÆ°á»›c Ä‘o thá»i gian tá»« lÃºc báº¯t Ä‘áº§u Ä‘áº¿n lÃºc Ä‘Ã¡o háº¡n cá»§a dÃ²ng tiá»n mÃ  lÃ  má»™t thÆ°á»›c Ä‘o cho sá»± nháº¡y cáº£m cá»§a giÃ¡ trá»‹ hiá»‡n táº¡i cá»§a dÃ²ng tiá»n theo sá»± thay Ä‘á»•i cá»§a lÃ£i suáº¥t.","code":"## \n## Attaching package: 'dplyr'## The following object is masked from 'package:gridExtra':\n## \n##     combine## The following object is masked from 'package:kableExtra':\n## \n##     group_rows## The following objects are masked from 'package:stats':\n## \n##     filter, lag## The following objects are masked from 'package:base':\n## \n##     intersect, setdiff, setequal, union## \n## Attaching package: 'lubridate'## The following objects are masked from 'package:base':\n## \n##     date, intersect, setdiff, union"},{"path":"phÃ¢n-tÃ­ch-dá»¯-liá»‡u-báº±ng-r.html","id":"phÃ¢n-tÃ­ch-dá»¯-liá»‡u-báº±ng-r","chapter":"ChÆ°Æ¡ng 3 PhÃ¢n tÃ­ch dá»¯ liá»‡u báº±ng R","heading":"ChÆ°Æ¡ng 3 PhÃ¢n tÃ­ch dá»¯ liá»‡u báº±ng R","text":"Trong pháº§n nÃ y cá»§a cuá»‘n sÃ¡ch, báº¡n sáº½ tÃ¬m hiá»ƒu vá» cÃ¡c ká»¹ thuáº­t phÃ¢n tÃ­ch dá»¯ liá»‡u, bao gá»“m cÃ³ tiá»n xá»­ lÃ½ dá»¯ liá»‡u, sáº¯p xáº¿p dá»¯ liá»‡u vÃ  trá»±c quan hÃ³a dá»¯ liá»‡u.Tiá»n xá»­ lÃ½ dá»¯ liá»‡u bao gá»“m táº¥t cáº£ cÃ¡c ká»¹ thuáº­t Ä‘Æ°a dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R vÃ  biáº¿n Ä‘á»•i thÃ nh Ä‘á»‹nh dáº¡ng Ä‘á»ƒ cÃ³ thá»ƒ lÃ m viá»‡c Ä‘Æ°á»£c.Tiá»n xá»­ lÃ½ dá»¯ liá»‡u bao gá»“m táº¥t cáº£ cÃ¡c ká»¹ thuáº­t Ä‘Æ°a dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R vÃ  biáº¿n Ä‘á»•i thÃ nh Ä‘á»‹nh dáº¡ng Ä‘á»ƒ cÃ³ thá»ƒ lÃ m viá»‡c Ä‘Æ°á»£c.Sáº¯p xáº¿p dá»¯ liá»‡u bao gá»“m cÃ¡c bÆ°á»›c biáº¿n Ä‘á»•i, chuyá»ƒn hÃ³a dá»¯ liá»‡u thÃ nh Ä‘á»‹nh dáº¡nh Ä‘á»ƒ cÃ³ thá»ƒ trá»±c quan hÃ³a, phÃ¢n tÃ­ch, vÃ  xÃ¢y dá»±ng mÃ´ hÃ¬nh.Sáº¯p xáº¿p dá»¯ liá»‡u bao gá»“m cÃ¡c bÆ°á»›c biáº¿n Ä‘á»•i, chuyá»ƒn hÃ³a dá»¯ liá»‡u thÃ nh Ä‘á»‹nh dáº¡nh Ä‘á»ƒ cÃ³ thá»ƒ trá»±c quan hÃ³a, phÃ¢n tÃ­ch, vÃ  xÃ¢y dá»±ng mÃ´ hÃ¬nh.Trá»±c quan hÃ³a dá»¯ liá»‡u lÃ  má»™t nghá»‡ thuáº­t biáº¿n Ä‘á»•i dá»¯ liá»‡u dÆ°á»›i dáº¡ng cÃ¡c con sá»‘, chuá»—i kÃ½ tá»±,â€¦, thÃ nh cÃ¡c biá»ƒu Ä‘á»“, Ä‘á»“ thá»‹ hay hÃ¬nh áº£nh sá»­ dá»¥ng cÃ¡c hÃ¬nh dáº¡ng, mÃ u sáº¯c, khoáº£ng cÃ¡ch Ä‘á»ƒ con ngÆ°á»i dá»… dÃ ng nháº­n thá»©c vÃ  hiá»ƒu vá» dá»¯ liá»‡u. Trá»±c quan hÃ³a dá»¯ liá»‡u cÃ²n cÃ³ thá»ƒ giÃºp ngÆ°á»i phÃ¢n tÃ­ch tÃ¬m ra nhá»¯ng giÃ¡ trá»‹ áº©n chá»©a trong dá»¯ liá»‡u.Trá»±c quan hÃ³a dá»¯ liá»‡u lÃ  má»™t nghá»‡ thuáº­t biáº¿n Ä‘á»•i dá»¯ liá»‡u dÆ°á»›i dáº¡ng cÃ¡c con sá»‘, chuá»—i kÃ½ tá»±,â€¦, thÃ nh cÃ¡c biá»ƒu Ä‘á»“, Ä‘á»“ thá»‹ hay hÃ¬nh áº£nh sá»­ dá»¥ng cÃ¡c hÃ¬nh dáº¡ng, mÃ u sáº¯c, khoáº£ng cÃ¡ch Ä‘á»ƒ con ngÆ°á»i dá»… dÃ ng nháº­n thá»©c vÃ  hiá»ƒu vá» dá»¯ liá»‡u. Trá»±c quan hÃ³a dá»¯ liá»‡u cÃ²n cÃ³ thá»ƒ giÃºp ngÆ°á»i phÃ¢n tÃ­ch tÃ¬m ra nhá»¯ng giÃ¡ trá»‹ áº©n chá»©a trong dá»¯ liá»‡u.","code":""},{"path":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r.html","id":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r","chapter":"ChÆ°Æ¡ng 4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","heading":"ChÆ°Æ¡ng 4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","text":"","code":""},{"path":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r.html","id":"Ä‘á»‘i-tÆ°á»£ng-dÃ¹ng-Ä‘á»ƒ-lÆ°u-dá»¯-liá»‡u-trong-r","chapter":"ChÆ°Æ¡ng 4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","heading":"4.1 Äá»‘i tÆ°á»£ng dÃ¹ng Ä‘á»ƒ lÆ°u dá»¯ liá»‡u trong R","text":"Hai kiá»ƒu Ä‘á»‘i tÆ°á»£ng thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ lÆ°u dá»¯ liá»‡u trong R lÃ  \\(data.frame\\) vÃ  \\(tibble\\). ChÃºng ta sáº½ tháº£o luáº­n vá» \\(data.frame\\) trÆ°á»›c vÃ¬ Ä‘Ã¢y lÃ  kiá»ƒu lÆ°u dá»¯ liá»‡u phá»• biáº¿n. Kiá»ƒu \\(tibble\\) vá»›i má»™t vÃ i Æ°u Ä‘iá»ƒm hÆ¡n \\(data.frame\\) sáº½ Ä‘Æ°á»£c tháº£o luáº­n trong pháº§n tiáº¿p theo.","code":""},{"path":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r.html","id":"data.frame-lÃ -gÃ¬","chapter":"ChÆ°Æ¡ng 4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","heading":"4.1.1 \\(data.frame\\) lÃ  gÃ¬?","text":"\\(data.frame\\) lÃ  Ä‘á»‘i tÆ°á»£ng phá»• biáº¿n nháº¥t Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u trÃªn cá»­a sá»• lÃ m viá»‡c cá»§a R. Hiá»ƒu má»™t cÃ¡ch Ä‘Æ¡n giáº£n, má»™t \\(data.frame\\) lÃ  má»™t báº£ng excel mÃ  má»—i cá»™t tÆ°Æ¡ng á»©ng vá»›i má»™t vÃ©c-tÆ¡ vÃ  má»—i dÃ²ng tÆ°Æ¡ng á»©ng vá»›i má»™t quan sÃ¡t. Ngay khi cÃ i Ä‘áº·t R, Ä‘Ã£ cÃ³ nhiá»u Ä‘á»‘i tÆ°á»£ng lÃ  dá»¯ liá»‡u kiá»ƒu \\(data.frame\\) Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trá»¯ trong R vÃ  sáºµn sÃ ng sá»­ dá»¥ng mÃ  khÃ´ng cáº§n gá»i thÆ° viá»‡n bá»• sung. Äá»ƒ biáº¿t trÃªn cá»­a sá»• Rstudio Ä‘ang sá»­ dá»¥ng cÃ³ nhá»¯ng dá»¯ liá»‡u nÃ o, báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¢u lá»‡nh data()Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y trÃªn cá»­a sá»• R Script xuáº¥t hiá»‡n má»™t cá»­a sá»• má»›i vá»›i danh sÃ¡ch táº¥t cáº£ cÃ¡c dá»¯ liá»‡u sáºµn cÃ³ trong R vÃ  dá»¯ liá»‡u sáºµn cÃ³ trong cÃ¡c thÆ° viá»‡n Ä‘Æ°á»£c cÃ i Ä‘áº·t thÃªm mÃ  báº¡n Ä‘á»c Ä‘ang gá»i ra trÃªn cá»­a sá»• lÃ m viá»‡c. Äá»ƒ biáº¿t trong má»™t thÆ° viá»‡n Ä‘ang Ä‘Æ°á»£c gá»i ra trÃªn cá»­a sá»• Rstudio cÃ³ nhá»¯ng dá»¯ liá»‡u nÃ o, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng lá»‡nh data() kÃ¨m vá»›i tÃ¹y chá»n \\(package\\)Trong danh sÃ¡ch dá»¯ liá»‡u cá»§a thÆ° viá»‡n \\(dslabs\\), báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y má»™t Ä‘á»‘i tÆ°á»£ng cÃ³ tÃªn \\(murders\\). ÄÃ¢y lÃ  má»™t \\(data.frame\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm tra kiá»ƒu cá»§a Ä‘á»‘i tÆ°á»£ng nÃ y báº±ng hÃ m class()ThÃ´ng thÆ°á»ng Ä‘á»ƒ cÃ³ hiá»ƒu biáº¿t ban Ä‘áº§u vá» má»™t Ä‘á»‘i tÆ°á»£ng kiá»ƒu \\(data.frame\\), báº¡n Ä‘á»c nÃªn báº¯t Ä‘áº§u báº±ng Ä‘á»c mÃ´ táº£ vá» dá»¯ liá»‡u (náº¿u cÃ³) báº±ng cÃ¡ch sá»­ dá»¥ng ?NhÃ³m cÃ¡c cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y giÃºp báº¡n Ä‘á»c hiá»ƒu Ä‘Æ°á»£c cáº¥u trÃºc cá»§a dá»¯ liá»‡u trong \\(data.frame\\) Ä‘Ã³HÃ m head() hiá»ƒn thá»‹ nhanh cÃ¡c dÃ²ng Ä‘áº§u tiÃªn cá»§a dá»¯ liá»‡u cho báº¡n Ä‘á»c cÃ¡i nhÃ¬n ban Ä‘áº§u, tuy nhiÃªn hÃ m head() khÃ´ng hiá»‡u quáº£ khi dá»¯ liá»‡u cÃ³ nhiá»u cá»™t.HÃ m head() hiá»ƒn thá»‹ nhanh cÃ¡c dÃ²ng Ä‘áº§u tiÃªn cá»§a dá»¯ liá»‡u cho báº¡n Ä‘á»c cÃ¡i nhÃ¬n ban Ä‘áº§u, tuy nhiÃªn hÃ m head() khÃ´ng hiá»‡u quáº£ khi dá»¯ liá»‡u cÃ³ nhiá»u cá»™t.HÃ m View() cho hiá»ƒn thá»‹ vá» dá»¯ liá»‡u dá»… nhÃ¬n nháº¥t. HÃ m View() cÃ³ háº¡n cháº¿ khi dá»¯ liá»‡u cÃ³ quÃ¡ nhiá»u dÃ²ng hoáº·c nhiá»u cá»™t vÃ  thá»i gian hiá»ƒn thá»‹ lÃ¢u hÆ¡n vá»›i head().HÃ m View() cho hiá»ƒn thá»‹ vá» dá»¯ liá»‡u dá»… nhÃ¬n nháº¥t. HÃ m View() cÃ³ háº¡n cháº¿ khi dá»¯ liá»‡u cÃ³ quÃ¡ nhiá»u dÃ²ng hoáº·c nhiá»u cá»™t vÃ  thá»i gian hiá»ƒn thá»‹ lÃ¢u hÆ¡n vá»›i head().HÃ m str() lÃ  cÃ¡ch hiá»ƒn thá»‹ dá»¯ liá»‡u má»™t cÃ¡ch tá»•ng quÃ¡t vÃ  hiá»‡u quáº£ hÆ¡n vá»›i head() hoáº·c View(). Káº¿t quáº£ tá»« hÃ m str() vá»›i dá»¯ liá»‡u \\(murders\\) cho tháº¥y Ä‘Ã¢y lÃ  má»™t dá»¯ liá»‡u dáº¡ng báº£ng vá»›i 5 cá»™t (5 variables) vÃ  51 dÃ²ng (51 observations). NgoÃ i ra, sá»­ dá»¥ng hÃ m str() báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y Ä‘Æ°á»£c kiá»ƒu dá»¯ liá»‡u cá»§a tá»«ng cá»™t; cháº³ng háº¡n nhÆ° cá»™t \\(state\\) lÃ  cá»™t chá»©a dá»¯ liá»‡u kiá»ƒu \\(character\\); cá»™t \\(region\\) cÃ³ kiá»ƒu dá»¯ liá»‡u lÃ  \\(factor\\),â€¦HÃ m str() lÃ  cÃ¡ch hiá»ƒn thá»‹ dá»¯ liá»‡u má»™t cÃ¡ch tá»•ng quÃ¡t vÃ  hiá»‡u quáº£ hÆ¡n vá»›i head() hoáº·c View(). Káº¿t quáº£ tá»« hÃ m str() vá»›i dá»¯ liá»‡u \\(murders\\) cho tháº¥y Ä‘Ã¢y lÃ  má»™t dá»¯ liá»‡u dáº¡ng báº£ng vá»›i 5 cá»™t (5 variables) vÃ  51 dÃ²ng (51 observations). NgoÃ i ra, sá»­ dá»¥ng hÃ m str() báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y Ä‘Æ°á»£c kiá»ƒu dá»¯ liá»‡u cá»§a tá»«ng cá»™t; cháº³ng háº¡n nhÆ° cá»™t \\(state\\) lÃ  cá»™t chá»©a dá»¯ liá»‡u kiá»ƒu \\(character\\); cá»™t \\(region\\) cÃ³ kiá»ƒu dá»¯ liá»‡u lÃ  \\(factor\\),â€¦Má»™t hÃ m sá»‘ hiá»‡u quáº£ khÃ¡c thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ báº¡n Ä‘á»c cÃ³ cÃ¡i nhÃ¬n tá»•ng quan vá» dá»¯ liá»‡u lÃ  hÃ m summary(). ChÃºng ta cÃ³ thá»ƒ quan sÃ¡t káº¿t quáº£ khi sá»­ dá»¥ng hÃ m `summary() vá»›i dá»¯ liá»‡u \\(murders\\) nhÆ° sauHÃ m summary() cho biáº¿t thÃ´ng chi tiáº¿t hÆ¡n vá» giÃ¡ trá»‹ trong má»—i cá»™t.Cá»™t \\(state\\) vÃ  cá»™t \\(abb\\) lÃ  cá»™t mÃ  giÃ¡ trá»‹ trong Ä‘Ã³ lÃ  kiá»ƒu \\(character\\)Cá»™t \\(state\\) vÃ  cá»™t \\(abb\\) lÃ  cá»™t mÃ  giÃ¡ trá»‹ trong Ä‘Ã³ lÃ  kiá»ƒu \\(character\\)Cá»™t \\(region\\) lÃ  kiá»ƒu factor, cÃ³ thá»ƒ nháº­n má»™t trong bá»‘n giÃ¡ trá»‹ lÃ  \\(Northeast\\), \\(South\\), \\(North\\) \\(Central\\), hoáº·c \\(West\\) vÃ  cho biáº¿t má»—i giÃ¡ trá»‹ xuáº¥t hiá»‡n bao nhiÃªu láº§n trong cá»™t dá»¯ liá»‡u.Cá»™t \\(region\\) lÃ  kiá»ƒu factor, cÃ³ thá»ƒ nháº­n má»™t trong bá»‘n giÃ¡ trá»‹ lÃ  \\(Northeast\\), \\(South\\), \\(North\\) \\(Central\\), hoáº·c \\(West\\) vÃ  cho biáº¿t má»—i giÃ¡ trá»‹ xuáº¥t hiá»‡n bao nhiÃªu láº§n trong cá»™t dá»¯ liá»‡u.CÃ¡c cá»™t \\(population\\) vÃ  \\(total\\) lÃ  cÃ¡c cá»™t kiá»ƒu sá»‘. ChÃºng ta cÃ³ thá»ƒ tháº¥y cÃ¡c giÃ¡ trá»‹ lá»›n nháº¥t, nhá» nháº¥t, giÃ¡ trá»‹ trung bÃ¬nh vÃ  cÃ¡c giÃ¡ trá»‹ tá»© phÃ¢n vá»‹. Báº¡n Ä‘á»c cÃ³ thá»ƒ hÃ¬nh dung ra phÃ¢n phá»‘i cá»§a cÃ¡c giÃ¡ trá»‹ trong cá»™t giÃ¡ trá»‹ kiá»ƒu sá»‘.CÃ¡c cá»™t \\(population\\) vÃ  \\(total\\) lÃ  cÃ¡c cá»™t kiá»ƒu sá»‘. ChÃºng ta cÃ³ thá»ƒ tháº¥y cÃ¡c giÃ¡ trá»‹ lá»›n nháº¥t, nhá» nháº¥t, giÃ¡ trá»‹ trung bÃ¬nh vÃ  cÃ¡c giÃ¡ trá»‹ tá»© phÃ¢n vá»‹. Báº¡n Ä‘á»c cÃ³ thá»ƒ hÃ¬nh dung ra phÃ¢n phá»‘i cá»§a cÃ¡c giÃ¡ trá»‹ trong cá»™t giÃ¡ trá»‹ kiá»ƒu sá»‘.Trong trÆ°á»ng há»£p cá»™t cÃ³ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c, hÃ m summary() cÅ©ng sáº½ cho biáº¿t cÃ³ bao nhiÃªu giÃ¡ trá»‹ nÃ y trong má»—i cá»™t.Trong trÆ°á»ng há»£p cá»™t cÃ³ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c, hÃ m summary() cÅ©ng sáº½ cho biáº¿t cÃ³ bao nhiÃªu giÃ¡ trá»‹ nÃ y trong má»—i cá»™t.Äá»ƒ láº¥y ra má»™t cá»™t dá»¯ liá»‡u cá»§a má»™t \\(data.frame\\) chÃºng ta sá»­ dá»¥ng \\(\\$\\). Cháº³ng háº¡n nhÆ° Ä‘á»ƒ láº¥y giÃ¡ trá»‹ cá»™t \\(population\\) cá»§a dá»¯ liá»‡u \\(murders\\):NhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, kiá»ƒu dá»¯ liá»‡u cá»§a cá»™t \\(region\\) lÃ  kiá»ƒu \\(factor\\). Vá» báº£n cháº¥t, vÃ©c-tÆ¡ kiá»ƒu \\(factor\\) lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± nhÆ°ng Ä‘Æ°á»£c lÆ°u theo má»™t cÃ¡ch hiá»‡u quáº£ hÆ¡n, tiáº¿t kiá»‡m bá»™ nhá»›, vÃ  thuáº­n lá»£i cho ngÆ°á»i sá»­ dá»¥ng khi phÃ¢n tÃ­ch dá»¯ liá»‡u.Dá»¯ liá»‡u kiá»ƒu factor sáº½ lÆ°u vÃ©c-tÆ¡ chuá»—i kÃ½ tá»± dÆ°á»›i dáº¡ng vec-tÆ¡ sá»‘ tá»± nhiÃªn vÃ  má»—i chuá»—i kÃ½ tá»± sáº½ Ä‘Æ°á»£c cho tÆ°Æ¡ng á»©ng vá»›i má»™t sá»‘ tá»± nhiÃªn. CÃ¡c lÆ°u nÃ y hiá»‡u quáº£ hÆ¡n vá» bá»™ nhá»› khi lÃ m viá»‡c vá»›i cÃ¡c vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± náº¿u cÃ³ nhiá»u chuá»—i kÃ½ tá»± bá»‹ láº·p láº¡i trong vÃ©c-tÆ¡. Äá»ƒ biáº¿t má»™t vec-tÆ¡ dáº¡ng factor cÃ³ bao nhiÃªu giÃ¡ trá»‹ riÃªng biá»‡t, má»—i giÃ¡ trá»‹ riÃªng biá»‡t Ä‘Æ°á»£c cho tÆ°Æ¡ng á»©ng vá»›i sá»‘ tá»± nhiÃªn nÃ o, vÃ  má»—i giÃ¡ trá»‹ riÃªng biá»‡t Ä‘Æ°á»£c láº·p láº¡i bao nhiÃªu láº§n trong vÃ©c-tÆ¡, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m summary() hoáº·c hÃ m table()Káº¿t quáº£ tá»« hÃ m table() cho tháº¥y cá»™t \\(region\\) cÃ³ 4 giÃ¡ trá»‹; cÃ¡ch cho tÆ°Æ¡ng á»©ng má»—i chuá»—i kÃ½ tá»± vá»›i cÃ¡c sá»‘ láº§n lÆ°á»£t lÃ  \\(Northeast \\rightarrow 1\\) ; \\(South \\rightarrow 2\\); \\(North Central \\rightarrow 3\\), vÃ  \\(West \\rightarrow 4\\); táº§n suáº¥t xuáº¥t hiá»‡n cá»§a má»—i giÃ¡ trá»‹ cÅ©ng Ä‘Æ°á»£c cho trong báº£ng: cÃ³ 9 giÃ¡ trá»‹ \\(Northeast\\), cÃ³ 17 giÃ¡ trá»‹ \\(South\\), cÃ³ 12 giÃ¡ trá»‹ \\(North Central\\), vÃ  13 giÃ¡ trá»‹ \\(West\\).Khi lÆ°u dá»¯ liá»‡u kiá»ƒu factor thay vÃ¬ chuá»—i kÃ½ tá»± nghÄ©a lÃ  báº¡n Ä‘á»c Ä‘ang Ä‘á»‹nh nghÄ©a dá»¯ liá»‡u lÃ  kiá»ƒu biáº¿n rá»i ráº¡c (categorial variable). Biáº¿n cÃ³ thá»ƒ trá»±c tiáº¿p Ä‘Æ°a vÃ o cÃ¡c mÃ´ hÃ¬nh vÃ  khÃ´ng cáº§n thá»±c hiá»‡n thÃªm biáº¿n Ä‘á»•i nÃ o khÃ¡c.Trong háº§u háº¿t cÃ¡c trÆ°á»ng há»£p báº¡n Ä‘á»c sáº½ dÃ¹ng R Ä‘á»ƒ xá»­ lÃ½ dá»¯ liá»‡u tá»« nguá»“n ngoÃ i vÃ o. ChÃºng ta sáº½ sá»­ dá»¥ng cÃ¡c hÃ m cÃ³ sáºµn trong R Ä‘á»c dá»¯ liá»‡u vÃ  káº¿t quáº£ Ä‘áº§u ra cá»§a hÃ m nÃ y sáº½ lÃ  cÃ¡c \\(data.frame\\). Trong má»™t vÃ i trÆ°á»ng há»£p, báº¡n Ä‘á»c sáº½ pháº£i tá»± táº¡o \\(data.frame\\). CÃ¢u lá»‡nh Ä‘á»ƒ táº¡o má»™t \\(data.frame\\) (tÃªn \\(df\\)) vá»›i cÃ¡c cá»™t cÃ³ tÃªn láº§n lÆ°á»£t lÃ  \\(id\\), \\(names\\), \\(grades\\), vÃ  \\(result\\) Ä‘Æ°á»£c viáº¿t nhÆ° sauÄá»‘i tÆ°á»£ng kiá»ƒu \\(data.frame\\) cÃ³ má»™t vÃ i nhÆ°á»£c Ä‘iá»ƒm khi sá»­ dá»¥ng Ä‘á»ƒ lÆ°u dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R. Ä‘Ã³ kiá»ƒu Ä‘á»‘i tÆ°á»£ng má»›i Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘á»ƒ kháº¯c phá»¥c cÃ¡c nhÆ°á»£c Ä‘iá»ƒm nÃ y, Ä‘Ã³ lÃ  \\(tibble\\). Pháº§n tiáº¿p theo chÃºng ta sáº½ tháº£o luáº­n vá» Ä‘á»‘i tÆ°á»£ng nÃ y.","code":"\ndata()\nlibrary(dslabs) # gá»i thÆ° viá»‡n dslabs lÃªn trÃªn mÃ n hÃ¬nh \ndata(package = \"dslabs\") # cho biáº¿t cÃ³ nhá»¯ng data nÃ o trong thÆ° viá»‡n dslabs\nclass(murders) # trÃªn mÃ n hÃ¬nh console sáº½ cho biáº¿t Ä‘Ã¢y lÃ  má»™t data frame## [1] \"data.frame\"\n? murders # trÃªn cá»­a sá»• help sáº½ hiá»ƒn thá»‹ mÃ´ táº£ vá» murders\nView(murders) # Hiá»ƒn thá»‹ data.frame dÆ°á»›i dáº¡ng báº£ng \nhead(murders,k = 5) # Hiá»ƒn thá»‹ k dÃ²ng Ä‘áº§u tiÃªn cá»§a data.frame##        state abb region population total\n## 1    Alabama  AL  South    4779736   135\n## 2     Alaska  AK   West     710231    19\n## 3    Arizona  AZ   West    6392017   232\n## 4   Arkansas  AR  South    2915918    93\n## 5 California  CA   West   37253956  1257\n## 6   Colorado  CO   West    5029196    65\nstr(murders) # Hiá»ƒn thá»‹ cáº¥u trÃºc cá»§a data.frame.## 'data.frame':    51 obs. of  5 variables:\n##  $ state     : chr  \"Alabama\" \"Alaska\" \"Arizona\" \"Arkansas\" ...\n##  $ abb       : chr  \"AL\" \"AK\" \"AZ\" \"AR\" ...\n##  $ region    : Factor w/ 4 levels \"Northeast\",\"South\",..: 2 4 4 2 4 4 1 2 2 2 ...\n##  $ population: num  4779736 710231 6392017 2915918 37253956 ...\n##  $ total     : num  135 19 232 93 1257 ...\nsummary(murders) # in ra mÃ n hÃ¬nh cá»™t population cá»§a data.frame murders##     state               abb                      region     population      \n##  Length:51          Length:51          Northeast    : 9   Min.   :  563626  \n##  Class :character   Class :character   South        :17   1st Qu.: 1696962  \n##  Mode  :character   Mode  :character   North Central:12   Median : 4339367  \n##                                        West         :13   Mean   : 6075769  \n##                                                           3rd Qu.: 6636084  \n##                                                           Max.   :37253956  \n##      total       \n##  Min.   :   2.0  \n##  1st Qu.:  24.5  \n##  Median :  97.0  \n##  Mean   : 184.4  \n##  3rd Qu.: 268.0  \n##  Max.   :1257.0\nmurders$population # in ra mÃ n hÃ¬nh cá»™t population cá»§a data.frame murders\n# summary(murders$region) # Tá»•ng há»£p thÃ´ng tin cá»§a vec-tÆ¡ dáº¡ng factor\ntable(murders$region) # cho káº¿t quáº£ tÆ°Æ¡ng tá»± nhÆ° summary## \n##     Northeast         South North Central          West \n##             9            17            12            13\ndf<-data.frame( # hÃ m data.frame() dÃ¹ng Ä‘á»ƒ táº¡o data.frame tÃªn df\n      id = paste(\"SV\",1:5), # cá»™t cÃ³ tÃªn lÃ  ID nháº­n giÃ¡ trá»‹ \"SV1\",...,\"SV5\"\n      names = c(\"You\", \"Me\", \"Him\", \"Her\", \"John\"), # Cá»™t names\n      grades = c(5.5, 1.5, 10.0, 9.0, 7.6), # Cá»™t grades\n      result = c(TRUE, FALSE,TRUE, TRUE, TRUE)) # Cá»™t result"},{"path":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r.html","id":"tibble-lÃ -má»™t-cáº£i-tiáº¿n-cá»§a-data.frame","chapter":"ChÆ°Æ¡ng 4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","heading":"4.1.2 \\(tibble\\) lÃ  má»™t cáº£i tiáº¿n cá»§a \\(data.frame\\)?","text":"Vá» cÆ¡ báº£n má»™t \\(tibble\\) lÃ  cÅ©ng cÃ³ thá»ƒ hiá»ƒu lÃ  má»™t \\(data.frame\\) vá»›i má»™t vÃ i Ä‘iá»u chá»‰nh Ä‘á»ƒ giÃºp viá»‡c láº¥y dá»¯ liá»‡u tá»« nguá»“n bÃªn ngoÃ i vÃ o phÃ¢n tÃ­ch trá»Ÿ nÃªn dá»… dÃ ng hÆ¡n. á» má»©c Ä‘á»™ phÃ¢n tÃ­ch dá»¯ liá»‡u thÃ´ng thÆ°á»ng, sá»± khÃ¡c khÃ¡c nhau giá»¯a \\(tibble\\) vÃ  \\(data.frame\\) lÃ  khÃ´ng Ä‘Ã¡ng ká»ƒ. Náº¿u cáº§n liá»‡t kÃª ra sá»± khÃ¡c nhau cÆ¡ báº£n giá»¯u hai Ä‘á»‘i tÆ°á»£ng nÃ y thÃ¬ cÃ³ thá»ƒ ká»ƒ Ä‘áº¿n:Thá»© nháº¥t: khi má»™t \\(tibble\\) ra mÃ n hÃ¬nh sáº½ chá»‰ cÃ³ 10 dÃ²ng Ä‘áº§u Ä‘Æ°á»£c hiá»ƒn thá»‹ vÃ  sá»‘ lÆ°á»£ng cá»™t cá»§a má»™t \\(tibble\\) luÃ´n luÃ´n khá»›p vá»›i kÃ­ch thÆ°á»›c cá»­a sá»• R Console, Ä‘á»“ng thá»i kiá»ƒu dá»¯ liá»‡u cá»§a má»—i cá»™t sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ ngay dÆ°á»›i tÃªn cá»™tThá»© hai: khi láº¥y dá»¯ liá»‡u tá»« bÃªn ngoÃ i vÃ o trong R, \\(tibble\\) khÃ´ng Ä‘á»•i tÃªn cá»™t dÃ¹ tÃªn cá»™t khÃ´ng pháº£i lÃ  kiá»ƒu tÃªn Ä‘Æ°á»£c phÃ©p trong R. Äá»“ng thá»i, khi táº¡o má»™t \\(tibble\\), báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘áº·t tÃªn cá»™t lÃ  má»™t kiá»ƒu tÃªn khÃ´ng Ä‘Æ°á»£c phÃ©p sá»­ dá»¥ng vá»›i tÃªn biáº¿n thÃ´ng thÆ°á»ng.Thá»© hai: khi láº¥y dá»¯ liá»‡u tá»« bÃªn ngoÃ i vÃ o trong R, \\(tibble\\) khÃ´ng Ä‘á»•i tÃªn cá»™t dÃ¹ tÃªn cá»™t khÃ´ng pháº£i lÃ  kiá»ƒu tÃªn Ä‘Æ°á»£c phÃ©p trong R. Äá»“ng thá»i, khi táº¡o má»™t \\(tibble\\), báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘áº·t tÃªn cá»™t lÃ  má»™t kiá»ƒu tÃªn khÃ´ng Ä‘Æ°á»£c phÃ©p sá»­ dá»¥ng vá»›i tÃªn biáº¿n thÃ´ng thÆ°á»ng.Cuá»‘i cÃ¹ng, khi dá»¯ liá»‡u tá»« bÃªn ngoÃ i Ä‘Æ°á»£c lÆ°u vÃ o má»™t \\(tibble\\), kiá»ƒu dá»¯ liá»‡u sáº½ khÃ´ng thay Ä‘á»•i.Cuá»‘i cÃ¹ng, khi dá»¯ liá»‡u tá»« bÃªn ngoÃ i Ä‘Æ°á»£c lÆ°u vÃ o má»™t \\(tibble\\), kiá»ƒu dá»¯ liá»‡u sáº½ khÃ´ng thay Ä‘á»•i.Äá»ƒ táº¡o má»™t \\(tibble\\), báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m tibble(). Báº¡n Ä‘á»c cÃ³ thá»ƒ táº¡o ra má»™t dá»¯ liá»‡u cÃ³ 3 cá»™t mÃ  tÃªn cÃ¡c cá»™t Ä‘á»u khÃ´ng thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m tÃªn biáº¿n trong R nhÆ° sauNáº¿u thay tháº¿ Ä‘oáº¡n lá»‡nh trÃªn báº±ng hÃ m data.frame() thÃ¬ hÃ m \\(data.frame\\) Ä‘Æ°á»£c táº¡o thÃ nh sáº½ tá»± Ä‘á»™ng thay Ä‘á»•i tÃªn cá»™tBáº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng dá»¯ liá»‡u cÃ³ tÃªn \\(df\\) náº¿u Ä‘Æ°á»£c lÆ°u dÆ°á»›i dáº¡ng \\(data.frame\\) thÃ¬ tÃªn cÃ¡c cá»™t Ä‘Ã£ Ä‘Æ°á»£c tá»± Ä‘á»™ng thay Ä‘á»•i cho thÃ­ch há»£p vá»›i tÃªn biáº¿n. Nhá»¯ng Ä‘iá»ƒm khÃ¡c nhau giá»¯a \\(tibble\\) vÃ  \\(data.frame\\) sáº½ Ä‘Æ°á»£c tiáº¿p tá»¥c tháº£o luáº­n á»Ÿ cÃ¡c pháº§n tiáº¿p theo khi chÃºng tÃ´i giá»›i thiá»‡u vá» cÃ¡c hÃ m dÃ¹ng Ä‘á»ƒ nháº­p dá»¯ liá»‡u vÃ o R.","code":"\nlibrary(tibble)\ntrump_tweets # in má»™t data frame ra mÃ n hÃ¬nh sáº½ khÃ´ng hiá»‡u quáº£\n# HÃ m as_tibble Ä‘á»•i data.frame sang tibble\nas_tibble(trump_tweets) # Hiá»ƒn thá»‹ 1 tibble hiá»‡u quáº£ hÆ¡n.\ntib<-tibble( # hÃ m tibble dÃ¹ng Ä‘á»ƒ táº¡o tibble\n  \":D\" = c(1,2,3), # cÃ³ thá»ƒ dÃ¹ng tÃªn cá»™t lÃ  \":D\"\n  \":p\" = c(\"X\",\"Y\",\"Z\"), # cÃ³ thá»ƒ dÃ¹ng tÃªn cá»™t lÃ  \":p\"\n  \"1\" = 2 # cÃ³ thá»ƒ dÃ¹ng tÃªn cá»™t lÃ  \"1\"\n)\ntib## # A tibble: 3 Ã— 3\n##    `:D` `:p`    `1`\n##   <dbl> <chr> <dbl>\n## 1     1 X         2\n## 2     2 Y         2\n## 3     3 Z         2\ndf<-data.frame( # táº¡o data.frame thay vÃ¬ tibble\n  \":D\" = c(1,2,3), # data.frame sáº½ Ä‘á»•i tÃªn cá»™t cho phÃ¹ há»£p\n  \":p\" = c(\"X\",\"Y\",\"Z\"), # data.frame sáº½ Ä‘á»•i tÃªn cá»™t cho phÃ¹ há»£p\n  \"1\" = 2 # data.frame sáº½ Ä‘á»•i tÃªn cá»™t cho phÃ¹ há»£p\n)\ndf # hÃ£y quan sÃ¡t xem tÃªn cá»™t cá»§a df thay Ä‘á»•i nhÆ° tháº¿ nÃ o##   X.D X.p X1\n## 1   1   X  2\n## 2   2   Y  2\n## 3   3   Z  2"},{"path":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r.html","id":"nháº­p-dá»¯-liá»‡u-báº±ng-hÃ m-sáºµn-cÃ³.","chapter":"ChÆ°Æ¡ng 4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","heading":"4.1.3 Nháº­p dá»¯ liá»‡u báº±ng hÃ m sáºµn cÃ³.","text":"Danh sÃ¡ch cÃ¡c hÃ m sáºµn cÃ³ trong R vÃ  kiá»ƒu dá»¯ liá»‡u tÆ°Æ¡ng á»©ng cÃ³ thá»ƒ nháº­p Ä‘Æ°á»£c liá»‡t kÃª trong cÃ¡c báº£ng sau:\nTable 1.2: Danh sÃ¡ch hÃ m cÃ³ sáºµn Ä‘á»ƒ láº¥y dá»¯ liá»‡u tá»« nguá»“n bÃªn ngoÃ i\nKhi láº¥y dá»¯ liá»‡u tá»« cÃ¡c nguá»“n bÃªn ngoÃ i vÃ o báº±ng cÃ¡c cÃ¢u lá»‡nh cÃ³ sáºµn, tÃªn cá»§a cÃ¡c cá»™t dá»¯ liá»‡u cÃ³ thá»ƒ bá»‹ thay Ä‘á»•i má»™t sá»‘ tÃªn cá»™t khÃ´ng thá»ƒ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ Ä‘áº·t tÃªn cá»§a \\(data.frame\\). Ä‘Ã³, báº¡n Ä‘á»c hÃ£y luÃ´n kiá»ƒm tra láº¡i tÃªn cÃ¡c cá»™t dá»¯ liá»‡u sau khi Ä‘á»c. HÃ m names() cho biáº¿t tÃªn cÃ¡c cá»™t cá»§a má»™t \\(data.frame\\).Äá»ƒ Ä‘á»•i tÃªn cá»§a \\(data.frame\\) á»Ÿ trÃªn, báº¡n Ä‘á»c cáº§n gÃ¡n \\(names(df)\\) báº±ng má»™t vÃ©c-tÆ¡ chá»©a tÃªn cÃ¡c cá»™t. HÃ£y Ä‘áº£m báº£o ráº±ng Ä‘á»™ dÃ i cá»§a vec-tÆ¡ chá»©a tÃªn cá»™t báº±ng sá»‘ cá»™t cá»§a \\(data.frame\\)","code":"\ndf<-read.csv(header = TRUE, \n              text = \"@1,@2 \n                      1,2 \n                      3,4\") # sá»­ dá»¥ng read.csv Ä‘á»ƒ Ä‘á»c Ä‘oáº¡n text\nnames(df) # hiá»ƒn thá»‹ tÃªn cá»§a cÃ¡c cá»™t## [1] \"X.1\" \"X.2\"\nnames(df)<-c(\"@1\",\"@2\") # Ä‘á»•i tÃªn 2 cá»™t cá»§a data.frame df\ndf # in data.frame df##   @1 @2\n## 1  1  2\n## 2  3  4"},{"path":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r.html","id":"nháº­p-dá»¯-liá»‡u-báº±ng-thÆ°-viá»‡n-readr.","chapter":"ChÆ°Æ¡ng 4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","heading":"4.1.4 Nháº­p dá»¯ liá»‡u báº±ng thÆ° viá»‡n \\(readr\\).","text":"CÃ¡c cÃ¢u lá»‡nh Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u cá»§a thÆ° viá»‡n \\(readr\\) tÆ°Æ¡ng tá»± nhÆ° cÃ¡c cÃ¢u lá»‡nh sáºµn cÃ³, nhÆ°ng Ä‘áº·c biá»‡t hiá»‡u quáº£ hÆ¡n vá» thá»i gian Ä‘á»c dá»¯ liá»‡u. HÃ m sá»‘ dÃ¹ng Ä‘á»ƒ Ä‘á»c cÃ¡c file Ä‘á»‹nh dáº¡ng \\(csv\\) trong thÆ° viá»‡n \\(readr\\) lÃ  hÃ m read_csv(). Äá»ƒ sÃ¡nh thá»i gian Ä‘á»c dá»¯ liá»‡u vÃ o R cá»§a hÃ m read_csv() vÃ  hÃ m read.csv() chÃºng ta sáº½ táº¡o hai file dá»¯ liá»‡u bao gá»“m test1.csv vÃ  test2.csvBáº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm tra kÃ­ch thÆ°á»›c cá»§a cÃ¡c file test1.csv vÃ  test2.csv láº§n lÆ°á»£t lÃ  khoáº£ng 18 Mega byte vÃ  180 Mega byte. ChÃºng ta sáº½ kiá»ƒm tra thá»i gian mÃ  cÃ¡c hÃ m read.csv() vÃ  read_csv() nháº­p dá»¯ liá»‡u Ä‘á»‘i vá»›i dá»¯ liá»‡u test1.csv trÆ°á»›c:Äá»‘i vá»›i dá»¯ liá»‡u \\(test1.csv\\) thÃ¬ thá»i gian nháº­p dá»¯ liá»‡u cá»§a read_csv() cÃ³ nhanh hÆ¡n nhÆ°ng khÃ´ng cÃ³ sá»± khÃ¡c biá»‡t Ä‘Ã¡ng ká»ƒ. Tuy nhiÃªn sá»± khÃ¡c biá»‡t sáº½ rÃµ rÃ ng khi nháº­p dá»¯ liá»‡u \\(test2.csv\\). Báº¡n Ä‘á»c cÃ¢n nháº¯c khi dÃ¹ng hÃ m read.csv() Ä‘á»c dá»¯ liá»‡u thá»i gian nháº­p dá»¯ liá»‡u cÃ³ thá»ƒ lÃªn Ä‘áº¿n hÆ¡n 20 phÃºt.HÃ m read_csv() sáº½ máº¥t khoáº£ng 2 phÃºt Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u \\(test2.csv\\), nghÄ©a lÃ  thá»i gian tiáº¿t kiÃªm lÃªn Ä‘áº¿n hÆ¡n 10 láº§n! Danh sÃ¡ch cÃ¡c hÃ m Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u trong gÃ³i lá»‡nh \\(readr\\) nhÆ° sau\nTable 1.5: Danh sÃ¡ch hÃ m Ä‘á»c dá»¯ liá»‡u cá»§a readr\nMá»™t sá»± khÃ¡c biá»‡t cÆ¡ báº£n khÃ¡c cá»§a cÃ¡c hÃ m Ä‘á»c dá»¯ liá»‡u trong readr Ä‘Ã³ lÃ  dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u vÃ o má»™t Tibble thay vÃ¬ má»™t Data frame. Äiá»u nÃ y giÃºp cho dá»¯ liá»‡u khÃ´ng bá»‹ thay Ä‘á»•i Ä‘á»‹nh dáº¡ng vÃ  giá»¯ nguyÃªn tÃªn cá»™t. CÃ¡c lÆ°u Ã½ khÃ¡c khi báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¡c hÃ m sá»‘ Ä‘á»c dá»¯ liá»‡u cá»§a readrCÃ¡c hÃ m sá»‘ trong readr luÃ´n hiá»ƒu hÃ ng Ä‘áº§u tiÃªn cá»§a dá»¯ liá»‡u lÃ  tÃªn cá»§a má»—i cá»™t. Ä‘Ã³, báº¡n Ä‘á»c cáº§n sá»­ dá»¥ng tham sá»‘ \\(col_names = FALSE\\) náº¿u khÃ´ng muá»‘n readr hiá»ƒu hÃ ng Ä‘áº§u tiÃªn lÃ  tÃªn cá»§a má»—i cá»™t dá»¯ liá»‡u.Trong nhiá»u file dá»¯ liá»‡u cÃ¡c hÃ ng Ä‘áº§u tiÃªn lÃ  cÃ¡c mÃ´ táº£ vá» dá»¯ liá»‡u nÃªn khi sá»­ dá»¥ng readr, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng tÃ¹y biáº¿n \\(skip = k\\) Ä‘á»ƒ loáº¡i bá» \\(k\\) dÃ²ng Ä‘áº§u tiÃªn trong file dá»¯ liá»‡u.Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng tham sá»‘ \\(col_names\\) Ä‘á»ƒ gÃ¡n giÃ¡ trá»‹ cho tÃªn cÃ¡c cá»™t, tuy nhiÃªn lá»i khuyÃªn cá»§a chÃºng tÃ´i lÃ  báº¡n Ä‘á»c hÃ£y Ä‘áº·t tÃªn cho cÃ¡c cá»™t báº±ng hÃ m \\(names()\\) sau khi lÆ°u dá»¯ liá»‡u vÃ o tibble Ä‘á»ƒ trÃ¡nh sá»± phá»©c táº¡p khÃ´ng Ä‘Ã¡ng cÃ³.CÃ¡ch sá»­ dá»¥ng cÃ¡c hÃ m khÃ¡c ngoÃ i read_csv() báº¡n Ä‘á»c cÃ³ thá»ƒ tham kháº£o trong hÆ°á»›ng dáº«n cá»§a gÃ³i lá»‡nh \\(readr\\). Sau khi Ä‘á»c qua hÆ°á»›ng dáº«n, báº¡n Ä‘á»c hÃ£y thá»­ kiá»ƒm tra xem cÃ¡c cÃ¢u lá»‡nh sau cÃ³ váº¥n Ä‘á» gÃ¬ vÃ  náº¿u cÃ³ thá»ƒ, báº¡n Ä‘á»c hÃ£y thá»­ lá»±a chá»n hÃ m hoáº·c thÃªm tham sá»‘ phÃ¹ há»£p Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u","code":"\nx<-matrix(rnorm(10^6),10^2,10^4) # táº¡o thÃ nh 1 ma tráº­n 100 hÃ ng, 10^4 cá»™t\nwrite.csv(x,\"test1.csv\") # lÆ°u ma tran thanh file .csv\nx<-matrix(rnorm(10^7),10^2,10^5) # táº¡o thÃ nh 1 ma tráº­n 100 hÃ ng, 10^5 cá»™t\nwrite.csv(x,\"test2.csv\") # lÆ°u ma tran thanh file .csv\nstart<-proc.time() # lÆ°u láº¡i thá»i Ä‘iá»ƒm trÆ°á»›c khi cháº¡y read.csv\ndat<-read.csv(\"test1.csv\") # dÃ¹ng hÃ m read.csv Ä‘á»ƒ load dá»¯ liá»‡u \nproc.time() - start # tÃ­nh thá»i gian hÃ m read.csv cháº¡y\n\nstart<-proc.time() # lÆ°u láº¡i thá»i Ä‘iá»ƒm trÆ°á»›c khi cháº¡y read_csv\ndat<-read_csv(\"test1.csv\") # dÃ¹ng hÃ m read_csv Ä‘á»ƒ load dá»¯ liá»‡u \nproc.time() - start # tÃ­nh thá»i gian hÃ m read_csv cháº¡y\nstart<-proc.time() # lÆ°u láº¡i thá»i Ä‘iá»ƒm trÆ°á»›c khi cháº¡y read.csv\ndat<-read.csv(\"test2.csv\") # !!! THá»œI GIAN CHáº Y CÃ“ THá»‚ LÃŠN Äáº¾N 20-25 phÃºt\nproc.time() - start # tÃ­nh thá»i gian hÃ m read.csv cháº¡y\n\nstart<-proc.time() # lÆ°u láº¡i thá»i Ä‘iá»ƒm trÆ°á»›c khi cháº¡y read_csv\ndat<-read_csv(\"test2.csv\") # dÃ¹ng hÃ m read_csv Ä‘á»ƒ load dá»¯ liá»‡u \nproc.time() - start # tÃ­nh thá»i gian hÃ m read_csv cháº¡y\nlibrary(readr)\n# Káº¿t quáº£ sáº½ lÃ  má»™t Tibble 1 hÃ ng vÃ  3 cá»™t\nread_csv(\"1,2,3 \n         4,5,6\") # tÃªn cÃ¡c cá»™t lÃ  \"1\", \"2\", vÃ  \"3\"## # A tibble: 1 Ã— 3\n##     `1`   `2`   `3`\n##   <dbl> <dbl> <dbl>\n## 1     4     5     6\n# Káº¿t quáº£ sáº½ lÃ  má»™t Tibble 2 hÃ ng vÃ  3 cá»™t\nread_csv(\"1,2,3 \n         4,5,6\", col_names = FALSE) # readr tá»± Ä‘á»™ng Ä‘áº·t tÃªn cÃ¡c cá»™t X1, X2, X3## # A tibble: 2 Ã— 3\n##      X1    X2    X3\n##   <dbl> <dbl> <dbl>\n## 1     1     2     3\n## 2     4     5     6\n# Káº¿t quáº£ sáº½ lÃ  má»™t Tibble 2 hÃ ng vÃ  3 cá»™t\nread_csv(\"TrÆ°á»ng ÄHKTQD\n        Khoa toÃ¡n Kinh táº¿\n         1,2,3 \n         4,5,6\", col_names = FALSE, skip = 2) # readr sáº½ khÃ´ng Ä‘á»c 2 dÃ²ng Ä‘áº§u## Rows: 2 Columns: 3\n## â”€â”€ Column specification â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Delimiter: \",\"\n## dbl (3): X1, X2, X3\n## \n## â„¹ Use `spec()` to retrieve the full column specification for this data.\n## â„¹ Specify the column types or set `show_col_types = FALSE` to quiet this message.## # A tibble: 2 Ã— 3\n##      X1    X2    X3\n##   <dbl> <dbl> <dbl>\n## 1     1     2     3\n## 2     4     5     6\nread_csv(\"x,y\\n1,2,3\\n4,5,6\") # \\n thay cho xuá»‘ng dÃ²ng\nread_csv(\"x,y,z\\n1,2\\n1,2,3,4\") \nread_csv(\"x,y\\n\\\",1,\\n,a,b\",col_names = FALSE) \nread_csv(\"x;y\\n1;2\\nx;y\") # Thá»­ hÃ m sá»‘ khÃ¡c\nread_csv(\"x|y\\n1|2\") # Thá»­ hÃ m sá»‘ khÃ¡c"},{"path":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r.html","id":"tÆ°Æ¡ng-tÃ¡c-giá»¯a-r-vÃ -microsoft-excel","chapter":"ChÆ°Æ¡ng 4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","heading":"4.1.5 TÆ°Æ¡ng tÃ¡c giá»¯a R vÃ  Microsoft Excel","text":"","code":""},{"path":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r.html","id":"Ä‘á»c-dá»¯-liá»‡u-lÆ°u-dÆ°á»›i-Ä‘á»‹nh-dáº¡ng-cá»§a-excel","chapter":"ChÆ°Æ¡ng 4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","heading":"4.1.5.1 Äá»c dá»¯ liá»‡u lÆ°u dÆ°á»›i Ä‘á»‹nh dáº¡ng cá»§a Excel","text":"Microsoft Excel lÃ  ráº¥t phá»• biáº¿n trong mÃ´i trÆ°á»ng lÃ m viá»‡c cÃ´ng sá»Ÿ. Ä‘Ã³, dá»¯ liá»‡u nháº­n sáº½ cÃ³ thá»ƒ lÃ  cÃ¡c file Ä‘á»‹nh dáº¡ng (.xls, .xlsx, .xlsb, .xlsm â€¦ ). CÃ¡c gÃ³i lá»‡nh \\(openxlsx\\) vÃ  \\(readxl\\) thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u tá»« cÃ¡c file cÃ³ Ä‘á»‹nh dáº¡ng nhÆ° váº­y.","code":""},{"path":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r.html","id":"tÆ°Æ¡ng-tÃ¡c-vá»›i-microsoft-excel-báº±ng-gÃ³i-lá»‡nh-openxlsx","chapter":"ChÆ°Æ¡ng 4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","heading":"4.1.5.2 TÆ°Æ¡ng tÃ¡c vá»›i Microsoft Excel báº±ng gÃ³i lá»‡nh \\(openxlsx\\)","text":"NgoÃ i viá»‡c láº¥y dá»¯ liá»‡u tá»« cÃ¡c file Ä‘Æ°á»£c lÆ°u dÆ°á»›i Ä‘á»‹nh dáº¡nh cá»§a Excel, báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng gÃ³i lá»‡nh \\(openxlsx\\) Ä‘á»ƒ lÃ m viá»‡c vá»›i cÃ¡c excel workbook thay vÃ¬ lÃ m viá»‡c trá»±c tiáº¿p trÃªn workbook.","code":""},{"path":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r.html","id":"láº¥y-dá»¯-liá»‡u-tá»«-má»™t-há»‡-cÆ¡-sá»Ÿ-dá»¯-liá»‡u","chapter":"ChÆ°Æ¡ng 4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","heading":"4.1.6 Láº¥y dá»¯ liá»‡u tá»« má»™t há»‡ cÆ¡ sá»Ÿ dá»¯ liá»‡u","text":"CÃ³ thá»ƒ sá»­ dá»¥ng R nhÆ° má»™t cÃ´ng cá»¥ Ä‘á»ƒ káº¿t ná»‘i vÃ  thá»±c hiá»‡n cÃ¡c cÃ¢u lá»‡nh truy váº¥n vÃ o cÃ¡c cÆ¡ sá»Ÿ dá»¯ liá»‡u. Äá»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u nÃ y, trÆ°á»›c tiÃªn, báº¡n Ä‘á»c cáº§n pháº£i cÃ i Ä‘áº·t má»™t Open Database Connectivity (ODBC), Ä‘Æ°á»£c gá»i lÃ  káº¿t ná»‘i cÆ¡ sá»Ÿ dá»¯ liá»‡u má»Ÿ. Káº¿t ná»‘i nÃ y giÃºp cho há»‡ Ä‘iá»u hÃ nh mÃ¡y tÃ­nh tÆ°Æ¡ng thÃ­ch vá»›i há»‡ quáº£n lÃ½ cÆ¡ sá»Ÿ dá»¯ liá»‡u mÃ  báº¡n sá»­ dá»¥ng. NhÃ³m tÃ¡c giáº£ sá»­ dá»¥ng há»‡ Ä‘iá»u hÃ nh Windows vÃ  há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL nÃªn chÃºng tÃ´i sáº½ lá»±a chá»n ODBC phÃ¹ há»£p. Báº¡n Ä‘á»c tham kháº£o táº¡i Ä‘á»‹a chá»‰ https://dev.mysql.com/downloads/connector/odbc/. Táº¡i thá»i Ä‘iá»ƒm nhÃ³m tÃ¡c giáº£ viáº¿t cuá»‘n sÃ¡ch nÃ y ODBC cho há»‡ Ä‘iá»u hÃ nh Windows Ä‘ang lÃ  phiÃªn báº£n 8.0Sau khi cÃ i Ä‘áº·t ODBC lÃªn há»‡ Ä‘iá»u hÃ nh, báº¡n Ä‘á»c Ä‘Ã£ cÃ³ thá»ƒ sá»­ dá»¥ng R Ä‘á»ƒ truy cáº­p vÃ o má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u vÃ  thá»±c hiá»‡n cÃ¡c cÃ¢u lá»‡nh truy váº¥n dá»¯ liá»‡u trÃªn cÆ¡ sá»Ÿ dá»¯ liá»‡u Ä‘Ã³ trÃªn R vá»›i sá»± trá»£ giÃºp cá»§a thÆ° viá»‡n \\(DBI\\). Sau khi cÃ i Ä‘áº·t thÆ° viá»‡n \\(DBI\\), báº¡n Ä‘á»c cáº§n táº¡o má»™t káº¿t ná»‘i giá»¯a R vÃ  cÆ¡ sá»Ÿ dá»¯ liá»‡u báº±ng hÃ m \\(dbConnect\\).Trong Ä‘Ã³ â€œten_serveâ€ lÃ  Ä‘á»‹a chá»‰ local hoáº·c server lÆ°u trá»¯ cÆ¡ sá»Ÿ dá»¯ liá»‡u, â€œdb_nameâ€ lÃ  tÃªn cá»§a cÆ¡ sá»Ÿ dá»¯ liá»‡u, ID vÃ  password láº§n lÆ°á»£t lÃ  tÃªn vÃ  password mÃ  báº¡n Ä‘á»c tá»± táº¡o hoáº·c Ä‘Æ°á»£c cáº¥p Ä‘á»ƒ truy cáº­p vÃ o cÆ¡ sá»Ÿ dá»¯ liá»‡u. Sau khi Ä‘Ã£ táº¡o Ä‘Æ°á»£c káº¿t ná»‘i, báº¡n Ä‘á»c cÃ³ thá»ƒ thá»±c hiá»‡n báº¥t ká»³ cÃ¢u lá»‡nh truy váº¥n dá»¯ liá»‡u nÃ o tá»« R vá»›i hÃ m â€œDBI::dbGetQuery()â€. Cháº³ng háº¡n, báº¡n Ä‘á»c muá»‘n láº¥y ra thÃ´ng tin cá»§a táº¥t cáº£ nhá»¯ng ngÆ°á»i cÃ³ ngÃ y sinh lÃ  ngÃ y 01 thÃ¡ng 01 nÄƒm 2000 tá»« má»™t báº£ng cÃ³ tÃªn lÃ  Life_Insured tá»« má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u tÃªn lÃ  \\(tktdb\\), báº¡n Ä‘á»c thá»±c hiá»‡n nhÆ° sauTIP: Khi lÃ m viá»‡c vá»›i dá»¯ liá»‡u Ä‘Æ°á»£c trÃ­ch xuáº¥t tá»« má»™t há»‡ cÆ¡ sá»Ÿ dá»¯ liá»‡u, báº¡n Ä‘á»c hÃ£y cá»‘ gáº¯ng thá»±c hiá»‡n cÃ¡c phÃ©p biáº¿n Ä‘á»•i, sáº¯p xáº¿p dá»¯ liá»‡u báº±ng SQL thay vÃ¬ thá»±c hiá»‡n biáº¿n Ä‘á»•i trÃªn R vÃ¬ cÃ¡c há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u thá»±c hiá»‡n cÃ¡c chá»©c nÄƒng nÃ y nhanh hÆ¡n R ráº¥t nhiá»u.","code":"\nlibrary(DBI)\ncon <- dbConnect(odbc::odbc(), .connection_string = \"Driver={MySQL ODBC 8.0 Unicode Driver};\", \n    Server = \"ten_serve\", Database = \"db_name\", UID = \"ID\", PWD = \"password\")\nsql<-\"select * from tktdb.Life_Insured \n      where DOB = '2000-01-01'\" # Viáº¿t Ä‘Ãºng cÃ¢u lá»‡nh truy váº¥n tá»« MySQL\ndf<-DBI::dbGetQuery(sql) # data.frame df sáº½ lÆ°u káº¿t quáº£ cá»§a cÃ¢u lá»‡nh truy váº¥n"},{"path":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r.html","id":"bÃ i-táº­p","chapter":"ChÆ°Æ¡ng 4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","heading":"4.2 BÃ i táº­p","text":"","code":""},{"path":"nháº­p-dá»¯-liá»‡u-tá»«-cÃ¡c-nguá»“n-khÃ¡c-nhau-vÃ o-r.html","id":"phá»¥-lá»¥c-2","chapter":"ChÆ°Æ¡ng 4 Nháº­p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau vÃ o R","heading":"4.3 Phá»¥ lá»¥c","text":"","code":""},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","text":"Tiá»n xá»­ lÃ½ dá»¯ liá»‡u lÃ  má»™t cÃ´ng viá»‡c Ä‘Ã²i há»i sá»± tá»‰ má»‰, cáº©n tháº­n vÃ  cÅ©ng lÃ  má»™t trong nhá»¯ng bÆ°á»›c quan trá»ng nháº¥t trong má»™t quy trÃ¬nh lÃ m viá»‡c vá»›i dá»¯ liá»‡u. Tiá»n xá»­ lÃ½ dá»¯ liá»‡u lÃ  táº­p há»£p táº¥t cáº£ cÃ¡c bÆ°á»›c ká»¹ thuáº­t nháº±m Ä‘áº£m báº£o cho dá»¯ liá»‡u báº¡n sá»­ dá»¥ng Ä‘á»ƒ phÃ¢n tÃ­ch Ä‘Æ°á»£c Ä‘áº£m báº£o vá» Ä‘á»‹nh dáº¡ng, giÃ¡ trá»‹ vÃ  Ã½ nghÄ©a. Hiá»ƒu má»™t cÃ¡ch Ä‘Æ¡n giáº£n, tiá»n xá»­ lÃ½ dá»¯ liá»‡u lÃ  biáº¿n dá»¯ liá»‡u thÃ´ thÃ nh dá»¯ liá»‡u cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c Ä‘á»ƒ phÃ¢n tÃ­ch vÃ  Ä‘Æ°a ra káº¿t quáº£.Khi lÃ m viá»‡c vá»›i dá»¯ liá»‡u, thá»±c táº¿ lÃ  Ä‘áº¿n hÆ¡n 50% cÃ¡c trÆ°á»ng há»£p báº¡n Ä‘á»c sáº½ nháº­n Ä‘Æ°á»£c nhá»¯ng dá»± liá»‡u dáº¡ng thÃ´ chÆ°a qua xá»­ lÃ½. Náº¿u nhá»¯ng dá»¯ liá»‡u nÃ y Ä‘Æ°á»£c nháº­p vÃ  xuáº¥t ra qua má»™t há»‡ thá»‘ng Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘áº§y Ä‘á»§, tiá»n xá»­ lÃ½ dá»¯ liá»‡u chá»‰ cáº§n qua má»™t vÃ i bÆ°á»›c cÆ¡ báº£n Ä‘á»ƒ Ä‘i Ä‘áº¿n káº¿t quáº£. Trong trÆ°á»ng há»£p dá»¯ liá»‡u báº¡n nháº­n Ä‘Æ°á»£c lÃ  dá»¯ liá»‡u Ä‘Æ°á»£c nháº­p má»™t cÃ¡ch thá»§ cÃ´ng, thÃ´ng qua nhiá»u ngÆ°á»i nháº­p thÃ¬ Ä‘Ã¢y thá»±c sá»± sáº½ lÃ  má»™t váº¥n Ä‘á» lá»›n. Tiá»n xá»­ lÃ½ dá»¯ liá»‡u trong hoÃ n cáº£nh nhÆ° váº­y cÃ³ thá»ƒ chiáº¿m 80% - 90% thá»i gian cÃ´ng viá»‡c cá»§a báº¡n!.","code":""},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u-lÃ -gÃ¬","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.1 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u lÃ  gÃ¬?","text":"CÃ¡c váº¥n Ä‘á» thÆ°á»ng gáº·p pháº£i khi lÃ m viá»‡c vá»›i má»™t dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau thÆ°á»ng xuáº¥t phÃ¡t tá»« hai váº¥n Ä‘á»Dá»¯ liá»‡u sai Ä‘á»‹nh dáº¡ng: trong cÃ¹ng má»™t cá»™t dá»¯ liá»‡u cÃ³ cÃ¡c biáº¿n kiá»ƒu khÃ¡c nhau hoáº·c kiá»ƒu cá»§a biáº¿n khÃ´ng Ä‘Ãºng nhÆ° quy Æ°á»›c.Dá»¯ liá»‡u sai Ä‘á»‹nh dáº¡ng: trong cÃ¹ng má»™t cá»™t dá»¯ liá»‡u cÃ³ cÃ¡c biáº¿n kiá»ƒu khÃ¡c nhau hoáº·c kiá»ƒu cá»§a biáº¿n khÃ´ng Ä‘Ãºng nhÆ° quy Æ°á»›c.Dá»¯ liá»‡u chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c hoáº·c chá»©a cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai (outliers).Dá»¯ liá»‡u chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c hoáº·c chá»©a cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai (outliers).VÃ­ dá»¥ nhÆ° báº¡n Ä‘á»c nháº­n Ä‘Æ°á»£c dá»¯ liá»‡u vá» 3 á»©ng cá»­ viÃªn tá»« bá»™ pháº­n nhÃ¢n sá»± nhÆ° sau vá»›i yÃªu cáº§u vá» cho biáº¿t Ä‘á»™ tuá»•i trung bÃ¬nh cá»§a nhá»¯ng á»©ng cá»­ viÃªn vÃ  tá»· lá»‡ Nam/Ná»¯ á»©ng tuyá»ƒn\nTable 5.1: Dá»¯ liá»‡u thÃ´ tá»« nguá»“n bÃªn ngoÃ i\nÄÃ¢y lÃ  má»™t dá»¯ liá»‡u khÃ´ng thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ phÃ¢n tÃ­ch Ä‘Æ°á»£c bá»Ÿi vÃ¬ giÃ¡ trá»‹ trong cÃ¡c cá»™t ngÃ y sinh lÃ  khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng ngÃ y thÃ¡ng Ä‘á»“ng thá»i cÃ³ cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c á»Ÿ cá»™t giá»›i tÃ­nh. Náº¿u sá»­ dá»¥ng dá»¯ liá»‡u nÃ y Ä‘á»ƒ phÃ¢n tÃ­ch mÃ  bá» qua viá»‡c tiá»n xá»­ lÃ½ dá»¯ liá»‡u thÃ¬ káº¿t quáº£ sáº½ sai lá»‡ch hoÃ n toÃ n vá»›i báº£n cháº¥t cá»§a dá»¯ liá»‡u:TÃ­nh Ä‘á»™ tuá»•i trung bÃ¬nh cá»§a cÃ¡c á»©ng cá»­ viÃªn lÃ  khÃ´ng thá»ƒ thá»±c hiá»‡n Ä‘Æ°á»£c vá»›i dá»¯ liá»‡u nÃ y bá»Ÿi vÃ¬ cá»™t ngÃ y sinh Ä‘ang lÃ  dáº¡ng chuá»—i kÃ½ tá»± vÃ  Ä‘á»‹nh dáº¡ng ngÃ y thÃ¡ng lÃ  ráº¥t lá»™n xá»™nTÃ­nh Ä‘á»™ tuá»•i trung bÃ¬nh cá»§a cÃ¡c á»©ng cá»­ viÃªn lÃ  khÃ´ng thá»ƒ thá»±c hiá»‡n Ä‘Æ°á»£c vá»›i dá»¯ liá»‡u nÃ y bá»Ÿi vÃ¬ cá»™t ngÃ y sinh Ä‘ang lÃ  dáº¡ng chuá»—i kÃ½ tá»± vÃ  Ä‘á»‹nh dáº¡ng ngÃ y thÃ¡ng lÃ  ráº¥t lá»™n xá»™nNáº¿u bá» qua nhá»¯ng giÃ¡ trá»‹ khÃ´ng cÃ³ quan sÃ¡t, tá»· lá»‡ giá»›i tÃ­nh Nam lÃ  100%. Liá»‡u con sá»‘ nÃ y cÃ³ thá»±c sá»± Ä‘Ãºng?Náº¿u bá» qua nhá»¯ng giÃ¡ trá»‹ khÃ´ng cÃ³ quan sÃ¡t, tá»· lá»‡ giá»›i tÃ­nh Nam lÃ  100%. Liá»‡u con sá»‘ nÃ y cÃ³ thá»±c sá»± Ä‘Ãºng?Tiá»n xá»­ lÃ½ dá»¯ liá»‡u khÃ´ng chá»‰ bao gá»“m cÃ¡c cÃ´ng cá»¥ ká»¹ thuáº­t mÃ  cÃ²n yÃªu cáº§u cáº£ kiáº¿n thá»©c phá»• thÃ´ng vÃ  kiáº¿n thá»©c nghiá»‡p vá»¥ cá»§a ngÆ°á»i lÃ m dá»¯ liá»‡u. Khi cÃ³ váº¥n Ä‘á» gÃ¢y khÃ³ hiá»ƒu vá» dá»¯ liá»‡u nháº­n Ä‘Æ°á»£c, Ä‘iá»u háº¿t cáº§n lÃ m Ä‘Ã³ lÃ  liÃªn há»‡ vá»›i ngÆ°á»i chá»§ dá»¯ liá»‡u Ä‘á»ƒ kiá»ƒm tra láº¡i thÃ´ng tin. Khi viá»‡c nÃ y lÃ  khÃ´ng thá»ƒ thá»±c hiá»‡n Ä‘Æ°á»£c, ngÆ°á»i xá»­ lÃ½ dá»¯ liá»‡u sáº½ pháº£i Ä‘Æ°a ra cÃ¡c phÃ¡n Ä‘oÃ¡n vá» dá»¯ liá»‡u Ä‘Ã³ dá»±a trÃªn hiá»ƒu biáº¿t cá»§a mÃ¬nh.Vá»›i cá»™t ngÃ y sinh cá»§a cÃ¡c nhÃ¢n viÃªn:GiÃ¡ trá»‹ â€œ01/02/98â€ cÃ³ kháº£ nÄƒng cao lÃ  ngÃ y 01 thÃ¡ng 02 nÄƒm 1998 quy Æ°á»›c phá»• biáº¿n á»Ÿ Viá»‡t Nam lÃ  viáº¿t theo thá»© tá»± ngÃ y -> thÃ¡ng -> nÄƒm.GiÃ¡ trá»‹ â€œ01/02/98â€ cÃ³ kháº£ nÄƒng cao lÃ  ngÃ y 01 thÃ¡ng 02 nÄƒm 1998 quy Æ°á»›c phá»• biáº¿n á»Ÿ Viá»‡t Nam lÃ  viáº¿t theo thá»© tá»± ngÃ y -> thÃ¡ng -> nÄƒm.GiÃ¡ trá»‹ â€œ12/17/1999â€ cÃ³ kháº£ nÄƒng cao lÃ  ngÃ y 17 thÃ¡ng 12 nÄƒm 1999. Khi gáº·p cÃ¡c trÆ°á»ng há»£p nÃ y nhiá»u kháº£ nÄƒng ngÆ°á»i nháº­p dá»¯ liá»‡u sá»­ dá»¥ng format ngÃ y thÃ¡ng cá»§a Microsoft Excel.GiÃ¡ trá»‹ â€œ12/17/1999â€ cÃ³ kháº£ nÄƒng cao lÃ  ngÃ y 17 thÃ¡ng 12 nÄƒm 1999. Khi gáº·p cÃ¡c trÆ°á»ng há»£p nÃ y nhiá»u kháº£ nÄƒng ngÆ°á»i nháº­p dá»¯ liá»‡u sá»­ dá»¥ng format ngÃ y thÃ¡ng cá»§a Microsoft Excel.GiÃ¡ trá»‹ â€œ1-1-1992â€ cÃ³ kháº£ nÄƒng cao lÃ  ngÃ y 01 thÃ¡ng 01 nÄƒm 1992.GiÃ¡ trá»‹ â€œ1-1-1992â€ cÃ³ kháº£ nÄƒng cao lÃ  ngÃ y 01 thÃ¡ng 01 nÄƒm 1992.NhÆ° váº­y vá»›i má»—i giÃ¡ trá»‹ trong cá»™t ngÃ y sinh, báº¡n Ä‘á»c cáº§n má»™t phÃ©p biáº¿n Ä‘á»•i khÃ¡c nhauVec-tÆ¡ \\(DOB\\) chá»©a giÃ¡ trá»‹ ngÃ y sinh dáº¡ng ngÃ y thÃ¡ng cá»§a cÃ¡c á»©ng cá»­ viÃªn vÃ  báº¡n Ä‘á»c Ä‘Ã£ cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c hÃ m sá»‘ cÃ³ sáºµn Ä‘á»ƒ tÃ­nh tuá»•i cá»§a cÃ¡c á»©ng cá»­ viÃªn.Vá»›i cá»™t giá»›i tÃ­nh cá»§a nhÃ¢n viÃªn:Giá»›i tÃ­nh cá»§a á»©ng cá»­ viÃªn Tráº§n VÄƒn CÆ°á»ng lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c tuy nhiÃªn theo tÃªn cá»§a á»©ng cá»­ viÃªn thÃ¬ nhiá»u kháº£ nÄƒng Ä‘Ã¢y lÃ  Nam.Giá»›i tÃ­nh cá»§a á»©ng cá»­ viÃªn Tráº§n VÄƒn CÆ°á»ng lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c tuy nhiÃªn theo tÃªn cá»§a á»©ng cá»­ viÃªn thÃ¬ nhiá»u kháº£ nÄƒng Ä‘Ã¢y lÃ  Nam.Giá»›i tÃ­nh cá»§a á»©ng cá»­ viÃªn LÃª Thá»‹ Loan lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c tuy nhiÃªn theo tÃªn cá»§a á»©ng cá»­ viÃªn thÃ¬ nhiá»u kháº£ nÄƒng Ä‘Ã¢y lÃ  Ná»¯.Giá»›i tÃ­nh cá»§a á»©ng cá»­ viÃªn LÃª Thá»‹ Loan lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c tuy nhiÃªn theo tÃªn cá»§a á»©ng cá»­ viÃªn thÃ¬ nhiá»u kháº£ nÄƒng Ä‘Ã¢y lÃ  Ná»¯.Sau nhá»¯ng bÆ°á»›c xá»­ lÃ½ nhÆ° trÃªn, chÃºng ta Ä‘Ã£ cÃ³ má»™t dá»¯ liá»‡u Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng chÃ­nh xÃ¡c vÃ  Ä‘Ã£ cÃ³ thá»ƒ Ä‘Æ°a ra cÃ¡c phÃ¢n tÃ­ch vá» dá»¯ liá»‡u\nTable 5.2: Dá»¯ liá»‡u sau tiá»n xá»­ lÃ½\nÄÃ¢y lÃ  má»™t vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh cá»§a tiá»n xá»­ lÃ½ dá»¯ liá»‡u. Dá»¯ liá»‡u báº¡n Ä‘á»c nháº­n Ä‘Æ°á»£c sáº½ hiáº¿m khi Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng chuáº©n vÃ  sáºµn sÃ ng Ä‘á»ƒ phÃ¢n tÃ­ch giá»‘ng nhÆ° nhá»¯ng dá»¯ liá»‡u sáºµn cÃ³ trÃªn R. Äá»ƒ xá»­ lÃ½ nhá»¯ng giÃ¡ trá»‹ sai Ä‘á»‹nh dáº¡ng, vÃ  Ä‘iá»n vÃ o dá»¯ liá»‡u cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t, loáº¡i bá» cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai, â€¦, ngÆ°á»i lÃ m dá»¯ liá»‡u pháº£i sá»­ dá»¥ng kiáº¿n thá»©c phá»• thÃ´ng vÃ  kiáº¿n thá»©c nghiá»‡p vá»¥ Ä‘á»ƒ dÆ°a ra dá»± Ä‘oÃ¡n tá»‘t nháº¥t cÃ³ thá»ƒ.","code":"\nDOB<-rep(as.Date(\"1900-01-01\"),3) # táº¡o vector dáº¡ng date Ä‘á»™ dÃ i 3\nDOB[1]<-as.Date(\"01/02/98\", format = \"%d/%m/%y\")\nDOB[2]<-as.Date(\"12/17/1999\", format = \"%m/%d/%Y\")\nDOB[3]<-as.Date(\"1-1-1992\", format = \"%d-%m-%Y\")"},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"Ä‘á»‹nh-dáº¡ng-láº¡i-cÃ¡c-cá»™t-dá»¯-liá»‡u-sá»­-dá»¥ng-thÆ°-viá»‡n-readr","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.2 Äá»‹nh dáº¡ng láº¡i cÃ¡c cá»™t dá»¯ liá»‡u sá»­ dá»¥ng thÆ° viá»‡n \\(readr\\)","text":"","code":""},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"quy-táº¯c-Ä‘á»‹nh-Ä‘áº¡ng-cá»™t-cá»§a-readr","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.2.1 Quy táº¯c Ä‘á»‹nh Ä‘áº¡ng cá»™t cá»§a \\(readr\\)","text":"Má»—i thÆ° viá»‡n Ä‘á»c dá»¯ liá»‡u sáº½ cÃ³ cÃ¡c quy táº¯c khÃ¡c nhau khi Ä‘á»c vÃ  Ä‘á»‹nh dáº¡ng láº¡i dá»¯ liá»‡u khi lÆ°u trÃªn R. ChÃºng ta sáº½ táº­p trung vÃ o cÃ¡ch thÆ° viá»‡n â€œreadrâ€ Ä‘á»c dá»¯ liá»‡u. Khi Ä‘á»c má»™t file vÃ o R, cÃ¡c hÃ m Ä‘á»c dá»¯ liá»‡u cá»§a thÆ° viá»‡n \\(readr\\) cá»‘ gáº¯ng dá»± Ä‘oÃ¡n kiá»ƒu dá»¯ liá»‡u cá»§a tá»«ng cá»™t báº±ng cÃ¡ch sá»­ dá»¥ng 1000 hÃ ng dá»¯ liá»‡u Ä‘áº§u tiÃªn dá»±a trÃªn nguyÃªn táº¯c nhÆ° sau:LÆ°u Ã½ ráº±ng cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n viá»‡c \\(readr\\) dá»± Ä‘oÃ¡n kiá»ƒu dá»¯ liá»‡u cá»§a má»™t cá»™t. Khi Ä‘á»c dá»¯ liá»‡u kiá»ƒu sá»‘, viá»‡c sá»­ dá»¥ng dáº¥u tháº­p phÃ¢n lÃ  â€˜.â€™ (dá»¯ liá»‡u tá»« cÃ¡c nÆ°á»›c sá»­ dá»¥ng ngÃ´n ngá»¯ tiáº¿ng Anh) hay â€˜,â€™ (dá»¯ liá»‡u tá»« Viá»‡t Nam, PhÃ¡p) cÃ³ thá»ƒ lÃ m cho giÃ¡ trá»‹ cá»§a biáº¿n kiá»ƒu sá»‘ thay Ä‘á»•i vá» báº£n cháº¥t. Báº¡n Ä‘á»c khÃ´ng sá»­ dá»¥ng tham sá»‘ nÃ o khÃ¡c khi sá»­ dá»¥ng \\(readr\\), sá»‘ tháº­p phÃ¢n luÃ´n Ä‘Æ°á»£c hiá»ƒu lÃ  â€˜.â€™ khi báº¡n Ä‘á»c sá»­ dá»¥ng read_csv() vÃ  sá»‘ tháº­p phÃ¢n sáº½ lÃ  â€˜,â€™ náº¿u báº¡n Ä‘á»c dÃ¹ng read_csv2().Tá»« káº¿t quáº£ trÃªn cÃ³ thá»ƒ tháº¥y ráº±ng \\(readr\\) sáº½ bá» qua dáº¥u â€˜,â€™ trong cÃ¡c sá»‘ khi báº¡n Ä‘á»c dÃ¹ng read_csv() vÃ  bá» qua â€˜.â€™ vá»›i biáº¿n kiá»ƒu sá»‘ khi báº¡n Ä‘á»c dÃ¹ng read_csv2(). Äá»‘i vá»›i biáº¿n kiá»ƒu logic, báº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm tra kiá»ƒu dá»¯ liá»‡u cá»§a cÃ¡c cá»™t dÆ°á»›i Ä‘Ã¢y Ä‘á»u lÃ  kiá»ƒu logic sau khi dá»¯ liá»‡u Ä‘Æ°á»£c Ä‘á»c báº±ng read_csv()Äá»ƒ hiá»ƒu ká»¹ hÆ¡n cÃ¡ch \\(readr\\) dá»± Ä‘oÃ¡n kiá»ƒu giÃ¡ trá»‹ trong cá»™t, báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘á»c hÆ°á»›ng dáº«n cá»§a hÃ m guess_parse().","code":"\nfile<-\"C1;C2;C3;C4; C5\n         1e-10;2.2;1.0;TRUE; 1.0.0.0\n         Inf;3,2;1,000.0;1;10%\" \nread_csv2(file)## # A tibble: 2 Ã— 5\n##        C1    C2    C3 C4    C5     \n##     <dbl> <dbl> <dbl> <chr> <chr>  \n## 1   1e-10  22      10 TRUE  1.0.0.0\n## 2 Inf       3.2     1 1     10%\nfile<-\"X1,X2,X3,X4,X5,X6\n        TRUE,t,True,false,F,\n        F,F,FALSE,T,f,True\"\nread_csv(file)## # A tibble: 2 Ã— 6\n##   X1    X2    X3    X4    X5    X6   \n##   <lgl> <lgl> <lgl> <lgl> <lgl> <lgl>\n## 1 TRUE  TRUE  TRUE  FALSE FALSE NA   \n## 2 FALSE FALSE FALSE TRUE  FALSE TRUE"},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"Ä‘á»‹nh-dáº¡ng-cá»™t-báº±ng-cÃ¡c-hÃ m-parse_","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.2.2 Äá»‹nh dáº¡ng cá»™t báº±ng cÃ¡c hÃ m parse_*()","text":"Vá»›i cÃ¡c cá»™t mÃ  khÃ´ng thá»ƒ xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c kiá»ƒu dá»¯ liá»‡u, thÆ° viá»‡n \\(readr\\) sáº½ lÆ°u dÆ°á»›i dáº¡ng vec-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±. Äá»ƒ lÃ m viá»‡c Ä‘Æ°á»£c trÃªn dá»¯ liá»‡u, báº¡n Ä‘á»c cáº§n Ä‘á»‹nh dáº¡ng láº¡i cÃ¡c cá»™t cho Ä‘Ãºng vá»›i mong muá»‘n. CÃ¡c hÃ m thuá»™c nhÃ³m parse_*() trong thÆ° viá»‡n \\(readr\\) há»— trá»£ báº¡n Ä‘á»c lÃ m viá»‡c nÃ y. NhÃ³m hÃ m parse_*() cÃ³ Ä‘áº§u vÃ o lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± vÃ  Ä‘áº§u ra sáº½ lÃ  kiá»ƒu dá»¯ liá»‡u mÃ  báº¡n Ä‘á»c mong muá»‘n. Äá»‘i vá»›i má»—i kiá»ƒu dá»¯ liá»‡u, hÃ m parse_*() tÆ°Æ¡ng á»©ng sáº½ cÃ³ cÃ¡c tÃ¹y biáº¿n phÃ¹ há»£p. Trong pháº§n tiáº¿p theo cá»§a cuá»‘n sÃ¡ch chÃºng tÃ´i sáº½ láº§n lÆ°á»£t giá»›i thiá»‡u cÃ¡c nhÃ³m hÃ m parse_*() tÆ°Æ¡ng á»©ng vá»›i biáº¿n kiá»ƒu logic, biáº¿n kiá»ƒu sá»‘, biáº¿n kiá»ƒu thá»i gian vÃ  biáº¿n kiá»ƒu chuá»—i kÃ½ tá»±.","code":""},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"Ä‘á»‹nh-dáº¡ng-vÃ©c-tÆ¡-kiá»ƒu-logic.","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.2.2.1 Äá»‹nh dáº¡ng vÃ©c-tÆ¡ kiá»ƒu logic.","text":"Äá»‹nh dáº¡ng láº¡i má»™t vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± thÃ nh kiá»ƒu logic lÃ  Ä‘Æ¡n giáº£n nháº¥t. HÃ m sá»‘ sá»­ dá»¥ng trong trÆ°á»ng há»£p nÃ y lÃ  parse_logical(). Báº¡n Ä‘á»c hÃ£y quan sÃ¡t vÃ­ dá»¥ sau:Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng táº¥t cáº£ cÃ¡c giÃ¡ trá»‹ náº±m trong vÃ©c-tÆ¡ \\(x\\) á»Ÿ trÃªn, ngoáº¡i trá»« hai kÃ½ tá»± Ä‘áº·c biá»‡t Ä‘Ã£ Ä‘Æ°á»£c khai bÃ¡o trong hÃ m parse_logical() lÃ  \\(\".\"\\) vÃ  \\(\"@\"\\), thÃ¬ chá»‰ cÃ³ sá»‘ 2 lÃ  khÃ´ng thá»ƒ Ä‘á»•i sang biáº¿n kiá»ƒu logic. parse_logical() tá»± Ä‘á»™ng Ä‘á»•i kÃ½ tá»± \\(\"1\"\\) thÃ nh \\(TRUE\\) vÃ  kÃ½ tá»± \\(\"0\"\\) thÃ nh \\(FALSE\\). Trong trÆ°á»ng há»£p vÃ©c-tÆ¡ \\(x\\) cÃ³ kÃ­ch thÆ°á»›c lá»›n, cÃ¡c pháº§n tá»­ khÃ´ng thá»ƒ Ä‘á»•i sang kiá»ƒu logic sáº½ Ä‘Æ°á»£c lÆ°u vÃ o má»™t \\(tibble\\). Báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m problems() Ä‘á»ƒ láº¥y cÃ¡c cÃ¡c giÃ¡ trá»‹ nÃ y.Cá»™t \\(row\\) cho biáº¿t vá»‹ trÃ­ cá»§a cÃ¡c pháº§n tá»­ trong vÃ©c-tÆ¡ \\(x1\\) khÃ´ng thá»ƒ Ä‘á»•i sang kiá»ƒu logic. GiÃ¡ trá»‹ cá»§a cÃ¡c pháº§n tá»­ nÃ y náº±m trong cá»™t \\(actual\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ quan sÃ¡t cÃ¡c giÃ¡ trá»‹ trong cá»™t \\(actual\\) Ä‘á»ƒ tÃ¬m hiá»ƒu nguyÃªn nhÃ¢n táº¡i sao parse_logical() khÃ´ng thá»ƒ hoáº¡t Ä‘á»™ng trÃªn cÃ¡c giÃ¡ trá»‹ nÃ y.","code":"\nx<-c(\"TRUE\",\"True\",\"1\",\"0\",\"2\",\".\",\"@\",\"FALSE\",\"false\",\"f\",\"F\",\"T\",\"t\",\"true\",\"false\")\nparse_logical(x, na = c(\".\", \"@\"))##  [1]  TRUE  TRUE  TRUE FALSE    NA    NA    NA FALSE FALSE FALSE FALSE  TRUE\n## [13]  TRUE  TRUE FALSE\n## attr(,\"problems\")\n## # A tibble: 1 Ã— 4\n##     row   col expected           actual\n##   <int> <int> <chr>              <chr> \n## 1     5    NA 1/0/T/F/TRUE/FALSE 2\nx1<-sample(x, 10^4, replace = TRUE)\ny<-parse_logical(x1)\nproblems(y)## # A tibble: 1,915 Ã— 4\n##      row   col expected           actual\n##    <int> <int> <chr>              <chr> \n##  1     3    NA 1/0/T/F/TRUE/FALSE 2     \n##  2    13    NA 1/0/T/F/TRUE/FALSE 2     \n##  3    21    NA 1/0/T/F/TRUE/FALSE .     \n##  4    28    NA 1/0/T/F/TRUE/FALSE @     \n##  5    32    NA 1/0/T/F/TRUE/FALSE @     \n##  6    33    NA 1/0/T/F/TRUE/FALSE 2     \n##  7    34    NA 1/0/T/F/TRUE/FALSE .     \n##  8    39    NA 1/0/T/F/TRUE/FALSE .     \n##  9    47    NA 1/0/T/F/TRUE/FALSE 2     \n## 10    55    NA 1/0/T/F/TRUE/FALSE .     \n## # â€¦ with 1,905 more rows"},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"Ä‘á»‹nh-dáº¡ng-vÃ©c-tÆ¡-kiá»ƒu-sá»‘.","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.2.2.2 Äá»‹nh dáº¡ng vÃ©c-tÆ¡ kiá»ƒu sá»‘.","text":"Khi \\(readr\\) khÃ´ng thá»ƒ tá»± Ä‘á»‹nh dáº¡ng má»™t vÃ©c-tÆ¡ cÃ³ kiá»ƒu sá»‘, cÃ¡c váº¥n Ä‘á» thÆ°á»ng gáº·p pháº£i lÃ :CÃ¡ch Ä‘Ã¡nh sá»‘ tháº­p phÃ¢n cá»§a cÃ¡c sá»‘ trong vÃ©c-tÆ¡. Táº¡i Viá»‡t Nam sá»‘ tháº­p phÃ¢n Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  dáº¥u â€œ,â€ trong khi R hiá»ƒu sá»‘ tháº­p phÃ¢n lÃ  dáº¥u â€œ.â€. Nhiá»u quá»‘c gia khÃ¡c trÃªn tháº¿ giá»›i cÅ©ng sá»­ dá»¥ng dáº¥u tháº­p phÃ¢n lÃ  dáº¥u â€œ,â€.CÃ¡ch Ä‘Ã¡nh sá»‘ tháº­p phÃ¢n cá»§a cÃ¡c sá»‘ trong vÃ©c-tÆ¡. Táº¡i Viá»‡t Nam sá»‘ tháº­p phÃ¢n Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  dáº¥u â€œ,â€ trong khi R hiá»ƒu sá»‘ tháº­p phÃ¢n lÃ  dáº¥u â€œ.â€. Nhiá»u quá»‘c gia khÃ¡c trÃªn tháº¿ giá»›i cÅ©ng sá»­ dá»¥ng dáº¥u tháº­p phÃ¢n lÃ  dáº¥u â€œ,â€.CÃ¡ch viáº¿t cÃ¡c sá»‘ sá»­ dá»¥ng cÃ¹ng vá»›i cÃ¡c kÃ½ tá»± â€œ.â€ hoáº·c â€œ,â€ Ä‘á»ƒ ngÆ°á»i Ä‘á»c dá»… dÃ ng Ä‘á»c sá»‘ Ä‘Ã³. Cháº³ng háº¡n nhÆ° táº¡i Viá»‡t Nam, chÃºng ta viáº¿t sá»‘ 1 tá»· nhÆ° sau: 1.000.000.000; táº¡i Thá»¥y Sá»¹ sá»‘ 1 tá»· Ä‘Æ°á»£c viáº¿t thÃ nh 1â€™000â€™000â€™000; chÃºng ta cáº§n Ä‘á»‹nh dáº¡ng láº¡i cho cÃ¡c giÃ¡ trá»‹ kiá»ƒu nhÆ° váº­y Ä‘á»ƒ R hiá»ƒu Ä‘Æ°á»£c Ä‘Ã¢y lÃ  cÃ¡c con sá»‘.CÃ¡ch viáº¿t cÃ¡c sá»‘ sá»­ dá»¥ng cÃ¹ng vá»›i cÃ¡c kÃ½ tá»± â€œ.â€ hoáº·c â€œ,â€ Ä‘á»ƒ ngÆ°á»i Ä‘á»c dá»… dÃ ng Ä‘á»c sá»‘ Ä‘Ã³. Cháº³ng háº¡n nhÆ° táº¡i Viá»‡t Nam, chÃºng ta viáº¿t sá»‘ 1 tá»· nhÆ° sau: 1.000.000.000; táº¡i Thá»¥y Sá»¹ sá»‘ 1 tá»· Ä‘Æ°á»£c viáº¿t thÃ nh 1â€™000â€™000â€™000; chÃºng ta cáº§n Ä‘á»‹nh dáº¡ng láº¡i cho cÃ¡c giÃ¡ trá»‹ kiá»ƒu nhÆ° váº­y Ä‘á»ƒ R hiá»ƒu Ä‘Æ°á»£c Ä‘Ã¢y lÃ  cÃ¡c con sá»‘.Khi cÃ¡c con sá»‘ Ä‘i kÃ¨m theo Ä‘Æ¡n vá»‹, cháº³ng háº¡n nhÆ° Ä‘i kÃ¨m vá»›i kÃ½ hiá»‡u tiá»n tá»‡: â€œ100.000 Ä‘á»“ngâ€, â€œ100.000 vndâ€, hoáº·c Ä‘i kÃ¨m vá»›i kÃ½ hiá»‡u % nhÆ° â€œ50%â€, chÃºng ta \\(readr\\) cÅ©ng sáº½ khÃ´ng thá»ƒ tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i sang kiá»ƒu sá»‘.Khi cÃ¡c con sá»‘ Ä‘i kÃ¨m theo Ä‘Æ¡n vá»‹, cháº³ng háº¡n nhÆ° Ä‘i kÃ¨m vá»›i kÃ½ hiá»‡u tiá»n tá»‡: â€œ100.000 Ä‘á»“ngâ€, â€œ100.000 vndâ€, hoáº·c Ä‘i kÃ¨m vá»›i kÃ½ hiá»‡u % nhÆ° â€œ50%â€, chÃºng ta \\(readr\\) cÅ©ng sáº½ khÃ´ng thá»ƒ tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i sang kiá»ƒu sá»‘.Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng parse_double() hoáº·c parse_number() khi gáº·p pháº£i cÃ¡c váº¥n Ä‘á» á»Ÿ trÃªn. Cháº³ng háº¡n nhÆ° khi gáº·p váº¥n Ä‘á» vá» dáº¥u â€œ,â€ Ä‘á»‘i vá»›i dáº¥u tháº­p phÃ¢n (vá»›i cÃ¡c sá»‘ tháº­p phÃ¢n viáº¿t theo kiá»ƒu Viá»‡t Nam), báº¡n Ä‘á»c sá»­ dá»¥ng parse_number() vá»›i tÃ¹y biáº¿n locale = locale(decimal_mark = \",\") Ä‘á»ƒ Ä‘á»‹nh dáº¡ng cho vÃ©c-tÆ¡ kiá»ƒu kÃ½ tá»±:Khi gáº·p pháº£i váº¥n Ä‘á» vá» thá»© hai, chÃºng ta sá»­ dá»¥ng tÃ¹y biáº¿n \\(grouping\\_mark\\) trong hÃ m \\(locate()\\). Trong vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y sá»­ dá»¥ng Ä‘á»“ng thá»i hai tÃ¹y biáº¿n \\(decimal\\_mark\\) vÃ  \\(grouping\\_mark\\) cá»§a hÃ m locate()Khi gáº·p pháº£i chuá»—i kÃ½ tá»± chá»©a biáº¿n kiá»ƒu sá»‘ Ä‘i kÃ¨m vá»›i Ä‘Æ¡n vá»‹ tiá»n tá»‡, hoáº·c dáº¥u â€œ%â€, hÃ m \\(parse_number()\\) váº«n ráº¥t hiá»‡u quáº£ trong viá»‡c Ä‘á»•i chuá»—i kÃ½ tá»± vá» kiá»ƒu sá»‘","code":"\nx<-c(\"0,5\",\"1,5\") # vÃ©c-tÆ¡ chá»©a cÃ¡c sá»‘ 0,5 vÃ  1,5; dáº¥u tháº­p phÃ¢n lÃ  dáº¥u \",\"\nparse_number(x, locale = locale(decimal_mark = \",\"))## [1] 0.5 1.5\nx<-c(\"1.000,5\",\"1.000.000,5\") # vÃ©c-tÆ¡ chá»©a cÃ¡c sá»‘ 1000,5 vÃ  1000000,5; dáº¥u tháº­p phÃ¢n lÃ  dáº¥u \",\"\nparse_number(x, locale = locale(decimal_mark = \",\",\n                                grouping_mark = \".\"))## [1]    1000.5 1000000.5\nx<-c(\"1.000,5 Ä‘á»“ng\",\"1.000.000,5 vnd\")\nparse_number(x, locale = locale(decimal_mark = \",\",\n                                grouping_mark = \".\"))## [1]    1000.5 1000000.5"},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"Ä‘á»‹nh-dáº¡ng-vÃ©c-tÆ¡-kiá»ƒu-thá»i-gian","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.2.2.3 Äá»‹nh dáº¡ng vÃ©c-tÆ¡ kiá»ƒu thá»i gian","text":"HÃ m sá»‘ parse_datetime() cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ chuyá»ƒn Ä‘á»•i cÃ¡c vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± sang vÃ©c-tÆ¡ kiá»ƒu thá»i gian vÃ  vÃ©c-tÆ¡ kiá»ƒu ngÃ y thÃ¡ng.Hai tÃ¹y biáº¿n cá»§a hÃ m parse_datetime() mÃ  báº¡n Ä‘á»c cáº§n lÆ°u Ã½ lÃ  \\(na\\) vÃ  \\(format\\). TÃ¹y biáº¿n \\(na\\) nhÆ° Ä‘Ã£ sá»­ dá»¥ng á»Ÿ pháº§n trÆ°á»›c lÃ  má»™t vÃ©c-tÆ¡ chá»©a cÃ¡c giÃ¡ trá»‹ mÃ  báº¡n Ä‘á»c cho ráº±ng Ä‘Ã¢y lÃ  cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c. Trong vÃ©c-tÆ¡ \\(x\\) á»Ÿ trÃªn, giÃ¡ trá»‹ â€œ01#01#1990â€ náº¿u khÃ´ng cÃ³ trong tÃ¹y biáº¿n \\(na\\) sáº½ cÃ³ káº¿t quáº£ lÃ  má»™t ngÃ y thÃ¡ng cÃ³ Ã½ nghÄ©a trong vÃ©c-tÆ¡ káº¿t quáº£. Tuy nhiÃªn, báº±ng má»™t cÃ¡ch nÃ o Ä‘Ã³, náº¿u báº¡n Ä‘á»c biáº¿t ráº±ng giÃ¡ trá»‹ nÃ y ngÆ°á»i nháº­p liá»‡u Ä‘Æ°a vÃ o khÃ´ng quan sÃ¡t Ä‘Æ°á»£c biáº¿n Ä‘Ã³, viá»‡c chuyá»ƒn Ä‘á»•i biáº¿n thÃ nh giÃ¡ trá»‹ ngÃ y thÃ¡ng sáº½ lÃ m sai lá»‡ch phÃ¢n tÃ­ch. Ä‘Ã³ báº¡n Ä‘á»c cáº§n khai bÃ¡o giÃ¡ trá»‹ nÃ y vÃ o trong vÃ©c-tÆ¡ \\(na\\).TÃ¹y biáº¿n \\(format\\) trong hÃ m parse_datetime() lÃ  Ä‘á»ƒ báº¡n Ä‘á»c gá»£i Ã½ cho R Ä‘á»‹nh dáº¡ng cá»§a biáº¿n kiá»ƒu ngÃ y thÃ¡ng. Khi gÃ¡n giÃ¡ trá»‹ cho \\(format\\) báº¡n Ä‘á»c cáº§n lÆ°u Ã½Má»—i thÃ nh pháº§n cá»§a biáº¿n thá»i gian (ngÃ y, thÃ¡ng, nÄƒm, giá», phÃºt, giÃ¢y,â€¦) Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a báº¯t Ä‘áº§u báº±ng \\(\"%\"\\) vÃ  theo sau 1 chá»¯ cÃ¡i, cháº³ng háº¡n nhÆ° báº¡n Ä‘á»c sá»­ dá»¥ng â€œ%Yâ€ khi muá»‘n nÃ³i vá»›i R ráº±ng biáº¿n kiá»ƒu thá»i gian náº±m trong chuá»—i kÃ½ tá»± Ä‘Æ°á»£c sá»­ dá»¥ng 4 chá»¯ sá»‘ Ä‘á»ƒ chá»‰ Ä‘á»‹nh.Má»—i thÃ nh pháº§n cá»§a biáº¿n thá»i gian (ngÃ y, thÃ¡ng, nÄƒm, giá», phÃºt, giÃ¢y,â€¦) Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a báº¯t Ä‘áº§u báº±ng \\(\"%\"\\) vÃ  theo sau 1 chá»¯ cÃ¡i, cháº³ng háº¡n nhÆ° báº¡n Ä‘á»c sá»­ dá»¥ng â€œ%Yâ€ khi muá»‘n nÃ³i vá»›i R ráº±ng biáº¿n kiá»ƒu thá»i gian náº±m trong chuá»—i kÃ½ tá»± Ä‘Æ°á»£c sá»­ dá»¥ng 4 chá»¯ sá»‘ Ä‘á»ƒ chá»‰ Ä‘á»‹nh.CÃ¡c kÃ½ tá»± khÃ´ng liÃªn quan Ä‘áº¿n cÃ¡c thÃ nh pháº§n cá»§a thá»i gian, ngoáº¡i trá»« cÃ¡c khoáº£ng tráº¯ng phÃ­a trÆ°á»›c vÃ  sau biáº¿n thá»i gian, cáº§n pháº£i Ä‘Æ°á»£c khai bÃ¡o chÃ­nh xÃ¡c.CÃ¡c kÃ½ tá»± khÃ´ng liÃªn quan Ä‘áº¿n cÃ¡c thÃ nh pháº§n cá»§a thá»i gian, ngoáº¡i trá»« cÃ¡c khoáº£ng tráº¯ng phÃ­a trÆ°á»›c vÃ  sau biáº¿n thá»i gian, cáº§n pháº£i Ä‘Æ°á»£c khai bÃ¡o chÃ­nh xÃ¡c.Tá»« vÃ­ dá»¥ trÃªn báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ngCáº§n khai bÃ¡o chÃ­nh xÃ¡c cÃ¡c kÃ½ tá»± náº±m giá»¯a cÃ¡c biáº¿n thá»i gian. KÃ½ tá»± \\(\"@\"\\) náº±m giá»¯a cÃ¡c giÃ¡ trá»‹ ngÃ y, thÃ¡ng, nÄƒm; phÃ¢n tÃ¡ch giá»¯a ngÃ y thÃ¡ng vá»›i thá»i gian trong ngÃ y lÃ  kÃ½ tá»± \\(\"-\"\\); phÃ¢n tÃ¡ch giá»¯a cÃ¡c thÃ nh pháº§n cá»§a thá»i gian trong ngÃ y lÃ  kÃ½ tá»± \\(\"#\"\\). Táº¥t cáº£ Ä‘á»u cáº§n pháº£i Ä‘Æ°á»£c khai bÃ¡o chÃ­nh xÃ¡c vá»›i tÃ¹y biáº¿n \\(format\\). GiÃ¡ trá»‹ thá»© ba trong vÃ©c-tÆ¡ \\(x\\) gáº·p váº¥n Ä‘á» vÃ¬ phÃ¢n tÃ¡ch giá»¯a cÃ¡c thÃ nh pháº§n cá»§a thá»i gian trong ngÃ y sá»­ dá»¥ng dáº¥u â€œ:â€Cáº§n khai bÃ¡o chÃ­nh xÃ¡c cÃ¡c kÃ½ tá»± náº±m giá»¯a cÃ¡c biáº¿n thá»i gian. KÃ½ tá»± \\(\"@\"\\) náº±m giá»¯a cÃ¡c giÃ¡ trá»‹ ngÃ y, thÃ¡ng, nÄƒm; phÃ¢n tÃ¡ch giá»¯a ngÃ y thÃ¡ng vá»›i thá»i gian trong ngÃ y lÃ  kÃ½ tá»± \\(\"-\"\\); phÃ¢n tÃ¡ch giá»¯a cÃ¡c thÃ nh pháº§n cá»§a thá»i gian trong ngÃ y lÃ  kÃ½ tá»± \\(\"#\"\\). Táº¥t cáº£ Ä‘á»u cáº§n pháº£i Ä‘Æ°á»£c khai bÃ¡o chÃ­nh xÃ¡c vá»›i tÃ¹y biáº¿n \\(format\\). GiÃ¡ trá»‹ thá»© ba trong vÃ©c-tÆ¡ \\(x\\) gáº·p váº¥n Ä‘á» vÃ¬ phÃ¢n tÃ¡ch giá»¯a cÃ¡c thÃ nh pháº§n cá»§a thá»i gian trong ngÃ y sá»­ dá»¥ng dáº¥u â€œ:â€CÃ¡c khoáº£ng tráº¯ng náº±m trÆ°á»›c vÃ  sau cÃ¡c chuá»—i kÃ½ tá»± Ä‘Æ°á»£c bá» qua vÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n káº¿t quáº£.CÃ¡c khoáº£ng tráº¯ng náº±m trÆ°á»›c vÃ  sau cÃ¡c chuá»—i kÃ½ tá»± Ä‘Æ°á»£c bá» qua vÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n káº¿t quáº£.Äá»ƒ biáº¿t chÃ­nh xÃ¡c cÃ¡ch gÃ¡n giÃ¡ trá»‹ cho tÃ¹y biáº¿n \\(format\\), báº¡n Ä‘á»c nÃªn tham kháº£o hÆ°á»›ng dáº«n sá»­ dá»¥ng hÃ m parse_datetime(). ChÃºng tÃ´i tÃ³m táº¯t cÃ¡ch Ä‘á»‹nh dáº¡ng cÃ¡c thÃ nh pháº§n cá»§a má»™t biáº¿n thá»i gian trong báº£ng dÆ°á»›i Ä‘Ã¢y:LÆ°u Ã½ ráº±ng khi báº¡n Ä‘á»c sá»­ dá»¥ng %y, cÃ¡c kÃ½ tá»± â€œ00â€ Ä‘áº¿n â€œ69â€ sáº½ Ä‘Æ°á»£c chuyá»ƒn thÃ nh nÄƒm 2000 Ä‘áº¿n nÄƒm 2069 trong khi cÃ¡c kÃ½ tá»± tá»« â€œ70â€ Ä‘áº¿n 99 sáº½ Ä‘Æ°á»£c chuyá»ƒn thÃ nh nÄƒm 1970 Ä‘áº¿n 1999. NgoÃ i ra, thÃ nh pháº§n thÃ¡ng cá»§a biáº¿n thá»i gian trong nhiá»u dá»¯ liá»‡u thÆ°á»ng Ä‘Æ°á»£c viáº¿t dÆ°á»›i dáº¡ng chuá»—i kÃ½ tá»± thay vÃ¬ sá»­ dá»¥ng sá»‘. Ä‘Ã³ báº¡n Ä‘á»c cáº§n cÃ¡c gá»£i Ã½ %b hoáº·c %B Ä‘á»ƒ R cÃ³ thá»ƒ hiá»ƒu Ä‘Æ°á»£c:","code":"\nx<-c(\"1/2/2023\", \"23/10/2023 \", \"01/01/1900\")\nparse_datetime(x, format = \"%d/%m/%Y\",\n               na = c(\"01/01/1900\"))## [1] \"2023-02-01 UTC\" \"2023-10-23 UTC\" NA\nx<-c(\" 1@2@2023-23#25#01  \", \"  23@10@2023-01#06#59 \", \"01@01@2023-00:00:00\")\nparse_datetime(x, format = \"%d@%m@%Y-%H#%M#%S\")## [1] \"2023-02-01 23:25:01 UTC\" \"2023-10-23 01:06:59 UTC\"\n## [3] NA\nx<-c(\"sep 21, 23 \", \"  JAN 1, 69 \", \"Dec 25, 70\")\nparse_datetime(x, format = \"%b %d, %y\")## [1] \"2023-09-21 UTC\" \"1969-01-01 UTC\" \"1970-12-25 UTC\""},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"Ä‘á»‹nh-dáº¡ng-cá»™t-kiá»ƒu-chuá»—i-kÃ½-tá»±","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.2.3 Äá»‹nh dáº¡ng cá»™t kiá»ƒu chuá»—i kÃ½ tá»±","text":"Khi báº¡n Ä‘á»c dÃ¹ng \\(readr\\) Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u tá»« nguá»“n ngoÃ i vÃ o R, cá»™t dá»¯ liá»‡u khÃ´ng rÃµ Ä‘á»‹nh dáº¡ng sáº½ Ä‘Æ°á»£c lÆ°u dÆ°á»›i dáº¡ng vÃ©c-tÆ¡ chuá»—i kÃ½ tá»±. Váº­y táº¡i sao cáº§n Ä‘á»‹nh dáº¡ng láº¡i thÃ nh vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»±? Nghe cÃ³ váº» vÃ´ lÃ½ nhÆ°ng Ä‘Ã¢y láº¡i lÃ  váº¥n Ä‘á» phá»©c táº¡p nháº¥t trong Ä‘á»‹nh dáº¡ng láº¡i cá»™t dá»¯ liá»‡u. Äá»ƒ hiá»ƒu váº¥n Ä‘á» nÃ y báº¡n Ä‘á»c cáº§n tÃ¬m hiá»ƒu má»™t chÃºt vá» cÃ¡ch mÃ¡y tÃ­nh Ä‘iá»‡n tá»­ lÆ°u vÃ  má»Ÿ má»™t chuá»—i kÃ½ tá»±. Giáº£ sá»­ báº¡n Ä‘á»c muá»‘n gá»­i má»™t dá»¯ liá»‡u chá»©a kÃ½ tá»± â€œâ€ Ä‘áº¿n má»™t mÃ¡y tÃ­nh khÃ¡c. Sau khi viáº¿t kÃ½ tá»± â€œâ€ lÃªn má»™t pháº§n má»m soáº¡n tháº£o vÄƒn báº£n nÃ o, báº¡n Ä‘á»c sáº½ cáº§n lÆ°u kÃ½ tá»± â€œâ€ lÃªn mÃ¡y tÃ­nh cá»§a báº¡n. Táº¥t nhiÃªn mÃ¡y tÃ­nh cá»§a báº¡n sáº½ khÃ´ng thá»ƒ ghi nhá»› chá»¯ â€œâ€ má»™t cÃ¡ch tÆ°á»£ng hÃ¬nh mÃ  sáº½ mÃ£ hÃ³a (hay thuáº­t ngá»¯ chuyÃªn ngÃ nh gá»i lÃ  \\(encode\\)) chá»¯ â€œâ€ thÃ nh má»™t Ä‘oáº¡n mÃ£ nhá»‹ phÃ¢n bao gá»“m 0 vÃ  1 mÃ  mÃ¡y tÃ­nh cÃ³ thá»ƒ lÆ°u Ä‘Æ°á»£c. Khi báº¡n gá»­i dá»¯ liá»‡u sang má»™t mÃ¡y tÃ­nh khÃ¡c, Ä‘oáº¡n mÃ£ bao gá»“m 0 vÃ  1 Ä‘Ã³ sáº½ Ä‘Æ°á»£c gá»­i Ä‘i. Khi mÃ¡y tÃ­nh Ä‘iá»‡n tá»­ khÃ¡c má»Ÿ dá»¯ liá»‡u, Ä‘oáº¡n mÃ£ nhá»‹ phÃ¢n sáº½ Ä‘Æ°á»£c giáº£i mÃ£ (thuáº­t ngá»¯ chuyÃªn ngÃ nh gá»i lÃ  \\(decode\\)) Ä‘á»ƒ hiá»ƒn thá»‹. Sáº½ khÃ´ng cÃ³ váº¥n Ä‘á» gÃ¬ xáº£y ra náº¿u quy táº¯c mÃ£ hÃ³a vÃ  giáº£i mÃ£ Ä‘Æ°á»£c thá»‘ng nháº¥t vÃ  chá»¯ â€œâ€ sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ chÃ­nh xÃ¡c trÃªn mÃ¡y tÃ­nh thá»© hai.Thá»±c táº¿ lÃ  trÆ°á»›c khi cÃ³ bá»™ mÃ£ hÃ³a vÃ  quy táº¯c mÃ£ hÃ³a chung Ä‘Æ°á»£c cÃ´ng nháº­n rá»™ng rÃ£i nhÆ° Unicode vÃ  UTF-8, ráº¥t khÃ³ Ä‘á»ƒ cÃ³ sá»± thá»‘ng nháº¥t quy táº¯c mÃ£ hÃ³a kÃ½ tá»±. May máº¯n lÃ  Ä‘áº¿n thá»i Ä‘iá»ƒm chÃºng tÃ´i viáº¿t cuá»‘n sÃ¡ch nÃ y Ä‘a sá»‘ cÃ¡c há»‡ Ä‘iá»u hÃ nh, há»‡ soáº¡n tháº£o vÄƒn báº£n,â€¦ Ä‘á»u sá»­ dá»¥ng báº£ng mÃ£ Unicode vÃ  bá»™ mÃ£ hÃ³a UTF-8. Giáº£i thÃ­ch chi tiáº¿t vá» bá»™ mÃ£ hÃ³a hay quy táº¯c mÃ£ hÃ³a lÃ  ráº¥t phá»©c táº¡p vÃ  vÆ°á»£t quÃ¡ ná»™i dung cá»§a cuá»‘n sÃ¡ch nÃ y. ChÃºng tÃ´i chá»‰ cáº§n báº¡n Ä‘á»c hiá»ƒu vá» Unicode vÃ  UTF-8 nhÆ° sau:Unicode lÃ  má»™t báº£ng mÃ£ chuáº©n Ä‘Æ°á»£c cÃ´ng nháº­n rá»™ng rÃ£i cho biáº¿t quy táº¯c cho tÆ°Æ¡ng á»©ng háº§u háº¿t cÃ¡c kÃ½ tá»± tá»« Ä‘Æ¡n giáº£n Ä‘áº¿n phá»©c táº¡p, ká»ƒ cáº£ cÃ¡c ngÃ´n ngá»¯ sá»­ dá»¥ng kÃ½ tá»± tÆ°á»£ng hÃ¬nh phá»©c táº¡p nhÆ° chá»¯ HÃ¡n cá»§a tiáº¿ng Trung Quá»‘c, tiáº¿ng Nháº­t, chá»¯ NÃ´m cá»§a tiáº¿ng Viá»‡t, vá»›i má»™t sá»‘ náº±m giá»¯a sá»‘ 0 Ä‘áº¿n sá»‘ \\(10FFFF\\) khi viáº¿t theo há»‡ 16. Má»™t sá»‘ khi viáº¿t trong há»‡ 16 cÃ³ thá»ƒ sá»­ dá»¥ng (0, 1, â€¦, 9, , B, C, D, E, F) Ä‘á»ƒ biá»ƒu diá»…n, Ä‘Ã³ sá»‘ cÃ¡c kÃ½ tá»± mÃ  báº£ng mÃ£ Unicode cÃ³ thá»ƒ Ä‘Æ°a vÃ o lÃ  \\(16^4 + 16^5 = 1.114.112\\) kÃ½ tá»±, bao gá»“m \\(16^5\\) sá»‘ tá»« 0 Ä‘áº¿n FFFFF vÃ  \\(16^4\\) sá»‘ tá»« 100000 Ä‘áº¿n 10FFFF.Unicode lÃ  má»™t báº£ng mÃ£ chuáº©n Ä‘Æ°á»£c cÃ´ng nháº­n rá»™ng rÃ£i cho biáº¿t quy táº¯c cho tÆ°Æ¡ng á»©ng háº§u háº¿t cÃ¡c kÃ½ tá»± tá»« Ä‘Æ¡n giáº£n Ä‘áº¿n phá»©c táº¡p, ká»ƒ cáº£ cÃ¡c ngÃ´n ngá»¯ sá»­ dá»¥ng kÃ½ tá»± tÆ°á»£ng hÃ¬nh phá»©c táº¡p nhÆ° chá»¯ HÃ¡n cá»§a tiáº¿ng Trung Quá»‘c, tiáº¿ng Nháº­t, chá»¯ NÃ´m cá»§a tiáº¿ng Viá»‡t, vá»›i má»™t sá»‘ náº±m giá»¯a sá»‘ 0 Ä‘áº¿n sá»‘ \\(10FFFF\\) khi viáº¿t theo há»‡ 16. Má»™t sá»‘ khi viáº¿t trong há»‡ 16 cÃ³ thá»ƒ sá»­ dá»¥ng (0, 1, â€¦, 9, , B, C, D, E, F) Ä‘á»ƒ biá»ƒu diá»…n, Ä‘Ã³ sá»‘ cÃ¡c kÃ½ tá»± mÃ  báº£ng mÃ£ Unicode cÃ³ thá»ƒ Ä‘Æ°a vÃ o lÃ  \\(16^4 + 16^5 = 1.114.112\\) kÃ½ tá»±, bao gá»“m \\(16^5\\) sá»‘ tá»« 0 Ä‘áº¿n FFFFF vÃ  \\(16^4\\) sá»‘ tá»« 100000 Ä‘áº¿n 10FFFF.UTF-8 lÃ  quy táº¯c lÆ°u cÃ¡c sá»‘ viáº¿t trong há»‡ 16 cá»§a báº£ng mÃ£ Unicode thÃ nh cÃ¡c chuá»—i nhá»‹ phÃ¢n 0 vÃ  1 mÃ  mÃ¡y tÃ­nh cÃ³ thá»ƒ phÃ¢n biá»‡t Ä‘Æ°á»£c. Sá»‘ 8 á»Ÿ Ä‘Ã¢y cÃ³ nghÄ©a lÃ  8 bit hay má»™t byte lÃ  8 giÃ¡ trá»‹ 0 vÃ  1 Ä‘á»©ng liá»n nhau. Má»™t kÃ½ tá»± báº¥t ká»³ trong báº£ng mÃ£ Unicode Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c mÃ£ hÃ³a thÃ nh 1, 2, 3 hoáº·c nhiá»u byte theo quy táº¯c mÃ£ hÃ³a UTF-8.UTF-8 lÃ  quy táº¯c lÆ°u cÃ¡c sá»‘ viáº¿t trong há»‡ 16 cá»§a báº£ng mÃ£ Unicode thÃ nh cÃ¡c chuá»—i nhá»‹ phÃ¢n 0 vÃ  1 mÃ  mÃ¡y tÃ­nh cÃ³ thá»ƒ phÃ¢n biá»‡t Ä‘Æ°á»£c. Sá»‘ 8 á»Ÿ Ä‘Ã¢y cÃ³ nghÄ©a lÃ  8 bit hay má»™t byte lÃ  8 giÃ¡ trá»‹ 0 vÃ  1 Ä‘á»©ng liá»n nhau. Má»™t kÃ½ tá»± báº¥t ká»³ trong báº£ng mÃ£ Unicode Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c mÃ£ hÃ³a thÃ nh 1, 2, 3 hoáº·c nhiá»u byte theo quy táº¯c mÃ£ hÃ³a UTF-8.Quay trá»Ÿ láº¡i váº¥n Ä‘á» Ä‘á»‹nh dáº¡ng láº¡i dá»¯ liá»‡u kiá»ƒu chuá»—i kÃ½ tá»±, sáº½ khÃ´ng cÃ³ váº¥n Ä‘á» xáº£y ra náº¿u ngÆ°á»i nháº­p liá»‡u sá»­ dá»¥ng bá»™ mÃ£ hÃ³a UTF-8 bá»Ÿi \\(readr\\) luÃ´n sá»­ dá»¥ng UTF-8 Ä‘á»ƒ giáº£i mÃ£. Trong thá»±c táº¿ thÃ¬ váº«n cÃ²n má»™t sá»‘ há»‡ thá»‘ng, hoáº·c há»‡ soáº¡n tháº£o vÄƒn báº£n sá»­ dá»¥ng cÃ¡ch mÃ£ hÃ³a khÃ´ng tÆ°Æ¡ng thÃ­ch vá»›i UTF-8. Giáº£ sá»­ khi Ä‘á»c má»™t dá»¯ liá»‡u tá»« nguá»“n ngoÃ i vÃ o báº±ng read_csv() vÃ  cho káº¿t quáº£ nhÆ° sauCá»™t \\(\\) cá»§a dá»¯ liá»‡u Ä‘Ã£ khÃ´ng Ä‘Æ°á»£c lÆ°u báº±ng mÃ£ hÃ³a UTF-8 nÃªn thÆ° viá»‡n \\(readr\\) khÃ´ng hiá»ƒn thá»‹ Ä‘Æ°á»£c cÃ¡c giÃ¡ trá»‹ cÃ³ Ã½ nghÄ©a. Äá»ƒ Ä‘á»‹nh dáº¡ng láº¡i cá»™t dá»¯ liá»‡u, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m parse_character() vá»›i tÃ¹y biáº¿n \\(encoding\\). KhÃ´ng dá»… Ä‘á»ƒ biáº¿t Ä‘Æ°á»£c dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c mÃ£ hÃ³a báº±ng bá»™ mÃ£ hÃ³a nÃ o. ThÆ° viá»‡n \\(readr\\) cung cáº¥p hÃ m guess_encoding() há»— trá»£ báº¡n Ä‘á»c dá»± Ä‘oÃ¡n má»™t biáº¿n kiá»ƒu chuá»—i kÃ½ tá»± Ä‘Ã£ Ä‘Æ°á»£c mÃ£ hÃ³a báº³ng bá»™ mÃ£ hÃ³a nÃ o. Tuy nhiÃªn tráº£i nghiá»‡m cá»§a chÃºng tÃ´i vá»›i hÃ m sá»‘ nÃ y lÃ  khÃ´ng tá»‘t. Lá»i khuyÃªn cá»§a chÃºng tÃ´i lÃ  báº¡n Ä‘á»c náº¿u cÃ³ thá»ƒ hÃ£y tÃ¬m hiá»ƒu nguá»“n gá»‘c cá»§a dá»¯ liá»‡u: dá»¯ liá»‡u Ä‘Æ°á»£c sÃ­nh ra tá»« Ä‘Ã¢u, há»‡ thá»‘ng nÃ o,â€¦ Trong trÆ°á»ng há»£p viá»‡c nÃ y lÃ  khÃ´ng thÃª, báº¡n Ä‘á»c hÃ£y thá»­ giáº£i mÃ£ Ä‘oáº¡n vÄƒn báº£n báº±ng má»™t sá»‘ bá»™ mÃ£ hÃ³a thÆ°á»ng gáº·p cho Ä‘áº¿n khi gáº·p Ä‘Æ°á»£c káº¿t quáº£ mong muá»‘n! Trong trÆ°á»ng há»£p dá»¯ liá»‡u á»Ÿ trÃªn nguá»“n lÃ  tiáº¿ng Viá»‡t nÃªn chÃºng ta cÃ³ thá»ƒ thá»­ cÃ¡cKáº¿t quáº£ khi sá»­ dá»¥ng bá»™ mÃ£ \\(Latin2\\) Ä‘Ã£ cho má»™t vÃ i giÃ¡ trá»‹ cÃ³ Ã½ nghÄ©a, chÃºng ta tiáº¿p tá»¥c thá»­ vá»›i \\(Latin1\\)May máº¯n lÃ  cá»™t dá»¯ liá»‡u Ä‘á»u Ä‘Ã£ cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c vá»›i chÃºng ta. Äá»‘i vá»›i cá»™t \\(B\\) cá»§a dá»¯ liá»‡u báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng parse_numbder() nhÆ° Ä‘Ã£ trÃ¬nh bÃ y á»Ÿ trÃªn. Dá»¯ liá»‡u sau khi Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng láº¡i Ä‘Ã£ dá»… hiá»ƒu hÆ¡n ráº¥t nhiá»u","code":"\nx<-read_csv(\"../KHDL_KTKD/Dataset/Book1.csv\")\nx## # A tibble: 5 Ã— 2\n##   A              B         \n##   <chr>          <chr>     \n## 1 \"l\\xea\"        20.000 vnd\n## 2 \"t\\xe1o\"       35.000 vnd\n## 3 \"qu\\xfdt\"      30.000 vnd\n## 4 \"c\\xe0 t\\xedm\" 5.500 vnd \n## 5 \"m\\xedt\"       10.000 vnd\nparse_character(x$A, locale = locale(encoding = \"Latin2\"))## [1] \"lÄ™\"     \"tÃ¡o\"    \"quÃ½t\"   \"cÅ• tÃ­m\" \"mÃ­t\"\nparse_character(x$A, locale = locale(encoding = \"Latin1\"))## [1] \"lÃª\"     \"tÃ¡o\"    \"quÃ½t\"   \"cÃ  tÃ­m\" \"mÃ­t\"\ntibble(Name = parse_character(x$A, locale = locale(encoding = \"Latin1\")), \n      Price = parse_number(x$B, locale = locale(grouping_mark = \".\")))## # A tibble: 5 Ã— 2\n##   Name   Price\n##   <chr>  <dbl>\n## 1 lÃª     20000\n## 2 tÃ¡o    35000\n## 3 quÃ½t   30000\n## 4 cÃ  tÃ­m  5500\n## 5 mÃ­t    10000"},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"giÃ¡-trá»‹-ngoáº¡i-lai-vÃ -giÃ¡-trá»‹-khÃ´ng-quan-sÃ¡t-Ä‘Æ°á»£c.","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.3 GiÃ¡ trá»‹ ngoáº¡i lai vÃ  giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.","text":"GiÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c lÃ  cÃ¡c giÃ¡ trá»‹ xuáº¥t hiá»‡n dÆ°á»›i dáº¡ng \\(NA\\) trong dá»¯ liá»‡u sau khi nháº­p vÃ o R. CÃ³ nhiá»u lÃ½ khÃ¡c nhau dáº«n Ä‘áº¿n viá»‡c dá»¯ liá»‡u khÃ´ng quan sÃ¡t Ä‘Æ°á»£c, cháº³ng háº¡n nhÆ° thÃ´ng tin ngÆ°á»i lÃ m dá»¯ liá»‡u cung cáº¥p khÃ´ng Ä‘áº§y Ä‘á»§, nhá»¯ng ngÆ°á»i cung cáº¥p dá»¯ liá»‡u tá»« chá»‘i chia sáº» thÃ´ng tin, há»‡ thá»‘ng quáº£n lÃ½ dá»¯ liá»‡u bá»‹ lá»—i, hoáº·c cÅ©ng cÃ³ thá»ƒ ngÆ°á»i quáº£n lÃ½ xÃ³a dá»¯ liá»‡u vÃ¬ lÃ½ báº£o máº­t. GiÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c ngoÃ i cÃ¡c giÃ¡ trá»‹ \\(NA\\) xuáº¥t hiá»‡n trong dá»¯ liá»‡u, mÃ  cÃ²n lÃ  cÃ¡c giÃ¡ trá»‹ khÃ´ng phÃ¹ há»£p vá»›i kiá»ƒu dá»¯ liá»‡u hoáº·c miá»n giÃ¡ trá»‹ cá»§a cá»™t dá»¯ liá»‡u. Äá»‘i vá»›i má»™t vÃ i há»‡ thá»‘ng khi dá»¯ liá»‡u Ä‘Æ°á»£c xuáº¥t ra giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c váº«n Ä‘Æ°á»£c ghi nháº­n báº±ng má»™t giÃ¡ trá»‹ nÃ o Ä‘Ã³. Báº¡n Ä‘á»c cáº§n cáº©n trá»ng khi lÃ m viá»‡c vá»›i nhá»¯ng dá»¯ liá»‡u kiá»ƒu nhÆ° váº­y.GiÃ¡ trá»‹ ngoáº¡i lai hay cÃ²n Ä‘Æ°á»£c gá»i lÃ  giÃ¡ trá»‹ báº¥t thÆ°á»ng lÃ  má»™t Ä‘iá»ƒm dá»¯ liá»‡u hoáº·c má»™t quan sÃ¡t sai khÃ¡c Ä‘Ã¡ng ká»ƒ vá»›i Ä‘a sá»‘ cÃ¡c quan sÃ¡t khÃ¡c. Má»™t giÃ¡ trá»‹ ngoáº¡i lai xuáº¥t hiá»‡n trong dá»¯ liá»‡u cÃ³ thá»ƒ lÃ  lá»—i trong quáº£n lÃ½ dá»¯ liá»‡u, sai sá»‘ trong Ä‘o lÆ°á»ng hoáº·c cÅ©ng cÃ³ thá»ƒ báº£n cháº¥t phÃ¢n phá»‘i cá»§a dá»¯ liá»‡u. TÃ¹y theo nguá»“n gÃ´c cá»§a giÃ¡ trá»‹ ngoáº¡i lai mÃ  chÃºng ta cÃ³ cÃ¡ch xá»­ lÃ½ dá»¯ liá»‡u khÃ¡c nhau.Khi khÃ´ng Ä‘Æ°á»£c xá»­ lÃ½ thÃ­ch há»£p, giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c vÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai cÃ³ thá»ƒ lÃ m sai lá»‡ch káº¿t luáº­n cá»§a táº¥t cáº£ cÃ¡c phÃ¢n tÃ­ch vá» dá»¯ liá»‡u, khiáº¿n ngÆ°á»i quáº£n lÃ½ Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh sai láº§m. Báº¡n Ä‘á»c quan sÃ¡t vÃ­ dá»¥ sau:Trong dá»¯ liá»‡u á»Ÿ trÃªn, máº·c dÃ¹ chá»‰ cÃ³ 1 giÃ¡ trá»‹ Ä‘ang lÃ  \\(NA\\) á»Ÿ cá»™t giá»›i tÃ­nh nhÆ°ng náº¿u quan sÃ¡t ká»¹ báº¡n Ä‘á»c sáº½ nháº­n ra ráº±ng:Cá»™t \\(name\\): giÃ¡ trá»‹ â€œ12345â€ khÃ´ng thá»ƒ lÃ  tÃªn cá»§a má»™t sinh viÃªn, Ä‘Ã³ Ä‘Ã¢y cÅ©ng lÃ  má»™t giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.Cá»™t \\(name\\): giÃ¡ trá»‹ â€œ12345â€ khÃ´ng thá»ƒ lÃ  tÃªn cá»§a má»™t sinh viÃªn, Ä‘Ã³ Ä‘Ã¢y cÅ©ng lÃ  má»™t giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.Cá»™t \\(Age\\): thá»© nháº¥t, giÃ¡ trá»‹ á»Ÿ hÃ ng thá»© hai cá»§a cá»™t \\(Age\\) lÃ  kiá»ƒu chuá»—i kÃ½ tá»±. Thá»© hai, tuá»•i cá»§a má»™t sinh viÃªn khÃ´ng thá»ƒ lÃ  sá»‘ Ã¢m, nÃªn giÃ¡ trá»‹ \\(-1\\) khÃ´ng phÃ¹ há»£p vá»›i miá»n giÃ¡ trá»‹ cá»§a cá»™t nÃ y. Cá»™t \\(Age\\) cÃ³ hai giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.Cá»™t \\(Age\\): thá»© nháº¥t, giÃ¡ trá»‹ á»Ÿ hÃ ng thá»© hai cá»§a cá»™t \\(Age\\) lÃ  kiá»ƒu chuá»—i kÃ½ tá»±. Thá»© hai, tuá»•i cá»§a má»™t sinh viÃªn khÃ´ng thá»ƒ lÃ  sá»‘ Ã¢m, nÃªn giÃ¡ trá»‹ \\(-1\\) khÃ´ng phÃ¹ há»£p vá»›i miá»n giÃ¡ trá»‹ cá»§a cá»™t nÃ y. Cá»™t \\(Age\\) cÃ³ hai giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.Cá»™t \\(Gender\\): cÃ³ giÃ¡ trá»‹ lÃ  kÃ½ tá»± \\(N\\) khÃ´ng rÃµ lÃ  thá»ƒ hiá»‡n cho giá»›i tÃ­nh Nam hay Ná»¯, giÃ¡ trá»‹ nÃ y cÅ©ng lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.Cá»™t \\(Gender\\): cÃ³ giÃ¡ trá»‹ lÃ  kÃ½ tá»± \\(N\\) khÃ´ng rÃµ lÃ  thá»ƒ hiá»‡n cho giá»›i tÃ­nh Nam hay Ná»¯, giÃ¡ trá»‹ nÃ y cÅ©ng lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.Cá»™t \\(MSV\\): Giáº£ sá»­ báº±ng má»™t cÃ¡ch nÃ o Ä‘Ã³, báº¡n Ä‘á»c biáº¿t ráº±ng mÃ£ sinh viÃªn pháº£i lÃ  má»™t Ä‘oáº¡n kÃ½ tá»± cÃ³ Ä‘á»™ dÃ i lÃ  8, bao gá»“m Ä‘oáº¡n kÃ½ tá»± â€œMSVâ€ vÃ  theo sau lÃ  5 chá»¯ sá»‘, thÃ¬ giÃ¡ trá»‹ â€œMS34â€ cÅ©ng lÃ  má»™t giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c á»Ÿ cá»™t mÃ£ sinh viÃªn.Cá»™t \\(MSV\\): Giáº£ sá»­ báº±ng má»™t cÃ¡ch nÃ o Ä‘Ã³, báº¡n Ä‘á»c biáº¿t ráº±ng mÃ£ sinh viÃªn pháº£i lÃ  má»™t Ä‘oáº¡n kÃ½ tá»± cÃ³ Ä‘á»™ dÃ i lÃ  8, bao gá»“m Ä‘oáº¡n kÃ½ tá»± â€œMSVâ€ vÃ  theo sau lÃ  5 chá»¯ sá»‘, thÃ¬ giÃ¡ trá»‹ â€œMS34â€ cÅ©ng lÃ  má»™t giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c á»Ÿ cá»™t mÃ£ sinh viÃªn.Äá»ƒ xÃ¡c Ä‘á»‹nh dá»¯ liá»‡u cÃ³ giÃ¡ trá»‹ ngoáº¡i lai hay khÃ´ng cáº§n sá»­ dá»¥ng cÃ¡c kiáº¿n thá»©c vá» thá»‘ng kÃª toÃ¡n:Cá»™t \\(Height\\) cÃ³ giÃ¡ trá»‹ chiá»u cao á»Ÿ hÃ ng thá»© nháº¥t lÃ  1,76 cm. GiÃ¡ trá»‹ nÃ y quÃ¡ nhá» Ä‘á»ƒ lÃ m chiá»u cao cá»§a má»™t ngÆ°á»i bÃ¬nh thÆ°á»ng. Nhiá»u kháº£ nÄƒng khi Ä‘o chiá»u cao cá»§a sinh viÃªn, ngÆ°á»i nháº­p dá»¯ liá»‡u Ä‘Ã£ ghi láº¡i theo Ä‘Æ¡n vá»‹ mÃ©t.Cá»™t \\(Height\\) cÃ³ giÃ¡ trá»‹ chiá»u cao á»Ÿ hÃ ng thá»© nháº¥t lÃ  1,76 cm. GiÃ¡ trá»‹ nÃ y quÃ¡ nhá» Ä‘á»ƒ lÃ m chiá»u cao cá»§a má»™t ngÆ°á»i bÃ¬nh thÆ°á»ng. Nhiá»u kháº£ nÄƒng khi Ä‘o chiá»u cao cá»§a sinh viÃªn, ngÆ°á»i nháº­p dá»¯ liá»‡u Ä‘Ã£ ghi láº¡i theo Ä‘Æ¡n vá»‹ mÃ©t.Cá»™t \\(Weight\\) cÃ³ giÃ¡ trá»‹ cÃ¢n náº·ng cá»§a hÃ ng thá»© 4 lÃ  150 kg. Máº·c dÃ¹ dá»¯ liá»‡u cÃ³ ráº¥t Ã­t quan sÃ¡t Ä‘á»ƒ Ä‘Æ°a ra káº¿t luáº­n phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a cÃ¢n náº·ng cá»§a sinh viÃªn lÃ  gÃ¬, tuy nhiÃªn vá»›i kiáº¿n thá»©c thá»±c táº¿ chÃºng ta cÃ³ thá»ƒ káº¿t luáº­n ráº±ng 150 kg lÃ  má»™t cÃ¢n náº·ng lá»›n báº¥t thÆ°á»ng vá»›i cÃ¡c giÃ¡ trá»‹ cÃ¢n náº·ng cÃ²n láº¡i. ÄÃ¢y nhiá»u kháº£ nÄƒng lÃ  má»™t giÃ¡ trá»‹ ngoáº¡i lai.Cá»™t \\(Weight\\) cÃ³ giÃ¡ trá»‹ cÃ¢n náº·ng cá»§a hÃ ng thá»© 4 lÃ  150 kg. Máº·c dÃ¹ dá»¯ liá»‡u cÃ³ ráº¥t Ã­t quan sÃ¡t Ä‘á»ƒ Ä‘Æ°a ra káº¿t luáº­n phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a cÃ¢n náº·ng cá»§a sinh viÃªn lÃ  gÃ¬, tuy nhiÃªn vá»›i kiáº¿n thá»©c thá»±c táº¿ chÃºng ta cÃ³ thá»ƒ káº¿t luáº­n ráº±ng 150 kg lÃ  má»™t cÃ¢n náº·ng lá»›n báº¥t thÆ°á»ng vá»›i cÃ¡c giÃ¡ trá»‹ cÃ¢n náº·ng cÃ²n láº¡i. ÄÃ¢y nhiá»u kháº£ nÄƒng lÃ  má»™t giÃ¡ trá»‹ ngoáº¡i lai.Äá»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c vÃ  giÃ¡ trá»‹ ngoáº¡i lai tÃ¹y thuá»™c vÃ o tá»«ng dá»¯ liá»‡u cá»¥ thá»ƒ vÃ  kiáº¿n thá»©c tá»•ng há»£p vÃ  kiáº¿n thá»©c chuyÃªn mÃ´n cá»§a ngÆ°á»i xá»­ lÃ½ dá»¯ liá»‡u vÃ  náº±m ngoÃ i pháº¡m vi tháº£o luáº­n cá»§a cuá»‘n sÃ¡ch nÃ y. Dá»¯ liá»‡u á»Ÿ trÃªn chá»‰ lÃ  má»™t dá»¯ liá»‡u nhá» vÃ  Ä‘Æ¡n giáº£n nÃªn viá»‡c xÃ¡c Ä‘á»‹nh cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c vÃ  giÃ¡ trá»‹ ngoáº¡i lai lÃ  khÃ´ng khÃ³. ChÃºng ta biáº¿n Ä‘á»•i cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c thÃ nh \\(NA\\) nhÆ° sauÄá»‘i vá»›i cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai, chÃºng ta sáº½ Ä‘á»•i giÃ¡ trá»‹ bá»‹ ghi nháº­n sai Ä‘Æ¡n vá»‹ vá» Ä‘Ãºng Ä‘Æ¡n vá»‹. Vá»›i giÃ¡ trá»‹ cÃ¢n náº·ng 150 kg, dá»¯ liá»‡u nhá», báº¡n Ä‘á»c cÃ³ thá»ƒ giá»¯ nguyÃªn giÃ¡ trá»‹ nÃ y hoáº·c thay tháº¿ giÃ¡ trá»‹ nÃ y báº±ng giÃ¡ trá»‹ lá»›n nháº¥t cá»§a nhá»¯ng ngÆ°á»i cÃ³ cÃ¢n náº·ng thÃ´ng thÆ°á»ng.Dá»¯ liá»‡u sau khi xá»­ lÃ½ giÃ¡ trá»‹ ngoáº¡i lai vÃ  Ä‘á»‹nh nghÄ©a láº¡i cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c nhÆ° sau:HÃ m sá»‘ .na(df) tráº£ láº¡i giÃ¡ trá»‹ lÃ  \\(TRUE\\) náº¿u dá»¯ liá»‡u lÃ  quan sÃ¡t lÃ  \\(NA\\) vÃ  tráº£ láº¡i giÃ¡ trá»‹ \\(FALSE\\) náº¿u khÃ´ng pháº£i \\(NA\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ dÃ¹ng hÃ m .na() káº¿t há»£p vá»›i hÃ m sum() Ä‘á»ƒ tÃ­nh toÃ¡n má»—i cá»™t cÃ³ bao nhiÃªu giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c vÃ  tá»· lá»‡ sá»‘ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c trÃªn má»—i cá»™t lÃ  bao nhiÃªu:Vá»›i nhá»¯ng dá»¯ liá»‡u nhá» thÃ¬ hiá»ƒn thá»‹ trá»±c tiáº¿p sá»‘ lÆ°á»£ng giÃ¡ trá»‹ \\(NA\\) trong má»—i cá»™t lÃ  hiá»‡u quáº£ nháº¥t. Khi dá»¯ liá»‡u cÃ³ nhiá»u quan sÃ¡t vÃ  nhiá»u biáº¿n, báº¡n Ä‘á»c nÃªn sá»­ dá»¥ng Ä‘á»“ thá»‹ Ä‘á»ƒ mÃ´ táº£ sá»‘ lÆ°á»£ng hoáº·c tá»· lá»‡ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cá»§a má»—i cá»™t. VÃ­ dá»¥ nhÆ° vá»›i dá»¯ liá»‡u \\(gapminder\\) cá»§a thÆ° viá»‡n \\(dslabs\\), sá»­ dá»¥ng Ä‘á»“ thá»‹ \\(barplot\\) Ä‘á»ƒ mÃ´ táº£ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c sáº½ hiá»‡u quáº£ hÆ¡n:Xá»­ lÃ½ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c dá»±a trÃªn kinh nghiá»‡m vÃ  hiá»ƒu biáº¿t vá» dá»¯ liá»‡u cá»§a báº¡n Ä‘á»c luÃ´n lÃ  Æ°u tiÃªn trÆ°á»›c tiÃªn. Náº¿u chÃºng ta khÃ´ng cÃ³ kinh nghiá»‡m vÃ  hiá»ƒu biáº¿t vá» dá»¯ liá»‡u, cÃ¡c ká»¹ thuáº­t xá»­ lÃ½ dá»±a trÃªn cÃ¡c nguyÃªn táº¯c cá»§a xÃ¡c suáº¥t thá»‘ng kÃª sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng.","code":"## # A tibble: 4 Ã— 6\n##   MSV      Name            Age                Gender `Height (cm)` `Weight (kg)`\n##   <chr>    <chr>           <chr>              <chr>          <dbl>         <dbl>\n## 1 MSV00001 12345           30                 Nam             1.76            68\n## 2 MSV43241 Nguyá»…n VÄƒn An   Nháº­p sai ngÃ y sinh N             169               72\n## 3 MSV65432 LÃª Thá»‹ Loan     -1                 Ná»¯            155               48\n## 4 MSV34    Tráº§n Máº¡nh CÆ°á»ng 15                 <NA>          175              150\ndf$MSV[(nchar(df$MSV)!=8)]<-NA # mÃ£ sinh viÃªn khÃ´ng cÃ³ 8 kÃ½ tá»± lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c\ndf$Name[df$Name==\"12345\"]<-NA\ndf$Age<-parse_number(df$Age, na = c(\"-1\")) # tuá»•i cÃ³ giÃ¡ trá»‹ (-1) lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c\ndf$Gender[df$Gender == \"N\"]<-NA\ndf$Height[1]<-df$Height[1] * 100 # Ä‘á»•i Ä‘Æ¡n vá»‹ Ä‘o tá»« mÃ©t sang cm\ndf## # A tibble: 4 Ã— 6\n##   MSV      Name              Age Gender `Height (cm)` `Weight (kg)`\n##   <chr>    <chr>           <dbl> <chr>          <dbl>         <dbl>\n## 1 MSV00001 <NA>               30 Nam             1.76            68\n## 2 MSV43241 Nguyá»…n VÄƒn An      NA <NA>          169               72\n## 3 MSV65432 LÃª Thá»‹ Loan        NA Ná»¯            155               48\n## 4 <NA>     Tráº§n Máº¡nh CÆ°á»ng    15 <NA>          175              150\nsapply(df,function(x) sum(is.na(x))) # cho biáº¿t má»—i cá»™t dá»¯ liá»‡u cÃ³ bao nhiÃªu giÃ¡ trá»‹ NA##         MSV        Name         Age      Gender Height (cm) Weight (kg) \n##           1           1           2           2           0           0\nsapply(df,function(x) sum(is.na(x))/length(x)) # cho biáº¿t tá»· lá»‡ giÃ¡ trá»‹ NA trong má»—i cá»™t##         MSV        Name         Age      Gender Height (cm) Weight (kg) \n##        0.25        0.25        0.50        0.50        0.00        0.00\ny<-sapply(gapminder,function(x) sum(is.na(x))/length(x)*100) # cho biáº¿t tá»· lá»‡ giÃ¡ trá»‹ NA trong má»—i cá»™t\nbarplot(sort(y), main = \"Tá»· lá»‡ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c\",\n        ylab = \"ÄÆ¡n vá»‹ %\",\n        xlab = \"\",\n        col = \"lightskyblue\")"},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"giÃ¡-trá»‹-ngoáº¡i-lai.","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.3.1 GiÃ¡ trá»‹ ngoáº¡i lai.","text":"GiÃ¡ trá»‹ ngoáº¡i lai, hay cÃ²n gá»i lÃ  giÃ¡ trá»‹ báº¥t thÆ°á»ng, lÃ  nhá»¯ng giÃ¡ trá»‹ mÃ  khÃ¡c xa táº­p há»£p cÃ¡c giÃ¡ trá»‹ cÃ²n láº¡i. KhÃ´ng cÃ³ má»™t Ä‘á»‹nh nghÄ©a Ä‘á»‹nh lÆ°á»£ng chÃ­nh xÃ¡c nÃ o cho khÃ¡i niá»‡m nhÆ° tháº¿ nÃ o lÃ  khÃ¡c xa cÃ¡c giÃ¡ trá»‹ cÃ²n láº¡i. Ä‘Ã³, tÃ¹y theo báº£n cháº¥t cá»§a dá»¯ liá»‡u vÃ  tÃ¹y theo quan Ä‘iá»ƒm cá»§a ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u mÃ  má»™t hay má»™t sá»‘ giÃ¡ trá»‹ cÃ³ kháº£ nÄƒng lÃ  giÃ¡ trá»‹ ngoáº¡i lai hay khÃ´ng. GiÃ¡ trá»‹ ngoáº¡i lai thÆ°á»ng chá»‰ Ä‘Æ°á»£c nháº¯c Ä‘áº¿n vá»›i cÃ¡c dá»¯ liá»‡u cÃ³ sá»‘ quan sÃ¡t Ä‘á»§ lá»›n Ä‘á»ƒ Ä‘Æ°a ra káº¿t luáº­n cÃ³ Ã½ nghÄ©a thá»‘ng kÃª.Khi dá»¯ liá»‡u cÃ³ 10 quan sÃ¡t nhÆ° hÃ¬nh bÃªn trÃ¡i, cÃ³ 8 quan sÃ¡t mÃ u xanh da trá»i náº±m gáº§n nhau hÆ¡n, Ä‘iá»ƒm mÃ u cam hÆ¡i xa hÆ¡n táº­p há»£p cÃ¡c Ä‘iá»ƒm mÃ u xanh da trá»i má»™t chÃºt, cÃ²n Ä‘iá»ƒm mÃ u Ä‘á» náº±m xa hÆ¡n. Khi gáº·p dá»¯ liá»‡u nhÆ° váº­y, chÃºng ta cÃ³ thá»ƒ káº¿t luáº­n Ä‘iá»ƒm mÃ u Ä‘á» lÃ  giÃ¡ trá»‹ ngoáº¡i lai, cÃ²n káº¿t luáº­n Ä‘iá»ƒm mÃ u cam cÃ³ pháº£i ngoáº¡i lai hay khÃ´ng thÃ¬ cÃ²n tÃ¹y thuá»™c vÃ o Ã½ tÆ°á»Ÿng cá»§a ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u. Chuyá»ƒn sang hÃ¬nh bÃªn pháº£i vá»›i dá»¯ liá»‡u cÃ³ 100 quan sÃ¡t. CÃ¡c Ä‘iá»ƒm mÃ u xanh da trá»i Ä‘á»‹nh hÃ¬nh khÃ¡ rÃµ miá»n giÃ¡ trá»‹ cá»§a trung tÃ¢m cá»§a dá»¯ liá»‡u lÃ  náº±m xung quanh Ä‘iá»ƒm (3,3). ChÃºng ta cÃ³ thá»ƒ káº¿t luáº­n má»™t cÃ¡ch khÃ¡ cháº¯c cháº¯n ráº±ng Ä‘iá»ƒm mÃ u Ä‘á» lÃ  má»™t giÃ¡ trá»‹ ngoáº¡i lai. Äiá»ƒm mÃ u cam, máº·c dÃ¹ náº±m khÃ¡ xa trung tÃ¢m cá»§a dá»¯ liá»‡u, nhÆ°ng Ä‘á»ƒ káº¿t luáº­n ráº±ng cÃ³ pháº£i giÃ¡ trá»‹ ngoáº¡i lai hay khÃ´ng váº«n phá»¥ thuá»™c vÃ o Ã½ tÆ°á»Ÿng cá»§a ngÆ°á»i phÃ¢n tÃ­ch.Nguá»“n gá»‘c cá»§a giÃ¡ trá»‹ ngoáº¡i lai lÃ  cÃ³ thá»ƒ cÃ³ nhiá»u nguyÃªn nhÃ¢n khÃ¡c nhau, bao gá»“m cáº£ nguyÃªn nhÃ¢n khÃ¡ch quan hoáº·c nguyÃªn nhÃ¢n chá»§ quan. CÃ¡c nguyÃªn nhÃ¢n khÃ¡ch quan cÃ³ thá»ƒ nguá»“n sinh dá»¯ liá»‡u, hay há»‡ thá»‘ng quáº£n lÃ½ dá»¯ liá»‡u gáº·p sá»± cá»‘, lá»—i trong quÃ¡ trÃ¬nh truyá»n hoáº·c sao chÃ©p dá»¯ liá»‡u. NguyÃªn nhÃ¢n chá»§ quan bao gá»“m cÃ³ cÃ¡c hÃ nh vi gian láº­n, lá»—i nháº­p vÃ  sao chÃ©p dá»¯ liá»‡u cá»§a con ngÆ°á»i, hoáº·c cÃ¡c giÃ¡ trá»‹ Ä‘Æ°á»£c cá»‘ tÃ¬nh Ä‘Æ°a vÃ o trong dá»¯ liá»‡u vá»›i má»¥c Ä‘Ã­ch láº¥y pháº£n há»“i tá»« ngÆ°á»i dÃ¹ng dá»¯ liá»‡u.Náº¿u khÃ´ng xá»­ lÃ½ giÃ¡ trá»‹ ngoáº¡i lai káº¿t quáº£ tÃ­nh toÃ¡n sáº½ bá»‹ sai lá»‡ch Ä‘Ã¡ng ká»ƒ. Dá»¯ liá»‡u cÃ³ kÃ­ch thÆ°á»›c cÃ ng nhá» thÃ¬ áº£nh hÆ°á»Ÿng cá»§a giÃ¡ trá»‹ ngoáº¡i lai láº¡i cÃ ng lá»›n. Trong vÃ­ dá»¥ á»Ÿ trÃªn, giáº£ sá»­ báº¡n Ä‘á»c cáº§n phÃ¢n tÃ­ch sá»± tÃ¡c Ä‘á»™ng cá»§a biáº¿n \\(X\\) (trá»¥c náº±m ngang) lÃªn biáº¿n \\(Y\\) (giÃ¡ trá»‹ trÃªn trá»¥c dá»c) báº±ng má»™t má»‘i quan há»‡ tuyáº¿n tÃ­nh. HÃ£y quan sÃ¡t káº¿t quáº£ cá»§a phÃ¢n tÃ­ch khi chÃºng taGiá»¯ nguyÃªn 10 quan sÃ¡t vÃ  phÃ¢n tÃ­ch má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh.Giá»¯ nguyÃªn 10 quan sÃ¡t vÃ  phÃ¢n tÃ­ch má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh.Loáº¡i bá» Ä‘iá»ƒm (mÃ u Ä‘á») ra vÃ  phÃ¢n tÃ­ch má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh.Loáº¡i bá» Ä‘iá»ƒm (mÃ u Ä‘á») ra vÃ  phÃ¢n tÃ­ch má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh.Loáº¡i bá» Ä‘iá»ƒm (mÃ u Ä‘á») vÃ  Ä‘iá»ƒm B (mÃ u cam) ra Ä‘á»ƒ phÃ¢n tÃ­ch má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh.Loáº¡i bá» Ä‘iá»ƒm (mÃ u Ä‘á») vÃ  Ä‘iá»ƒm B (mÃ u cam) ra Ä‘á»ƒ phÃ¢n tÃ­ch má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh.Khi giá»¯ nguyÃªn 10 Ä‘iá»ƒm dá»¯ liá»‡u Ä‘á»ƒ xÃ¢y dá»±ng má»‘i quan há»‡ tuyáº¿n tÃ­nh, Ä‘Æ°á»ng tháº³ng mÃ´ táº£ má»‘i quan há»‡ giá»¯a \\(Y\\) vÃ  \\(X\\) lÃ  náº±m trong hÃ¬nh phÃ­a bÃªn trÃ¡i. ÄÆ°á»ng tháº³ng nÃ y cÃ³ há»‡ sá»‘ gÃ³c dÆ°Æ¡ng (má»™t Ä‘Æ°á»ng dá»‘c lÃªn khi Ä‘i tá»« trÃ¡i sang pháº£i), Ä‘iá»u nÃ y cÃ³ nghÄ©a lÃ  biáº¿n \\(X\\) cÃ³ tÃ¡c Ä‘á»™ng cÃ¹ng chiá»u lÃªn biáº¿n \\(Y\\). Sau khi loáº¡i bá» Ä‘iá»ƒm (mÃ u Ä‘á») vÃ  tÃ­nh toÃ¡n láº¡i, Ä‘Æ°á»ng tháº³ng mÃ´ táº£ má»‘i quan há»‡ tuyáº¿n tÃ­nh giá»¯a \\(Y\\) vÃ  \\(X\\) á»Ÿ lÃ  Ä‘Æ°á»ng tháº³ng trong hÃ¬nh á»Ÿ giá»¯a. ÄÆ°á»ng tháº³ng gáº§n nhÆ° náº±m ngang, cho tháº¥y \\(X\\) Ã­t cÃ³ tÃ¡c Ä‘á»™ng lÃªn biáº¿n \\(Y\\). Sau cÃ¹ng, trong hÃ¬nh phÃ­a bÃªn pháº£i, sau khi loáº¡i bá» cÃ¡c Ä‘iá»ƒm (mÃ u Ä‘á») vÃ  Ä‘iá»ƒm B (mÃ u cam), Ä‘Æ°á»ng tháº³ng mÃ´ táº£ má»‘i quan há»‡ tuyá»ƒn tÃ­nh giá»¯a \\(Y\\) vÃ  \\(X\\) lÃ  Ä‘Æ°á»ng dá»‘c xuá»‘ng, nghÄ©a lÃ  má»‘i tÃ¡c Ä‘á»™ng cá»§a \\(X\\) lÃªn \\(Y\\) lÃ  ngÆ°á»£c chiá»u. Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng káº¿t luáº­n Ä‘Æ°a ra sau khi phÃ¢n tÃ­ch thay Ä‘á»•i hoÃ n toÃ n khi chÃºng ta cÃ³ cÃ¡c lá»±a chá»n khÃ¡c nhau vá» loáº¡i bá» cÃ¡c giÃ¡ trá»‹ Ä‘Æ°á»£c cho lÃ  ngoáº¡i lai ra khá»i dá»¯ liá»‡u. Sá»± tÃ¡c Ä‘á»™ng cá»§a \\(X\\) lÃªn \\(Y\\) tá»« thuáº­n chiá»u (hÃ¬nh bÃªn trÃ¡i) chuyá»ƒn sang khÃ´ng cÃ³ má»‘i liÃªn há»‡ (hÃ¬nh á»Ÿ giá»¯a) vÃ  sau cÃ¹ng lÃ  sá»± tÃ¡c Ä‘á»™ng ngÆ°á»£c chiá»u cá»§a \\(X\\) lÃªn \\(Y\\) (hÃ¬nh bÃªn pháº£i).Trong pháº§n tiáº¿p theo chÃºng thÃ´i sáº½ tháº£o luáº­n vá» cÃ¡c phÆ°Æ¡ng phÃ¡p dÃ¹ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai trong dá»¯ liá»‡u.","code":""},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"cÃ¡ch-phÃ¡t-hiá»‡n-giÃ¡-trá»‹-ngoáº¡i-lai","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.3.2 CÃ¡ch phÃ¡t hiá»‡n giÃ¡ trá»‹ ngoáº¡i lai","text":"KhÃ´ng cÃ³ má»™t Ä‘á»‹nh nghÄ©a chÃ­nh xÃ¡c nhÆ° tháº¿ nÃ o lÃ  giÃ¡ trá»‹ ngoáº¡i lai, chÃ­nh vÃ¬ tháº¿ khÃ´ng cÃ³ phÆ°Æ¡ng phÃ¡p tá»•ng thá»ƒ vÃ  thá»‘ng nháº¥t nÃ o Ä‘á»ƒ phÃ¡t hiá»‡n giÃ¡ trá»‹ ngoáº¡i lai trong dá»¯ liá»‡u. Vá»›i má»—i cÃ¡ch nhÃ¬n nháº­n giÃ¡ trá»‹ ngoáº¡i láº¡i khÃ¡c nhau mÃ  cÃ³ phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n cá»¥ thá»ƒ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c giÃ¡ trá»‹ Ä‘Ã³. ChÃºng tÃ´i chá»‰ trÃ¬nh bÃ y cÃ¡c phÆ°Æ¡ng phÃ¡p chung Ä‘Æ°á»£c cháº¥p nháº­n rá»™ng rÃ£i bá»Ÿi nhá»¯ng ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u. CÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y cá»¥ thá»ƒ ngay trong pháº§n nÃ y. CÃ¡c phÆ°Æ¡ng phÃ¡p phá»©c táº¡p hÆ¡n Ä‘Ã²i há»i kiáº¿n thá»©c cá»§a cÃ¡c chÆ°Æ¡ng sau cá»§a cuá»‘n sÃ¡ch sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y dÆ°á»›i dáº¡ng Ã½ tÆ°á»Ÿng vÃ  hÃ m cÃ³ sáºµn trong thÆ° viá»‡n bá»• sung.","code":""},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"phÃ¡t-hiá»‡n-giÃ¡-trá»‹-ngoáº¡i-lai-trong-má»™t-vÃ©c-tÆ¡.","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.3.2.1 PhÃ¡t hiá»‡n giÃ¡ trá»‹ ngoáº¡i lai trong má»™t vÃ©c-tÆ¡.","text":"Äá»ƒ xÃ¡c Ä‘á»‹nh má»™t giÃ¡ trá»‹ lÃ  giÃ¡ trá»‹ ngoáº¡i lai hay khÃ´ng luÃ´n bao gá»“m hai bÆ°á»›c, bÆ°á»›c thá»© nháº¥t lÃ  sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng phÃ¡p xÃ¡c suáº¥t thá»‘ng kÃª Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c giÃ¡ trá»‹ cÃ³ nhiá»u kháº£ nÄƒng lÃ  ngoáº¡i lai, vÃ  bÆ°á»›c thá»© hai lÃ  sá»­ dá»¥ng kiáº¿n thá»©c chuyÃªn mÃ´n hoáº·c há»i Ã½ kiáº¿n chuyÃªn gia (náº¿u cÃ³ thá»ƒ) Ä‘á»ƒ kháº³ng Ä‘á»‹nh láº¡i káº¿t quáº£ tá»« bÆ°á»›c thá»© nháº¥t.Náº¿u vÃ©c-tÆ¡ lÃ  má»™t vÃ©c-tÆ¡ kiá»ƒu chuá»—i kÃ½ tá»± (khÃ´ng pháº£i kiá»ƒu factor) thÃ¬ khÃ´ng cÃ³ quy táº¯c rÃµ rÃ ng nÃ o Ä‘á»ƒ xÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ ngoáº¡i lai. Má»™t chuá»—i kÃ½ tá»± cÃ³ thá»ƒ lÃ  ngoáº¡i lai náº¿u chuá»—i kÃ½ tá»± cÃ³ Ä‘á»™ dÃ i báº¥t thÆ°á»ng, cÃ³ chá»©a nhiá»u kÃ½ tá»± báº¥t thÆ°á»ng, má»™t chuá»—i kÃ½ tá»± khÃ´ng cÃ³ Ã½ nghÄ©a, hoáº·c cÅ©ng cÃ³ thá»ƒ lÃ  má»™t chuá»—i kÃ½ tá»± trá»‘ng,â€¦ viá»‡c nÃ y hoÃ n toÃ n phá»¥ thuá»™c vÃ o cÃ¡ch tiáº¿p cáº­n cá»§a ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u. CÃ¡c phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ dá»¯ liá»‡u kiá»ƒu chuá»—i kÃ½ tá»± hiá»‡n Ä‘áº¡i cÃ³ kháº£ nÄƒng biáº¿n Ä‘á»•i má»™t chuá»—i kÃ½ tá»± thÃ nh má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘. Viá»‡c xÃ¡c Ä‘á»‹nh chuá»—i kÃ½ tá»± cÃ³ pháº£i lÃ  má»™t giÃ¡ trá»‹ báº¥t thÆ°á»ng hay khÃ´ng sáº½ liÃªn quan Ä‘áº¿n viá»‡c xÃ¡c Ä‘á»‹nh má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ cÃ³ pháº£i lÃ  má»™t vÃ©c-tÆ¡ cÃ³ giÃ¡ trá»‹ báº¥t thÆ°á»ng trong má»™t táº­p há»£p cÃ¡c vÃ©c-tÆ¡. CÃ¡c ká»¹ thuáº­t nÃ y vÆ°á»£t quÃ¡ pháº¡m vi cá»§a cuá»‘n sÃ¡chÄá»‘i vá»›i vÃ©c-tÆ¡ kiá»ƒu factor hay vÃ©c-tÆ¡ kiá»ƒu logic, giÃ¡ trá»‹ cÃ³ kháº£ nÄƒng lÃ  ngoáº¡i lai lÃ  cÃ¡c giÃ¡ trá»‹ xuáº¥t hiá»‡n vá»›i táº§n xuáº¥t ráº¥t nhá». Cháº³ng háº¡n nhÆ° khi mÃ´ táº£ má»™t vÃ©c-tÆ¡ chá»©a tÃªn cÃ¡c loáº¡i Ä‘á»“ uá»‘ng Ä‘Æ°á»£c bÃ¡n trong má»™t siÃªu thá»‹ trong thÃ¡ng vá»«a rá»“i, báº¡n gáº·p trÆ°á»ng há»£p sau:Khi gáº·p Ä‘á»“ thá»‹ nhÆ° trÃªn, cÃ³ kháº£ nÄƒng Ä‘á»“ uá»‘ng cÃ³ tÃªn â€œCollagenâ€ lÃ  giÃ¡ trá»‹ ngoáº¡i lai. Náº¿u siÃªu thá»‹ cÃ³ bÃ¡n loáº¡i Ä‘á»“ uá»‘ng nÃ y vÃ  viá»‡c sáº£n pháº©m khÃ´ng Ä‘Æ°á»£c khÃ¡ch hÃ ng Æ°a chuá»™ng, viá»‡c xuáº¥t hiá»‡n vá»›i táº§n xuáº¥t tháº¥p lÃ  bÃ¬nh thÆ°á»›ng vÃ  Ä‘Ã¢y khÃ´ng pháº£i lÃ  giÃ¡ trá»‹ ngoáº¡i lai. Tuy nhiÃªn viá»‡c tÃªn sáº£n pháº©m xuáº¥t hiá»‡n trong danh sÃ¡ch bÃ¡n hÃ ng thÃ¡ng nÃ y dÃ¹ siÃªu thá»‹ khÃ´ng bÃ¡n cÅ©ng cÃ³ thá»ƒ lÃ  lá»—i gáº·p pháº£i trong quáº£n lÃ½ há»‡ thá»‘ng bÃ¡n hÃ ng khi Ä‘Ã£ ghi nháº­n tÃªn â€œCollagenâ€ cho má»™t Ä‘á»“ uá»‘ng khÃ¡c.Äá»‘i vá»›i vÃ©c-tÆ¡ kiá»ƒu sá»‘, cÃ¡c giÃ¡ trá»‹ cÃ³ kháº£ nÄƒng lÃ  ngoáº¡i lai thÆ°á»ng lÃ  cÃ¡c giÃ¡ trá»‹ náº±m á»Ÿ Ä‘uÃ´i cá»§a phÃ¢n phá»‘i xÃ¡c suáº¥t. Äá»ƒ biáº¿t má»™t vÃ©c-tÆ¡ kiá»ƒu sá»‘ cÃ³ giÃ¡ trá»‹ ngoáº¡i lai hay khÃ´ng, báº¡n Ä‘á»c nÃªn sá»­ dá»¥ng Ä‘á»“ thá»‹ boxplot. CÃ¡c Ä‘iá»ƒm náº±m phÃ­a dÆ°á»›i Ä‘iá»ƒm nhá» nháº¥t (Q0) vÃ  náº±m phÃ­a trÃªn Ä‘iá»ƒm lá»›n nháº¥t (Q4) cá»§a Ä‘á»“ thá»‹ boxplot cÃ³ nhiá»u kháº£ nÄƒng lÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai. Äiá»ƒm nhá» nháº¥t vÃ  Ä‘iá»ƒm lá»›n nháº¥t cá»§a Ä‘á»“ thá»‹ boxplot Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh dá»±a trÃªn má»©c tá»« phÃ¢n vá»‹ thá»© nháº¥t (Q1) vÃ  má»©c tá»© phÃ¢n vá»‹ thá»© 3 (Q3):\n\\[\\begin{align}\n&&\\text{Inter Quartile Range (IQR)} = Q3 - Q1 \\\\\n&&\\text{Äiá»ƒm nhá» nháº¥t (Q0)} = Q1 - 1.5 \\times IQR \\\\\n&&\\text{Äiá»ƒm lá»›n nháº¥t (Q4)} = Q3 + 1.5 \\times IQR\n\\end{align}\\]CÃ¡c giÃ¡ trá»‹ náº±m ngoÃ i khoáº£ng \\((Q1 - 1,5 \\times IQR, Q3 + 1.5 \\times IQR)\\) cÃ³ nhiá»u kháº£ nÄƒng lÃ  giÃ¡ trá»‹ ngoáº¡i lai. GiÃ¡ trá»‹ cÃ ng tháº¥p hÆ¡n Q0 vÃ  cÃ ng cao hÆ¡n Q4 thÃ¬ kháº£ nÄƒng lÃ  giÃ¡ trá»‹ ngoáº¡i lai láº¡i cÃ ng cao.Äá»“ thá»‹ boxplot dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ phÃ¢n phá»‘i cá»§a vÃ©c-tÆ¡ chá»©a khá»‘i lÆ°á»£ng giao dá»‹ch, tÃ­nh báº±ng triá»‡u cá»• phiáº¿u/ngÃ y, cá»§a cá»• phiáº¿u cá»§a táº­p Ä‘oÃ n FLC. Cá»• phiáº¿u Ä‘Æ°á»£c niÃªm yáº¿t trÃªn sÃ n giao dich chá»©ng khoÃ¡n ThÃ nh phá»‘ Há»“ ChÃ­ Minh tá»« ngÃ y 6 thÃ¡ng 10 nÄƒm 2011 Ä‘áº¿n ngÃ y 8 thÃ¡ng 9 nÄƒm 2022. Dá»¯ liá»‡u cÃ³ hÆ¡n quan sÃ¡t.ChÃºng ta cÃ³ thá»ƒ tháº¥y trÃªn Ä‘á»“ thá»‹ boxplot khÃ´ng cÃ³ Ä‘iá»ƒm náº±m dÆ°á»›i Q0. CÃ³ 8 quan sÃ¡t cÃ³ giÃ¡ trá»‹ lá»›n hÆ¡n Q4; cÃ¡c giÃ¡ trá»‹ nÃ y cÃ³ kháº£ nÄƒng lÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai. CÃ³ 3 quan sÃ¡t vá»›i giÃ¡ trá»‹ lá»›n hÆ¡n 100, nghÄ©a lÃ  cÃ³ ba ngÃ y mÃ  cÃ³ hÆ¡n 100 triá»‡u cá»• phiáº¿u FLC Ä‘Æ°á»£c giao dá»‹ch. Náº¿u cÃ³ má»™t chÃºt kinh nghiá»‡m vá» thá»‹ trÆ°á»ng chá»©ng khoÃ¡n Viá»‡t Nam, báº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm chá»©ng Ä‘Æ°á»£c Ä‘Ã¢y lÃ  sá»‘ lÆ°á»£ng cá»• phiáº¿u giao dá»‹ch lá»›n báº¥t thÆ°á»ng.Thá»±c táº¿ thÃ¬ ba phiÃªn giao dá»‹ch cÃ³ khá»‘i lÆ°á»£ng giao dá»‹ch lá»›n hÆ¡n 100 triá»‡u cá»• phiáº¿u lÃ  cÃ¡c phiÃªn giao dá»‹ch ngÃ y 10 thÃ¡ng 1 nÄƒm 2022, ngÃ y 11 thÃ¡ng 1 nÄƒm 2022 vÃ  phiÃªn giao dá»‹ch ngÃ y 1 thÃ¡ng 4 nÄƒm 2022. Thá»±c táº¿ cho tháº¥y Ä‘Ã¢y lÃ  ba phiÃªn giao dá»‹ch mÃ  cá»• phiáº¿u FLC Ä‘Ã£ bá»‹ thao tÃºng giÃ¡ vÃ  dáº«n Ä‘áº¿n viá»‡c cá»‘ phiáº¿u FLC bá»‹ cáº¥m giao dá»‹ch trÃªn sÃ n giao dá»‹ch TP HCM ká»ƒ tá»« thÃ¡ng 09 nÄƒm 2022.Sau má»™t vÃ i thÃ¡ng giÃ¡ cá»• phiáº¿u FCL tÄƒng lÃªn gáº¥p 2 láº§n, Ä‘áº¿n ngÃ y 10 vÃ  ngÃ y 11 thÃ¡ng 01 nÄƒm 2022, cÃ¡c cá»• Ä‘Ã´ng chÃ­nh cá»§a FLC bÃ¡n ra khá»‘i lÆ°á»£ng ráº¥t lá»›n cÃ¡c cá»• phiáº¿u mÃ  khÃ´ng Ä‘Äƒng kÃ½ vá»›i á»¦y ban chá»©ng khoÃ¡n theo quy Ä‘á»‹nh. Sau hai phiÃªn giao dá»‹ch nÃ y giÃ¡ cá»• phiáº¿u FLC giáº£m máº¡nh vá» Ä‘áº¿n má»©c trÆ°á»›c Ä‘Ã³ vÃ i thÃ¡ng.Sau má»™t vÃ i thÃ¡ng giÃ¡ cá»• phiáº¿u FCL tÄƒng lÃªn gáº¥p 2 láº§n, Ä‘áº¿n ngÃ y 10 vÃ  ngÃ y 11 thÃ¡ng 01 nÄƒm 2022, cÃ¡c cá»• Ä‘Ã´ng chÃ­nh cá»§a FLC bÃ¡n ra khá»‘i lÆ°á»£ng ráº¥t lá»›n cÃ¡c cá»• phiáº¿u mÃ  khÃ´ng Ä‘Äƒng kÃ½ vá»›i á»¦y ban chá»©ng khoÃ¡n theo quy Ä‘á»‹nh. Sau hai phiÃªn giao dá»‹ch nÃ y giÃ¡ cá»• phiáº¿u FLC giáº£m máº¡nh vá» Ä‘áº¿n má»©c trÆ°á»›c Ä‘Ã³ vÃ i thÃ¡ng.NgÃ y 31 thÃ¡ng 03 nÄƒm 2022 cÃ¡c thÃ´ng tin giáº£ máº¡o vá» nhu cáº§u mua cá»• phiáº¿u FLC vá»›i khá»‘i lÆ°á»£ng lá»›n Ä‘Æ°á»£c Ä‘Æ°a ra (sau nhiá»u ngÃ y giÃ¡ cá»• phiáº¿u FLC giáº£m háº¿t biÃªn Ä‘á»™) lÃ m cho nhu cáº§u mua FLC trong ngÃ y 01 thÃ¡ng 04 nÄƒm 2022 cao Ä‘á»™t biáº¿n.NgÃ y 31 thÃ¡ng 03 nÄƒm 2022 cÃ¡c thÃ´ng tin giáº£ máº¡o vá» nhu cáº§u mua cá»• phiáº¿u FLC vá»›i khá»‘i lÆ°á»£ng lá»›n Ä‘Æ°á»£c Ä‘Æ°a ra (sau nhiá»u ngÃ y giÃ¡ cá»• phiáº¿u FLC giáº£m háº¿t biÃªn Ä‘á»™) lÃ m cho nhu cáº§u mua FLC trong ngÃ y 01 thÃ¡ng 04 nÄƒm 2022 cao Ä‘á»™t biáº¿n.ÄÃ¢y lÃ  vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh vá» dá»¯ liá»‡u cÃ³ giÃ¡ trá»‹ ngoáº¡i lai cÃ³ nguyÃªn nhÃ¢n chá»§ quan tá»« con ngÆ°á»i. Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng káº¿t há»£p Ä‘á»“ thá»‹ boxplot vÃ  cÃ¡c Ä‘á»“ thá»‹ mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n liÃªn tá»¥c nhÆ° Ä‘á»“ thá»‹ \\(histogram\\) hay Ä‘á»“ thá»‹ \\(density\\). HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ phÃ¢n phá»‘i cá»§a chiá»u cao cá»§a 245 nam giá»›i lÃ  nhÃ¢n viÃªn cá»§a má»™t cÃ´ng ty. ÄÆ¡n vá»‹ Ä‘o chiá»u cao lÃ  \\(cm\\).Äá»“ thá»‹ boxplot vÃ  histogram Ä‘á»u cho tháº¥y trong dá»¯ liá»‡u cÃ³ cÃ¡c giÃ¡ trá»‹ chiá»u cao cá»§a nam giá»›i xáº¥p xá»‰ giÃ¡ trá»‹ 0 vÃ  nhiá»u kháº£ nÄƒng Ä‘Ã¢y lÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai. Äá»“ thá»‹ histogram cÃ²n cho tháº¥y cÃ³ nhiá»u hÆ¡n 1 giÃ¡ trá»‹ cÃ³ giÃ¡ trá»‹ nhÆ° váº­y. Lá»c cÃ¡c giÃ¡ trá»‹ Ä‘Ã³ ra khá»i vÃ©c-tÆ¡ chÃºng ta sáº½ thu Ä‘Æ°á»£c 5 giÃ¡ trá»‹ lÃ  1,52; 1,74; 1,70; 1,62; vÃ  1,80. ÄÃ¢y khÃ´ng thá»ƒ lÃ  chiá»u cao cá»§a nam giá»›i Ä‘o báº±ng Ä‘Æ¡n vá»‹ \\(cm\\). CÃ³ nhiá»u kháº£ nÄƒng lÃ  khi ghi láº¡i chiá»u cao cá»§a cÃ¡c nhÃ¢n viÃªn nÃ y, ngÆ°á»i nháº­p dá»¯ liá»‡u Ä‘Ã£ sá»­ dá»¥ng Ä‘Æ¡n vá»‹ lÃ  \\(mÃ©t\\) thay vÃ¬ \\(cm\\). ChÃºng ta cÃ³ thá»ƒ sá»­a cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai nÃ y báº±ng cÃ¡ch Ä‘á»•i tá»« Ä‘Æ¡n vá»‹ \\(mÃ©t\\) sang \\(cm\\). PhÃ¢n phá»‘i cá»§a chiá»u cao sau khi sá»­a láº¡i dá»¯ liá»‡u Ä‘Æ°á»£c mÃ´ táº£ nhÆ° hÃ¬nh dÆ°á»›i Ä‘Ã¢y:VÃ©c-tÆ¡ kiá»ƒu sá»‘ cÃ³ mÃ´ táº£ giÃ¡ trá»‹ Ä‘o lÆ°á»ng, tiá»n tá»‡ ráº¥t thÆ°á»ng xuyÃªn gáº·p váº¥n Ä‘á» nhÆ° ká»ƒ trÃªn. Ngay khi gáº·p giÃ¡ trá»‹ ngoáº¡i lai trong vÃ©c-tÆ¡ kiá»ƒu sá»‘ nhÆ° trÃªn báº¡n Ä‘á»c hÃ£y nghÄ© Ä‘áº¿n sai Ä‘Æ¡n vá»‹ Ä‘o lÆ°á»ng lÃ  nguyÃªn nhÃ¢n Ä‘áº§u tiÃªn.NgoÃ i viá»‡c sá»­ dá»¥ng cÃ¡c tá»© phÃ¢n vá»‹ Ä‘á»ƒ phÃ¡t hiá»‡n giÃ¡ trá»‹ ngoáº¡i lai, má»™t phÆ°Æ¡ng phÃ¡p Ä‘á»‹nh lÆ°á»£ng khÃ¡c cÅ©ng thÆ°á»ng Ä‘Æ°á»£c Ä‘á» cáº­p Ä‘áº¿n trong nhiá»u tÃ i liá»‡u lÃ  sá»­ dá»¥ng \\(Z-Score\\). \\(Z-Score\\) Ä‘Æ°á»£c tÃ­nh báº±ng khoáº£ng cÃ¡ch tá»« 1 Ä‘iá»ƒm Ä‘áº¿n giÃ¡ trá»‹ trung bÃ¬nh cá»§a dá»¯ liá»‡u sau Ä‘Ã³ chia cho Ä‘á»™ lá»‡ch chuáº©n cá»§a dá»¯ liá»‡u\n\\[\\begin{align}\nZ-Score(x_i) = \\cfrac{|x_i - \\bar{x}|}{\\sigma(x)}\n\\end{align}\\]\\(Z-Score\\) dá»±a trÃªn giáº£ thiáº¿t lÃ  dá»¯ liá»‡u cÃ³ phÃ¢n phá»‘i chuáº©n, Ä‘Ã³ cÃ¡c Ä‘iá»ƒm dá»¯ liá»‡u cÃ³ \\(Z-Score\\) lá»›n, thÆ°á»ng sá»­ dÅ©ng ngÆ°á»¡ng lá»›n hÆ¡n 3, Ä‘Æ°á»£c coi lÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai. Cháº³ng háº¡n nhÆ° khi váº½ \\(Z-Score\\) cá»§a táº¥t cáº£ cÃ¡c Ä‘iá»ƒm dá»¯ liá»‡u trong dá»¯ liá»‡u vá» chiá»u cao cÃ¹a nhÃ¢n viÃªn, chÃºng ta sáº½ cÃ³ Ä‘á»“ thá»‹ nhÆ° sauCÃ¡c Ä‘iá»ƒm mÃ u Ä‘á» lÃ  cÃ¡c Ä‘iá»ƒm bá»‹ ghi nháº­n sai Ä‘Æ¡n vá»‹ Ä‘o lÆ°á»ng tá»« \\(cm\\) sang \\(mÃ©t\\) vÃ  cÃ³ \\(Z-Score\\) lÃªn Ä‘áº¿n hÆ¡n 6. Trong trÆ°á»ng há»£p nÃ y \\(Z-Score\\) cÅ©ng lÃ  phÆ°Æ¡ng phÃ¡p Ä‘á»‹nh lÆ°á»£ng hiá»‡u quáº£ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ ngoáº¡i lai. Tuy nhiÃªn, \\(Z-Score\\) cÃ³ Ä‘iá»ƒm báº¥t lá»£i lÃ  giÃ¡ trá»‹ nÃ y Ä‘Æ°á»£c tÃ­nh toÃ¡n dá»±a trÃªn giÃ¡ trá»‹ trung bÃ¬nh vÃ  Ä‘á»™ lá»‡ch tiÃªu chuáº©n cá»§a dá»¯ liá»‡u trong khi chÃ­nh cÃ¡c giÃ¡ trá»‹ Ä‘Ã³ láº¡i phá»¥ thuá»™c ráº¥t lá»›n vÃ o cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai. Má»™t cÃ¡ch Ä‘á» giáº£m thiá»ƒu tÃ¡c Ä‘á»™ng cá»§a giÃ¡ trá»‹ ngoáº¡i lai lÃªn tÃ­nh \\(Z-Score\\) lÃ  khÃ´ng tÃ­nh Ä‘áº¿n \\(x_i\\) khi tÃ­nh toÃ¡n trung bÃ¬nh \\(\\bar{x}\\) vÃ  \\(\\sigma(x)\\).Äa sá»‘ cÃ¡c phÆ°Æ¡ng phÃ¡p xÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ ngoáº¡i lai á»Ÿ trÃªn Ä‘á»u dá»±a trÃªn giáº£ thiáº¿t lÃ  vÃ©c-tÆ¡ dá»¯ liá»‡u cÃ³ phÃ¢n phá»‘i chuáº©n. Dá»¯ liá»‡u vá» bá»“i thÆ°á»ng báº£o hiá»ƒm lÃ  má»™t Ä‘iá»ƒn hÃ¬nh cá»§a dá»¯ liá»‡u khÃ´ng cÃ³ phÃ¢n phá»‘i chuáº©n. Äá»“ thÃ¬ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ sá»‘ liá»‡u vá» tiá»n bá»“i thÆ°á»ng báº£o hiá»ƒm sá»©c khá»e cá»§a hÆ¡n 1.000 khÃ¡ch hÃ ng cá»§a má»™t cÃ´ng ty báº£o hiá»ƒm nhÃ¢n thá»Nhiá»u Ä‘iá»ƒm dá»¯ liá»‡u bá»‹ xÃ¡c Ä‘á»‹nh lÃ  ngoáº¡i lai trong trÆ°á»ng há»£p nÃ y máº·c dÃ¹ Ä‘Ã¢y lÃ  dá»¯ liá»‡u chÃ­nh xÃ¡c. Trong thá»±c táº¿, náº¿u báº¡n Ä‘á»c gáº·p dá»¯ liá»‡u khÃ´ng cÃ³ phÃ¢n phá»‘i chuáº©n, hÃ£y biáº¿n Ä‘á»•i dá»¯ liá»‡u vá» gáº§n vá»›i phÃ¢n phá»‘i chuáº©n nháº¥t cÃ³ thá»ƒ trÆ°á»›c khi thá»±c hiá»‡n cÃ¡c bÆ°á»›c phÃ¢n tÃ­ch. PhÃ©p biáº¿n Ä‘á»•i thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng nháº¥t lÃ  biáº¿n Ä‘á»•i Box-Cox.Ká»¹ thuáº­t biáº¿n Ä‘á»•i Box-Cox Ä‘Æ°á»£c trÃ¬nh bÃ y trong phá»¥ lá»¥c cá»§a chÆ°Æ¡ng nÃ y.","code":"\nx<-sample(c(\"Coca\",\"Pepsi\",\"Red bull\",\"Mirinda\",\"Collagen\"),10000,prob = c(4000,3000,2000,2000,5),replace = TRUE)\nbarplot(sort(table(x)/length(x)),col = \"lightskyblue\")\ndat1<-read_csv(\"../KHDL_KTKD/Dataset/FLC.csv\")\ndat1%>%filter(year(Date)>=2021)%>%ggplot(aes(y=Volume/10^6))+\n  geom_boxplot(fill = \"lightskyblue\",alpha=0.5)+\n  theme_minimal()+\n  labs(title = \"Khá»‘i lÆ°á»£ng giao dá»‹ch cá»• phiáº¿u FLC\",\n              subtitle = \"ÄÆ¡n vá»‹: Triá»‡u cá»• phiáº¿u/ngÃ y\",\n              caption = \"Nguá»“n dá»¯ liá»‡u: Sá»Ÿ giao dá»‹ch chá»©ng khoÃ¡n TP HCM\")+\n  theme(legend.position=\"none\")+theme(axis.text=element_text(size=12),\n        axis.title=element_text(size=12,face=\"bold\"))+\n  ylab(\"\")+xlab(\"\")+\n  theme(plot.title = element_text(size = 14, face = \"bold\"))"},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"giÃ¡-trá»‹-ngoáº¡i-lai-trong-khÃ´ng-gian-nhiá»u-chiá»u","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.3.2.2 GiÃ¡ trá»‹ ngoáº¡i lai trong khÃ´ng gian nhiá»u chiá»u","text":"XÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ ngoáº¡i lai trong khÃ´ng gian nhiá»u chiá»u phá»©c táº¡p hÆ¡n trong khÃ´ng gian má»™t chiá»u ráº¥t nhiá»u. Trong khÃ´ng gian má»™t chiá»u, chÃºng ta cáº§n xÃ¡c Ä‘á»‹nh nhá»¯ng sá»‘ nÃ o lÃ \ngiÃ¡ trá»‹ ngoáº¡i lai cá»§a má»™t vÃ©c-tÆ¡. Trong khi trong khÃ´ng gian nhiá»u chiá»u, chÃºng ta cáº§n pháº£i xÃ¡c Ä‘á»‹nh cÃ¡c quan sÃ¡t nÃ o lÃ  giÃ¡ trá»‹ ngoáº¡i lai trong má»™t dá»¯ liá»‡u. NgoÃ i viá»‡c xem xÃ©t giÃ¡ trá»‹ trong tá»«ng cá»™t dá»¯ liá»‡u, chÃºng ta cáº§n pháº£i xem xÃ©t cáº£ má»‘i liÃªn há»‡ giá»¯a cÃ¡c vÃ©c-tÆ¡ (cá»™t) Ä‘Ã³.CÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘á»ƒ xÃ¡c Ä‘á»‹nh giÃ¡ giÃ¡ trá»‹ ngoáº¡i lai trong khÃ´ng gian nhiá»u chiá»u váº«n dá»±a trÃªn nguyÃªn táº¯c cÆ¡ báº£n Ã¡p dá»¥ng trong khÃ´ng gian má»™t chiá»u, Ä‘Ã³ lÃ  cÃ¡c quan sÃ¡t cÃ ng xa Ä‘iá»ƒm trung tÃ¢m cá»§a dá»¯ liá»‡u thÃ¬ quan sÃ¡t Ä‘Ã³ cÃ ng cÃ³ kháº£ nÄƒng cao lÃ  giÃ¡ trá»‹ ngoáº¡i lai. KhÃ¡i niá»‡m xa hay gáº§n trong má»™t khÃ´ng gian nhiá»u chiá»u luÃ´n gáº¯n liá»n vá»›i má»™t khÃ¡i niá»‡m vá» khoáº£ng cÃ¡ch. Khoáº£ng cÃ¡ch thÆ°á»ng sá»­ dung nhiá»u nháº¥t trong khÃ´ng gian nhiá»u chiá»u lÃ  khoáº£ng cÃ¡ch Euclid. Tuy nhiÃªn khoáº£ng cÃ¡ch Euclid cÃ³ nhÆ°á»£c Ä‘iá»ƒm lÃ  khÃ´ng tÃ­nh Ä‘áº¿n má»‘i liÃªn há»‡ giá»¯a cÃ¡c cá»™t dá»¯ liá»‡u. Khoáº£ng cÃ¡ch thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng trong xÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ ngoáº¡i lai lÃ  khoáº£ng cÃ¡ch Mahalanobis.Cho \\(x_i = x_{i1}, x_{i2}, \\cdots, x_{ip}\\) lÃ  quan sÃ¡t thá»© \\(\\) vÃ  \\(\\mu = \\mu_{1}, \\mu_{2}, \\cdots, \\mu_{p}\\) lÃ  vÃ©c-tÆ¡ cÃ¡c giÃ¡ trá»‹ trung bÃ¬nh cá»§a cÃ¡c vÃ©c-tÆ¡ cá»™t. Khoáº£ng cÃ¡ch Euclid vÃ  khoáº£ng cÃ¡ch Mahalanobis Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a nhÆ° sau\n\\[\\begin{align}\nD^{Euclid}(x_i,\\mu) = \\sqrt{(x_i - \\mu)^T (x_i - \\mu)} \\\\\nD^{Mahalanobis}(x_i,\\mu) = \\sqrt{(x_i - \\mu)^T \\ \\Sigma^{-1} \\  (x_i - \\mu)} \\\\\n\\end{align}\\]\ntrong Ä‘Ã³ \\(D^{Euclid}(x_i,\\mu)\\) vÃ  \\(D^{Mahalanobis}(x_i,\\mu)\\) láº§n lÆ°á»£t lÃ  khoáº£ng cÃ¡ch Euclid vÃ  khoáº£ng cÃ¡ch Mahalanobis tá»« quan sÃ¡t \\(x_i\\) Ä‘áº¿n Ä‘iá»ƒm trung bÃ¬nh \\(\\mu\\). Trong cÃ´ng thá»©c tÃ­nh khoáº£ng cÃ¡ch Mahalanobis, \\(\\Sigma^{-1}\\) lÃ  ma tráº­n nghá»‹ch Ä‘áº£o cá»§a ma tráº­n hiá»‡p phÆ°Æ¡ng sai cá»§a dá»¯ liá»‡u. Ki CÃ³ thá»ƒ tháº¥y ráº±ng khoáº£ng cÃ¡ch Euclid lÃ  trÆ°á»ng há»£p riÃªng cá»§a khoáº£ng cÃ¡ch Mahalanobis khi cÃ¡c cá»™t dá»¯ liá»‡u cÃ³ phÆ°Æ¡ng sai báº±ng 1 vÃ  Ä‘Ã´i má»™t Ä‘á»™c láº­p vá»›i nhau.Báº¡n Ä‘á»c cÃ³ thá»ƒ tá»± láº­p trÃ¬nh hÃ m sá»‘ tÃ­nh khoáº£ng cÃ¡ch Euclid vÃ  hÃ m sá»‘ tÃ­nh khoáº£ng cÃ¡ch Mahalanobis giá»¯a 2 vÃ©c-tÆ¡ nhÆ° sauChÃºng ta quay trá»Ÿ láº¡i vÃ­ dá»¥ vá» dá»¯ liá»‡u bao gá»“m 10 quan sÃ¡t vá»›i hai giÃ¡ trá»‹ ngoáº¡i lai lÃ  Ä‘iá»ƒm (mÃ u Ä‘á») vÃ  Ä‘iá»ƒm B (mÃ u cam). ChÃºng ta tÃ­nh toÃ¡n khoáº£ng cÃ¡ch Euclid cá»§a má»—i Ä‘iá»ƒm Ä‘áº¿n trung tÃ¢m cá»§a dá»¯ liá»‡u vÃ  sáº¯p xáº¿p cÃ¡c Ä‘iá»ƒm theo thá»© tá»± khoáº£ng cÃ¡ch Euclid giáº£m dáº§n\nTable 5.3: Äiá»ƒm dá»¯ liá»‡u sáº¯p xáº¿p theo khoáº£ng cÃ¡ch Euclid giáº£m dáº§n\nCÃ³ tháº¿ tháº¥y ráº±ng khi chá»‰ cÃ³ 10 quan sÃ¡t, khoáº£ng cÃ¡ch Euclid cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ phÃ¡t hiá»‡n Ä‘Æ°á»£c giÃ¡ trá»‹ ngoáº¡i lai lÃ  Ä‘iá»ƒm vÃ  Ä‘iá»ƒm B vÃ¬ hai Ä‘iá»ƒm nÃ y cÃ³ khoáº£ng cÃ¡ch Ä‘áº¿n trung tÃ¢m xa hÆ¡n vá»›i cÃ¡c Ä‘iá»ƒm cÃ²n láº¡i. Khoáº£ng cÃ¡ch Mahalanobis cÅ©ng cho káº¿t quáº£ tÆ°Æ¡ng tá»±. Tuy nhiÃªn khoáº£ng cÃ¡ch Euclid sáº½ gáº·p váº¥n Ä‘á» khi sá»‘ lÆ°á»£ng quan sÃ¡t nhiá»u hÆ¡n vÃ  má»‘i liÃªn há»‡ giá»¯a \\(x\\) vÃ  \\(y\\) rÃµ rÃ ng hÆ¡n. Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y khoáº£ng cÃ¡ch Euclid khÃ´ng cho káº¿t quáº£ tá»‘t nhÆ° khoáº£ng cÃ¡ch Malahanobis trong trÆ°á»ng há»£p dá»¯ liá»‡u cÃ³ 100 quan sÃ¡t\nTable 1.11: Äiá»ƒm dá»¯ liá»‡u sáº¯p xáº¿p theo khoáº£ng cÃ¡ch Euclid giáº£m dáº§n\nKhi Ä‘o báº±ng khoáº£ng cÃ¡ch Euclid, Ä‘iá»ƒm \\(\\) váº«n lÃ  Ä‘iá»ƒm xa trung tÃ¢m dá»¯ liá»‡u nháº¥t. Tuy nhiÃªn khoáº£ng cÃ¡ch tá»« Ä‘iá»ƒm \\(B\\) Ä‘áº¿n trung tÃ¢m dá»¯ liá»‡u lÃ  nhá» hÆ¡n má»™t sá»‘ Ä‘iá»ƒm mÃ u xanh khÃ¡c. Quan sÃ¡t khoáº£ng cÃ¡ch Mahalanobis chÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng Ä‘iá»ƒm \\(\\) lÃ  Ä‘iá»ƒm cÃ³ khoáº£ng cÃ¡ch xa nháº¥t, sau Ä‘Ã³ Ä‘áº¿n Ä‘iá»ƒm \\(B\\) (Malahanobis distance = 4.675), cÃ¡c Ä‘iá»ƒm mÃ u xanh khÃ¡c Ä‘á»u cÃ³ khoáº£ng cÃ¡ch Mahalanobis nhá» hÆ¡n 2,5.CÃ¡c ká»¹ thuáº­t phÃ¡t hiá»‡n giÃ¡ trá»‹ ngoáº¡i lai phá»©c táº¡p hÆ¡n dá»±a trÃªn nguyÃªn lÃ½ phÃ¢n cá»¥m sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y trong chÆ°Æ¡ng â€œhá»c mÃ¡y khÃ´ng cÃ³ giÃ¡m sÃ¡tâ€. NguyÃªn táº¯c xÃ¡c Ä‘á»‹nh má»™t quan sÃ¡t ngoáº¡i lai lÃ  phÃ¢n chia dá»¯ liá»‡u thÃ nh cÃ¡c cá»¥m sao cho cÃ¡c quan sÃ¡t trong cÃ¹ng má»™t cá»¥m cÃ³ tÃ­nh cháº¥t tÆ°Æ¡ng tá»± nhau. CÃ¡c quan sÃ¡t khÃ´ng náº±m trong cá»¥m nÃ o, hoáº·c trong cÃ¡c cá»¥m cÃ³ ráº¥t Ã­t quan sÃ¡t, cÃ³ nhiá»u kháº£ nÄƒng lÃ  giÃ¡ trá»‹ ngoáº¡i lai.","code":"\nDis.Euc<-function(x,y) sum((x-y)^2)^0.5\nDis.Mah<-function(x,y,Sigma) (t(x-y)%*% solve(Sigma) %*%(x-y))^0.5 "},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"xá»­-lÃ½-giÃ¡-trá»‹-ngoáº¡i-lai.","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.3.3 Xá»­ lÃ½ giÃ¡ trá»‹ ngoáº¡i lai.","text":"CÃ³ nhiá»u phÆ°Æ¡ng phÃ¡p Ä‘á»ƒ xá»­ lÃ½ giÃ¡ trá»‹ ngoáº¡i lai trong dá»¯ liá»‡u. TÃ¹y thuá»™c vÃ o tÃ¬nh huá»‘ng vÃ  dá»¯ liá»‡u cá»¥ thá»ƒ, phÆ°Æ¡ng phÃ¡p nÃ o cÅ©ng cÃ³ thá»ƒ Ä‘Ãºng hoáº·c sai. Äiá»u quan trá»ng lÃ  báº¡n Ä‘á»c pháº£i phÃ¢n tÃ­ch cÃ¡c tÃ¬nh huá»‘ng cÃ³ thá»ƒ liÃªn quan Ä‘áº¿n giÃ¡ trá»‹ ngoáº¡i lai. ÄÃ´i khi viá»‡c phÃ¢n tÃ­ch cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai nÃ y cÃ²n giÃºp báº¡n cÃ³ nhá»¯ng hiá»ƒu biáº¿t hÆ¡n vá» dá»¯ liá»‡u vÃ  tá»‘i Æ°u cÃ´ng viá»‡c phÃ¢n tÃ­ch cá»§a báº¡n.PhÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n nháº¥t vÃ  cÅ©ng thÆ°á»ng cho hiá»‡u quáº£ tháº¥p nháº¥t Ä‘Ã³ lÃ  loáº¡i bá» cÃ¡c quan sÃ¡t, hoáº·c biáº¿n cÃ³ chá»©a giÃ¡ trá»‹ ngoáº¡i lai. PhÆ°Æ¡ng phÃ¡p nÃ y chá»‰ cÃ³ Ã½ nghÄ©a khi báº¡n cÃ³ sá»‘ lÆ°á»£ng quan sÃ¡t Ä‘á»§ lá»›n vÃ  cÃ¡c giÃ¡ trá»‹ bá»‹ coi lÃ  ngoáº¡i lai khÃ´ng cÃ³ cÃ³ Ã½ nghÄ©a trong xÃ¡c Ä‘á»‹nh phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a tá»«ng biáº¿n.\nPhÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n nháº¥t vÃ  cÅ©ng thÆ°á»ng cho hiá»‡u quáº£ tháº¥p nháº¥t Ä‘Ã³ lÃ  loáº¡i bá» cÃ¡c quan sÃ¡t, hoáº·c biáº¿n cÃ³ chá»©a giÃ¡ trá»‹ ngoáº¡i lai. PhÆ°Æ¡ng phÃ¡p nÃ y chá»‰ cÃ³ Ã½ nghÄ©a khi báº¡n cÃ³ sá»‘ lÆ°á»£ng quan sÃ¡t Ä‘á»§ lá»›n vÃ  cÃ¡c giÃ¡ trá»‹ bá»‹ coi lÃ  ngoáº¡i lai khÃ´ng cÃ³ cÃ³ Ã½ nghÄ©a trong xÃ¡c Ä‘á»‹nh phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a tá»«ng biáº¿n.Thay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai báº±ng má»™t giÃ¡ trá»‹ khÃ¡c: báº¡n Ä‘á»c cÃ³ thá»ƒ thay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai báº±ng giÃ¡ trá»‹ cÃ³ Ã½ nghÄ©a hÆ¡n nhÆ° giÃ¡ trá»‹ Q0 hoáº·c Q4 cá»§a phÃ¢n phá»‘i xÃ¡c suáº¥t, hoáº·c cÅ©ng cÃ³ thá»ƒ thay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai báº±ng giÃ¡ trá»‹ trung bÃ¬nh, trung vá»‹, hoáº·c mode cá»§a phÃ¢n phá»‘i. ÄÃ¢y lÃ  phÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n, dá»… sá»­ dá»¥ng vÃ  thÆ°á»ng cho hiá»‡u quáº£ tá»‘t hÆ¡n vá»›i phÆ°Æ¡ng phÃ¡p xÃ³a quan sÃ¡t.\nThay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai báº±ng má»™t giÃ¡ trá»‹ khÃ¡c: báº¡n Ä‘á»c cÃ³ thá»ƒ thay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai báº±ng giÃ¡ trá»‹ cÃ³ Ã½ nghÄ©a hÆ¡n nhÆ° giÃ¡ trá»‹ Q0 hoáº·c Q4 cá»§a phÃ¢n phá»‘i xÃ¡c suáº¥t, hoáº·c cÅ©ng cÃ³ thá»ƒ thay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai báº±ng giÃ¡ trá»‹ trung bÃ¬nh, trung vá»‹, hoáº·c mode cá»§a phÃ¢n phá»‘i. ÄÃ¢y lÃ  phÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n, dá»… sá»­ dá»¥ng vÃ  thÆ°á»ng cho hiá»‡u quáº£ tá»‘t hÆ¡n vá»›i phÆ°Æ¡ng phÃ¡p xÃ³a quan sÃ¡t.PhÆ°Æ¡ng phÃ¡p sau cÃ¹ng vÃ  cÅ©ng lÃ  phÆ°Æ¡ng phÃ¡p Ä‘Ã²i há»i ká»¹ thuáº­t phá»©c táº¡p nháº¥t Ä‘Ã³ lÃ  coi giÃ¡ trá»‹ ngoáº¡i lai nhÆ° má»™t giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c, sau Ä‘Ã³ xÃ¢y dá»±ng mÃ´ hÃ¬nh Ä‘á»ƒ dá»± Ä‘oÃ¡n cho giÃ¡ trá»‹ ngoáº¡i lai.\nPhÆ°Æ¡ng phÃ¡p sau cÃ¹ng vÃ  cÅ©ng lÃ  phÆ°Æ¡ng phÃ¡p Ä‘Ã²i há»i ká»¹ thuáº­t phá»©c táº¡p nháº¥t Ä‘Ã³ lÃ  coi giÃ¡ trá»‹ ngoáº¡i lai nhÆ° má»™t giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c, sau Ä‘Ã³ xÃ¢y dá»±ng mÃ´ hÃ¬nh Ä‘á»ƒ dá»± Ä‘oÃ¡n cho giÃ¡ trá»‹ ngoáº¡i lai.CÃ¡c phÆ°Æ¡ng phÃ¡p thay tháº¿ giÃ¡ trá»‹ ngoáº¡i lai vÃ  hoáº·c dá»± Ä‘oÃ¡n giÃ¡ trá»‹ ngoáº¡i lai dá»±a trÃªn mÃ´ hÃ¬nh tÆ°Æ¡ng tá»± nhÆ° cÃ¡c phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ dá»¯ liá»‡u khÃ´ng quan sÃ¡t Ä‘Æ°á»£c nÃªn sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ pháº§n sau cá»§a chÆ°Æ¡ng sÃ¡ch.","code":""},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"xá»­-lÃ½-giÃ¡-trá»‹-khÃ´ng-quan-sÃ¡t-Ä‘Æ°á»£c.","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.3.4 Xá»­ lÃ½ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.","text":"Khi dá»¯ liá»‡u cÃ³ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c, cÃ¡ch xá»­ lÃ½ Ä‘Æ¡n giáº£n nháº¥t lÃ  xÃ³a cÃ¡c quan sÃ¡t hoáº·c xÃ³a cÃ¡c biáº¿n chá»©a cÃ¡c giÃ¡ trá»‹ Ä‘Ã³. Náº¿u báº¡n Ä‘á»c gáº·p dá»¯ liá»‡u mÃ  trong Ä‘Ã³ cÃ³ má»™t hoáº·c má»™t sá»‘ quan sÃ¡t mÃ  Ä‘a sá»‘ cÃ¡c giÃ¡ trá»‹ trong Ä‘Ã³ lÃ  \\(NA\\), trong khi táº¥t cáº£ cÃ¡c quan sÃ¡t cÃ²n láº¡i Ä‘á»u khÃ´ng cÃ³ chá»©a \\(NA\\), thÃ¬ cÃ¡ch xá»­ lÃ½ xÃ³a Ä‘i quan sÃ¡t cÃ³ giÃ¡ trá»‹ \\(NA\\) lÃ  giáº£i phÃ¡p há»£p lÃ½ nháº¥t. VÃ­ dá»¥ nhÆ° chÃºng ta cÃ³ dá»¯ liá»‡u vá» thÃ´ng tin cá»§a sinh viÃªn cá»§a má»™t lá»›p nhÆ° sauQuan sÃ¡t tÆ°Æ¡ng á»©ng vá»›i mÃ£ sinh viÃªn â€œMSV33789â€ ngoÃ i thÃ´ng tin vá» tÃªn sinh viÃªn, cÃ¡c thÃ´ng tin khÃ¡c Ä‘á»u khÃ´ng quan sÃ¡t Ä‘Æ°á»£c. NgoÃ i sinh viÃªn nÃ y, cÃ¡c sinh viÃªn cÃ²n láº¡i Ä‘á»u cÃ³ Ä‘áº§y Ä‘á»§ thÃ´ng tin. Trong trÆ°á»ng há»£p nÃ y phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ hiá»‡u quáº£ nháº¥t lÃ  xÃ³a sinh viÃªn â€œMSV33789â€ khá»i dá»¯ liá»‡u trÆ°á»›c khi phÃ¢n tÃ­ch.Khi cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c táº­p trung á»Ÿ má»™t sá»‘ quan sÃ¡t (hÃ ng) hoáº·c táº­p trung á»Ÿ má»™t sá»‘ biáº¿n (cá»™t), chÃºng ta nÃ³i ráº±ng cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c má»™t cÃ¡ch khÃ´ng ngáº«u nhiÃªn (Missing value random hay MNAR).Dá»¯ liá»‡u á»Ÿ trÃªn lÃ  vÃ­ dá»¥ khÃ¡c vá» viá»‡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c xuáº¥t hiá»‡n má»™t cÃ¡ch khÃ´ng ngáº«u nhiÃªn. CÃ³ thá»ƒ tháº¥y ráº±ng trong cá»™t \\(GPA\\) Ä‘a sá»‘ cÃ¡c giÃ¡ trá»‹ lÃ  khÃ´ng quan sÃ¡t Ä‘Æ°á»£c. Má»i phÃ¢n tÃ­ch liÃªn quan Ä‘áº¿n giÃ¡ trá»‹ cá»§a biáº¿n nÃ y sáº½ khÃ´ng cÃ³ Ã½ nghÄ©a, Ä‘Ã³ cÃ¡ch tá»‘t nháº¥t lÃ  xÃ³a cá»™t nÃ y ra khá»i dá»¯ liá»‡u. Äá»ƒ xÃ³a cÃ¡c quan sÃ¡t cÃ³ chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c ra khá»i dá»¯ liá»‡u, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m drop_na() cá»§a thÆ° viá»‡n tidyr. Äá»ƒ xÃ³a má»™t cá»™t khá»i dá»¯ liá»‡u, báº¡n Ä‘á»c cÃ³ thá»ƒ coi dá»¯ liá»‡u (má»™t \\(data.frame\\) hoáº·c \\(tibble\\)) nhÆ° lÃ  má»™t \\(list\\) vÃ  gÃ¡n giÃ¡ trá»‹ cá»§a biáº¿n Ä‘Ã³ báº±ng \\(NULL\\)Náº¿u giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c táº­p trung vÃ o má»™t sá»‘ quan sÃ¡t thÃ¬ xÃ³a quan sÃ¡t sáº½ khÃ´ng lÃ m áº£nh hÆ°á»Ÿng Ä‘áº¿n káº¿t quáº£ phÃ¢n tÃ­ch. Dá»¯ liá»‡u chÃºng ta thÆ°á»ng gáº·p sáº½ cÃ³ cÃ¡c giÃ¡ trá»‹ khÃ´ng quÃ¡n sÃ¡t Ä‘Æ°á»£c náº±m ráº£i rÃ¡c á»Ÿ cÃ¡c cá»™t khÃ´ng theo má»™t quy táº¯c nÃ o. ChÃºng tÃ´i muá»‘n nÃ³i Ä‘áº¿n trÆ°á»ng há»£p dá»¯ liá»‡u khÃ´ng quan sÃ¡t Ä‘Æ°á»£c xuáº¥t hiá»‡n má»™t cÃ¡ch hoÃ n toÃ n ngáº«u nhiÃªn (Missing completely random hay MCAR). Khi gáº·p trÆ°á»ng há»£p nÃ y náº¿u xÃ³a Ä‘i cÃ¡c quan sÃ¡t cÃ³ \\(NA\\), tá»· lá»‡ quan sÃ¡t bá»‹ xÃ³a Ä‘i sáº½ lÃ  Ä‘Ã¡ng ká»ƒ.Äá»ƒ minh há»a rÃµ hÆ¡n cho váº¥n Ä‘á» nÃ y, vÃ  Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ hiá»‡u quáº£ cá»§a cÃ¡c phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ giÃ¡ trá»‹ \\(NA\\) trong cÃ¡c pháº§n sau, chÃºng tÃ´i sáº½ sá»­ dá»¥ng dá»¯ liá»‡u \\(mpg\\) cá»§a thÆ° viá»‡n \\(ggplot2\\). ÄÃ¢y lÃ  dá»¯ liá»‡u cÃ³ 234 quan sÃ¡t vÃ  11 biáº¿n. Dá»¯ liá»‡u mÃ´ táº£ má»©c Ä‘á»™ tiÃªu hao nhiÃªn liá»‡u cá»§a cÃ¡c loáº¡i xe oto thÆ°Æ¡ng máº¡i Ä‘ang bÃ¡n trÃªn thá»‹ trÆ°á»ng trong hai nÄƒm 1999 vÃ  2008. Dá»¯ liá»‡u khÃ´ng cÃ³ giÃ¡ trá»‹ \\(NA\\) nhÆ°ng chÃºng ta sáº½ thÃªm cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c vÃ o dá»¯ liá»‡u má»™t cÃ¡c ngáº«u nhiÃªn. Sau Ä‘Ã³ dá»¯ liá»‡u chÃ­nh xÃ¡c sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c. Báº¡n Ä‘á»c cáº§n Ä‘á»c mÃ´ táº£ vá» dá»¯ liá»‡u \\(mpg\\), Ã½ nghÄ©a cá»§a cÃ¡c biáº¿n sau Ä‘Ã³ sá»­ dá»¥ng Ä‘oáº¡n cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ thÃªm giÃ¡ trá»‹ \\(NA\\) vÃ o trong dá»¯ liá»‡u má»™t cÃ¡ch ngáº«u nhiÃªn. ChÃºng ta sáº½ gá»i tÃªn dá»¯ liá»‡u má»›i lÃ  \\(na.mpg\\) Ä‘á»ƒ phÃ¢n biá»‡t vá»›i dá»¯ liá»‡u ban Ä‘áº§u.ChÃºng ta tháº¥y ráº±ng cÃ³ 8/11 cá»™t cÃ³ giÃ¡ trá»‹ \\(NA\\), cá»™t cÃ³ 5 giÃ¡ trá»‹ \\(NA\\) xuáº¥t hiá»‡n má»™t cÃ¡ch ngáº«u nhiÃªn trÃªn tá»•ng sá»‘ 234 giÃ¡ trá»‹ (tá»· lá»‡ khoáº£ng 2%). Tuy nhiÃªn sá»‘ quan sÃ¡t cÃ³ chá»©a \\(NA\\) láº¡i lá»›n hÆ¡n 2% ráº¥t nhiá»u. HÃ m drop_na() trong thÆ° viá»‡n \\(tidyr\\) sáº½ xÃ³a cÃ¡c quan sÃ¡t cÃ³ giÃ¡ trá»‹ \\(NA\\) ra khá»i dá»¯ liá»‡u. ChÃºng ta cÃ³ thá»ƒ tÃ­nh Ä‘Æ°á»£c sau khi xÃ³a tá»· lá»‡ dá»¯ liá»‡u cÃ²n giá»¯ láº¡i lÃ  bao nhiÃªu:CÃ³ thá»ƒ tháº¥y náº¿u 2% dá»¯ liá»‡u khÃ´ng quan sÃ¡t Ä‘Æ°á»£c á»Ÿ má»—i cá»™t náº¿u chÃºng ta xÃ³a cÃ¡c quan sÃ¡t cÃ³ giÃ¡ trá»‹ \\(NA\\), tá»· lá»‡ dá»¯ liá»‡u cÃ²n láº¡i lÃ  khoáº£ng 85%. ChÃºng ta cÃ³ thá»ƒ thá»­ tÄƒng tá»· lá»‡ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c trÃªn má»—i cá»™t lÃªn thÃ nh 3%, 5%, 10%, 20%, 30% vÃ  quan sÃ¡t tá»· lá»‡ dá»¯ liá»‡u cÃ²n láº¡i sau khi xÃ³a:\nTable 5.4: Tá»· lá»‡ dá»¯ liá»‡u bá»‹ xÃ³a náº¿u loáº¡i bá» quÃ¡n sÃ¡t cÃ³ NA\nChÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng xÃ³a quan sÃ¡t cÃ³ giÃ¡ trá»‹ \\(NA\\) khÃ´ng pháº£i lÃ  má»™t giáº£i phÃ¡p hiá»‡u quáº£ khi giÃ¡ trá»‹ \\(NA\\) xuáº¥t hiá»‡n trong háº§u háº¿t cÃ¡c cá»™t. Tá»« káº¿t quáº£ trÃªn cÃ³ thá»ƒ tháº¥y ráº±ng khi tá»· lá»‡ \\(NA\\) lÃ  5% trá»Ÿ lÃªn á»Ÿ má»—i cá»™t trong sá»‘ 8/11 cá»™t cá»§a dá»¯ liá»‡u, chÃºng ta pháº£i xÃ³a Ä‘i khoáº£ng 35% sá»‘ quan sÃ¡t Ä‘á»ƒ dá»¯ liá»‡u khÃ´ng cÃ²n \\(NA\\). Tá»· lá»‡ dá»¯ liá»‡u xÃ³a Ä‘i lá»›n nhÆ° váº­y sáº½ áº£nh hÆ°á»Ÿng lá»›n Ä‘áº¿n káº¿t quáº£ cá»§a phÃ¢n tÃ­ch.CÃ¡c phÆ°Æ¡ng phÃ¡p xá»­ lÃ½ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c trong trÆ°á»ng há»£p nÃ y lÃ  thay tháº¿ giÃ¡ trá»‹ \\(NA\\) báº±ng cÃ¡c giÃ¡ trá»‹ thÃ­ch há»£p. PhÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n nháº¥t Ä‘Ã³ lÃ  giáº£ thiáº¿t cÃ¡c cá»™t chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c Ä‘á»™c láº­p vá»›i nhau vÃ  sá»­ dá»¥ng cÃ¡c giÃ¡ trá»‹ Ä‘áº·c trÆ°ng cá»§a cá»™t dá»¯ liá»‡u tÆ°Æ¡ng á»©ng Ä‘á»ƒ thay tháº¿ cho giÃ¡ trá»‹ \\(NA\\). CÃ¡c phÆ°Æ¡ng phÃ¡p phá»©c táº¡p hÆ¡n cÃ¢n nháº¯c má»‘i liÃªn há»‡ giá»¯a cÃ¡c cá»™t dá»¯ liá»‡u vÃ  xÃ¢y dá»±ng cÃ¡c thuáº­t toÃ¡n Ä‘á»ƒ tÃ¬m giÃ¡ trá»‹ tá»‘i Æ°u thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c náº±m trong táº¥t cáº£ cÃ¡c cá»™t. Má»—i phÆ°Æ¡ng phÃ¡p Ä‘á»u cÃ³ Æ°u nhÆ°á»£c Ä‘iá»ƒm vÃ  chÃºng tÃ´i thÆ°á»ng thá»­ cáº£ hai hÆ°á»›ng tiáº¿p cáº­n sau Ä‘Ã³ Ä‘Ã¡nh giÃ¡ hiá»‡u quáº£ dá»±a trÃªn káº¿t quáº£ phÃ¢n tÃ­ch.","code":"\n# Du lieu lÃ  má»™t tibble hoáº·c má»™t data.frame cÃ³ tÃªn lÃ  dat\ndat<-drop_na(dat) # XÃ³a cÃ¡c quan sÃ¡t (hÃ ng) cÃ³ giÃ¡ trá»‹ NA ra khá»i dá»¯ liá»‡u\ndat$ten_cot<-NULL # xÃ³a cá»™t cÃ³ tÃªn lÃ  ten_cot ra khoi du lieu\n# Táº¡o dá»¯ liá»‡u má»›i giá»‘ng nhÆ° dá»¯ liá»‡u ban mpg\nna.mpg<-mpg\n\n# Äá»‹nh dáº¡ng láº¡i format cÃ¡c cá»™t kiá»ƒu biáº¿n rá»i ráº¡c thÃ nh kiá»ƒu factor\nchiso<- !(names(na.mpg) %in% c(\"displ\", \"cty\", \"hwy\"))\nna.mpg[,chiso]<-lapply(na.mpg[,chiso], as.factor)%>%as.data.frame()\n\n# Viáº¿t hÃ m sá»‘ Ä‘á»ƒ thÃªm giÃ¡ trá»‹ NA vÃ o má»™t vÃ©c-tÆ¡\n## hÃ m sá»‘ cÃ³ Ã½ nghÄ©a lÃ  thÃªm vÃ o vÃ©c-tÆ¡ x cÃ¡c giÃ¡ trá»‹ NA má»™t cÃ¡ch ngáº«u nhiÃªn\n## tá»· lá»‡ giÃ¡ trá»‹ NA Ä‘Æ°á»£c thÃªm vÃ o báº±ng tÃ¹y biáº¿n na.rate\nrd.add<-function(x, na.rate){\n  n<-length(x)\n  k<-round(n*na.rate)\n  ind<-sample(1:n,k,replace=FALSE)\n  x[ind]<-NA\n  return(x)\n}\n\n# ThÃªm giÃ¡ trá»‹ NA vÃ o cÃ¡c cá»™t NGOáº I TRá»ª ba cá»™t\n## Cá»™t nhÃ  sáº£n xuáº¥t: manufacturer\n## Cá»™t loáº¡i xe: model\n## Cá»™t nÄƒm sáº£n xuáº¥t\n## tá»· lá»‡ thÃªm NA má»™t cÃ¡ch ngáº«u nhiÃªn vÃ o cÃ¡c cá»™t lÃ  2%\nchiso<- !(names(na.mpg) %in% c(\"manufacturer\", \"model\", \"year\"))\nset.seed(12)\nna.mpg[,chiso]<-as.data.frame(lapply(na.mpg[,chiso], rd.add, na.rate = 0.02))\n\n# Xem má»—i cá»™t cÃ³ bao nhiÃªu giÃ¡ trá»‹ NA\nsapply(na.mpg, f<-function(x) sum(is.na(x)))## manufacturer        model        displ         year          cyl        trans \n##            0            0            5            0            5            5 \n##          drv          cty          hwy           fl        class \n##            5            5            5            5            5\nnrow(drop_na(na.mpg))/nrow(na.mpg)## [1] 0.8461538"},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"thay-tháº¿-giÃ¡-trá»‹-khÃ´ng-quan-sÃ¡t-Ä‘Æ°á»£c-báº±ng-trung-bÃ¬nh-trung-vá»‹-hoáº·c-mode.","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.3.4.1 Thay tháº¿ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c báº±ng trung bÃ¬nh, trung vá»‹ hoáº·c mode.","text":"Vá»›i giáº£ thiáº¿t ráº±ng cá»™t chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c khÃ´ng cÃ³ má»‘i liÃªn há»‡ Ä‘áº¿n cÃ¡c cá»™t cÃ²n láº¡i, chÃºng ta sáº½ sá»­ dá»¥ng má»™t trong cÃ¡c giÃ¡ trá»‹ nhÆ° trung bÃ¬nh (mean), trung vá»‹ (median), hoáº·c mode cá»§a cÃ¡c giÃ¡ trá»‹ quan sÃ¡t Ä‘Æ°á»£c Ä‘á»ƒ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.GiÃ¡ trá»‹ trung bÃ¬nh thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cho vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c vÃ  phÃ¢n phá»‘i cá»§a cÃ¡c giÃ¡ trá»‹ khÃ´ng cÃ³ Ä‘uÃ´i dÃ i.GiÃ¡ trá»‹ trung bÃ¬nh thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cho vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c vÃ  phÃ¢n phá»‘i cá»§a cÃ¡c giÃ¡ trá»‹ khÃ´ng cÃ³ Ä‘uÃ´i dÃ i.GiÃ¡ trá»‹ trung vá»‹, lÃ  giÃ¡ trá»‹ táº¡i ngÆ°á»¡ng xÃ¡c suáº¥t 50%, thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cho vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c vÃ  vÃ©c-tÆ¡ cÃ³ Ä‘uÃ´i dÃ i. GiÃ¡ trá»‹ trung vá»‹ cÃ³ Æ°u Ä‘iá»ƒm lÃ  Ã­t bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai vÃ  khÃ´ng bá»‹ thay Ä‘á»•i sau cÃ¡c bÆ°á»›c biáº¿n Ä‘á»•i dá»¯ liá»‡u báº±ng cÃ¡c hÃ m Ä‘Æ¡n Ä‘iá»‡u.GiÃ¡ trá»‹ trung vá»‹, lÃ  giÃ¡ trá»‹ táº¡i ngÆ°á»¡ng xÃ¡c suáº¥t 50%, thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c cho vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c vÃ  vÃ©c-tÆ¡ cÃ³ Ä‘uÃ´i dÃ i. GiÃ¡ trá»‹ trung vá»‹ cÃ³ Æ°u Ä‘iá»ƒm lÃ  Ã­t bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai vÃ  khÃ´ng bá»‹ thay Ä‘á»•i sau cÃ¡c bÆ°á»›c biáº¿n Ä‘á»•i dá»¯ liá»‡u báº±ng cÃ¡c hÃ m Ä‘Æ¡n Ä‘iá»‡u.GiÃ¡ trá»‹ mode, lÃ  giÃ¡ trá»‹ mÃ  hÃ m máº­t Ä‘á»™ cÃ³ xÃ¡c suáº¥t cao nháº¥t, cÃ³ thá»ƒ dÃ¹ng cho cáº£ vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c hoáº·c vÃ©c-tÆ¡ kiá»ƒu biáº¿n rá»i ráº¡c. Trong trÆ°á»ng há»£p vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c, báº¡n Ä‘á»c cáº§n pháº£i Æ°á»›c lÆ°á»£ng hÃ m máº­t Ä‘á»™ nÃªn giÃ¡ trá»‹ mode sáº½ cÃ²n phá»¥ thuá»™c vÃ o phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n cá»§a ngÆ°á»i phÃ¢n tÃ­ch.GiÃ¡ trá»‹ mode, lÃ  giÃ¡ trá»‹ mÃ  hÃ m máº­t Ä‘á»™ cÃ³ xÃ¡c suáº¥t cao nháº¥t, cÃ³ thá»ƒ dÃ¹ng cho cáº£ vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c hoáº·c vÃ©c-tÆ¡ kiá»ƒu biáº¿n rá»i ráº¡c. Trong trÆ°á»ng há»£p vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c, báº¡n Ä‘á»c cáº§n pháº£i Æ°á»›c lÆ°á»£ng hÃ m máº­t Ä‘á»™ nÃªn giÃ¡ trá»‹ mode sáº½ cÃ²n phá»¥ thuá»™c vÃ o phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n cá»§a ngÆ°á»i phÃ¢n tÃ­ch.Äá»ƒ thay tháº¿ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c báº±ng má»™t giÃ¡ trá»‹ khÃ¡c, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m na_if() cá»§a thÆ° viá»‡n dplyr, hÃ m replace_na cá»§a thÆ° viá»‡n tidyr, hoáº·c cÅ©ng cÃ³ thá»ƒ tá»± xÃ¢y dá»±ng hÃ m sá»‘ cá»§a mÃ¬nh. Äá»ƒ Ä‘Æ¡n giáº£n hÃ³a, chÃºng ta giáº£ sá»­ ráº±ng sáº½ luÃ´n luÃ´n thay tháº¿ giÃ¡ trá»‹ trung vá»‹ khi gáº·p vÃ©c-tÆ¡ kiá»ƒu sá»‘ liÃªn tá»¥c vÃ  giÃ¡ trá»‹ mode khi gáº·p vÃ©c-tÆ¡ kiá»ƒu biáº¿n rá»i ráº¡c.\nTable 5.5: Biáº¿n liÃªn tá»¥c, thay tháº¿ NA báº±ng trung vá»‹\nGiÃ¡ trá»‹ tháº­t cá»§a cÃ¡c biáº¿n kiá»ƒu factor vÃ  giÃ¡ trá»‹ dÃ¹ng Ä‘á»ƒ thay tháº¿ Ä‘Æ°á»£c tá»•ng káº¿t trong báº£ng phÃ­a dÆ°á»›i\nTable 5.6: Biáº¿n rá»i ráº¡c, thay tháº¿ NA báº±ng mode\nChÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng viá»‡c thay tháº¿ giÃ¡ trá»‹ \\(NA\\) trong cÃ¡c vÃ©c_tÆ¡ kiá»ƒu biáº¿n liÃªn tá»¥c báº±ng giÃ¡ trá»‹ median lÃ  khÃ¡ hiá»‡u quáº£. Vá» tá»•ng thá»ƒ, giÃ¡ trá»‹ median khÃ´ng cÃ¡ch quÃ¡ xa vá»›i giÃ¡ trá»‹ tháº­t.Thay tháº¿ cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c trong cÃ¡c vÃ©c-tÆ¡ kiá»ƒu biáº¿n rá»i ráº¡c báº±ng giÃ¡ trá»‹ mode khÃ´ng cho káº¿t quáº£ tá»‘t trong trÆ°á»ng há»£p nÃ y. NguyÃªn nhÃ¢n lÃ  giÃ¡ trá»‹ mode trong cÃ¡c biáº¿n rá»i ráº¡c khÃ´ng chiáº¿m Æ°u tháº¿ vá»›i cÃ¡c giÃ¡ trá»‹ khÃ¡c. Cháº³ng háº¡n nhÆ° biáº¿n \\(drv\\) bá»‹ dá»± Ä‘oÃ¡n sai 4/5 káº¿t quáº£ biáº¿n nÃ y cÃ³ 2 giÃ¡ trá»‹ mode.","code":"\nmy_mode<-function(x){ # tá»± Ä‘á»‹nh nghÄ©a hÃ m mode cho vÃ©c-tÆ¡ x\n  names(which.max(table(x)))\n}\nmy_fillna_1<-function(x){ # tá»± Ä‘á»‹nh nghÄ©a cÃ¡ch thay tháº¿ giÃ¡ trá»‹ NA phÆ°Æ¡ng phÃ¡p thá»© nháº¥t\n  if(is.numeric(x)){\n    x[is.na(x)]<-median(x,na.rm=TRUE)\n  } else {\n    x[is.na(x)]<-my_mode(x)\n  }\n  return(x)\n}\nmpg_1<-lapply(na.mpg, my_fillna_1)%>%as.data.frame()"},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"thay-tháº¿-giÃ¡-trá»‹-khÃ´ng-quan-sÃ¡t-Ä‘Æ°á»£c-báº±ng-má»™t-máº«u-ngáº«u-nhiÃªn.","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.3.4.2 Thay tháº¿ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c báº±ng má»™t máº«u ngáº«u nhiÃªn.","text":"Váº«n vá»›i giáº£ thiáº¿t ráº±ng cá»™t chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c khÃ´ng cÃ³ má»‘i liÃªn há»‡ Ä‘áº¿n cÃ¡c cá»™t cÃ²n láº¡i, chÃºng ta sáº½ sá»­ dá»¥ng phÃ©p láº¥y máº«u ngáº«u nhiÃªn tá»« cÃ¡c giÃ¡ trá»‹ quan sÃ¡t Ä‘Æ°á»£c Ä‘á»ƒ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ \\(NA\\). HÃ m sample() lÃ  hÃ m sá»‘ cÃ³ sáºµn trong R Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ sinh ngáº«u nhiÃªn. Äá»ƒ láº¥y ra \\(k\\) sá»‘ ngáº«u nhiÃªn tá»« má»™t vÃ©c-tÆ¡ \\(x\\) ban Ä‘áº§u, chÃºng ta viáº¿t cÃ¢u lá»‡nh nhÆ° sauTÃ¹y biáº¿n \\(replace\\) nháº­n giÃ¡ trá»‹ báº±ng \\(TRUE\\) cÃ³ Ã½ nghÄ©a lÃ  giÃ¡ trá»‹ ngáº«u nhiÃªn Ä‘Æ°á»£c láº¥y ra tá»« vÃ©c-tÆ¡ \\(x\\) cÃ³ thá»ƒ Ä‘Æ°á»£c láº¥y láº·p láº¡i. ChÃºng ta tá»± Ä‘á»‹nh nghÄ©a hÃ m fill_na_2() Ä‘á»ƒ thay tháº¿ giÃ¡ trá»‹ ngáº«u nhiÃªn trong má»™t vÃ©c-tÆ¡ \\(x\\) báº±ng cÃ¡c giÃ¡ trá»‹ ngáº«u nhiÃªn Ä‘Æ°á»£c láº¥y tá»« \\(x\\) nhÆ° sau\nTable 5.7: Biáº¿n liÃªn tá»¥c, thay tháº¿ NA báº±ng láº¥y máº«u ngáº«u nhiÃªn\nCÃ³ thá»ƒ tháº¥y ráº±ng biáº¿n \\(year\\) lÃ  biáº¿n gáº§n nhÆ° khÃ´ng cÃ³ má»‘i liÃªn há»‡ Ä‘áº¿n cÃ¡c biáº¿n khÃ¡c. Khi chÃºng ta xÃ¢y dá»±ng mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u, viá»‡c xÃ³a bá» cÃ¡c biáº¿n khÃ´ng cáº§n thiáº¿t ra khá»i mÃ´ hÃ¬nh lÃ  ráº¥t quan trá»ng vÃ¬ cÃ¡c biáº¿n nÃ y cÃ³ thá»ƒ gÃ¢y ra nhiá»…u cho mÃ´ hÃ¬nh vÃ  giáº£m kháº£ nÄƒng dá»± Ä‘oÃ¡n.CÃ²n quÃ¡ sá»›m Ä‘á»ƒ nÃ³i Ä‘áº¿n xÃ¢y dá»±ng mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u \\(mpg\\) nhÆ° tháº¿ nÃ o. Báº¡n Ä‘á»c nÃªn hiá»ƒuGiÃ¡ trá»‹ tháº­t cá»§a cÃ¡c biáº¿n kiá»ƒu factor vÃ  giÃ¡ trá»‹ dÃ¹ng Ä‘á»ƒ thay tháº¿ Ä‘Æ°á»£c tá»•ng káº¿t trong báº£ng phÃ­a dÆ°á»›i\nTable 5.8: Biáº¿n rá»i ráº¡c, thay tháº¿ NA báº±ng láº¥y máº«u ngáº«u nhiÃªn\nHiá»‡u quáº£ cá»§a phÆ°Æ¡ng phÃ¡p láº¥y máº«u ngáº«u nhiÃªn vá»›i phÆ°Æ¡ng phÃ¡p sá»­ dá»¥ng cÃ¡c giÃ¡ trá»‹ trung vá»‹ hoáº·c mode lÃ  khÃ´ng rÃµ rÃ ng. Tuy nhiÃªn phÆ°Æ¡ng phÃ¡p nÃ y cÃ³ nhÆ°á»£c Ä‘iá»ƒm lá»›n nháº¥t Ä‘Ã³ lÃ  giÃ¡ trá»‹ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thay tháº¿ lÃ  ngáº«u nhiÃªn nÃªn cÃ³ kháº£ nÄƒng sáº½ lÃ m cho dá»¯ liá»‡u bá»‹ sai lá»‡ch.","code":"\nsample(x,size = k, replace = TRUE) \nmy_fillna_2<-function(x){ # tá»± Ä‘á»‹nh nghÄ©a cÃ¡ch thay tháº¿ giÃ¡ trá»‹ NA, phÆ°Æ¡ng phÃ¡p thá»© 2\n  ind<-is.na(x) # vÃ©c-tÆ¡ kiá»ƒu logic, nháº­n giÃ¡ trá»‹ TRUE táº¡i cÃ¡c vá»‹ trÃ­ NA\n  k<-sum(ind)\n  x[ind]<-sample(x[!ind],k,replace = TRUE)\n  return(x)\n}\nset.seed(12)\nmpg_1<-lapply(na.mpg, my_fillna_2)%>%as.data.frame()"},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"thay-tháº¿-giÃ¡-trá»‹-khÃ´ng-quan-sÃ¡t-Ä‘Æ°á»£c-báº±ng-cÃ¡ch-xÃ¢y-dá»±ng-mÃ´-hÃ¬nh.","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.3.4.3 Thay tháº¿ giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c báº±ng cÃ¡ch xÃ¢y dá»±ng mÃ´ hÃ¬nh.","text":"Giáº£ thiáº¿t cá»™t chá»©a giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c khÃ´ng cÃ³ má»‘i liÃªn há»‡ Ä‘áº¿n cÃ¡c cá»™t cÃ²n láº¡i lÃ  má»™t giáº£ thiáº¿t khÃ´ng thá»±c táº¿. CÃ¡c cá»™t dá»¯ liá»‡u luÃ´n luÃ´n Ã­t nhiá»u cÃ³ má»‘i liÃªn há»‡ vá»›i nhau, hay nÃ³i theo khÃ¡i niá»‡m cá»§a xÃ¡c suáº¥t - thá»‘ng kÃª thÃ¬ giÃ¡ trá»‹ trong cÃ¡c cá»™t dá»¯ liá»‡u thÆ°á»ng khÃ´ng Ä‘á»™c láº­p vá»›i nhau (independent hoáº·c dependent). LÃ m tháº¿ nÃ o Ä‘á»ƒ biáº¿t hai cá»™t dá»¯ liá»‡u báº¥t ká»³ lÃ  Ä‘á»™c láº­p hay phá»¥ thuá»™c lÃ  má»™t cÃ¢u há»i khÃ´ng dá»… cÃ³ cÃ¢u tráº£ lá»i. Ä‘Ã¢y lÃ  má»™t váº¥n Ä‘á» khÃ³ vÃ  vÆ°á»£t quÃ¡ pháº¡m vi cá»§a cuá»‘n sÃ¡ch nÃªn chÃºng tÃ´i chá»‰ trÃ¬nh bÃ y cÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘Æ°á»£c cÃ´ng nháº­n rá»™ng rÃ£i. Äá»ƒ kiá»ƒm tra hai cá»™t dá»¯ liá»‡u cÃ³ Ä‘á»™c láº­p hay khÃ´ng, báº¡n Ä‘á»c hÃ£y sá»­ dá»¥ng cÃ¡c kiá»ƒm Ä‘á»‹nh nhÆ° sau:Kiá»ƒm Ä‘á»‹nh Khi-bÃ¬nh phÆ°Æ¡ng khi cáº£ hai biáº¿n Ä‘á»u lÃ  biáº¿n rá»i ráº¡c.Kiá»ƒm Ä‘á»‹nh Khi-bÃ¬nh phÆ°Æ¡ng khi cáº£ hai biáº¿n Ä‘á»u lÃ  biáº¿n rá»i ráº¡c.Kiá»ƒm Ä‘á»‹nh há»‡ sá»‘ tÆ°Æ¡ng quan Person, há»‡ sá»‘ tÆ°Æ¡ng quan Spearman, vÃ  há»‡ sá»‘ tÆ°Æ¡ng quan Kendall khi cáº£ hai biáº¿n Ä‘á»u lÃ  biáº¿n liÃªn tá»¥c.Kiá»ƒm Ä‘á»‹nh há»‡ sá»‘ tÆ°Æ¡ng quan Person, há»‡ sá»‘ tÆ°Æ¡ng quan Spearman, vÃ  há»‡ sá»‘ tÆ°Æ¡ng quan Kendall khi cáº£ hai biáº¿n Ä‘á»u lÃ  biáº¿n liÃªn tá»¥c.Sá»­ dá»¥ng phÃ¢n tÃ­ch phÆ°Æ¡ng sai (hay cÃ²n gá»i lÃ  anova test) trong trÆ°á»ng há»£p má»™t biáº¿n lÃ  rá»i ráº¡c vÃ  má»™t biáº¿n lÃ  liÃªn tá»¥c.Sá»­ dá»¥ng phÃ¢n tÃ­ch phÆ°Æ¡ng sai (hay cÃ²n gá»i lÃ  anova test) trong trÆ°á»ng há»£p má»™t biáº¿n lÃ  rá»i ráº¡c vÃ  má»™t biáº¿n lÃ  liÃªn tá»¥c.Chi tiáº¿t cá»§a cÃ¡c kiá»ƒm Ä‘á»‹nh nÃ y Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ pháº§n phá»¥ lá»¥c cá»§a chÆ°Æ¡ng.Äá»ƒ thá»±c hiá»‡n kiá»ƒm Ä‘á»‹nh Khi-bÃ¬nh phÆ°Æ¡ng trong R, chÃºng ta sá»­ dá»¥ng hÃ m chisq.test(). Äá»ƒ kiá»ƒm ra hai biáº¿n \\(year\\) vÃ  \\(drv\\) cÃ³ má»‘i liÃªn há»‡ hay khÃ´ng, chÃºng ta thá»±c hiá»‡n nhÆ° sauGiÃ¡ trá»‹ \\(p-value\\) báº±ng 42% nghÄ©a lÃ  xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t hai biáº¿n \\(year\\) vÃ  \\(drv\\) Ä‘á»™c láº­p lÃ  \\(100\\% - 42\\% = 58\\%\\). ThÃ´ng thÆ°á»ng, má»©c xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t Ä‘á»™c láº­p thÆ°á»ng Ä‘Æ°á»£c chá»n á»Ÿ má»©c \\(95\\%\\) hoáº·c tháº­m chÃ­ \\(99\\%\\). xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t Ä‘á»™c láº­p lÃ  tháº¥p nÃªn trong trÆ°á»ng há»£p nÃ y cÃ³ thá»ƒ Ä‘Æ°a ra káº¿t luáº­n ráº±ng hai biáº¿n \\(year\\) vÃ  \\(drv\\) lÃ  khÃ´ng liÃªn quan Ä‘áº¿n nhau. TÆ°Æ¡ng tá»±, Ä‘á»ƒ kiá»ƒm ra hai biáº¿n \\(drv\\) vÃ  \\(cyl\\) cÃ³ má»‘i liÃªn há»‡ hay khÃ´ng, chÃºng ta thá»±c hiá»‡n nhÆ° sauDo xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t Ä‘á»™c láº­p (\\(1-10^{-16}\\)) lÃ  xáº¥p xá»‰ \\(100\\%\\) nÃªn trong trÆ°á»ng há»£p nÃ y cÃ³ thá»ƒ Ä‘Æ°a ra káº¿t luáº­n ráº±ng hai biáº¿n \\(drv\\) vÃ  \\(cyl\\) lÃ  khÃ´ng Ä‘á»™c láº­p.Äá»ƒ kiá»ƒm Ä‘á»‹nh há»‡ sá»‘ tÆ°Æ¡ng quan giá»¯a hai biáº¿n liÃªn tá»¥c chÃºng ta sá»­ dá»¥ng hÃ m cor.test(). TÃ¹y biáº¿n \\(method\\) nháº­n giÃ¡ trá»‹ â€œpearsonâ€, â€œkendallâ€, hoáº·c â€œspearmanâ€ tÆ°Æ¡ng á»©ng vá»›i cÃ¡c há»‡ sá»‘ tÆ°Æ¡ng quan Pearson, há»‡ sá»‘ tÆ°Æ¡ng quan Kendall hoáº·c há»‡ sá»‘ tÆ°Æ¡ng quan Spearman. ChÃºng ta kiá»ƒm Ä‘á»‹nh sá»± Ä‘á»™c láº­p giá»¯a hai biáº¿n \\(displ\\) vÃ  \\(hwy\\) nhÆ° sauKiá»ƒm Ä‘á»‹nh cáº£ ba há»‡ sá»‘ tÆ°Æ¡ng quan Ä‘á»u cho xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t hai biáº¿n Ä‘á»™c láº­p lÃ  xáº¥p xá»‰ 100%. NÃ³i má»™t cÃ¡ch khÃ¡c cÃ³ thá»ƒ kháº³ng Ä‘á»‹nh hai biáº¿n \\(displ\\) vÃ  \\(hwy\\) lÃ  cÃ³ sá»± phá»¥ thuá»™c.Sau cÃ¹ng, Ä‘á»ƒ kiá»ƒm Ä‘á»‹nh sá»± phá»¥ thuá»™c giá»¯a má»™t biáº¿n rá»i ráº¡c vÃ  má»™t biáº¿n liÃªn tá»¥c, chÃºng ta sá»­ dá»¥ng phÃ¢n tÃ­ch phÆ°Æ¡ng sai. HÃ m sá»‘ Ä‘á»ƒ thá»±c hiá»‡n phÃ¢n tÃ­ch phÆ°Æ¡ng sai trong R lÃ  hÃ m aov(). ChÃºng ta kiá»ƒm Ä‘á»‹nh sá»± phá»¥ thuá»™c giá»¯a \\(hwy\\) vÃ  \\(cyl\\) nhÆ° sauXÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n \\(hwy\\) báº±ng nhau theo cÃ¡c nhÃ³m cá»§a biáº¿n \\(cyl\\) lÃ  xáº¥p xá»‰ \\(100\\%\\) hay nÃ³i má»™t cÃ¡ch khÃ¡c \\(hwy\\) vÃ  \\(cyl\\) lÃ  cÃ³ má»‘i liÃªn há»‡.Äá»ƒ xem xÃ©t má»™t cÃ¡ch tá»•ng thá»ƒ má»‘i liÃªn há»‡ giá»¯a cÃ¡c biáº¿n trong dá»¯ liá»‡u \\(na.mpg\\), báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng kiá»ƒm Ä‘á»‹nh phÃ¹ há»£p vá»›i tá»«ng cáº·p biáº¿n vÃ  lÆ°u xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t Ä‘á»™c láº­p vÃ o má»™t ma tráº­n. HÃ m sá»‘ ind_check() Ä‘Æ°á»£c tá»± xÃ¢y dá»±ng cÃ³ Ä‘áº§u vÃ o lÃ  má»™t dá»¯ liá»‡u (má»™t tibble hoáº·c má»™t data.frame) vÃ  Ä‘áº§u ra lÃ  má»™t ma tráº­n cho biáº¿t xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t Ä‘á»™c láº­p cá»§a tá»«ng cáº·p biáº¿n nhÆ° tháº¿ nÃ o. Báº¡n Ä‘á»c cÃ³ thá»ƒ xem cÃ¢u lá»‡nh cá»§a hÃ m sá»‘ nÃ y á»Ÿ pháº§n phá»¥ lá»¥c cá»§a chÆ°Æ¡ng.Ma tráº­n thá»ƒ hiá»‡n xÃ¡c suáº¥t bÃ¡c bá» giáº£ thiáº¿t Ä‘á»™c láº­p giá»¯a tá»«ng cáº·p biáº¿n trong dá»¯ liá»‡u \\(na.mpg\\) nhÆ° sau\nTable 5.9: Biáº¿n rá»i ráº¡c, thay tháº¿ NA báº±ng láº¥y máº«u ngáº«u nhiÃªn\nCÃ³ thá»ƒ tháº¥y biáº¿n \\(year\\) gáº§n nhÆ° khÃ´ng cÃ³ má»‘i liÃªn há»‡ Ä‘áº¿n cÃ¡c biáº¿n khÃ¡c. Khi xÃ¢y dá»±ng mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u, sá»± xuáº¥t hiá»‡n cá»§a cÃ¡c biáº¿n khÃ´ng cáº§n thiáº¿t sáº½ thÃªm nhiá»…u vÃ  lÃ m giáº£m cháº¥t lÆ°á»£ng cá»§a mÃ´ hÃ¬nh. Trong trÆ°á»ng há»£p nÃ y, chÃºng ta sáº½ loáº¡i bá» biáº¿n \\(year\\) trÆ°á»›c khi thá»±c hiá»‡n dá»± Ä‘oÃ¡n cho cÃ¡c giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c.PhÆ°Æ¡ng phÃ¡p Ä‘á»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh dá»± Ä‘oÃ¡n cho cÃ¡c giÃ¡ trá»‹ khÃ´ng biáº¿t lÃ  sá»­ dá»¥ng thuáº­t toÃ¡n â€œrá»«ng ngáº«u nhiÃªnâ€. ÄÃ¢y lÃ  má»™t thuáº­t toÃ¡n nÃ¢ng cao cá»§a mÃ´ hÃ¬nh dáº¡ng cÃ¢y quyáº¿t Ä‘á»‹nh. CÃ²n quÃ¡ sá»›m Ä‘á»ƒ nÃ³i vá» mÃ´ hÃ¬nh nÃ y, báº¡n Ä‘á»c chá»‰ cáº§n hiá»ƒu ráº±ng chÃºng ta sáº½ dá»±a vÃ o cÃ¡c giÃ¡ trá»‹ quan sÃ¡t Ä‘Æ°á»£c Ä‘á»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh (má»™t hÃ m sá»‘ \\(f\\)) mÃ  biáº¿n cÃ³ giÃ¡ trá»‹ \\(NA\\) phá»¥ thuá»™c vÃ o biáº¿n khÃ´ng cÃ³ giÃ¡ trá»‹ \\(NA\\) Ä‘á»ƒ Ä‘Æ°a ra dá»± Ä‘oÃ¡n. ThÆ° viá»‡n â€œmissForestâ€ há»— trá»£ chÃºng ta lÃ m viá»‡c nÃ y. Báº¡n Ä‘á»c cÃ³ thá»ƒ cÃ i thÆ° viá»‡n sau Ä‘Ã³ sá»­ dá»¥ng hÃ m missForest(). Quy trÃ¬nh Ä‘iá»n giÃ¡ trá»‹ \\(NA\\) vÃ o dá»¯ liá»‡u \\(na.mpg\\) chá»‰ cáº§n 1 dÃ²ng lá»‡nh!GiÃ¡ trá»‹ tháº­t cá»§a cÃ¡c biáº¿n kiá»ƒu sá»‘ vÃ  cÃ¡c giÃ¡ trá»‹ thay tháº¿ trong báº£ng dÆ°á»›i Ä‘Ã¢y\nTable 5.10: Biáº¿n liÃªn tá»¥c, thay tháº¿ NA báº±ng giÃ¡ trá»‹ dá»± Ä‘oÃ¡n báº±ng random forest\nGiÃ¡ trá»‹ tháº­t cá»§a cÃ¡c biáº¿n kiá»ƒu factor vÃ  giÃ¡ trá»‹ dÃ¹ng Ä‘á»ƒ thay tháº¿ Ä‘Æ°á»£c tá»•ng káº¿t trong báº£ng phÃ­a dÆ°á»›i\nTable 5.11: Biáº¿n rá»i ráº¡c, thay tháº¿ NA báº±ng giÃ¡ trá»‹ dá»± Ä‘oÃ¡n báº±ng random forest\nBáº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng ngoÃ i biáº¿n \\(trans\\), Ä‘a sá»‘ cÃ¡c biáº¿n cÃ²n láº¡i Ä‘á»u Ä‘Æ°á»£c dá»± Ä‘oÃ¡n khÃ¡ chÃ­nh xÃ¡c báº±ng thuáº­t toÃ¡n rá»«ng ngáº«u nhiÃªn. ChÃºng ta sáº½ tháº£o luáº­n vá» mÃ´ hÃ¬nh nÃ y trong chÆ°Æ¡ng tháº£o luáº­n vá» mÃ´ hÃ¬nh cÃ¢y quyáº¿t Ä‘á»‹nh.","code":"\nchisq.test(na.mpg$year,na.mpg$drv)## \n##  Pearson's Chi-squared test\n## \n## data:  na.mpg$year and na.mpg$drv\n## X-squared = 1.689, df = 2, p-value = 0.4298\nchisq.test(na.mpg$drv, na.mpg$cyl)## \n##  Pearson's Chi-squared test\n## \n## data:  na.mpg$drv and na.mpg$cyl\n## X-squared = 90.288, df = 6, p-value < 2.2e-16\ncor.test(na.mpg$displ, na.mpg$hwy, method = \"pearson\")## \n##  Pearson's product-moment correlation\n## \n## data:  na.mpg$displ and na.mpg$hwy\n## t = -17.743, df = 223, p-value < 2.2e-16\n## alternative hypothesis: true correlation is not equal to 0\n## 95 percent confidence interval:\n##  -0.8143893 -0.7048317\n## sample estimates:\n##       cor \n## -0.765092\ncor.test(na.mpg$displ, na.mpg$hwy, method = \"kendall\")## \n##  Kendall's rank correlation tau\n## \n## data:  na.mpg$displ and na.mpg$hwy\n## z = -13.857, p-value < 2.2e-16\n## alternative hypothesis: true tau is not equal to 0\n## sample estimates:\n##        tau \n## -0.6534741\ncor.test(na.mpg$displ, na.mpg$hwy, method = \"spearman\")## \n##  Spearman's rank correlation rho\n## \n## data:  na.mpg$displ and na.mpg$hwy\n## S = 3467012, p-value < 2.2e-16\n## alternative hypothesis: true rho is not equal to 0\n## sample estimates:\n##        rho \n## -0.8262809\nsummary(aov(hwy~cyl,data=na.mpg))##              Df Sum Sq Mean Sq F value Pr(>F)    \n## cyl           3   4479  1492.9   101.6 <2e-16 ***\n## Residuals   220   3233    14.7                   \n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## 10 observations deleted due to missingness\nlibrary(missForest)\n### Thá»i gian cháº¡y máº¥t khoáº£ng 1-2 phÃºt\nmodel<-missForest(select(na.mpg,-year), maxiter = 200, ntree = 100) \nmpg_1<-model$ximp # Dá»¯ liá»‡u mpg_1 lÃ  dá»¯ liá»‡u sau khi thay tháº¿ NA"},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"phá»¥-lá»¥c-3","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.4 Phá»¥ lá»¥c","text":"","code":""},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"box-cox-transformation","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.4.1 Box-Cox transformation","text":"Biáº¿n Ä‘á»•i Box-Cox lÃ  má»™t phÆ°Æ¡ng phÃ¡p biáº¿n Ä‘á»•i Ä‘á»ƒ Ä‘Æ°a má»™t vÃ©c-tÆ¡ cÃ³ phÃ¢n phá»‘i khÃ¡c vá»›i phÃ¢n phá»‘i chuáº©n thÃ nh má»™t vÃ©c-tÆ¡ cÃ³ phÃ¢n phá»‘i gáº§n vá»›i phÃ¢n phá»‘i chuáº©n. PhÃ©p biáº¿n Ä‘á»•i Box-Cox chá»‰ cÃ³ duy nháº¥t má»™t tham sá»‘ \\(\\lambda\\).\\[\\begin{align}\n\n\\end{align}\\]","code":""},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"kolmogorov-smirnov-tests","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.4.2 Kolmogorov-Smirnov tests","text":"","code":""},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"pearsons-chi-squared-tests","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.4.3 Pearsonâ€™s Chi-squared tests","text":"","code":""},{"path":"tiá»n-xá»­-lÃ½-dá»¯-liá»‡u.html","id":"bÃ i-táº­p-1","chapter":"ChÆ°Æ¡ng 5 Tiá»n xá»­ lÃ½ dá»¯ liá»‡u","heading":"5.5 BÃ i táº­p","text":"","code":""},{"path":"biáº¿n-Ä‘á»•i-dá»¯-liá»‡u-báº±ng-thÆ°-viá»‡n-dplyr.html","id":"biáº¿n-Ä‘á»•i-dá»¯-liá»‡u-báº±ng-thÆ°-viá»‡n-dplyr","chapter":"ChÆ°Æ¡ng 6 Biáº¿n Ä‘á»•i dá»¯ liá»‡u báº±ng thÆ° viá»‡n \\(dplyr\\)","heading":"ChÆ°Æ¡ng 6 Biáº¿n Ä‘á»•i dá»¯ liá»‡u báº±ng thÆ° viá»‡n \\(dplyr\\)","text":"Dá»¯ liá»‡u trÆ°á»›c khi Ä‘Æ°a vÃ o trá»±c quan hÃ³a hoáº·c xÃ¢y dá»±ng mÃ´ hÃ¬nh hiáº¿m khi cÃ³ Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng chÃ­nh xÃ¡c mÃ  báº¡n Ä‘á»c mong muá»‘n. ThÃ´ng thÆ°á»ng, báº¡n Ä‘á»c sáº½ cáº§n táº¡o thÃªm má»™t sá»‘ biáº¿n, hoáº·c cÃ³ thá»ƒ báº¡n Ä‘á»c chá»‰ muá»‘n Ä‘á»•i tÃªn cÃ¡c biáº¿n, hoáº·c sáº¯p xáº¿p láº¡i cÃ¡c quan sÃ¡t, hoáº·c tá»•ng há»£p dá»¯ liá»‡u Ä‘á»ƒ lÃ m cho dá»¯ liá»‡u dá»… dÃ ng xá»­ lÃ½ tiáº¿p. Báº¡n Ä‘á»c sáº½ há»c cÃ¡ch thá»±c hiá»‡n táº¥t cáº£ nhá»¯ng phÃ©p biáº¿n Ä‘á»•i Ä‘Ã³ trong pháº§n nÃ y. Ná»™i dung chá»§ yáº¿u cá»§a pháº§n nÃ y sáº½ hÆ°á»›ng dáº«n báº¡n Ä‘á»c cÃ¡ch chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u cá»§a mÃ¬nh báº±ng cÃ¡ch sá»­ dá»¥ng thÆ° viá»‡n \\(dplyr\\) vÃ  táº­p dá»¯ liá»‡u \\(gapminder\\) - dá»¯ liá»‡u vá» sá»©c khá»e vÃ  thu nháº­p cá»§a cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i tá»« nÄƒm 1960 Ä‘áº¿n nÄƒm 2016.ThÆ° viá»‡n \\(dplyr\\) lÃ  má»™t thÆ° viá»‡n náº±m trong thÆ° viá»‡n tá»•ng há»£p \\(tidyverse\\), báº¡n Ä‘á»c cÃ³ thá»ƒ gá»i thÆ° viá»‡n \\(tidyverse\\) hoáº·c trá»±c tiáº¿p thÆ° viá»‡n \\(dplyr\\) lÃªn cá»­a sá»• Ä‘ang lÃ m viá»‡c. Báº¡n Ä‘á»c cÅ©ng nÃªn lÆ°u Ã½ ráº±ng trong thÆ° viá»‡n \\(dplyr\\) cÃ³ má»™t sá»‘ hÃ m trÃ¹ng tÃªn vá»›i cÃ¡c hÃ m cÃ³ sáºµn trong R, cháº³ng háº¡n nhÆ° hÃ m \\(filter()\\) hoáº·c hÃ m \\(lag()\\). Tuy nhiÃªn R Æ°u tiÃªn \\(dplyr\\) trÆ°á»›c cÃ¡c thÆ° viá»‡n cÃ³ sáºµn nÃªn báº¡n Ä‘á»c sáº½ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o khi gá»i thÆ° viá»‡n nÃ y.Dá»¯ liá»‡u \\(gapminder\\) lÃ  dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng trong pháº§n tiá»n xá»­ lÃ½ dá»¯ liá»‡u. Báº¡n Ä‘á»c lÆ°u Ã½ thá»±c hiá»‡n cÃ¡c bÆ°á»›c tiá»n xá»­ lÃ½ dá»¯ liá»‡u trÆ°á»›c khi cháº¡y cÃ¡c cÃ¢u lá»‡nh biáº¿n Ä‘á»•i dá»¯ liá»‡u. Má»—i pháº§n tiáº¿p theo sáº½ giá»›i thiá»‡u má»™t hÃ m quan trá»ng cá»§a thÆ° viá»‡n \\(dplyr\\) vÃ  cÃ¡c tham sá»‘ cá»§a hÃ m Ä‘Ã³. Sau cÃ¹ng chÃºng tÃ´i sáº½ giá»›i thiá»‡u vá» cÃ¡ch sá»­ dá»¥ng pipe (\\(%\\>\\%\\)) Ä‘á»ƒ káº¿t ná»‘i cÃ¡c hÃ m vá»›i nhau trong má»™t cÃ¢u lá»‡nh duy nháº¥t.","code":""},{"path":"biáº¿n-Ä‘á»•i-dá»¯-liá»‡u-báº±ng-thÆ°-viá»‡n-dplyr.html","id":"thÃªm-biáº¿n-báº±ng-hÃ m-mutate","chapter":"ChÆ°Æ¡ng 6 Biáº¿n Ä‘á»•i dá»¯ liá»‡u báº±ng thÆ° viá»‡n \\(dplyr\\)","heading":"6.1 ThÃªm biáº¿n báº±ng hÃ m \\(mutate()\\)","text":"Khi báº¡n Ä‘á»c muá»‘n thÃªm cÃ¡c cá»™t khÃ¡c vÃ o má»™t dá»¯ liá»‡u Ä‘Æ°á»£c tÃ­nh toÃ¡n tá»« cÃ¡c cá»™t hiá»‡n cÃ³, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng hÃ m \\(mutate()\\). HÃ m \\(mutate()\\) luÃ´n thÃªm cá»™t vÃ o sau cá»™t cuá»‘i cÃ¹ng trong dá»¯ liá»‡u hiá»‡n cÃ³. Khi báº¡n muá»‘n thÃªm cá»™t vÃ o má»™t vá»‹ trÃ­ cá»¥ thá»ƒ, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng tÃ¹y biáº¿n\\(.= ten\\_cot\\) trong Ä‘Ã³ \\(ten\\_cot\\) lÃ  tÃªn cá»™t phÃ­a trÆ°á»›c cá»™t mÃ  báº¡n Ä‘á»c muá»‘n thÃªm vÃ o.\\(.= ten\\_cot\\) trong Ä‘Ã³ \\(ten\\_cot\\) lÃ  tÃªn cá»™t phÃ­a sau cá»™t mÃ  báº¡n Ä‘á»c muá»‘n thÃªm vÃ o.CÃ¢u lá»‡nh trÃªn thÃªm cá»™t cÃ³ tÃªn lÃ  \\(gdp\\_per\\_capita\\) Ä‘Æ°á»£c tÃ­nh báº±ng tá»•ng thu nháº­p quá»‘c ná»™i (\\(gdp\\)) chia cho dÃ¢n sá»‘ cá»§a quá»‘c gia Ä‘Ã³. Náº¿u báº¡n Ä‘á»c muá»‘n cá»™t má»›i Ä‘Æ°á»£c thÃªm vÃ o ngay sau cá»™t \\(gdp\\), hÃ£y sá»­ dá»¥ng thÃªm tÃ¹y biáº¿n \\(.\\)Má»™t biáº¿n thá»ƒ khÃ¡c cá»§a hÃ m \\(mutate()\\) lÃ  \\(transmute()\\). HÃ m \\(transmute()\\) khÃ¡c \\(mutate()\\) á»Ÿ chá»— lÃ  chá»‰ giá»¯ láº¡i cÃ¡c cá»™t má»›i Ä‘Æ°á»£c táº¡o thÃ nh","code":"\nmytib<-as.tibble(gapminder) # mytib lÃ  dá»¯ liá»‡u kiá»ƒu tibble\nmutate(mytib, gdp_per_capita = gdp/population) # thÃªm cá»™t cÃ³ tÃªn lÃ  gdp_per_capita## # A tibble: 10,545 Ã— 10\n##    country  year infanâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´      gdp contiâ€¦âµ region gdp_pâ€¦â¶\n##    <fct>   <int>   <dbl>   <dbl>   <dbl>   <dbl>    <dbl> <fct>   <fct>    <dbl>\n##  1 Albania  1960   115.     62.9    6.19  1.64e6 NA       Europe  Southâ€¦     NA \n##  2 Algeria  1960   148.     47.5    7.65  1.11e7  1.38e10 Africa  Northâ€¦   1243.\n##  3 Angola   1960   208      36.0    7.32  5.27e6 NA       Africa  Middlâ€¦     NA \n##  4 Antiguâ€¦  1960    NA      63.0    4.43  5.47e4 NA       Americâ€¦ Caribâ€¦     NA \n##  5 Argentâ€¦  1960    59.9    65.4    3.11  2.06e7  1.08e11 Americâ€¦ Southâ€¦   5254.\n##  6 Armenia  1960    NA      66.9    4.55  1.87e6 NA       Asia    Westeâ€¦     NA \n##  7 Aruba    1960    NA      65.7    4.82  5.42e4 NA       Americâ€¦ Caribâ€¦     NA \n##  8 Austraâ€¦  1960    20.3    70.9    3.45  1.03e7  9.67e10 Oceania Austrâ€¦   9393.\n##  9 Austria  1960    37.3    68.8    2.7   7.07e6  5.24e10 Europe  Westeâ€¦   7415.\n## 10 Azerbaâ€¦  1960    NA      61.3    5.57  3.90e6 NA       Asia    Westeâ€¦     NA \n## # â€¦ with 10,535 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹continent, â¶â€‹gdp_per_capita\nmutate(mytib, gdp_per_capita = gdp/population,.after = gdp) # thÃªm cá»™t cÃ³ tÃªn lÃ  gdp_per_capita## # A tibble: 10,545 Ã— 10\n##    country  year infanâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´      gdp gdp_pâ€¦âµ contiâ€¦â¶ region\n##    <fct>   <int>   <dbl>   <dbl>   <dbl>   <dbl>    <dbl>   <dbl> <fct>   <fct> \n##  1 Albania  1960   115.     62.9    6.19  1.64e6 NA           NA  Europe  Southâ€¦\n##  2 Algeria  1960   148.     47.5    7.65  1.11e7  1.38e10   1243. Africa  Northâ€¦\n##  3 Angola   1960   208      36.0    7.32  5.27e6 NA           NA  Africa  Middlâ€¦\n##  4 Antiguâ€¦  1960    NA      63.0    4.43  5.47e4 NA           NA  Americâ€¦ Caribâ€¦\n##  5 Argentâ€¦  1960    59.9    65.4    3.11  2.06e7  1.08e11   5254. Americâ€¦ Southâ€¦\n##  6 Armenia  1960    NA      66.9    4.55  1.87e6 NA           NA  Asia    Westeâ€¦\n##  7 Aruba    1960    NA      65.7    4.82  5.42e4 NA           NA  Americâ€¦ Caribâ€¦\n##  8 Austraâ€¦  1960    20.3    70.9    3.45  1.03e7  9.67e10   9393. Oceania Austrâ€¦\n##  9 Austria  1960    37.3    68.8    2.7   7.07e6  5.24e10   7415. Europe  Westeâ€¦\n## 10 Azerbaâ€¦  1960    NA      61.3    5.57  3.90e6 NA           NA  Asia    Westeâ€¦\n## # â€¦ with 10,535 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹gdp_per_capita, â¶â€‹continent\ntransmute(mytib, gdp_per_capita = gdp/population) # data má»›i chá»‰ cÃ³ cá»™t gdp_per_capita## # A tibble: 10,545 Ã— 1\n##    gdp_per_capita\n##             <dbl>\n##  1            NA \n##  2          1243.\n##  3            NA \n##  4            NA \n##  5          5254.\n##  6            NA \n##  7            NA \n##  8          9393.\n##  9          7415.\n## 10            NA \n## # â€¦ with 10,535 more rows"},{"path":"biáº¿n-Ä‘á»•i-dá»¯-liá»‡u-báº±ng-thÆ°-viá»‡n-dplyr.html","id":"lá»±a-chá»n-cá»™t-báº±ng-hÃ m-select","chapter":"ChÆ°Æ¡ng 6 Biáº¿n Ä‘á»•i dá»¯ liá»‡u báº±ng thÆ° viá»‡n \\(dplyr\\)","heading":"6.2 Lá»±a chá»n cá»™t báº±ng hÃ m \\(select()\\)","text":"Khi dá»¯ liá»‡u cÃ³ quÃ¡ nhiá»u cá»™t vÃ  báº¡n Ä‘á»c chá»‰ muá»‘n sá»­ dá»¥ng má»™t sá»‘ cá»™t nháº¥t Ä‘á»‹nh Ä‘á»ƒ phÃ¢n tÃ­ch, báº¡n Ä‘á»c hÃ£y sá»­a dá»¥ng hÃ m \\(select()\\). Äiá»u quan trá»ng nháº¥t khi sá»­ dá»¥ng hÃ m \\(select()\\) lÃ  báº¡n Ä‘á»c cáº§n pháº£i gá»i tÃªn Ä‘Ãºng cÃ¡c cá»™t (biáº¿n) mÃ  mÃ¬nh muá»‘n lá»±a chá»n.HÃ m \\(select\\) cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thay Ä‘á»•i tÃªn cá»™t. Cháº³ng háº¡n báº¡n Ä‘á»c muá»‘n tÃªn cÃ¡c cá»™t má»›i tÆ°Æ¡ng á»©ng lÃ  \\(\"Year\"\\), \\(\"GDP\"\\) vÃ  \\(\"Population\"\\)Khi dá»¯ liá»‡u cÃ³ quÃ¡ nhiá»u cá»™t vÃ  viá»‡c gá»i tÃªn chÃ­nh xÃ¡c cÃ¡c cá»™t lÃ m cho cÃ¢u lá»‡nh \\(select()\\) quÃ¡ dÃ i, báº¡n Ä‘á»c cÃ³ thá»ƒ lá»±a chá»n cÃ¡c cá»™t Ä‘á»©ng liá»n nhau báº±ng cÃ¡ch sauCÃ¢u lá»‡nh trÃªn cÃ³ Ã½ nghÄ©a lÃ  láº¥y ra cá»™t \\(year\\) vÃ  táº¥t cáº£ cÃ¡c cá»™t náº±m giá»¯a cá»™t \\(gdp\\) vÃ  cá»™t \\(population\\).Báº¡n Ä‘á»c khÃ´ng nhá»› chÃ­nh xÃ¡c tÃªn cá»™t muá»‘n láº¥y ra thÃ¬ cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c tÃ¹y chá»n sau:\\(starts\\_with()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn báº¯t Ä‘áº§u báº±ng má»™t chuá»—i kÃ½ tá»± nÃ o Ä‘Ã³.\\(starts\\_with()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn báº¯t Ä‘áº§u báº±ng má»™t chuá»—i kÃ½ tá»± nÃ o Ä‘Ã³.\\(ends\\_with()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn káº¿t thÃºc báº±ng má»™t chuá»—i kÃ½ tá»± nÃ o Ä‘Ã³.\\(ends\\_with()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn káº¿t thÃºc báº±ng má»™t chuá»—i kÃ½ tá»± nÃ o Ä‘Ã³.\\(contains()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn chá»©a má»™t chuá»—i kÃ½ tá»± nÃ o Ä‘Ã³.\\(contains()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn chá»©a má»™t chuá»—i kÃ½ tá»± nÃ o Ä‘Ã³.\\(matches()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn khá»›p vá»›i má»™t xxxxxxxxxxxxxxxxxxx nÃ o Ä‘Ã³\\(matches()\\): láº¥y ra cÃ¡c cá»™t cÃ³ tÃªn khá»›p vá»›i má»™t xxxxxxxxxxxxxxxxxxx nÃ o Ä‘Ã³HÃ m \\(select()\\) ngoÃ i Ã½ nghÄ©a lÃ  lá»±a chá»n cá»™t cÃ²n cÃ³ Ã½ nghÄ©a lÃ  loáº¡i bá» má»™t sá»‘ cá»™t nÃ o Ä‘Ã³ khá»i dá»¯ liá»‡u hiá»‡n thá»i. Äá»ƒ loáº¡i bá» cá»™t, báº¡n Ä‘á»c chá»‰ cáº§n thÃªm dáº¥u â€œ-â€ vÃ o trÆ°á»›c tÃªn cá»™t.","code":"\nselect(mytib, year, gdp, population) # láº¥y ra cÃ¡c cá»™t year, gdp, population## # A tibble: 10,545 Ã— 3\n##     year          gdp population\n##    <int>        <dbl>      <dbl>\n##  1  1960           NA    1636054\n##  2  1960  13828152297   11124892\n##  3  1960           NA    5270844\n##  4  1960           NA      54681\n##  5  1960 108322326649   20619075\n##  6  1960           NA    1867396\n##  7  1960           NA      54208\n##  8  1960  96677859364   10292328\n##  9  1960  52392699681    7065525\n## 10  1960           NA    3897889\n## # â€¦ with 10,535 more rows\nselect(mytib, Year = year, Gdp =  gdp,  Population = population) # láº¥y ra vÃ  Ä‘á»•i tÃªn cÃ¡c cá»™t year, gdp, population## # A tibble: 10,545 Ã— 3\n##     Year          Gdp Population\n##    <int>        <dbl>      <dbl>\n##  1  1960           NA    1636054\n##  2  1960  13828152297   11124892\n##  3  1960           NA    5270844\n##  4  1960           NA      54681\n##  5  1960 108322326649   20619075\n##  6  1960           NA    1867396\n##  7  1960           NA      54208\n##  8  1960  96677859364   10292328\n##  9  1960  52392699681    7065525\n## 10  1960           NA    3897889\n## # â€¦ with 10,535 more rows\nselect(mytib, year, gdp:population) # ## # A tibble: 10,545 Ã— 3\n##     year          gdp population\n##    <int>        <dbl>      <dbl>\n##  1  1960           NA    1636054\n##  2  1960  13828152297   11124892\n##  3  1960           NA    5270844\n##  4  1960           NA      54681\n##  5  1960 108322326649   20619075\n##  6  1960           NA    1867396\n##  7  1960           NA      54208\n##  8  1960  96677859364   10292328\n##  9  1960  52392699681    7065525\n## 10  1960           NA    3897889\n## # â€¦ with 10,535 more rows\nmytib1<-mutate(mytib, gdp_per_capita = gdp/population) # mytib1 lÃ  tibble cÃ³ thÃªm cá»™t tÃªn lÃ  gdp_per_capita\nselect(mytib1, contains(\"gdp\")) # láº¥y ra táº¥t cáº£ cÃ¡c cá»™t cÃ³ tÃªn chá»©a \"gdp\"## # A tibble: 10,545 Ã— 2\n##             gdp gdp_per_capita\n##           <dbl>          <dbl>\n##  1           NA            NA \n##  2  13828152297          1243.\n##  3           NA            NA \n##  4           NA            NA \n##  5 108322326649          5254.\n##  6           NA            NA \n##  7           NA            NA \n##  8  96677859364          9393.\n##  9  52392699681          7415.\n## 10           NA            NA \n## # â€¦ with 10,535 more rows\nselect(mytib1, - starts_with(\"gdp\")) # bá» Ä‘i táº¥t cáº£ cÃ¡c cá»™t cÃ³ tÃªn chá»©a \"gdp\"## # A tibble: 10,545 Ã— 8\n##    country              year infant_morâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´ contiâ€¦âµ region\n##    <fct>               <int>        <dbl>   <dbl>   <dbl>   <dbl> <fct>   <fct> \n##  1 Albania              1960        115.     62.9    6.19  1.64e6 Europe  Southâ€¦\n##  2 Algeria              1960        148.     47.5    7.65  1.11e7 Africa  Northâ€¦\n##  3 Angola               1960        208      36.0    7.32  5.27e6 Africa  Middlâ€¦\n##  4 Antigua and Barbuda  1960         NA      63.0    4.43  5.47e4 Americâ€¦ Caribâ€¦\n##  5 Argentina            1960         59.9    65.4    3.11  2.06e7 Americâ€¦ Southâ€¦\n##  6 Armenia              1960         NA      66.9    4.55  1.87e6 Asia    Westeâ€¦\n##  7 Aruba                1960         NA      65.7    4.82  5.42e4 Americâ€¦ Caribâ€¦\n##  8 Australia            1960         20.3    70.9    3.45  1.03e7 Oceania Austrâ€¦\n##  9 Austria              1960         37.3    68.8    2.7   7.07e6 Europe  Westeâ€¦\n## 10 Azerbaijan           1960         NA      61.3    5.57  3.90e6 Asia    Westeâ€¦\n## # â€¦ with 10,535 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹continent"},{"path":"biáº¿n-Ä‘á»•i-dá»¯-liá»‡u-báº±ng-thÆ°-viá»‡n-dplyr.html","id":"lá»c-quan-sÃ¡t-báº±ng-hÃ m-filter","chapter":"ChÆ°Æ¡ng 6 Biáº¿n Ä‘á»•i dá»¯ liá»‡u báº±ng thÆ° viá»‡n \\(dplyr\\)","heading":"6.3 Lá»c quan sÃ¡t báº±ng hÃ m filter()","text":"HÃ m filter() cho phÃ©p báº¡n Ä‘á»c lá»c cÃ¡c quan sÃ¡t dá»±a trÃªn giÃ¡ trá»‹ cá»§a cÃ¡c cá»™t. cÃ³ má»™t sá»‘ thÆ° viá»‡n trong R sá»­ dá»¥ng hÃ m \\(filter()\\) vá»›i má»¥c Ä‘Ã­ch khÃ¡c nhau vÃ  chÃºng tÃ´i khÃ´ng cháº¯c cháº¯n cá»­a sá»• R báº¡n Ä‘á»c Ä‘ang sá»­ dá»¥ng Ä‘ang cÃ³ sáºµn cÃ¡c thÆ° viá»‡n nÃ o nÃªn chÃºng tÃ´i Ä‘á»•i tÃªn cho hÃ m \\(filter()\\) cá»§a thÆ° viá»‡n \\(dplyr\\) thÃ nh \\(dfilter()\\) phÆ°Æ¡ng phÃ¡p mÆ°á»£n tham sá»‘:CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a hÃ m \\(filter()\\) nhÆ° sau: báº¡n Ä‘á»c muá»‘n láº¥y dá»¯ liá»‡u cá»§a nÄƒm 2010 tá»« dá»¯ liá»‡u \\(gapminder\\), chÃºng ta sá»­ dá»¥ng hÃ m \\(filter()\\) nhÆ° sauSau khi cháº¡y cÃ¢u lá»‡nh trÃªn, R sáº½ táº¡o thÃ nh má»™t \\(tibble()\\) má»›i chá»‰ bao gá»“m cÃ¡c quan sÃ¡t cÃ³ giÃ¡ trá»‹ cá»™t \\(year\\) lÃ  2010. LÆ°u Ã½ ráº±ng náº¿u báº¡n Ä‘á»c muá»‘n lÆ°u láº¡i giÃ¡ trá»‹ sau má»—i láº§n thá»±c hiá»‡n tÃ­nh toÃ¡n hÃ£y gÃ¡n giÃ¡ trá»‹ tráº£ láº¡i vÃ o má»™t Ä‘á»‘i tÆ°á»£ng má»›i. \\(filter()\\) cÃ³ thá»ƒ Ä‘Æ°á»£c thá»±c hiá»‡n khi sá»­ dá»¥ng nhiá»u cá»™t, cháº³ng háº¡n nhÆ° báº¡n Ä‘á»c muá»‘n lá»c cÃ¡c quan sÃ¡t cá»§a nÄƒm 2010 cá»§a cÃ¡c quá»‘c gia ChÃ¢u Ã‚u","code":"\ndfilter<-function(...) dplyr::filter(...)\ndfilter(mytib, year == 2010) # chá»‰ láº¥y cÃ¡c quan sÃ¡t cÃ³ year lÃ  2010## # A tibble: 185 Ã— 9\n##    country          year infanâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´      gdp contiâ€¦âµ region\n##    <fct>           <int>   <dbl>   <dbl>   <dbl>   <dbl>    <dbl> <fct>   <fct> \n##  1 Albania          2010    14.8    77.2    1.74  2.90e6  6.14e 9 Europe  Southâ€¦\n##  2 Algeria          2010    23.5    76      2.82  3.60e7  7.92e10 Africa  Northâ€¦\n##  3 Angola           2010   110.     57.6    6.22  2.12e7  2.61e10 Africa  Middlâ€¦\n##  4 Antigua and Baâ€¦  2010     7.7    75.8    2.13  8.72e4  8.37e 8 Americâ€¦ Caribâ€¦\n##  5 Argentina        2010    13      75.8    2.22  4.12e7  4.34e11 Americâ€¦ Southâ€¦\n##  6 Armenia          2010    16.1    73      1.55  2.96e6  4.10e 9 Asia    Westeâ€¦\n##  7 Aruba            2010    NA      75.1    1.7   1.02e5 NA       Americâ€¦ Caribâ€¦\n##  8 Australia        2010     4.1    82      1.89  2.22e7  5.63e11 Oceania Austrâ€¦\n##  9 Austria          2010     3.6    80.5    1.44  8.39e6  2.24e11 Europe  Westeâ€¦\n## 10 Azerbaijan       2010    33.9    70.1    1.97  9.10e6  2.12e10 Asia    Westeâ€¦\n## # â€¦ with 175 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹continent\ndfilter(mytib, year == 2010, continent == \"Europe\") ## # A tibble: 39 Ã— 9\n##    country           year infanâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´     gdp contiâ€¦âµ region\n##    <fct>            <int>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <fct>   <fct> \n##  1 Albania           2010    14.8    77.2    1.74  2.90e6 6.14e 9 Europe  Southâ€¦\n##  2 Austria           2010     3.6    80.5    1.44  8.39e6 2.24e11 Europe  Westeâ€¦\n##  3 Belarus           2010     4.7    70.2    1.46  9.49e6 2.60e10 Europe  Easteâ€¦\n##  4 Belgium           2010     3.6    80.1    1.84  1.09e7 2.67e11 Europe  Westeâ€¦\n##  5 Bosnia and Herzâ€¦  2010     6.4    77.9    1.24  3.84e6 8.21e 9 Europe  Southâ€¦\n##  6 Bulgaria          2010    11.2    73.7    1.49  7.41e6 1.92e10 Europe  Easteâ€¦\n##  7 Croatia           2010     4.6    76.7    1.47  4.32e6 2.80e10 Europe  Southâ€¦\n##  8 Czech Republic    2010     3.4    77.5    1.5   1.05e7 8.21e10 Europe  Easteâ€¦\n##  9 Denmark           2010     3.3    79.4    1.88  5.55e6 1.69e11 Europe  Northâ€¦\n## 10 Estonia           2010     3.6    76.4    1.63  1.33e6 8.01e 9 Europe  Northâ€¦\n## # â€¦ with 29 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹continent"},{"path":"biáº¿n-Ä‘á»•i-dá»¯-liá»‡u-báº±ng-thÆ°-viá»‡n-dplyr.html","id":"sáº¯p-xáº¿p-dá»¯-liá»‡u-báº±ng-hÃ m-arrange","chapter":"ChÆ°Æ¡ng 6 Biáº¿n Ä‘á»•i dá»¯ liá»‡u báº±ng thÆ° viá»‡n \\(dplyr\\)","heading":"6.4 Sáº¯p xáº¿p dá»¯ liá»‡u báº±ng hÃ m arrange()","text":"HÃ m arrange() sáº¯p xáº¿p cÃ¡c hÃ ng cá»§a dá»¯ liá»‡u theo thá»© tá»± tÄƒng dáº§n. NguyÃªn táº¯c sáº¯p xáº¿p cÅ©ng tÆ°Æ¡ng tá»± nhÆ° hÃ m sort() khi lÃ m trÃªn vÃ©c-tÆ¡, nghÄ©a lÃ  hÃ m báº¡n Ä‘á»c cÃ³ thá»ƒ sáº¯p xáº¿p dá»¯ liá»‡u dá»±a theo báº¥t ká»³ kiá»ƒu dá»¯ liá»‡u nÃ o. Cháº³ng háº¡n nhÆ° Ä‘á»ƒ sáº¯p xáº¿p dá»¯ liá»‡u \\(gapminder\\) theo thá»© tá»± tÄƒng dáº§n theo nÄƒm, theo ChÃ¢u lá»¥c, vÃ  sau cÃ¹ng lÃ  theo vÃ¹ng, báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¢u lá»‡nh nhÆ° sauNáº¿u muá»‘n sáº¯p xáº¿p dá»¯ liá»‡u theo thá»© tá»± giáº£m dáº§n, náº¿u cá»™t dá»¯ liá»‡u lÃ  kiá»ƒu sá»‘, báº¡n Ä‘á»c chá»‰ cáº§n thÃªm dáº¥u â€œ-â€ trÆ°á»›c tÃªn biáº¿n. Trong trÆ°á»ng há»£p cá»™t dá»¯ liá»‡u kiá»ƒu báº¥t ká»³, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m \\(desc()\\)LÆ°u Ã½ ráº±ng náº¿u trong cá»™t dá»¯ liá»‡u sá»­ dá»¥ng Ä‘á»ƒ sáº¯p xáº¿p cÃ³ giÃ¡ trá»‹ \\(NA\\) thÃ¬ cÃ¡c giÃ¡ trá»‹ nÃ y luÃ´n Ä‘Æ°á»£c sáº¯p xáº¿p xuá»‘ng phÃ­a dÆ°á»›i cá»§a dá»¯ liá»‡u.","code":"\narrange(mytib, year, continent, region) ## # A tibble: 10,545 Ã— 9\n##    country     year infant_mortâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´     gdp contiâ€¦âµ region\n##    <fct>      <int>         <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <fct>   <fct> \n##  1 Burundi     1960         145.     40.6    6.95  2.79e6  3.41e8 Africa  Easteâ€¦\n##  2 Comoros     1960         200      44.0    6.79  1.89e5 NA      Africa  Easteâ€¦\n##  3 Djibouti    1960          NA      45.8    6.46  8.36e4 NA      Africa  Easteâ€¦\n##  4 Eritrea     1960          NA      39.0    6.9   1.41e6 NA      Africa  Easteâ€¦\n##  5 Ethiopia    1960         162      37.7    6.88  2.22e7 NA      Africa  Easteâ€¦\n##  6 Kenya       1960         119.     47.4    7.95  8.11e6  2.12e9 Africa  Easteâ€¦\n##  7 Madagascar  1960         112      42.0    7.3   5.10e6  2.09e9 Africa  Easteâ€¦\n##  8 Malawi      1960         218.     38.5    6.91  3.62e6  3.48e8 Africa  Easteâ€¦\n##  9 Mauritius   1960          67.8    58.7    6.17  6.60e5 NA      Africa  Easteâ€¦\n## 10 Mozambique  1960         183      38.2    6.6   7.49e6 NA      Africa  Easteâ€¦\n## # â€¦ with 10,535 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹continent\narrange(mytib, year, desc(continent), desc(region), -gdp) # tÄƒng dáº§n theo nÄƒm, giáº£m dáº§n theo continent, region, gdp## # A tibble: 10,545 Ã— 9\n##    country           year infanâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´     gdp contiâ€¦âµ region\n##    <fct>            <int>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <fct>   <fct> \n##  1 French Polynesia  1960     NA     56.3    5.66   78083 NA      Oceania Polynâ€¦\n##  2 Samoa             1960     92     51.4    7.65  108645 NA      Oceania Polynâ€¦\n##  3 Tonga             1960     NA     61.2    7.36   61600 NA      Oceania Polynâ€¦\n##  4 Kiribati          1960     NA     45.8    6.95   41234 NA      Oceania Microâ€¦\n##  5 Micronesia, Fedâ€¦  1960     NA     56.8    6.93   44539 NA      Oceania Microâ€¦\n##  6 Papua New Guinea  1960    135.    38.6    6.28 1966957  8.37e8 Oceania Melanâ€¦\n##  7 Fiji              1960     54     55.7    6.46  393383  4.37e8 Oceania Melanâ€¦\n##  8 New Caledonia     1960     NA     56.4    5.22   78058 NA      Oceania Melanâ€¦\n##  9 Solomon Islands   1960    132.    50.6    6.39  117869 NA      Oceania Melanâ€¦\n## 10 Vanuatu           1960    107.    46.0    7.2    63701 NA      Oceania Melanâ€¦\n## # â€¦ with 10,535 more rows, and abbreviated variable names Â¹â€‹infant_mortality,\n## #   Â²â€‹life_expectancy, Â³â€‹fertility, â´â€‹population, âµâ€‹continent"},{"path":"biáº¿n-Ä‘á»•i-dá»¯-liá»‡u-báº±ng-thÆ°-viá»‡n-dplyr.html","id":"káº¿t-há»£p-cÃ¡c-hÃ m-báº±ng-toÃ¡n-tá»­-pipe","chapter":"ChÆ°Æ¡ng 6 Biáº¿n Ä‘á»•i dá»¯ liá»‡u báº±ng thÆ° viá»‡n \\(dplyr\\)","heading":"6.5 Káº¿t há»£p cÃ¡c hÃ m báº±ng toÃ¡n tá»­ pipe (\\%>\\%)","text":"TrÆ°á»›c khi giá»›i thiá»‡u cÃ¡c hÃ m khÃ¡c dÃ¹ng Ä‘á»ƒ biáº¿n Ä‘á»•i dá»¯ liá»‡u cá»§a thÆ° viá»‡n \\(dplyr\\), chÃºng tÃ´i muá»‘n giá»›i thiá»‡u Ä‘áº¿n báº¡n Ä‘á»c toÃ¡n tá»­ pipe (\\(\\%>\\%\\)). ÄÃ¢y lÃ  má»™t cÃ´ng cá»¥ vÃ´ cÃ¹ng há»¯u hiá»‡u khi báº¡n Ä‘á»c thá»±c hiá»‡n má»™t chuá»—i cÃ¡c phÃ©p biáº¿n Ä‘á»•i dá»¯ liá»‡u. ToÃ¡n tá»­ pipe Ä‘Æ°á»£c mÆ°á»£n tá»« toÃ¡n há»c khi nÃ³i Ä‘áº¿n viá»‡c sá»­ dá»¥ng cÃ¡c hÃ m sá»‘ ná»‘i tiáº¿p nhau. Pipe trong thÆ° viá»‡n \\(dplyr\\) cÅ©ng cÃ³ Ã½ nghÄ©a tÆ°Æ¡ng tá»± khi báº¡n Ä‘á»c sá»­ dá»¥ng má»™t chuá»—i cÃ¡c hÃ m cá»§a thÆ° viá»‡n nÃ y nháº±m biáº¿n Ä‘á»•i dá»¯ liá»‡u. VÃ­ dá»¥ nhÆ° khi báº¡n Ä‘á»c muá»‘n láº¥y ra tá»« dá»¯ liá»‡u \\(gapminder\\) ba quá»‘c gia cÃ³ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i cao nháº¥t trong nÄƒm 2000, báº¡n sáº½ cáº§n cÃ¡c phÃ©p biáº¿n Ä‘á»•i sau:\n- Thá»© nháº¥t: thÃªm cá»™t thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i (sá»­ dá»¥ng hÃ m \\(mutate()\\))\n- Thá»© hai: lá»c dá»¯ liá»‡u theo nÄƒm, chá»‰ láº¥y dá»¯ liá»‡u cá»§a nÄƒm 2000. (sá»­ dá»¥ng hÃ m \\(filter()\\))\n- Thá»© ba: lá»±a chá»n cá»™t tÃªn quá»‘c gia vÃ  cá»™t thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i (sá»­ dá»¥ng hÃ m \\(select()\\))\n- Thá»© tÆ°: sáº¯p xáº¿p dá»¯ liá»‡u theo cá»™t thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i, thá»© tá»± sáº¯p xáº¿p lÃ  giáº£m dáº§n (sá»­ dá»¥ng hÃ m \\(arrange()\\))\n- Thá»© nÄƒm: láº¥y ra ba hÃ ng Ä‘áº§u tiÃªn cá»§a dá»¯ liá»‡u (sá»­ dá»¥ng hÃ m \\(head()\\))Náº¿u khÃ´ng sá»­ dá»¥ng toÃ¡n tá»­ \\(pipe\\), sau má»—i bÆ°á»›c á»Ÿ trÃªn báº¡n Ä‘á»c sáº½ pháº£i lÆ°u káº¿t quáº£ vÃ  gá»i láº¡i káº¿t quáº£ vÃ o bÆ°á»›c káº¿ tiáº¿p:Thay vÃ¬ pháº£i lÆ°u láº¡i dá»¯ liá»‡u sau má»—i láº§n sá»­ dá»¥ng biáº¿n Ä‘á»•i dá»¯ liá»‡u vÃ  gá»i láº¡i káº¿t quáº£ Ä‘á»ƒ sá»­ dá»¥ng cho bÆ°á»›c tiáº¿p theo, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng toÃ¡n tá»­ \\(pipe\\) nhÆ° sauKáº¿t quáº£ thu Ä‘Æ°á»£c hoÃ n toÃ n tÆ°Æ¡ng tá»± nhÆ° trÃªn tuy nhiÃªn cÃ¢u lá»‡nh Ä‘Ã£ rÃµ rÃ ng hÆ¡n ráº¥t nhiá»u. Tá»« pháº§n nÃ y cá»§a cuá»‘n sÃ¡ch, má»i phÃ©p biáº¿n Ä‘á»•i trÃªn dá»¯ liá»‡u chÃºng tÃ´i sáº½ luÃ´n luÃ´n Æ°u tiÃªn sá»­ dá»¥ng toÃ¡n tá»­ \\(pipe\\) vÃ¬ sá»± Ä‘Æ¡n giáº£n vÃ  rÃµ rÃ ng cá»§a cÃ¡c cÃ¢u lá»‡nh.","code":"\nmytib1<-mutate(mytib,gdp_per_capita = gdp/population) # bÆ°á»›c thá»© nháº¥t\nmytib1<-dfilter(mytib1, year == 2010) # bÆ°á»›c thá»© hai\nmytib1<-select(mytib1, country, gdp_per_capita) # bÆ°á»›c thá»© ba\nmytib1<-arrange(mytib1, desc(gdp_per_capita)) # bÆ°á»›c thá»© tÆ°\nhead(mytib1,3) # bÆ°á»›c thá»© nÄƒm## # A tibble: 3 Ã— 2\n##   country    gdp_per_capita\n##   <fct>               <dbl>\n## 1 Luxembourg         52210.\n## 2 Japan              40013.\n## 3 Norway             39954.\nmytib%>%mutate(gdp_per_capita = gdp/population)%>%\n  dfilter(year == 2010)%>%\n  select(country, gdp_per_capita)%>%\n  arrange(desc(gdp_per_capita)) %>%\n  head(3)## # A tibble: 3 Ã— 2\n##   country    gdp_per_capita\n##   <fct>               <dbl>\n## 1 Luxembourg         52210.\n## 2 Japan              40013.\n## 3 Norway             39954."},{"path":"biáº¿n-Ä‘á»•i-dá»¯-liá»‡u-báº±ng-thÆ°-viá»‡n-dplyr.html","id":"tá»•ng-há»£p-dá»¯-liá»‡u-báº±ng-group_by-vÃ -summarise","chapter":"ChÆ°Æ¡ng 6 Biáº¿n Ä‘á»•i dá»¯ liá»‡u báº±ng thÆ° viá»‡n \\(dplyr\\)","heading":"6.6 Tá»•ng há»£p dá»¯ liá»‡u báº±ng \\(group\\_by()\\) vÃ  \\(summarise()\\)","text":"HÃ m \\(group\\_by()\\) lÃ  má»™t cÃ´ng cá»¥ há»¯u hiá»‡u trong tá»•ng há»£p dá»¯ liá»‡u vÃ  tÃ­nh toÃ¡n theo nhÃ³m. Cháº³ng háº¡n nhÆ° tá»« dá»¯ liá»‡u \\(gapminder\\) báº¡n Ä‘á»c muá»‘n biáº¿t tá»•ng thu nháº­p quá»‘c dÃ¢n (\\(gdp\\)) cá»§a má»™t quá»‘c gia lÃ  cao hay tháº¥p vá»›i tá»•ng thu nháº­p quá»‘c dÃ¢n trung bÃ¬nh cá»§a chÃ¢u lá»¥c (\\(continent\\)) trong nÄƒm tÆ°Æ¡ng á»©ng (\\(year\\)), báº¡n Ä‘á»c cáº§n pháº£i thá»±c hiá»‡n cÃ¡c thao tÃ¡c sau:\n- BÆ°á»›c 1: NhÃ³m dá»¯ liá»‡u láº¡i theo chÃ¢u lá»¥c vÃ  theo nÄƒm\n- BÆ°á»›c 2: TÃ­nh tá»•ng thu nháº­p quá»‘c dÃ¢n cá»§a chÃ¢u lá»¥c trong nÄƒm Ä‘Ã³, bá» qua cÃ¡c nÆ°á»›c khÃ´ng cÃ³ quan sÃ¡t\n- BÆ°á»›c 3: Äáº¿m xem cÃ³ bao nhiÃªu giÃ¡ trá»‹ cÃ³ quan sÃ¡t\n- BÆ°á»›c 4: Láº¥y káº¿t quáº£ á»Ÿ bÆ°á»›c 2 chia cho káº¿t quáº£ cá»§a bÆ°á»›c 3.\n- BÆ°á»›c 5: sÃ¡nh gdp cá»§a quá»‘c gia vá»›i gdp trung bÃ¬nh cá»§a chÃ¢u lá»¥c trong nÄƒm Ä‘Ã³Nhá»¯ng bÆ°á»›c nhÆ° trÃªn cÃ³ thá»ƒ Ä‘Æ°á»£c thá»±c hiá»‡n má»™t cÃ¡ch Ä‘Æ¡n giáº£n thÃ´ng qua hÃ m \\(group\\_by\\) nhÆ° sauNáº¿u Ä‘oáº¡n cÃ¢u lá»‡nh trÃªn khÃ´ng sá»­ dá»¥ng cÃ¢u lá»‡nh \\(group\\_by\\), hÃ m \\(mean()\\) trong cÃ¢u lá»‡nh \\(mutate()\\) sáº½ thá»±c hiÃªn tÃ­nh toÃ¡n cho toÃ n bá»™ vÃ©c-tÆ¡ \\(gdp\\) cá»§a dá»¯ liá»‡u \\(gapminder\\). NghÄ©a lÃ  cá»™t má»›i Ä‘Æ°á»£c hÃ¬nh thÃ nh sáº½ cÃ³ giÃ¡ trá»‹ giá»‘ng nhau vá»›i táº¥t cáº£ cÃ¡c quan sÃ¡t. Sau khi sá»­ dá»¥ng hÃ m \\(group\\_by()\\), má»—i khi chÃºng ta sá»­ dá»¥ng má»™t hÃ m tÃ­nh toÃ¡n trÃªn má»™t cá»™t dá»¯ liá»‡u khÃ¡c, cá»™t dá»¯ liá»‡u Ä‘Ã³ sáº½ Ä‘Æ°á»£c tÃ­nh toÃ¡n cho tá»«ng nhÃ³m Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a bá»Ÿi hÃ m \\(group\\_by\\). Trong Ä‘oáº¡n lá»‡nh á»Ÿ trÃªn, hÃ m \\(mean()\\) sáº½ tÃ­nh giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(gdp\\) cho tá»«ng chÃ¢u lá»¥c theo tá»«ng nÄƒm. Tháº­t váº­y, chÃºng ta cÃ³ thá»ƒ kiá»ƒm tra giÃ¡ trá»‹ á»Ÿ hÃ ng Ä‘áº§u tiÃªn cá»§a cá»™t \\(gdp\\_year\\_continent\\) (tÆ°Æ¡ng á»©ng vá»›i Albania - nÄƒm 1960 - chÃ¢u Ã‚u) sáº½ lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a vÃ©c-tÆ¡ \\(gdp\\) cá»§a cÃ¡c nÆ°á»›c chÃ¢u Ã‚u trong nÄƒm 1960:HÃ m \\(group\\_by()\\) káº¿t há»£p vá»›i \\(summarise()\\) sáº½ táº¡o thÃ nh má»™t dá»¯ liá»‡u má»›i mÃ  má»—i hÃ ng sáº½ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i má»™t nhÃ³m Ä‘Æ°á»£c quy Ä‘á»‹nh bá»Ÿi hÃ m \\(group\\_by()\\).Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng dá»¯ liá»‡u má»›i (dÆ°á»›i dáº¡ng má»™t \\(tibble\\)) Ä‘Æ°á»£c táº¡o thÃ nh, má»—i hÃ ng lÃ  má»™t chÃ¢u lá»¥c trong má»™t nÄƒm, vá»›i ba cá»™t bao gá»“m hai cá»™t Ä‘Æ°á»£c quy Ä‘á»‹nh bá»Ÿi hÃ m \\(group\\_by()\\) lÃ  \\(continent\\), \\(year\\) vÃ  cá»™t \\(gdp\\_year\\_continent\\) má»›i Ä‘Æ°á»£c táº¡o thÃ nh tá»« hÃ m \\(summarise()\\).","code":"\nmytib%>%group_by(continent, year) %>%\n  mutate(gdp_year_continent = mean(gdp,na.rm=TRUE))%>% # thÃªm cá»™t gdp bÃ¬nh quÃ¢n cá»§a chÃ¢u lá»¥c theo nÄƒm\n  ungroup()%>% # Ä‘á»ƒ dá»¯ liá»‡u trá»Ÿ láº¡i tráº¡ng thÃ¡i ban Ä‘áº§u (trÆ°á»›c khi group)\n  mutate(gdp_level = ifelse(gdp > gdp_year_continent, \"High\", \"Low\"))## # A tibble: 10,545 Ã— 11\n##    country  year infanâ€¦Â¹ life_â€¦Â² fertiâ€¦Â³ populâ€¦â´      gdp contiâ€¦âµ region gdp_yâ€¦â¶\n##    <fct>   <int>   <dbl>   <dbl>   <dbl>   <dbl>    <dbl> <fct>   <fct>    <dbl>\n##  1 Albania  1960   115.     62.9    6.19  1.64e6 NA       Europe  Southâ€¦ 1.11e11\n##  2 Algeria  1960   148.     47.5    7.65  1.11e7  1.38e10 Africa  Northâ€¦ 3.65e 9\n##  3 Angola   1960   208      36.0    7.32  5.27e6 NA       Africa  Middlâ€¦ 3.65e 9\n##  4 Antiguâ€¦  1960    NA      63.0    4.43  5.47e4 NA       Americâ€¦ Caribâ€¦ 1.15e11\n##  5 Argentâ€¦  1960    59.9    65.4    3.11  2.06e7  1.08e11 Americâ€¦ Southâ€¦ 1.15e11\n##  6 Armenia  1960    NA      66.9    4.55  1.87e6 NA       Asia    Westeâ€¦ 6.12e10\n##  7 Aruba    1960    NA      65.7    4.82  5.42e4 NA       Americâ€¦ Caribâ€¦ 1.15e11\n##  8 Austraâ€¦  1960    20.3    70.9    3.45  1.03e7  9.67e10 Oceania Austrâ€¦ 3.27e10\n##  9 Austria  1960    37.3    68.8    2.7   7.07e6  5.24e10 Europe  Westeâ€¦ 1.11e11\n## 10 Azerbaâ€¦  1960    NA      61.3    5.57  3.90e6 NA       Asia    Westeâ€¦ 6.12e10\n## # â€¦ with 10,535 more rows, 1 more variable: gdp_level <chr>, and abbreviated\n## #   variable names Â¹â€‹infant_mortality, Â²â€‹life_expectancy, Â³â€‹fertility,\n## #   â´â€‹population, âµâ€‹continent, â¶â€‹gdp_year_continent\nmytib%>%dfilter(year == 1960, continent == \"Europe\")%>%\n  select(gdp)%>%mean()## [1] NA\nmytib%>%group_by(continent, year) %>%\n  summarise(gdp_year_continent = mean(gdp,na.rm=TRUE))## # A tibble: 285 Ã— 3\n## # Groups:   continent [5]\n##    continent  year gdp_year_continent\n##    <fct>     <int>              <dbl>\n##  1 Africa     1960        3652247577.\n##  2 Africa     1961        3642863976.\n##  3 Africa     1962        3781167783.\n##  4 Africa     1963        4107185952.\n##  5 Africa     1964        4342684293.\n##  6 Africa     1965        4618242478.\n##  7 Africa     1966        4562215808.\n##  8 Africa     1967        4592913225.\n##  9 Africa     1968        4814235499.\n## 10 Africa     1969        5157970620.\n## # â€¦ with 275 more rows"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u.html","id":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u","chapter":"ChÆ°Æ¡ng 7 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"ChÆ°Æ¡ng 7 Trá»±c quan hÃ³a dá»¯ liá»‡u","text":"","code":"\np<-gapminder%>%filter(year<=2010)%>%\n# AESTHETIC MAPPING\nggplot(aes(x=fertility,y=life_expectancy,size = population, fill= continent))+\n# TAO DO THI SCATTERPLOT\ngeom_point(shape=21,alpha=0.6)+\n# THAY DOI TITLE CUA DO THI, TRUC X, TRUC Y\nlabs(title = 'NÄƒm: {as.integer(frame_time)}',\ny = \"Tuá»•i thá» trung bÃ¬nh\",\nx = \"Tá»· lá»‡ sinh trÃªn má»—i phá»¥ ná»¯\")+\n#GIOI HAN LAI GIA TRI TREN X,Y\nxlim(0,10)+ylim(20,90)+\n# SCALE LAI SIZE (POPULATION)\nscale_size(range = c(1*2, 20*2)) +\n# SCALE LAI MAU SAC THE0 DAI MAU \"SET1\" CUA BREWER\nscale_color_brewer(palette = \"Set1\")+\n# LAM TITLE THAY DOI THEO NAM\ntransition_time(year)+\n#SIZE & FONT CHU\ntheme(,\nplot.title = element_text(size = 20*2),\naxis.title.x = element_text(size = 20*2),\naxis.title.y = element_text(size = 20*2),\nlegend.text = element_text(size = 20*2,margin = margin(r = 30*2, unit = \"pt\")),\nlegend.title = element_text(size = 20*2),\n#    legend.text=element_text(size=20*2),\n)\n#legend.key.size = element_rect(size = rel(1.5)),\n\n# TAO DO THI DANG DONG\nanimate(p, renderer = gifski_renderer(),\nwidth = 1600, #pixel chieu rong\nheight = 1600) # pixel chieu cao## \n## Attaching package: 'dplyr'## The following object is masked from 'package:gridExtra':\n## \n##     combine## The following object is masked from 'package:kableExtra':\n## \n##     group_rows## The following objects are masked from 'package:stats':\n## \n##     filter, lag## The following objects are masked from 'package:base':\n## \n##     intersect, setdiff, setequal, union## \n## Attaching package: 'lubridate'## The following objects are masked from 'package:base':\n## \n##     date, intersect, setdiff, union## \n## Attaching package: 'plotly'## The following object is masked from 'package:ggplot2':\n## \n##     last_plot## The following object is masked from 'package:stats':\n## \n##     filter## The following object is masked from 'package:graphics':\n## \n##     layout"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","text":"Trá»±c quan hÃ³a dá»¯ liá»‡u lÃ  nghá»‡ thuáº­t mÃ´ táº£ dá»¯ liá»‡u thÃ´ng qua viá»‡c sá»­ dá»¥ng Ä‘á»“ há»a vÃ  hÃ¬nh áº£nh nhÆ° cÃ¡c biá»ƒu Ä‘á»“, sÆ¡ Ä‘á»“, vÃ  cáº£ hÃ¬nh áº£nh Ä‘á»™ng hoáº·c hÃ¬nh áº£nh tÆ°Æ¡ng tÃ¡c. Trá»±c quan hÃ³a dá»¯ liá»‡u lÃ  má»™t phÆ°Æ¡ng phÃ¡p truyá»n Ä‘áº¡t thÃ´ng tin má»™t cÃ¡ch trá»±c quan vÃ  dá»… hiá»ƒu tá»« ngÆ°á»i quáº£n lÃ½ dá»¯ liá»‡u Ä‘áº¿n ngÆ°á»i tiáº¿p nháº­n. Trá»±c quan hÃ³a giÃºp mÃ´ táº£ cÃ¡c má»‘i quan há»‡ dá»¯ liá»‡u phá»©c táº¡p, cÃ¡c thÃ´ng tin chuyÃªn sÃ¢u, vÃ  cáº£ cÃ¡c váº¥n Ä‘á» báº¥t thÆ°á»ng áº©n chá»©a trong dá»¯ liá»‡u.Táº¡i sao láº¡i cáº§n trá»±c quan hÃ³a dá»¯ liá»‡u ? Thá»© nháº¥t lÃ  nÃ£o bá»™ cá»§a con ngÆ°á»i sáº½ cho pháº£n á»©ng Ä‘á»‘i vá»›i hÃ¬nh áº£nh, mÃ u sáº¯c, kÃ­ch thÆ°á»›c, khoáº£ng cÃ¡ch, â€¦ tá»‘t hÆ¡n nhiá»u vá»›i cÃ¡c kÃ½ hiá»‡u vÃ  con sá»‘. Thá»© hai lÃ  dá»¯ liá»‡u mÃ  chÃºng ta pháº£i Ä‘á»‘i máº·t trong thá»i Ä‘áº¡i ngÃ y nay ngÃ y cÃ ng lá»›n vÃ  phá»©c táº¡p. Trá»±c quan hÃ³a lÃ  phÆ°Æ¡ng phÃ¡p hiá»‡u quáº£ nháº¥t Ä‘á»ƒ tÃ¬m ra cÃ¡c giÃ¡ trá»‹ áº©n chá»©a bÃªn trong dá»¯ liá»‡u. ÄÃ¢y chÃ­nh lÃ  Ä‘iá»ƒm khiáº¿n ká»¹ nÄƒng trá»±c quan hÃ³a dá»¯ liá»‡u Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ lÃ  ká»¹ nÄƒng quan trá»ng nháº¥t Ä‘á»‘i vá»›i nhá»¯ng ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u.CÃ³ nhiá»u cÃ´ng cá»¥ Ä‘á»ƒ trá»±c quan hÃ³a dá»¯ liá»‡u. TiÃªu biá»ƒu pháº£i ká»ƒ Ä‘áº¿n Power BI vÃ  Tableau. ÄÃ¢y lÃ  hai cÃ´ng cá»¥ thÃ¢n thiá»‡n vá»›i ngÆ°á»i dÃ¹ng, cho phÃ©p ngÆ°á»i dÃ¹ng táº¡o báº£ng Ä‘iá»u khiá»ƒn vÃ  bÃ¡o cÃ¡o tÆ°Æ¡ng tÃ¡c má»™t cÃ¡ch nhanh chÃ³ng vÃ  dá»… dÃ ng. Cáº£ hai Ä‘á»u cÃ³ giao diá»‡n kiá»ƒu kÃ©o vÃ  tháº£ chuá»™t giÃºp dá»… dÃ ng táº¡o hÃ¬nh áº£nh trá»±c quan mÃ  khÃ´ng cáº§n báº¥t ká»³ ká»¹ nÄƒng láº­p trÃ¬nh nÃ o.R sá»­ dá»¥ng thÆ° viá»‡n \\(ggplot2\\) Ä‘á»ƒ trá»±c quan hÃ³a dá»¯ liá»‡u. Sáº½ lÃ  khÃ´ng dá»… dÃ ng cho ngÆ°á»i má»›i báº¯t Ä‘áº§u váº½ Ä‘Æ°á»£c Ä‘á»“ thá»‹ báº±ng \\(ggplot2\\). Äiá»ƒm máº¡nh cá»§a \\(ggplot2\\) vá»›i cÃ¡c cÃ´ng cá»¥ nhÆ° Power BI hay Tableau lÃ  cho phÃ©p ngÆ°á»i dÃ¹ng táº¡o cÃ¡c hÃ¬nh áº£nh cÃ³ kháº£ nÄƒng tÃ¹y biáº¿n cao. \\(ggplot2\\) lÃ  má»™t lá»±a chá»n phÃ¹ há»£p dÃ nh cho cÃ¡c nhÃ  phÃ¢n tÃ­ch dá»¯ liá»‡u, nhá»¯ng ngÆ°á»i cáº£m tháº¥y há»©ng thÃº vá»›i viá»‡c viáº¿t cÃ¡c cÃ¢u lá»‡nh Ä‘á»ƒ táº¡o ra cÃ¡c hÃ¬nh áº£nh trá»±c quan phá»©c táº¡p, vÃ  Ä‘Ãºng theo Ã½ muá»‘n cá»§a mÃ¬nh. Vá»›i má»™t chÃºt kinh nghiá»‡m vá» Power BI vÃ  Tableau, cÃ¹ng vá»›i nhiá»u hÆ¡n má»™t chÃºt kinh nghiá»‡m vá» \\(ggplot2\\), chÃºng tÃ´i cho ráº±ng báº¡n Ä‘á»c nÃªn lÃ m quen vá»›i cáº£ hai cÃ¡ch trá»±c quan hÃ³a dá»¯ liá»‡u. Khi báº¡n pháº£i táº¡o cÃ¡c bÃ¡o cÃ¡o trá»±c quan trong má»™t thá»i gian ngáº¯n, Power BI hay Tableau sáº½ lÃ  lá»±a chá»n tá»‘i Æ°u. Khi báº¡n muá»‘n váº½ nhá»¯ng hÃ¬nh áº£nh phá»©c táº¡p, cÃ³ tÃ­nh cÃ¡ nhÃ¢n cao, vÃ  báº¡n cÃ³ thá»i gian Ä‘á»ƒ lÃ m viá»‡c Ä‘Ã³, hÃ£y sá»­ dá»¥ng \\(ggplot2\\).","code":""},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"giá»›i-thiá»‡u-vá»-ggplot2","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.1 Giá»›i thiá»‡u vá» \\(ggplot2\\)","text":"\\(ggplot2\\) lÃ  má»™t thÆ° viá»‡n Ä‘á»ƒ trá»±c quan hÃ³a dá»¯ liá»‡u trong R. NgoÃ i \\(ggplot2\\), báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c Ä‘á»“ thá»‹ cÆ¡ báº£n cá»§a R, hoáº·c sá»­ dá»¥ng cÃ¡c thÆ° viá»‡n khÃ¡c nhÆ° \\(lattice\\) Ä‘á»ƒ váº½ Ä‘á»“ thá»‹. Tuy nhiÃªn, khÃ´ng giá»‘ng nhÆ° háº§u háº¿t cÃ¡c cÃ´ng cá»¥ khÃ¡c, \\(ggplot2\\) trá»±c quan hÃ³a dá»¯ liá»‡u dá»±a trÃªn Ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹ (Wilkinson 2005). Hai chá»¯ \\(gg\\) báº¯t Ä‘áº§u cÃ³ nghÄ©a lÃ  Grammar Graphic hay Ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹. Ngá»¯ phÃ¡p cho phÃ©p báº¡n Ä‘á»c váº½ Ä‘á»“ thá»‹ báº±ng cÃ¡ch káº¿t há»£p cÃ¡c cáº¥u pháº§n Ä‘á»™c láº­p láº¡i vá»›i nhau. ÄÃ¢y chÃ­nh lÃ  Ä‘iá»ƒm máº¡nh cá»§a \\(ggplot2\\). Thay vÃ¬ bá»‹ giá»›i háº¡n á»Ÿ cÃ¡c bá»™ Ä‘á»“ thá»‹ Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trÆ°á»›c, báº¡n Ä‘á»c cÃ³ thá»ƒ táº¡o Ä‘á»“ thá»‹ má»›i phÃ¹ há»£p vá»›i má»¥c tiÃªu cá»§a mÃ¬nh. Ã tÆ°á»Ÿng pháº£i há»c ngá»¯ phÃ¡p Ä‘á»ƒ váº½ Ä‘á»“ thá»‹ cÃ³ thá»ƒ lÃ m cho báº¡n Ä‘á»c cáº£m tháº¥y náº£n chÃ­, nhÆ°ng sá»± tháº­t lÃ  ngá»¯ phÃ¡p cá»§a \\(ggplot2\\) thá»±c sá»± dá»… há»c. Chá»‰ cÃ³ má»™t sá»‘ nguyÃªn táº¯c cá»‘t lÃµi Ä‘Æ¡n giáº£n vÃ  cÃ³ ráº¥t Ã­t trÆ°á»ng há»£p Ä‘áº·c biá»‡t. Khi Ä‘Ã£ thÃ´ng tháº¡o Ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹, ngoÃ i táº¡o ra nhá»¯ng Ä‘á»“ thá»‹ quen thuá»™c, báº¡n Ä‘á»c cÃ²n cÃ³ thá»ƒ táº¡o ra nhá»¯ng Ä‘á»“ thá»‹ má»›i hÆ¡n, Ä‘áº¹p hÆ¡n vÃ  mang tÃ­nh cÃ¡ch riÃªng. Báº¡n Ä‘á»c cÃ³ thá»ƒ gáº·p khÃ³ khÄƒn má»™t chÃºt thá»i gian ban Ä‘áº§u nhÆ°ng chÃºng tÃ´i tin ráº±ng khi Ä‘Ã£ quen vá»›i \\(ggplot2\\) thÃ¬ sáº½ ráº¥t Ã­t báº¡n Ä‘á»c muá»‘n quay láº¡i vá»›i cÃ¡c cÃ´ng cá»¥ trá»±c quan hÃ³a dá»¯ liá»‡u khÃ¡c.HÃ£y thá»­ xem má»™t chÃºt \\(ggplot2\\) trá»±c quan hÃ³a dá»¯ liá»‡u nhÆ° tháº¿ nÃ o. ChÃºng ta sáº½ báº¯t Ä‘áº§u vá»›i má»™t dá»¯ liá»‡u cÃ³ tÃªn lÃ  \\(murders\\) trong thÆ° viá»‡n \\(dslabs\\). Giáº£ sá»­ báº¡n muá»‘n du lá»‹ch Ä‘áº¿n Má»¹ nhÆ°ng báº¡n lo ngáº¡i vá» viá»‡c cho phÃ©p sá»­ dá»¥ng sÃºng á»Ÿ quá»‘c gia nÃ y vÃ  báº¡n muá»‘n biáº¿t á»Ÿ nhá»¯ng bang nÃ o cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cao. Dá»¯ liá»‡u \\(murders\\) lÃ  dá»¯ liá»‡u FBI cung cáº¥p vá» sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng táº¡i cÃ¡c bang cá»§a nÆ°á»›c Má»¹ vÃ o nÄƒm 2010. báº¡n Ä‘á»c Ä‘Ã£ biáº¿t vá» \\(data.frame()\\), nÃªn báº¡n cÃ³ thá»ƒ tÃ¬m hiá»ƒu vá» dá»¯ liá»‡u báº±ng cÃ¡c hÃ m nhÆ° head(), str(), view()Tháº­t khÃ³ Ä‘á»ƒ cÃ³ thá»ƒ cÃ³ Ä‘Æ°á»£c cÃ¡i nhÃ¬n tá»•ng thá»ƒ vá» dá»¯ liá»‡u náº¿u chá»‰ nhÃ¬n vÃ o cÃ¡c báº£ng, cÃ¡c con sá»‘, kÃ½ hiá»‡u nhÆ° trÃªn. Thay vÃ¬ sá»­ dá»¥ng con sá»‘, báº¡n Ä‘á»c cÃ³ thá»ƒ trÃ¬nh bÃ y dá»¯ liá»‡u \\(murders\\) dÆ°á»›i dáº¡ng má»™t Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm (scatter plot) nhÆ° sauChÃºng tÃ´i Ä‘Ã£ sá»­ dá»¥ng má»™t vÃ i ká»¹ thuáº­t biáº¿n Ä‘á»•i dá»¯ liá»‡u Ä‘á»ƒ váº½ Ä‘á»“ thá»‹ á»Ÿ trÃªn:cÃ¡c biáº¿n total (tá»•ng sá»‘ vá»¥ sÃ¡t nhÃ¢n) vÃ  biáº¿n population (dÃ¢n sá»‘ cá»§a má»—i bang) Ä‘á»u cÃ³ Ä‘uÃ´i dÃ i, nghÄ©a lÃ  cÃ³ nhiá»u Ä‘iá»ƒm táº­p trung á»Ÿ khu vá»±c trung tÃ¢m, vÃ  má»™t sá»‘ Ã­t Ä‘iá»ƒm táº­p trung á»Ÿ phÃ­a Ä‘uÃ´i bÃªn pháº£i, Ä‘Ã³ thay vÃ¬ sá»­ dá»¥ng chÃ­nh xÃ¡c giÃ¡ trá»‹ cá»§a cÃ¡c biáº¿n trÃªn Ä‘á»“ thá»‹, cÃ¡c Ä‘iá»ƒm cá»§a Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm sáº½ phÃ¢n bá»‘ khÃ´ng Ä‘á»“ng Ä‘á»u. GiÃ¡ trá»‹ hiá»ƒn thá»‹ trÃªn Ä‘á»“ thá»‹ Ä‘Ã£ Ä‘Æ°á»£c Ä‘iá»u chÃ­nh láº¡i theo hÃ m \\(log()\\) cÆ¡ sá»‘ 10.cÃ¡c biáº¿n total (tá»•ng sá»‘ vá»¥ sÃ¡t nhÃ¢n) vÃ  biáº¿n population (dÃ¢n sá»‘ cá»§a má»—i bang) Ä‘á»u cÃ³ Ä‘uÃ´i dÃ i, nghÄ©a lÃ  cÃ³ nhiá»u Ä‘iá»ƒm táº­p trung á»Ÿ khu vá»±c trung tÃ¢m, vÃ  má»™t sá»‘ Ã­t Ä‘iá»ƒm táº­p trung á»Ÿ phÃ­a Ä‘uÃ´i bÃªn pháº£i, Ä‘Ã³ thay vÃ¬ sá»­ dá»¥ng chÃ­nh xÃ¡c giÃ¡ trá»‹ cá»§a cÃ¡c biáº¿n trÃªn Ä‘á»“ thá»‹, cÃ¡c Ä‘iá»ƒm cá»§a Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm sáº½ phÃ¢n bá»‘ khÃ´ng Ä‘á»“ng Ä‘á»u. GiÃ¡ trá»‹ hiá»ƒn thá»‹ trÃªn Ä‘á»“ thá»‹ Ä‘Ã£ Ä‘Æ°á»£c Ä‘iá»u chÃ­nh láº¡i theo hÃ m \\(log()\\) cÆ¡ sá»‘ 10.ChÃºng tÃ´i thÃªm vÃ o má»™t Ä‘Æ°á»ng tháº³ng tuyáº¿n tÃ­nh (Ä‘Æ°á»ng káº» mÃ u xÃ¡m Ä‘i qua trung tÃ¢m) Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ chung giá»¯a hai biáº¿n \\(total\\) vÃ  \\(population\\).ChÃºng tÃ´i thÃªm vÃ o má»™t Ä‘Æ°á»ng tháº³ng tuyáº¿n tÃ­nh (Ä‘Æ°á»ng káº» mÃ u xÃ¡m Ä‘i qua trung tÃ¢m) Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ chung giá»¯a hai biáº¿n \\(total\\) vÃ  \\(population\\).Dá»±a trÃªn Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm á»Ÿ trÃªn, báº¡n Ä‘á»c cÃ³ thá»ƒ Ä‘Æ°a ra Ä‘Æ°á»£c ngay cÃ¡c nháº­n xÃ©t nhÆ° sauBang nÃ o cÃ³ dÃ¢n sá»‘ cÃ ng cao thÃ¬ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cÃ ng nhiá»u.Bang nÃ o cÃ³ dÃ¢n sá»‘ cÃ ng cao thÃ¬ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cÃ ng nhiá»u.Háº§u háº¿t cÃ¡c bang náº±m phÃ­a trÃªn Ä‘Æ°á»ng trung bÃ¬nh lÃ  cÃ¡c bang á»Ÿ miá»n Nam (mÃ u Ä‘á»).Háº§u háº¿t cÃ¡c bang náº±m phÃ­a trÃªn Ä‘Æ°á»ng trung bÃ¬nh lÃ  cÃ¡c bang á»Ÿ miá»n Nam (mÃ u Ä‘á»).CÃ¡c vÃ¹ng cÃ²n láº¡i khÃ´ng cÃ³ sá»± phÃ¢n biá»‡t rÃµ rÃ ng.CÃ¡c vÃ¹ng cÃ²n láº¡i khÃ´ng cÃ³ sá»± phÃ¢n biá»‡t rÃµ rÃ ng.Bang â€œDistrict Columbiaâ€ lÃ  bang náº±m cao hÆ¡n háº³n vá»›i Ä‘Æ°á»ng trung bÃ¬nh, vÃ  cÅ©ng lÃ  bang cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cao nháº¥t.Bang â€œDistrict Columbiaâ€ lÃ  bang náº±m cao hÆ¡n háº³n vá»›i Ä‘Æ°á»ng trung bÃ¬nh, vÃ  cÅ©ng lÃ  bang cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cao nháº¥t.Bang California cÃ³ tá»•ng sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng lá»›n nháº¥t, nhÆ°ng tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng trÃªn Ä‘áº§u ngÆ°á»i chá»‰ báº±ng má»©c trung bÃ¬nh chung.Bang California cÃ³ tá»•ng sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng lá»›n nháº¥t, nhÆ°ng tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng trÃªn Ä‘áº§u ngÆ°á»i chá»‰ báº±ng má»©c trung bÃ¬nh chung.KhÃ´ng dá»… dÃ ng Ä‘á»ƒ Ä‘Æ°a ra Ä‘Æ°á»£c cÃ¡c nháº­n xÃ©t nhÆ° trÃªn náº¿u chá»‰ dá»±a trÃªn quan sÃ¡t con sá»‘ vÃ  dá»¯ liá»‡u. Thay vÃ¬ biá»ƒu diá»…n dÆ°á»›i dáº¡ng con sá»‘, chÃºng ta cÃ³ thá»ƒ Ä‘Æ°a ra nhiá»u phÃ¢n tÃ­ch cÃ³ Ã½ nghÄ©a vá» dá»¯ liá»‡u khi sá»­ dá»¥ng Ä‘á»“ thá»‹ nhÆ° trÃªn.Wilkinson (2005) giá»›i thiá»‡u khÃ¡i niá»‡m Ngá»¯ phÃ¡p Ä‘á»“ thá»‹ Ä‘á»ƒ mÃ´ táº£ cÃ¡c thÃ nh pháº§n cÆ¡ báº£n lÃ m ná»n táº£ng cho táº¥t cáº£ cÃ¡c Ä‘á»“ thá»‹ sá»­ dá»¥ng vÃ  cÃ¡ch cÃ¡c thÃ nh pháº§n tÆ°Æ¡ng tÃ¡c trong mÃ´ táº£ dá»¯ liá»‡u. Ngá»¯ phÃ¡p Ä‘á»“ thá»‹ lÃ  mÃ´ táº£ chÃ­nh xÃ¡c nháº¥t cho cÃ¢u há»i Ä‘á»“ thá»‹ trá»±c quan hÃ³a dá»¯ liá»‡u lÃ  gÃ¬? ThÆ° viá»‡n \\(ggplot2\\) Ä‘Æ°á»£c Wickham giá»›i thiá»‡u vÃ o 2009 xÃ¢y dá»±ng dá»±a trÃªn ngá»¯ phÃ¡p Ä‘á»“ thá»‹ mÃ  Wilkinson Ä‘Ã£ Ä‘á» cáº­p báº±ng cÃ¡ch táº­p trung vÃ o viá»‡c xÃ¢y dá»±ng Ä‘á»“ thá»‹ dá»±a trÃªn nhiá»u lá»›p (layer). NhÃ¬n chung, ngá»¯ phÃ¡p Ä‘á»“ thá»‹ cho chÃºng ta biáº¿t quy táº¯c cho tÆ°Æ¡ng á»©ng cÃ¡c biáº¿n cá»§a dá»¯ liá»‡u vá»›i cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ (cÃ¡c aesthetic attributions) cá»§a Ä‘á»‘i tÆ°á»£ng hÃ¬nh áº£nh xuáº¥t hiá»‡n (cÃ¡c geometries). Äá»“ thá»‹ trong \\(ggplot2\\) cÅ©ng cÃ³ thá»ƒ bao gá»“m cÃ¡c mÃ´ hÃ¬nh thá»‘ng kÃª cá»§a dá»¯ liá»‡u vÃ  há»‡ tá»a Ä‘á»™ mÃ  Ä‘á»“ thá»‹ sá»­ dá»¥ng. Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ chia dá»¯ liá»‡u thÃ nh cÃ¡c táº­p há»£p con dá»±a trÃªn cÃ¡c biáº¿n rá»i ráº¡c vÃ  mÃ´ táº£ dá»¯ liá»‡u thÃ´ng qua má»™t nhÃ³m cÃ¡c Ä‘á»“ thá»‹ con thÃ´ng qua ká»¹ thuáº­t facetting. Sá»± káº¿t há»£p cá»§a cÃ¡c thÃ nh pháº§n Ä‘á»™c láº­p ká»ƒ trÃªn táº¡o nÃªn má»™t Ä‘á»“ thá»‹ mÃ´ táº£ dá»¯ liá»‡u.Báº¡n Ä‘á»c khÃ´ng cáº§n pháº£i lo láº¯ng náº¿u khÃ¡i niá»‡m Ngá»¯ phÃ¡p Ä‘á»“ thá»‹ á»Ÿ trÃªn khÃ´ng cÃ³ Ã½ nghÄ©a ngay láº­p tá»©c. Trong pháº§n sau cá»§a cuá»‘n sÃ¡ch, chÃºng tÃ´i sáº½ nÃ³i vá» ngá»¯ phÃ¡p Ä‘á»“ thá»‹ má»™t cÃ¡ch chi tiáº¿t hÆ¡n. Báº¡n sáº½ cÃ³ nhiá»u cÆ¡ há»™i hÆ¡n Ä‘á»ƒ tÃ¬m hiá»ƒu vá» Ngá»¯ phÃ¡p vÃ  cÃ¡c sá»­ dá»¥ng ngá»¯ phÃ¡p Ä‘á»ƒ cÃ¡c cáº¥u pháº§n Ä‘á»™c láº­p cá»§a má»™t Ä‘á»“ thá»‹ hoáº¡t Ä‘á»™ng cÃ¹ng nhau. Trong pháº§n giá»›i thiá»‡u nÃ y, chÃºng tÃ´i muá»‘n báº¡n Ä‘á»c hÃ£y ghi nhá»› thÃ nh pháº§n Ä‘á»™c láº­p táº¡o nÃªn má»™t Ä‘á»“ thá»‹ cÆ¡ báº£n bao gá»“m cÃ³Dá»¯ liá»‡u (Data) lÃ  dá»¯ liá»‡u hay táº­p há»£p cÃ¡c dá»¯ liá»‡u mÃ  báº¡n Ä‘á»c muá»‘n trá»±c quan hÃ³a. ThÃ´ng thÆ°á»ng thÃ¬ chá»‰ cÃ³ má»™t dá»¯ liá»‡u chÃ­nh mÃ  báº¡n Ä‘á»c muá»‘n minh há»a cho ngÆ°á»i tiáº¿p nháº­n dá»¯ liá»‡u, trong khi cÃ¡c dá»¯ liá»‡u khÃ¡c Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i má»¥c Ä‘Ã­ch Ä‘á»ƒ mÃ´ táº£ dá»¯ liá»‡u chÃ­nh. Má»™t vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh cá»§a dá»¯ liá»‡u phá»¥ lÃ  dá»¯ liá»‡u kiá»ƒu báº£n Ä‘á»“. Cháº³ng háº¡n nhÆ° khi báº¡n Ä‘á»c muá»‘n mÃ´ táº£ vá» dá»¯ liá»‡u \\(murder\\), báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng dá»¯ liá»‡u vá» báº£n Ä‘á»“ nÆ°á»›c Má»¹ Ä‘á»ƒ mÃ´ táº£ tá»‘t hÆ¡n vá» dá»¯ liá»‡u \\(murder\\).Dá»¯ liá»‡u (Data) lÃ  dá»¯ liá»‡u hay táº­p há»£p cÃ¡c dá»¯ liá»‡u mÃ  báº¡n Ä‘á»c muá»‘n trá»±c quan hÃ³a. ThÃ´ng thÆ°á»ng thÃ¬ chá»‰ cÃ³ má»™t dá»¯ liá»‡u chÃ­nh mÃ  báº¡n Ä‘á»c muá»‘n minh há»a cho ngÆ°á»i tiáº¿p nháº­n dá»¯ liá»‡u, trong khi cÃ¡c dá»¯ liá»‡u khÃ¡c Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i má»¥c Ä‘Ã­ch Ä‘á»ƒ mÃ´ táº£ dá»¯ liá»‡u chÃ­nh. Má»™t vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh cá»§a dá»¯ liá»‡u phá»¥ lÃ  dá»¯ liá»‡u kiá»ƒu báº£n Ä‘á»“. Cháº³ng háº¡n nhÆ° khi báº¡n Ä‘á»c muá»‘n mÃ´ táº£ vá» dá»¯ liá»‡u \\(murder\\), báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng dá»¯ liá»‡u vá» báº£n Ä‘á»“ nÆ°á»›c Má»¹ Ä‘á»ƒ mÃ´ táº£ tá»‘t hÆ¡n vá» dá»¯ liá»‡u \\(murder\\).HÃ¬nh dáº¡ng Ä‘á»“ há»a (cÃ¡c \\(geometries\\) hay viáº¿t táº¯t lÃ  cÃ¡c \\(geom\\)) lÃ  nhá»¯ng hÃ¬nh dáº¡ng Ä‘á»“ há»a mÃ  chÃºng ta muá»‘n nhÃ¬n tháº¥y trÃªn Ä‘á»“ thá»‹. CÃ¡c hÃ¬nh dáº¡ng nÃ y cÃ³ thá»ƒ lÃ  cÃ¡c Ä‘iá»ƒm, cÃ¡c thanh, cÃ¡c Ä‘Æ°á»ng.HÃ¬nh dáº¡ng Ä‘á»“ há»a (cÃ¡c \\(geometries\\) hay viáº¿t táº¯t lÃ  cÃ¡c \\(geom\\)) lÃ  nhá»¯ng hÃ¬nh dáº¡ng Ä‘á»“ há»a mÃ  chÃºng ta muá»‘n nhÃ¬n tháº¥y trÃªn Ä‘á»“ thá»‹. CÃ¡c hÃ¬nh dáº¡ng nÃ y cÃ³ thá»ƒ lÃ  cÃ¡c Ä‘iá»ƒm, cÃ¡c thanh, cÃ¡c Ä‘Æ°á»ng.CÃ¡c Ã¡nh xáº¡ tháº©m má»¹ (Aesthetic mapping) lÃ  cÃ¡c quy táº¯c cho tÆ°Æ¡ng á»©ng tá»« cÃ¡c biáº¿n (cá»™t cá»§a dá»¯ liá»‡u) Ä‘áº¿n cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ (aesthetic attribution) cá»§a cÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a. CÃ¡c thuá»™c tÃ­nh tháº©m má»¹ cÃ³ thá»ƒ lÃ  hÃ¬nh dáº¡ng, mÃ u sáº¯c, Ä‘á»™ Ä‘áº­m nháº¡t, â€¦CÃ¡c Ã¡nh xáº¡ tháº©m má»¹ (Aesthetic mapping) lÃ  cÃ¡c quy táº¯c cho tÆ°Æ¡ng á»©ng tá»« cÃ¡c biáº¿n (cá»™t cá»§a dá»¯ liá»‡u) Ä‘áº¿n cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ (aesthetic attribution) cá»§a cÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a. CÃ¡c thuá»™c tÃ­nh tháº©m má»¹ cÃ³ thá»ƒ lÃ  hÃ¬nh dáº¡ng, mÃ u sáº¯c, Ä‘á»™ Ä‘áº­m nháº¡t, â€¦CÃ¡c mÃ´ hÃ¬nh hay biáº¿n Ä‘á»•i thá»‘ng kÃª (statistics hay viáº¿t táº¯t lÃ  stats) lÃ  cÃ¡c quy táº¯c tÃ³m táº¯t dá»¯ liá»‡u, cÃ¡c mÃ´ hÃ¬nh xÃ¢y dá»±ng trÃªn dá»¯ liá»‡u Ä‘Æ°á»£c mÃ´ táº£ dÆ°á»›i dáº¡ng má»™t hÃ¬nh dáº¡ng Ä‘á»“ há»a nháº±m tÄƒng tÃ­nh dá»… hiá»ƒu cho Ä‘á»“ thá»‹ hoáº·c lÃ m ná»•i báº­t má»™t xu tháº¿ nÃ o Ä‘Ã³. VÃ­ dá»¥ nhÆ° trong Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm mÃ´ táº£ dá»¯ liá»‡u \\(murder\\), chÃºng tÃ´i Ä‘Ã£ sá»­ dá»¥ng má»™t mÃ´ hÃ¬nh tuyáº¿n tÃ­nh mÃ´ táº£ má»‘i quan há»‡ giá»¯a biáº¿n \\(total\\) vÃ  biáº¿n \\(population\\) vá»›i má»¥c Ä‘Ã­ch phÃ¢n loáº¡i ra cÃ¡c bang cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng tháº¥p hÆ¡n vÃ  cÃ¡c bang cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cao hÆ¡n vá»›i chung bÃ¬nh chung.CÃ¡c mÃ´ hÃ¬nh hay biáº¿n Ä‘á»•i thá»‘ng kÃª (statistics hay viáº¿t táº¯t lÃ  stats) lÃ  cÃ¡c quy táº¯c tÃ³m táº¯t dá»¯ liá»‡u, cÃ¡c mÃ´ hÃ¬nh xÃ¢y dá»±ng trÃªn dá»¯ liá»‡u Ä‘Æ°á»£c mÃ´ táº£ dÆ°á»›i dáº¡ng má»™t hÃ¬nh dáº¡ng Ä‘á»“ há»a nháº±m tÄƒng tÃ­nh dá»… hiá»ƒu cho Ä‘á»“ thá»‹ hoáº·c lÃ m ná»•i báº­t má»™t xu tháº¿ nÃ o Ä‘Ã³. VÃ­ dá»¥ nhÆ° trong Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm mÃ´ táº£ dá»¯ liá»‡u \\(murder\\), chÃºng tÃ´i Ä‘Ã£ sá»­ dá»¥ng má»™t mÃ´ hÃ¬nh tuyáº¿n tÃ­nh mÃ´ táº£ má»‘i quan há»‡ giá»¯a biáº¿n \\(total\\) vÃ  biáº¿n \\(population\\) vá»›i má»¥c Ä‘Ã­ch phÃ¢n loáº¡i ra cÃ¡c bang cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng tháº¥p hÆ¡n vÃ  cÃ¡c bang cÃ³ tá»· lá»‡ sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng cao hÆ¡n vá»›i chung bÃ¬nh chung.Há»‡ tá»a Ä‘á»™ (Cordinate) mÃ´ táº£ cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c trá»±c quan hÃ³a trÃªn máº·t pháº³ng cá»§a Ä‘á»“ há»a. Äa sá»‘ cÃ¡c trÆ°á»ng há»£p chÃºng ta sáº½ sá»­ dá»¥ng há»‡ tá»a Ä‘á»™ Descartes, nhÆ°ng cÅ©ng cÃ³ má»™t sá»‘ há»‡ tá»a Ä‘á»™ khÃ¡c cÃ³ thá»ƒ sá»­ dá»¥ng bao gá»“m tá»a Ä‘á»™ cá»±c vÃ  báº£n Ä‘á»“.Há»‡ tá»a Ä‘á»™ (Cordinate) mÃ´ táº£ cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c trá»±c quan hÃ³a trÃªn máº·t pháº³ng cá»§a Ä‘á»“ há»a. Äa sá»‘ cÃ¡c trÆ°á»ng há»£p chÃºng ta sáº½ sá»­ dá»¥ng há»‡ tá»a Ä‘á»™ Descartes, nhÆ°ng cÅ©ng cÃ³ má»™t sá»‘ há»‡ tá»a Ä‘á»™ khÃ¡c cÃ³ thá»ƒ sá»­ dá»¥ng bao gá»“m tá»a Ä‘á»™ cá»±c vÃ  báº£n Ä‘á»“.Má»™t thÃ nh pháº§n mÃ´ táº£ cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c hiá»ƒn thá»‹ lÃ  chia nhá» dá»¯ liá»‡u Ä‘á»ƒ mÃ´ táº£ báº±ng má»™t nhÃ³m cÃ¡c Ä‘á»“ thá»‹ thay vÃ¬ má»™t Ä‘á»“ thá»‹ duy nháº¥t Ä‘Æ°á»£c gá»i lÃ  facetting. ThÃ nh pháº§n nÃ y thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ dá»¯ liá»‡u cÃ³ kÃ­ch thÆ°á»›c lá»›n vÃ  hoáº·c chÃºng ta muá»‘n sÃ¡nh trá»±c quan dá»¯ liá»‡u á»Ÿ cÃ¡c nhÃ³m khÃ¡c nhau.Má»™t thÃ nh pháº§n mÃ´ táº£ cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c hiá»ƒn thá»‹ lÃ  chia nhá» dá»¯ liá»‡u Ä‘á»ƒ mÃ´ táº£ báº±ng má»™t nhÃ³m cÃ¡c Ä‘á»“ thá»‹ thay vÃ¬ má»™t Ä‘á»“ thá»‹ duy nháº¥t Ä‘Æ°á»£c gá»i lÃ  facetting. ThÃ nh pháº§n nÃ y thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ dá»¯ liá»‡u cÃ³ kÃ­ch thÆ°á»›c lá»›n vÃ  hoáº·c chÃºng ta muá»‘n sÃ¡nh trá»±c quan dá»¯ liá»‡u á»Ÿ cÃ¡c nhÃ³m khÃ¡c nhau.ThÃ nh pháº§n cuá»‘i cÃ¹ng cá»§a Ä‘á»“ thá»‹ lÃ  ngá»¯ cáº£nh cá»§a Ä‘á»“ thá»‹ hay cÃ¡c themes. Theme quy Ä‘á»‹nh khung hoáº·c ná»n mÃ  Ä‘á»“ thá»‹ Ä‘Æ°á»£c hiá»ƒn thá»‹ cháº³ng háº¡n nhÆ° kÃ­ch thÆ°á»›c phÃ´ng chá»¯ hoáº·c mÃ u ná»n. Máº·c dÃ¹ cÃ¡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh trong \\(ggplot2\\) Ä‘Ã£ Ä‘Æ°á»£c lá»±a chá»n há»£p lÃ½ nhÆ°ng báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ cáº§n tham kháº£o cÃ¡c tÃ i liá»‡u tham kháº£o khÃ¡c Ä‘á»ƒ táº¡o ra má»™t ngá»¯ cáº£nh phÃ¹ há»£p hÆ¡n cho Ä‘á»“ thá»‹ cá»§a mÃ¬nh.ThÃ nh pháº§n cuá»‘i cÃ¹ng cá»§a Ä‘á»“ thá»‹ lÃ  ngá»¯ cáº£nh cá»§a Ä‘á»“ thá»‹ hay cÃ¡c themes. Theme quy Ä‘á»‹nh khung hoáº·c ná»n mÃ  Ä‘á»“ thá»‹ Ä‘Æ°á»£c hiá»ƒn thá»‹ cháº³ng háº¡n nhÆ° kÃ­ch thÆ°á»›c phÃ´ng chá»¯ hoáº·c mÃ u ná»n. Máº·c dÃ¹ cÃ¡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh trong \\(ggplot2\\) Ä‘Ã£ Ä‘Æ°á»£c lá»±a chá»n há»£p lÃ½ nhÆ°ng báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ cáº§n tham kháº£o cÃ¡c tÃ i liá»‡u tham kháº£o khÃ¡c Ä‘á»ƒ táº¡o ra má»™t ngá»¯ cáº£nh phÃ¹ há»£p hÆ¡n cho Ä‘á»“ thá»‹ cá»§a mÃ¬nh.Má»—i khi váº½ má»™t Ä‘á»“ thá»‹ \\(ggplot\\), báº¡n Ä‘á»c cáº§n tá»± Ä‘á»‹nh nghÄ©a Ã­t nháº¥t ba thÃ nh pháº§n: 1. Dá»¯ liá»‡u; 2. CÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a; vÃ  3. CÃ¡c Ã¡nh xáº¡ tháº©m má»¹. CÃ¡c thÃ nh pháº§n 5. Há»‡ tá»a Ä‘á»™; vÃ  7. Ngá»¯ cáº£nh; sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng gÃ¡n cho cÃ¡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh náº¿u báº¡n Ä‘á»c khÃ´ng quy Ä‘á»‹nh trong cÃ¢u lá»‡nh. VÃ  cÃ¡c thÃ nh pháº§n 4. MÃ´ hÃ¬nh; vÃ  6. Facetting; chá»‰ xuáº¥t hiá»‡n khi báº¡n Ä‘á»c gá»i lÃªn trong cÃ¢u lá»‡nh cá»§a mÃ¬nh.TrÆ°á»›c khi Ä‘i vÃ o giá»›i thiá»‡u chi tiáº¿t cÃ¡c cÃ¡ch táº¡o nÃªn má»™t Ä‘á»“ thá»‹ trá»±c quan hÃ³a, báº¡n Ä‘á»c cÅ©ng cáº§n biáº¿t Ä‘Æ°á»£c cÃ¡c háº¡n cháº¿ khi trá»±c quan hÃ³a dá»¯ liá»‡u báº±ng \\(ggplot2\\):\\(ggplot2\\) lÃ  má»™t thÆ° viá»‡n cá»§a R nÃªn báº¡n Ä‘á»c cáº§n cÃ³ ká»¹ nÄƒng viáº¿t cÃ¢u lá»‡nh R tÆ°Æ¡ng Ä‘á»‘i thÃ nh tháº¡o.\\(ggplot2\\) lÃ  má»™t thÆ° viá»‡n cá»§a R nÃªn báº¡n Ä‘á»c cáº§n cÃ³ ká»¹ nÄƒng viáº¿t cÃ¢u lá»‡nh R tÆ°Æ¡ng Ä‘á»‘i thÃ nh tháº¡o.\\(ggplot2\\) khÃ´ng gá»£i Ã½ báº¡n Ä‘á»c nÃªn sá»­ dá»¥ng Ä‘á»“ thá»‹ nÃ o khi gáº·p má»™t dá»¯ liá»‡u cá»¥ thá»ƒ. Äiá»u Ä‘Ã³ cÅ©ng cÃ³ nghÄ©a lÃ  báº¡n Ä‘á»c cáº§n cÃ³ má»™t chÃºt kinh nghiá»‡m vá» trá»±c quan hÃ³a dá»¯ liá»‡u trÆ°á»›c khi sá»­ dá»¥ng \\(ggplot2\\).\\(ggplot2\\) khÃ´ng gá»£i Ã½ báº¡n Ä‘á»c nÃªn sá»­ dá»¥ng Ä‘á»“ thá»‹ nÃ o khi gáº·p má»™t dá»¯ liá»‡u cá»¥ thá»ƒ. Äiá»u Ä‘Ã³ cÅ©ng cÃ³ nghÄ©a lÃ  báº¡n Ä‘á»c cáº§n cÃ³ má»™t chÃºt kinh nghiá»‡m vá» trá»±c quan hÃ³a dá»¯ liá»‡u trÆ°á»›c khi sá»­ dá»¥ng \\(ggplot2\\).\\(ggplot2\\) khÃ´ng Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘á»ƒ váº½ cÃ¡c Ä‘á»“ thá»‹ Ä‘á»™ng hay Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c mÃ  chá»‰ táº­p trung vÃ o váº½ cÃ¡c Ä‘á»“ thá»‹ tÄ©nh. Muá»‘n váº½ cÃ¡c Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c hay Ä‘á»“ thá»‹ Ä‘á»™ng trong \\(ggplot2\\) báº¡n Ä‘á»c pháº£i sá»­ dá»¥ng cÃ¡c packages Ä‘i kÃ¨m nhÆ° \\(gganimate\\) hay \\(ggplotly\\).\\(ggplot2\\) khÃ´ng Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘á»ƒ váº½ cÃ¡c Ä‘á»“ thá»‹ Ä‘á»™ng hay Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c mÃ  chá»‰ táº­p trung vÃ o váº½ cÃ¡c Ä‘á»“ thá»‹ tÄ©nh. Muá»‘n váº½ cÃ¡c Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c hay Ä‘á»“ thá»‹ Ä‘á»™ng trong \\(ggplot2\\) báº¡n Ä‘á»c pháº£i sá»­ dá»¥ng cÃ¡c packages Ä‘i kÃ¨m nhÆ° \\(gganimate\\) hay \\(ggplotly\\).Äá»ƒ káº¿t thÃºc pháº§n giá»›i thiá»‡u vá» \\(ggplot2\\), chÃºng tÃ´i sáº½ sá»­ dá»¥ng \\(ggplot2\\) káº¿t há»£p vá»›i \\(gganimate\\) Ä‘á»ƒ ká»ƒ má»™t cÃ¢u chuyá»‡n (story telling) vá» sá»± phÃ¡t triá»ƒn cá»§a cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i tá»« nÄƒm 1960 Ä‘áº¿n nÄƒm 2010 thÃ´ng qua hai khÃ­a cáº¡nh lÃ  tuá»•i thá» trung bÃ¬nh vÃ  thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i. Dá»¯ liá»‡u chÃ­nh Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  dá»¯ liá»‡u \\(gapminder\\).","code":"\nlibrary(dslabs)\nhead(murders)##        state abb region population total\n## 1    Alabama  AL  South    4779736   135\n## 2     Alaska  AK   West     710231    19\n## 3    Arizona  AZ   West    6392017   232\n## 4   Arkansas  AR  South    2915918    93\n## 5 California  CA   West   37253956  1257\n## 6   Colorado  CO   West    5029196    65"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"táº¡o-má»™t-Ä‘á»“-thá»‹-ggplot2-cÆ¡-báº£n","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.2 Táº¡o má»™t Ä‘á»“ thá»‹ \\(ggplot2\\) cÆ¡ báº£n","text":"TrÆ°á»›c khi giá»›i thiá»‡u chi tiáº¿t vá» cÃ¡c thÃ nh pháº§n Ä‘á»™c láº­p cá»§a Ä‘á»“ thá»‹ vÃ  cÃ¡ch sá»­ dá»¥ng ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹, chÃºng tÃ´i nghÄ© ráº±ng sáº½ tá»‘t hÆ¡n náº¿u báº¡n Ä‘á»c báº¯t Ä‘áº§u váº½ cÃ¡c Ä‘á»“ thá»‹ Ä‘Æ¡n giáº£n báº±ng cÃ¡ch copy vÃ  dÃ¡n cÃ¡c cÃ¢u lá»‡nh váº½ Ä‘á»“ thá»‹ trÆ°á»›c. Sau khi thá»±c thi má»™t vÃ i láº§n, báº¡n Ä‘á»c sáº½ cÃ³ â€œcáº£m nháº­nâ€ Ä‘Æ°á»£c pháº§n nÃ o cÃ¡ch mÃ  má»™t Ä‘á»“ thá»‹ cá»§a \\(ggplot2\\) Ä‘Æ°á»£c xÃ¢y dá»±ng. Dá»¯ liá»‡u chÃºng tÃ´i sá»­ dá»¥ng Ä‘á»ƒ trá»±c quan hÃ³a trong suá»‘t chÆ°Æ¡ng sÃ¡ch nÃ y lÃ  dá»¯ liá»‡u \\(gapminder\\), dá»¯ liá»‡u vá» sá»©c khá»e vÃ  thu nháº­p cá»§a táº¥t cáº£ cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i báº¯t Ä‘áº§u tá»« nÄƒm 1960 Ä‘áº¿n nÄƒm 2016. Báº¡n Ä‘á»c hÃ£y Ä‘áº£m báº£o ráº±ng mÃ¬nh Ä‘Ã£ Ä‘á»c vÃ  hiá»ƒu má»™t cÃ¡ch cÆ¡ báº£n vá» dá»¯ liá»‡u nÃ y.\nBáº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng dá»¯ liá»‡u \\(gapminder\\) cÃ³ nhiá»u giÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c trong nÄƒm 2016. Hai cá»™t cÃ³ tá»· lá»‡ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c qua cÃ¡c nÄƒm lá»›n lÃ  \\(infant\\_mortality\\) vÃ  \\(gdp\\). RiÃªng biáº¿n \\(gdp\\) lÃ  gáº§n nhÆ° khÃ´ng quan sÃ¡t Ä‘Æ°á»£c tá»« nÄƒm 2012 Ä‘áº¿n 2016. chá»‰ sá»­ dá»¥ng dá»¯ liá»‡u vá»›i má»¥c Ä‘Ã­ch trá»±c quan hÃ³a nÃªn chÃºng tÃ´i sáº½ tiá»n xá»­ lÃ½ dá»¯ liá»‡u má»™t cÃ¡ch Ä‘Æ¡n giáº£n lÃ  xÃ³a cÃ¡c quan sÃ¡t cá»§a cÃ¡c nÄƒm 2012 Ä‘áº¿n 2016. GiÃ¡ trá»‹ khÃ´ng quan sÃ¡t Ä‘Æ°á»£c tá»« nÄƒm 1960 Ä‘áº¿n 2012 sáº½ Ä‘Æ°á»£c thay tháº¿ báº±ng mÃ´ hÃ¬nh rá»«ng ngáº«u nhiÃªn. Dá»¯ liá»‡u sau bÆ°á»›c tiá»n xá»­ lÃ½ nÃ y Ä‘Æ°á»£c gá»i lÃ  \\(gapminder\\_1\\)HÃ m sá»‘ Ä‘á»ƒ váº½ Ä‘á»“ thá»‹ cá»§a thÆ° viá»‡n \\(ggplot2\\) lÃ  hÃ m ggplot(). Báº¡n Ä‘á»c hÃ£y nhá»› ráº±ng ba thÃ nh pháº§n báº¯t buá»™c pháº£i cÃ³ cá»§a má»™t Ä‘á»“ thá»‹ lÃ  1. Dá»¯ liá»‡u; 2. (Ãt nháº¥t) Má»™t hÃ¬nh dáº¡ng Ä‘á»“ há»a; vÃ  3. Ãnh xáº¡ tháº©m má»¹. Äá»“ thá»‹ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ hai biáº¿n gdp bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i vÃ  tuá»•i thá» trung bÃ¬nh cá»§a cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i vÃ o nÄƒm 2011. Báº¡n Ä‘á»c cÃ³ thá»ƒ copy cÃ¡c Ä‘oáº¡n lá»‡nh á»Ÿ dÆ°á»›i vÃ o cá»­a sá»• R script vÃ  thá»±c hiá»‡n giá»‘ng nhÆ° cÃ¡c cÃ¢u lá»‡nh thÃ´ng thÆ°á»ng.Trong cÃ¢u lá»‡nh ggplot() á»Ÿ trÃªn, dá»¯ liá»‡u Ä‘Æ°á»£c Ä‘Æ°a vÃ o lÃ  \\(data.frame\\) cÃ³ tÃªn lÃ  \\(dat\\), hÃ¬nh dáº¡ng Ä‘á»“ há»a lÃ  cÃ¡c Ä‘iá»ƒm trÃªn trá»¥c tá»a Ä‘á»™ Descartes. HÃ¬nh dáº¡ng Ä‘á»“ há»a nÃ y Ä‘Æ°á»£c gá»i báº±ng hÃ m geom_point(). Ãnh xáº¡ tháº©m má»¹ Ä‘Æ°á»£c gá»i thÃ´ng qua hÃ m aes() náº±m trong hÃ m ggplot(). Trong Ã¡nh xáº¡ tháº©m má»¹ á»Ÿ trÃªn, chÃºng ta Ä‘Ã£ cho tÆ°Æ¡ng á»©ng biáº¿n \\(life\\_expectancy\\) vá»›i giÃ¡ trá»‹ trÃªn trá»¥c \\(x\\) cá»§a trá»¥c tá»a Ä‘á»™ Descartes, biáº¿n \\(gdp\\_per\\_capita\\) vá»›i giÃ¡ trá»‹ trÃªn trá»¥c \\(y\\) cá»§a trá»¥c tá»a Ä‘á»™ Descartes.Báº¡n Ä‘á»c Ä‘Ã£ cÃ³ thá»ƒ tháº¥y Ä‘Æ°á»£c má»™t vÃ i thÃ´ng tin phÃ¡n Ã¡nh trÃªn dá»¯ liá»‡u.CÃ³ má»‘i liÃªn há»‡ Ä‘á»“ng biáº¿n giá»¯a tuá»•i thá» trung bÃ¬nh vÃ  thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i. Quá»‘c gia nÃ o cÃ³ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i cao thÃ¬ tuá»•i thá» trung bÃ¬nh cÅ©ng sáº½ cao. Äiá»u nÃ y khÃ¡ há»£p lÃ½ bá»Ÿi cÃ¡c quá»‘c gia cÃ³ thu nháº­p trung bÃ¬nh cao thÆ°á»ng lÃ  cÃ¡c nÆ°á»›c phÃ¡t triá»ƒn cÃ³ há»‡ thá»‘ng chÄƒm sÃ³c sá»©c khá»e tá»‘t, Ä‘Ã³ tuá»•i thá» trung bÃ¬nh cÅ©ng sáº½ cao.CÃ³ má»‘i liÃªn há»‡ Ä‘á»“ng biáº¿n giá»¯a tuá»•i thá» trung bÃ¬nh vÃ  thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i. Quá»‘c gia nÃ o cÃ³ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i cao thÃ¬ tuá»•i thá» trung bÃ¬nh cÅ©ng sáº½ cao. Äiá»u nÃ y khÃ¡ há»£p lÃ½ bá»Ÿi cÃ¡c quá»‘c gia cÃ³ thu nháº­p trung bÃ¬nh cao thÆ°á»ng lÃ  cÃ¡c nÆ°á»›c phÃ¡t triá»ƒn cÃ³ há»‡ thá»‘ng chÄƒm sÃ³c sá»©c khá»e tá»‘t, Ä‘Ã³ tuá»•i thá» trung bÃ¬nh cÅ©ng sáº½ cao.Má»‘i liÃªn há»‡ Ä‘á»“ng biáº¿n nhÆ°ng khÃ´ng tuyáº¿n tÃ­nh, thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i tÄƒng nhanh hÆ¡n ráº¥t nhiá»u ro vá»›i tuá»•i thá» trung bÃ¬nh.Má»‘i liÃªn há»‡ Ä‘á»“ng biáº¿n nhÆ°ng khÃ´ng tuyáº¿n tÃ­nh, thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i tÄƒng nhanh hÆ¡n ráº¥t nhiá»u ro vá»›i tuá»•i thá» trung bÃ¬nh.CÃ³ má»™t vÃ i Ä‘iá»ƒm cÃ³ kháº£ nÄƒng lÃ  ngoáº¡i lai trong má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh nÃ y. ÄÃ¢y lÃ  cÃ¡c quá»‘c gia cÃ³ má»©c thu nháº­p bÃ¬nh quÃ¢n khÃ¡ cao (tá»« 10 nghÃ¬n USD - 20 nghÃ¬n USD/1 ngÆ°á»i) nhÆ°ng láº¡i cÃ³ tuá»•i thá» trung bÃ¬nh khÃ´ng cao. Tuy nhiÃªn chá»‰ vá»›i cÃ¡c thÃ´ng tin nhÆ° trÃªn chÃºng ta khÃ´ng thá»ƒ Ä‘Æ°a ra giáº£i thÃ­ch cho cÃ¡c giÃ¡ trá»‹ cÃ³ kháº£ nÄƒng cao lÃ  ngoáº¡i lai nÃ y.CÃ³ má»™t vÃ i Ä‘iá»ƒm cÃ³ kháº£ nÄƒng lÃ  ngoáº¡i lai trong má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh nÃ y. ÄÃ¢y lÃ  cÃ¡c quá»‘c gia cÃ³ má»©c thu nháº­p bÃ¬nh quÃ¢n khÃ¡ cao (tá»« 10 nghÃ¬n USD - 20 nghÃ¬n USD/1 ngÆ°á»i) nhÆ°ng láº¡i cÃ³ tuá»•i thá» trung bÃ¬nh khÃ´ng cao. Tuy nhiÃªn chá»‰ vá»›i cÃ¡c thÃ´ng tin nhÆ° trÃªn chÃºng ta khÃ´ng thá»ƒ Ä‘Æ°a ra giáº£i thÃ­ch cho cÃ¡c giÃ¡ trá»‹ cÃ³ kháº£ nÄƒng cao lÃ  ngoáº¡i lai nÃ y.HÃ¬nh dáº¡ng Ä‘á»“ há»a lÃ  nhá»¯ng gÃ¬ mÃ  báº¡n Ä‘á»c nhÃ¬n tháº¥y trÃªn Ä‘á»“ thá»‹ cá»§a mÃ¬nh. Khi gá»i cÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a thÆ° viá»‡n \\(ggplot2\\) luÃ´n luÃ´n sá»­ dá»¥ng cÃ¡c hÃ m sá»‘ báº¯t Ä‘áº§u bá»Ÿi geom lÃ  viáº¿t táº¯t cá»§a \\(geometries\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ thá»­ vá»›i má»™t vÃ i hÃ¬nh dáº¡ng Ä‘á»“ há»a quen thuá»™c nhÆ° dÆ°á»›i Ä‘Ã¢yCÃ²n ráº¥t nhiá»u cÃ¡c hÃ m \\(geom_*()\\) khÃ¡c cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ táº¡o Ä‘á»“ thá»‹ trong thÆ° viá»‡n \\(ggplot2\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ xem danh sÃ¡ch cÃ¡c \\(geom\\) thÆ°á»ng sá»­ dá»¥ng trong danh sÃ¡ch Ä‘Ã­nh kÃ¨m dÆ°á»›i Ä‘Ã¢y.https://www.maths.usyd.edu.au/u/UG/SM/STAT3022/r/current/Misc/data-visualization-2.1.pdfBáº¡n Ä‘á»c cÃ³ thá»ƒ tháº§y ráº±ng CHEAT SHEET cÅ©ng Ä‘Ã£ cÃ³ gá»£i Ã½ cho ngÆ°á»i sá»­ dá»¥ng nÃªn dÃ¹ng hÃ m geom_*() nÃ o trong tá»«ng trÆ°á»ng há»£p. Cháº³ng háº¡n nhÆ° geom_point() Ä‘Æ°á»£c khuyÃªn dÃ¹ng trong trÆ°á»ng há»£p mÃ´ táº£ hai biáº¿n liÃªn tá»¥c. Äá»“ng thá»i, má»—i hÃ m geom_*() sáº½ cÃ³ má»™t danh sÃ¡ch cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ Ä‘i kÃ¨m. Äá»‘i vá»›i geom_point() cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ bao gá»“m \\(x\\), \\(y\\), \\(alpha\\), \\(color\\), \\(fill\\), \\(shape\\), \\(size\\), vÃ  \\(stroke\\). Báº¡n Ä‘á»c hÆ°á»›ng dáº«n sá»­ dá»¥ng cá»§a hÃ m geom_point() Ä‘á»ƒ biáº¿t cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ nÃ y cÃ³ Ã½ nghÄ©a nhÆ° tháº¿ nÃ o. Trong cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ nÃ y, \\(color\\), \\(fill\\), \\(shape\\) vÃ  \\(size\\) lÃ  cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ xuáº¥t hiá»‡n á»Ÿ nhiá»u hÃ m geom_*() khÃ¡c. ÄÃ¢y lÃ  cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ thÆ°á»ng xuyÃªn Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÄƒng kháº£ nÄƒng mÃ´ táº£ dá»¯ liá»‡u cá»§a cÃ¡c Ä‘á»“ thá»‹.Äá»ƒ mÃ´ táº£ tá»‘t hÆ¡n má»‘i quan há»‡ giá»¯a thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i vÃ  tuá»•i thá» trung bÃ¬nh cá»§a cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i, chÃºng ta cáº§n thÃªm thÃ´ng tin vÃ o Ä‘á»“ thá»‹ á»Ÿ trÃªn. Má»™t phÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n Ä‘á»ƒ thÃªm biáº¿n khÃ¡c vÃ o má»™t Ä‘á»“ thá»‹ lÃ  Ã¡nh xáº¡ biáº¿n Ä‘Ã³ Ä‘áº¿n má»™t trong cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ cá»§a Ä‘á»“ thá»‹ Ä‘Æ°á»£c váº½ bá»Ÿi hÃ m geom_point(). Biáº¿n Ä‘Æ°á»£c thÃªm vÃ o dÆ°á»›i Ä‘Ã¢y lÃ  biáº¿n \\(continent\\). ChÃºng ta sáº½ Ã¡nh xáº¡ biáº¿n Ä‘Ã³ tÆ°Æ¡ng á»©ng vá»›i thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) nhÆ° sauChÃºng ta Ä‘Ã£ cÃ³ thá»ƒ Ä‘Æ°a ra thÃªm cÃ¡c phÃ¢n tÃ­ch vá» má»‘i liÃªn há»‡ giá»¯a tuá»•i thá» trung bÃ¬nh vÃ  thu nháº­p bÃ¬nh quÃ¢n. CÃ³ sá»± phÃ¢n bá»‘ khÃ´ng Ä‘á»“ng Ä‘á»u vá» thu nháº­p bÃ¬nh quÃ¢n vÃ  tuá»•i thá» trung bÃ¬nh cá»§a cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i, Ä‘a sá»‘ cÃ¡c quá»‘c gia ChÃ¢u Phi (mÃ u Ä‘á») cÃ³ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i tháº¥p vÃ  tuá»•i thá» trung bÃ¬nh tháº¥p; cÃ¡c quá»‘c gia ChÃ¢u Ã‚u (mÃ u xanh da trá»i) cÃ³ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i cao vÃ  tuá»•i thá» trung bÃ¬nh cao. CÃ³ sá»± phÃ¢n hÃ³a rÃµ rÃ ng á»Ÿ ChÃ¢u Äáº¡i DÆ°Æ¡ng vÃ  ChÃ¢u Má»¹, má»™t vÃ i quá»‘c gia náº±m trong nhÃ³m cÃ¡c nÆ°á»›c cÃ³ thu nháº­p cao, tuá»•i thá» trung bÃ¬nh cao trong khi Ä‘a sá»‘ cÃ¡c quá»‘c gia cÃ²n láº¡i náº±m trong nhÃ³m thu nháº­p tháº¥p vÃ  tuá»•i thá» trung bÃ¬nh tháº¥p. Sá»± phÃ¢n hÃ³a á»Ÿ ChÃ¢u Ã khÃ´ng quÃ¡ rÃµ rÃ ng.CÃ³ má»™t nguyÃªn táº¯c lÃ  thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i biáº¿n rá»i ráº¡c vÃ  thuá»™c tÃ­nh tháº©m má»¹ \\(size\\) thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i biáº¿n liÃªn tá»¥c. Thuá»™c tÃ­nh tháº©m má»¹ \\(shape\\) chá»‰ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i biáº¿n rá»i ráº¡c, R sáº½ bÃ¡o lá»—i náº¿u báº¡n Ã¡nh xáº¡ má»™t biáº¿n liÃªn tá»¥c vÃ o \\(shape\\). CÃ³ 21 giÃ¡ trá»‹ khÃ¡c nhau trong dÃ nh cho thuá»™c tÃ­nh tháº©m má»¹ \\(shape\\) Ä‘Ã³ R sáº½ cÃ³ cáº£nh bÃ¡o náº¿u báº¡n Ä‘á»c Ã¡nh xáº¡ má»™t biáº¿n rá»i ráº¡c cÃ³ nhiá»u hÆ¡n 21 giÃ¡ trá»‹.Äá»“ thá»‹ dÆ°á»›i Ä‘Ã¢y thÃªm biáº¿n \\(population\\) vÃ o Ä‘á»“ thá»‹ báº±ng cÃ¡ch sá»­ dá»¥ng thuá»™c tÃ­nh tháº©m má»¹ \\(size\\). Báº¡n Ä‘á»c hÃ£y luÃ´n nhá»› ráº±ng Ä‘á»ƒ khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ tá»« má»™t biáº¿n Ä‘áº¿n má»™t thuá»™c tÃ­nh tháº©m má»¹, hÃ£y luÃ´n luÃ´n khai bÃ¡o bÃªn trong hÃ m aes().Tham sá»‘ \\(alpha\\) sá»­ dá»¥ng trong hÃ m geom_point() trong trÆ°á»ng há»£p dá»¯ liá»‡u cÃ³ nhiá»u Ä‘iá»ƒm bá»‹ trÃ¹ng lÃªn nhau. ChÃºng ta sáº½ tháº£o luáº­n ká»¹ hÆ¡n vá» thuá»™c tÃ­nh tháº©m má»¹ nÃ y trong pháº§n sau cá»§a chÆ°Æ¡ng. Khi thÃªm biáº¿n \\(population\\) vÃ o cÃ³ thá»ƒ lÃ m Ä‘á»“ thá»‹ cÃ³ thÃªm thÃ´ng tin, cháº³ng háº¡n nhÆ° báº¡n Ä‘á»c cÃ³ thá»ƒ nháº­n ra vá»‹ trÃ­ cá»§a cÃ¡c quá»‘c gia Ä‘Ã´ng dÃ¢n tiÃªu biá»ƒu nhÆ° Trung Quá»‘c vÃ  áº¤n Äá»™ vÃ o nÄƒm 2011 váº«n náº±m trong nhÃ³m cÃ¡c nÆ°á»›c cÃ³ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i tháº¥p; hoáº·c cÅ©ng cÃ³ thá»ƒ nháº­n ra Má»¹ vÃ  Nháº­t Báº£n lÃ  cÃ¡c quá»‘c gia náº±m á»Ÿ gÃ³c trÃªn bÃªn pháº£i lÃ  cÃ¡c nÆ°á»›c cÅ©ng cÃ³ dÃ¢n sá»‘ tÆ°Æ¡ng Ä‘á»‘i lá»›n. Tuy nhiÃªn, báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ nháº­n ra ráº±ng khi cÃ¹ng sá»­ dá»¥ng nhiá»u thuá»™c tÃ­nh tháº©m má»¹ trÃªn má»™t Ä‘á»“ thá»‹, hiá»‡u quáº£ sáº½ khÃ´ng Ä‘Æ°á»£c nhÆ° mong muá»‘n.Vá»›i cÃ¡c dá»¯ liá»‡u cÃ³ nhiá»u quan sÃ¡t, báº¡n Ä‘á»c cÃ³ thá»ƒ chia nhá» dá»¯ liá»‡u thÃ nh cÃ¡c nhÃ³m vÃ  táº¡o Ä‘á»“ thá»‹ cho tá»«ng nhÃ³m.Sá»­ dá»¥ng nÄƒm Ä‘á»“ thá»‹ cÃ³ cÃ¹ng trá»¥c tá»a Ä‘á»™ \\(x\\) vÃ  \\(y\\) Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ giá»¯a thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i vÃ  tuá»•i thá» trung bÃ¬nh lÃ  rÃµ rÃ ng hÆ¡n ráº¥t nhiá»u vá»›i sá»­ dá»¥ng má»™t Ä‘á»“ thá»‹ duy nháº¥t vÃ  phÃ¢n biá»‡t báº±ng mÃ u sáº¯c.ThÃ nh pháº§n cuá»‘i cÃ¹ng mÃ  báº¡n Ä‘á»c cÃ³ thá»ƒ thÃªm vÃ o Ä‘á»“ thá»‹ \\(ggplot2\\) lÃ  ngá»¯ cáº£nh, hay cÃ¡c \\(themes\\). CÃ³ má»™t sá»‘ \\(theme\\) cÃ³ sáºµn hoáº·c cÃ³ cÃ¡c \\(theme\\) náº±m trong cÃ¡c thÆ° viá»‡n cÃ i Ä‘áº·t bá»• sung. ChÃºng ta sáº½ nÃ³i chi tiáº¿t vá» cÃ¡ch tÃ¹y chá»‰nh \\(theme\\) hoáº·c tá»± táº¡o \\(theme\\) á»Ÿ pháº§n sau cá»§a chÆ°Æ¡ng. Trong Ä‘oáº¡n cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y, chÃºng tÃ´i sá»­ dá»¥ng theme_minimal() lÃ  má»™t \\(theme\\) cÃ³ sáºµn trong thÆ° viá»‡n \\(ggplot2\\).CÃ²n má»™t thÃ nh pháº§n khÃ¡c chÆ°a Ä‘Æ°á»£c nháº¯c Ä‘áº¿n khi táº¡o Ä‘á»“ thá»‹ lÃ  cÃ¡c \\(statistics\\) hay viáº¿t táº¯t lÃ  cÃ¡c \\(stats\\). Tuy nhiÃªn Ä‘Ã¢y lÃ  thÃ nh pháº§n phá»©c táº¡p nháº¥t vÃ  liÃªn quan Ä‘áº¿n cÃ¡c kiáº¿n thá»©c vá» xÃ¢y dá»±ng mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u nÃªn chÃºng tÃ´i khÃ´ng sá»­ dá»¥ng trong pháº§n nÃ y. Má»¥c tiÃªu cá»§a chÃºng tÃ´i lÃ  Ä‘á»ƒ báº¡n Ä‘á»c lÃ m quen vÃ  tá»± táº¡o cÃ¡c Ä‘á»“ thá»‹ Ä‘Æ¡n giáº£n báº±ng cÃ¡c dÃ²ng lá»‡nh cá»§a thÆ° viá»‡n \\(ggplot2\\).","code":"\ndat<-gapminder%>%filter(year==2011)%>%mutate(gdp_per_capita = gdp/population)\nggplot(dat, aes(x = life_expectancy, y = gdp_per_capita)) + geom_point()\n## geom_histogram() sá»­ dá»¥ng cÃ¡c thanh Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a má»™t biáº¿n liÃªn tá»¥c\nggplot(dat,aes(x = gdp_per_capita))+geom_histogram()\n\n## geom_bar() sá»­ dá»¥ng cÃ¡c thanh Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a má»™t biáº¿n rá»i ráº¡c\nggplot(dat,aes(x = continent))+geom_bar()\n\n## geom_boxplot() sá»­ dá»¥ng cÃ¡c hÃ¬nh há»™p Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n liÃªn tá»¥c\nggplot(dat,aes(x = continent, y = life_expectancy))+geom_boxplot()\n\n## geom_line() sá»­ dá»¥ng Ä‘Æ°á»ng ná»‘i cÃ¡c Ä‘iá»ƒm theo thá»© tá»± Ä‘iá»ƒm xuáº¥t hiá»‡n\ndat1<-filter(gapminder, year<=2011, country == \"United States\")%>%select(year,gdp)\nggplot(dat1,aes(x = year, y = gdp))+geom_line()\ndat<-gapminder%>%filter(year==2011)%>%mutate(gdp_per_capita = gdp/population)\nggplot(dat, aes(x = life_expectancy, y = gdp_per_capita, color = continent)) +\n  geom_point()\nggplot(dat, aes(x = life_expectancy, y = gdp_per_capita, \n                color = continent, size = population)) + geom_point(alpha = 0.4)\nggplot(dat, aes(x = life_expectancy, y = gdp_per_capita, size = population)) + \n  geom_point(alpha = 0.4)+\n  facet_wrap(~continent)\nggplot(dat, aes(x = life_expectancy, y = gdp_per_capita, size = population)) + \n  geom_point(shape = 21, alpha = 0.7, fill = \"lightskyblue\")+\n  facet_wrap(~continent)+\n  # thÃªm title\n  labs( title = \"Thu nháº­p bÃ¬nh quÃ¢n vÃ  tuá»•i thá» trung bÃ¬nh\",\n        subtitle = \"CÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i nÄƒm 2011\")+\n  xlab(\"Tuá»•i thá» trung bÃ¬nh (nÄƒm)\")+\n  ylab(\"Gdp bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i (USD)\")+\n  theme_minimal()# thÃªm ngá»¯ cáº£nh"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"cáº¥u-trÃºc-nhiá»u-lá»›p-vÃ -ngá»¯-phÃ¡p-cá»§a-Ä‘á»“-thá»‹-ggplot2.","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.3 Cáº¥u trÃºc nhiá»u lá»›p vÃ  ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹ \\(ggplot2\\).","text":"Cáº¥u trÃºc theo lá»›p (layer) cá»§a Ä‘á»“ thá»‹ \\(ggplot2\\) giÃºp cho ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u cÃ³ thá»ƒ xÃ¢y dá»±ng Ä‘á»“ thá»‹ cá»§a mÃ¬nh theo hÆ°á»›ng cÃ³ cáº¥u trÃºc. Äá»“ thá»‹ trong \\(ggplot2\\) tá»« Ä‘Æ¡n giáº£n Ä‘áº¿n phá»©c táº¡p Ä‘á»u Ä‘Æ°á»£c táº¡o thÃ nh tá»« má»™t hoáº·c nhiá»u lá»›p. Má»—i lá»›p trong Ä‘á»“ thá»‹ cÃ³ má»¥c tiÃªu hiá»ƒn thá»‹ khÃ¡c nhau:Má»¥c tiÃªu thá»© nháº¥t vÃ  cÅ©ng lÃ  má»¥c tiÃªu chÃ­nh, Ä‘Ã³ lÃ  Ä‘á»ƒ hiá»ƒn thá»‹ dá»¯ liá»‡u. LuÃ´n luÃ´n cÃ³ má»™t hoáº·c má»™t vÃ i lá»›p (chÃ­nh) vá»›i má»¥c tiÃªu mÃ´ táº£ dá»¯ liá»‡u thÃ´, mÃ´ táº£ cáº¥u trÃºc tá»•ng thá»ƒ vÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai cá»§a dá»¯ liá»‡u. Lá»›p nÃ y xuáº¥t hiá»‡n trÃªn táº¥t cáº£ cÃ¡c Ä‘á»“ thá»‹. Trong giai Ä‘oáº¡n Ä‘áº§u cá»§a quÃ¡ trÃ¬nh khai phÃ¡ dá»¯ liá»‡u báº±ng trá»±c quan hÃ³a, lá»›p nÃ y thÆ°á»ng xuáº¥t hiá»‡n duy nháº¥t. ÄÆ¡n giáº£n nhÆ° khi mÃ´ táº£ má»—i quan há»‡ giá»¯a gdp bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i vÃ  tuá»•i thá» trung bÃ¬nh cá»§a táº¥t cáº£ cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i, lá»›p Ä‘á»“ thá»‹ Ä‘Æ°á»£c hiá»ƒn thá»‹ báº±ng hÃ m geom_point() lÃ  lá»›p hiá»ƒn thá»‹ dá»¯ liá»‡u.Má»¥c tiÃªu thá»© nháº¥t vÃ  cÅ©ng lÃ  má»¥c tiÃªu chÃ­nh, Ä‘Ã³ lÃ  Ä‘á»ƒ hiá»ƒn thá»‹ dá»¯ liá»‡u. LuÃ´n luÃ´n cÃ³ má»™t hoáº·c má»™t vÃ i lá»›p (chÃ­nh) vá»›i má»¥c tiÃªu mÃ´ táº£ dá»¯ liá»‡u thÃ´, mÃ´ táº£ cáº¥u trÃºc tá»•ng thá»ƒ vÃ  cÃ¡c giÃ¡ trá»‹ ngoáº¡i lai cá»§a dá»¯ liá»‡u. Lá»›p nÃ y xuáº¥t hiá»‡n trÃªn táº¥t cáº£ cÃ¡c Ä‘á»“ thá»‹. Trong giai Ä‘oáº¡n Ä‘áº§u cá»§a quÃ¡ trÃ¬nh khai phÃ¡ dá»¯ liá»‡u báº±ng trá»±c quan hÃ³a, lá»›p nÃ y thÆ°á»ng xuáº¥t hiá»‡n duy nháº¥t. ÄÆ¡n giáº£n nhÆ° khi mÃ´ táº£ má»—i quan há»‡ giá»¯a gdp bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i vÃ  tuá»•i thá» trung bÃ¬nh cá»§a táº¥t cáº£ cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i, lá»›p Ä‘á»“ thá»‹ Ä‘Æ°á»£c hiá»ƒn thá»‹ báº±ng hÃ m geom_point() lÃ  lá»›p hiá»ƒn thá»‹ dá»¯ liá»‡u.CÃ¡c lá»›p cÃ³ má»¥c tiÃªu tÃ³m táº¯t vÃ  mÃ´ táº£ Ã½ nghÄ©a thá»‘ng kÃª cá»§a dá»¯ liá»‡u. Báº±ng cÃ¡ch thÃªm vÃ o Ä‘á»“ thá»‹ cÃ¡c mÃ´ hÃ¬nh, hoáº·c hiá»ƒn thá»‹ cÃ¡c dá»± Ä‘oÃ¡n dá»±a trÃªn mÃ´ hÃ¬nh ngÆ°á»i tiáº¿p nháº­n dá»¯ liá»‡u, hoáº·c báº£n thÃ¢n ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u sáº½ nháº­n biáº¿t Ä‘Æ°á»£c nhá»¯ng giÃ¡ trá»‹ bÃªn trong dá»¯ liá»‡u, hoáº·c nhá»¯ng chi tiáº¿t mÃ  khi xÃ¢y dá»±ng mÃ´ hÃ¬nh cÃ³ thá»ƒ bá» sÃ³t.CÃ¡c lá»›p cÃ³ má»¥c tiÃªu tÃ³m táº¯t vÃ  mÃ´ táº£ Ã½ nghÄ©a thá»‘ng kÃª cá»§a dá»¯ liá»‡u. Báº±ng cÃ¡ch thÃªm vÃ o Ä‘á»“ thá»‹ cÃ¡c mÃ´ hÃ¬nh, hoáº·c hiá»ƒn thá»‹ cÃ¡c dá»± Ä‘oÃ¡n dá»±a trÃªn mÃ´ hÃ¬nh ngÆ°á»i tiáº¿p nháº­n dá»¯ liá»‡u, hoáº·c báº£n thÃ¢n ngÆ°á»i phÃ¢n tÃ­ch dá»¯ liá»‡u sáº½ nháº­n biáº¿t Ä‘Æ°á»£c nhá»¯ng giÃ¡ trá»‹ bÃªn trong dá»¯ liá»‡u, hoáº·c nhá»¯ng chi tiáº¿t mÃ  khi xÃ¢y dá»±ng mÃ´ hÃ¬nh cÃ³ thá»ƒ bá» sÃ³t.CÃ¡c lá»›p cÃ³ má»¥c tiÃªu thÃªm vÃ o ngá»¯ cáº£nh cá»§a dá»¯ liá»‡u. CÃ¡c lá»›p nÃ y hiá»ƒn thá»‹ bá»‘i cáº£nh ná»n, thÃªm vÃ o cÃ¡c chÃº thÃ­ch giÃºp mang láº¡i Ã½ nghÄ©a cho dá»¯ liá»‡u thÃ´ hoáº·c cÃ¡c giÃ¡ trá»‹ tham chiáº¿u nháº±m há»— trá»£ viá»‡c sÃ¡nh hoáº·c Ä‘Ã¡nh giÃ¡. ÄÃ¢y thÆ°á»ng lÃ  lá»›p cuá»‘i cÃ¹ng Ä‘Æ°á»£c thÃªm vÃ o trong Ä‘á»“ thá»‹.CÃ¡c lá»›p cÃ³ má»¥c tiÃªu thÃªm vÃ o ngá»¯ cáº£nh cá»§a dá»¯ liá»‡u. CÃ¡c lá»›p nÃ y hiá»ƒn thá»‹ bá»‘i cáº£nh ná»n, thÃªm vÃ o cÃ¡c chÃº thÃ­ch giÃºp mang láº¡i Ã½ nghÄ©a cho dá»¯ liá»‡u thÃ´ hoáº·c cÃ¡c giÃ¡ trá»‹ tham chiáº¿u nháº±m há»— trá»£ viá»‡c sÃ¡nh hoáº·c Ä‘Ã¡nh giÃ¡. ÄÃ¢y thÆ°á»ng lÃ  lá»›p cuá»‘i cÃ¹ng Ä‘Æ°á»£c thÃªm vÃ o trong Ä‘á»“ thá»‹.Lá»›p chÃ­nh cá»§a Ä‘á»“ thá»‹ cÃ³ thá»ƒ bao gá»“m báº£y thÃ nh pháº§n Ä‘á»™c láº­p giá»‘ng nhÆ° chÃºng ta Ä‘Ã£ giá»›i thiá»‡u á»Ÿ pháº§n Ä‘áº§u. Cáº¥u trÃºc cá»§a cÃ¡c lá»›p cÃ²n láº¡i cá»§a Ä‘á»“ thá»‹ \\(ggplot2\\) cÃ³ thá»ƒ bao gá»“m cÃ¡c thÃ nh pháº§n sauDá»¯ liá»‡u: náº¿u báº¡n khÃ´ng khai bÃ¡o dá»¯ liá»‡u trong má»—i lá»›p, \\(ggplot2\\) sáº½ sá»­ dá»¥ng dá»¯ liá»‡u ban Ä‘áº§u lÃ  giÃ¡ trá»‹ máº·c Ä‘á»‹nhDá»¯ liá»‡u: náº¿u báº¡n khÃ´ng khai bÃ¡o dá»¯ liá»‡u trong má»—i lá»›p, \\(ggplot2\\) sáº½ sá»­ dá»¥ng dá»¯ liá»‡u ban Ä‘áº§u lÃ  giÃ¡ trá»‹ máº·c Ä‘á»‹nhÃnh xáº¡ tháº©m má»¹: Ä‘Æ°á»£c khai bÃ¡o trong hÃ m aes() trong má»—i lá»›p, náº¿u khÃ´ng cÃ³ khai bÃ¡o \\(ggplot2\\) sáº½ tÃ¬m Ã¡nh xáº¡ tháº©m má»¹ trong hÃ m ggplot(). Trong trÆ°á»ng há»£p khÃ´ng tÃ¬m tháº¥y Ã¡nh xáº¡ tháº©m má»¹ nÃ o Ä‘Æ°á»£c khai bÃ¡o, \\(ggplot2\\) sá»­ dá»¥ng giÃ¡ trá»‹ máº·c Ä‘á»‹nh.Ãnh xáº¡ tháº©m má»¹: Ä‘Æ°á»£c khai bÃ¡o trong hÃ m aes() trong má»—i lá»›p, náº¿u khÃ´ng cÃ³ khai bÃ¡o \\(ggplot2\\) sáº½ tÃ¬m Ã¡nh xáº¡ tháº©m má»¹ trong hÃ m ggplot(). Trong trÆ°á»ng há»£p khÃ´ng tÃ¬m tháº¥y Ã¡nh xáº¡ tháº©m má»¹ nÃ o Ä‘Æ°á»£c khai bÃ¡o, \\(ggplot2\\) sá»­ dá»¥ng giÃ¡ trá»‹ máº·c Ä‘á»‹nh.Má»™t hÃ¬nh dáº¡ng Ä‘á»“ há»a: Ä‘Æ°á»£c gá»i tá»« cÃ¡c hÃ m geom_*()Má»™t hÃ¬nh dáº¡ng Ä‘á»“ há»a: Ä‘Æ°á»£c gá»i tá»« cÃ¡c hÃ m geom_*()Má»™t biáº¿n Ä‘á»•i thá»‘ng kÃª hoáº·c má»™t tÃ³m táº¯t cÆ¡ báº£n cá»§a dá»¯ liá»‡u Ä‘Æ°á»£c gá»i tá»« hÃ m \\(stat_*()\\)Má»™t biáº¿n Ä‘á»•i thá»‘ng kÃª hoáº·c má»™t tÃ³m táº¯t cÆ¡ báº£n cá»§a dá»¯ liá»‡u Ä‘Æ°á»£c gá»i tá»« hÃ m \\(stat_*()\\)Vá»‹ trÃ­ xuáº¥t hiá»‡n cá»§a lá»›p Ä‘Ã³. ChÃºng ta sáº½ tháº£o luáº­n váº¥n Ä‘á» nÃ y chi tiáº¿t trong pháº§n sau cá»§a chÆ°Æ¡ng.Vá»‹ trÃ­ xuáº¥t hiá»‡n cá»§a lá»›p Ä‘Ã³. ChÃºng ta sáº½ tháº£o luáº­n váº¥n Ä‘á» nÃ y chi tiáº¿t trong pháº§n sau cá»§a chÆ°Æ¡ng.Khi Ä‘á»“ thá»‹ chá»‰ cÃ³ má»™t lá»›p chÃ­nh vá»›i má»¥c tiÃªu hiá»ƒn thá»‹ dá»¯ liá»‡u thÃ´, báº¡n khÃ´ng cáº§n pháº£i hiá»ƒu vá» ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹. Báº¡n Ä‘á»c chá»‰ cáº§n khai bÃ¡o chÃ­nh xÃ¡c Ã¡nh xáº¡ tháº©m má»¹ trong hÃ m aes() Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c káº¿t quáº£ mong muá»‘n. Tuy nhiÃªn khi xÃ¢y dá»±ng Ä‘á»“ thá»‹ cÃ³ nhiá»u lá»›p, báº¡n Ä‘á»c cáº§n pháº£i náº¯m Ä‘Æ°á»£c ngá»¯ phÃ¡p Ä‘á»ƒ káº¿t há»£p cÃ¡c lá»›p láº¡i vá»›i nhau theo Ã½ muá»‘n cá»§a báº¡n.","code":""},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"Ã¡nh-xáº¡-tháº©m-má»¹-trong-Ä‘á»“-thá»‹-cÃ³-nhiá»u-lá»›p.","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.3.1 Ãnh xáº¡ tháº©m má»¹ trong Ä‘á»“ thá»‹ cÃ³ nhiá»u lá»›p.","text":"HÃ£y quan sÃ¡t vÃ­ dá»¥ á»Ÿ dÆ°á»›i Ä‘Ã¢y, khi báº¡n muá»‘n thÃªm vÃ o má»™t Ä‘Æ°á»ng cong mÃ´ táº£ xu tháº¿ má»‘i quan há»‡ giá»¯a gdp bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i vÃ  tuá»•i thá» trung bÃ¬nh cá»§a cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i vÃ o nÄƒm 2011.Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y sá»± khÃ¡c nhau giá»¯a hai Ä‘á»“ thá»‹ lÃ  cÃ¡c Ä‘Æ°á»ng mÃ´ táº£ má»‘i quan há»‡ giá»¯a tuá»•i thá» bÃ¬nh quÃ¢n vÃ  gdp bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i Ä‘Æ°á»£c xÃ¢y dá»±ng theo tá»«ng lá»¥c Ä‘á»‹a (hÃ¬nh bÃªn trÃ¡i) vÃ  Ä‘Æ°á»£c xÃ¢y dá»±ng cho táº¥t cáº£ cÃ¡c quá»‘c gia (hÃ¬nh bÃªn pháº£i). Sá»± khÃ¡c biá»‡t lÃ  trong hÃ¬nh bÃªn pháº£i, thay vÃ¬ khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ tá»« biáº¿n \\(continent\\) tá»›i thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) trong hÃ m ggplot(), chÃºng tÃ´i Ä‘Ã£ khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ nÃ y trog hÃ m geom_point().Náº¿u nhÆ° hÃ m geom_point() lÃ  lá»›p chÃ­nh mÃ´ táº£ dá»¯ liá»‡u thÃ´ thÃ¬ hÃ m geom_smooth() lÃ  lá»›p phá»¥ Ä‘Æ°á»£c thÃªm vÃ o nháº±m tÄƒng kháº£ nÄƒng mÃ´ táº£ cá»§a dá»¯ liá»‡u. CÃ¡c Ã¡nh xáº¡ tháº©m má»¹ Ä‘Æ°á»£c khai bÃ¡o trong hÃ m ggplot() cÅ©ng giá»‘ng nhÆ° cÃ¡c biáº¿n toÃ n cá»¥c trong má»™t Ä‘á»“ thá»‹ cá»¥ thá»ƒ, trong khi cÃ¡c Ã¡nh xáº¡ tháº©m má»¹ Ä‘Æ°á»£c khai bÃ¡o trong cÃ¡c hÃ m geom_*() giá»‘ng nhÆ° khai bÃ¡o giÃ¡ trá»‹ cho cÃ¡c biáº¿n cá»¥c bá»™ trong mÃ´i trÆ°á»ng cá»§a hÃ m sá»‘ Ä‘Ã³. CÃ¡c biáº¿n cá»¥c bá»™ náº¿u khÃ´ng Ä‘Æ°á»£c khai bÃ¡o trong cÃ¡c hÃ m geom_*() sáº½ Ä‘Æ°á»£c tÃ¬m trÃªn mÃ´i trÆ°á»ng toÃ n cá»¥c cá»§a hÃ m ggplot(). Trong trÆ°á»ng há»£p trong cÃ¡c hÃ m geom_*() vÃ  ggplot() Ä‘á»u khÃ´ng Ä‘Æ°á»£c khai bÃ¡o giÃ¡ trá»‹, biáº¿n sáº½ nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh.HÃ£y quay trá»Ÿ láº¡i Ä‘oáº¡n cÃ¢u lá»‡nh á»Ÿ trÃªn. Trong hÃ¬nh bÃªn trÃ¡i, cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ \\(x\\), \\(y\\), vÃ  \\(color\\) Ä‘Æ°á»£c khai bÃ¡o trong hÃ m ggplot(); Ä‘á»“ng thá»i trong cÃ¡c hÃ m geom_point() vÃ  geom_smooth() khÃ´ng khai bÃ¡o cÃ¡c Ã¡nh xáº¡ tháº©m má»¹; Ä‘Ã³ cáº£ hai hÃ m nÃ y Ä‘á»u hiá»ƒu cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ \\(x\\), \\(y\\), vÃ  \\(color\\) giá»‘ng nhÆ° khai bÃ¡o ban Ä‘áº§u. Trong hÃ¬nh bÃªn pháº£i, hai thuá»™c tÃ­nh tháº©m má»¹ \\(x\\) vÃ  \\(y\\) Ä‘Æ°á»£c khai bÃ¡o trong hÃ m ggplot() trong khi thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) Ä‘Æ°á»£c khai bÃ¡o bÃªn trong hÃ m geom_point(). Ä‘Ã³, hÃ m geom_smooth() chá»‰ hiá»ƒu hai thuá»™c tÃ­nh tháº©m má»¹ \\(x\\) vÃ  \\(y\\) nhÆ° Ä‘Æ°á»£c khai bÃ¡o trong ggplot().HÃ m geom_smooth() khi thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh sáº½ xÃ¢y dá»±ng má»™t mÃ´ hÃ¬nh Ä‘Æ°á»£c gá»i lÃ  locally estimated scatterplot smoothing hay loess nháº±m mÃ´ táº£ má»—i quan há»‡ giá»¯a biáº¿n liÃªn tá»¥c \\(y\\) theo má»™t biáº¿n liÃªn tá»¥c \\(x\\). Náº¿u thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) Ä‘Æ°á»£c khai bÃ¡o giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng vá»›i má»™t biáº¿n rá»i ráº¡c, geom_smooth() sáº½ chia dá»¯ liá»‡u thÃ nh cÃ¡c nhÃ³m tÆ°Æ¡ng á»©ng vá»›i \\(color\\) trÆ°á»›c khi xÃ¢y dá»±ng mÃ´ hÃ¬nh mÃ  \\(y\\) phá»¥ thuá»™c vÃ o \\(x\\). Äiá»u nÃ y giáº£i thÃ­ch táº¡i sao trong hÃ¬nh bÃªn trÃ¡i cÃ³ 5 mÃ´ hÃ¬nh Ä‘Æ°á»£c xÃ¢y dá»±ng tÆ°Æ¡ng á»©ng vá»›i nÄƒm lá»¥c Ä‘á»‹a, trong khi trong hÃ¬nh bÃªn pháº£i chá»‰ cÃ³ má»™t mÃ´ hÃ¬nh duy nháº¥t Ä‘Æ°á»£c xÃ¢y dá»±ng cho táº¥t cáº£ cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i.Váº­y khi nÃ o báº¡n nÃªn khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ trong hÃ m ggplot() vÃ  khi nÃ o báº¡n nÃªn khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ bÃªn trong hÃ m geom_*()? CÃ¢u tráº£ lá»i lÃ  náº¿u Ä‘a sá»‘ cÃ¡c lá»›p báº¡n Ä‘á»c sá»­ dá»¥ng chung má»™t dá»¯ liá»‡u vÃ  chung cÃ¡c Ã¡nh xáº¡ tháº©m má»¹, báº¡n nÃªn khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ bÃªn trong hÃ m ggplot(). CÃ²n trong trÆ°á»ng há»£p Ä‘a sá»‘ cÃ¡c lá»›p sá»­ dá»¥ng sá»¯ liá»‡u khÃ¡c nhau, hoáº·c Ã¡nh xáº¡ tháº©m má»¹ khÃ¡c nhau, báº¡n hÃ£y khai bÃ¡o Ã¡nh xáº¡ tháº©m má»¹ bÃªn trong má»—i hÃ m geom_*(). Trong trÆ°á»ng há»£p báº¡n dÃ¹ng má»™t hÃ m geom_()* vÃ  khÃ´ng muá»‘n sá»­ dá»¥ng Ã¡nh xáº¡ tháº©m má»¹ Ä‘Ã£ khai bÃ¡o trong ggplot(), báº¡n cÃ³ thá»ƒ khai bÃ¡o láº¡i hoáº·c khai bÃ¡o thuá»™c tÃ­nh tháº©m má»¹ Ä‘Ã³ báº±ng NULL.CÃ³ hai cÃ¡ch Ä‘á»ƒ báº¡n tÃ¡c Ä‘á»™ng Ä‘áº¿n cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ cá»§a Ä‘á»“ thá»‹ trong cÃ¡c hÃ m geom_*(), Ä‘Ã³ lÃ  dÃ¹ng Ã¡nh xáº¡ tháº©m má»¹ (mapping) vÃ  cÃ i Ä‘áº·t tham sá»‘ (setting). KhÃ¡c nhau giá»¯a hai cÃ¡ch nÃ y lÃ  viá»‡c báº¡n khai bÃ¡o giÃ¡ trá»‹ cá»§a thuá»™c tÃ­nh tháº©m má»¹ bÃªn trong hay bÃªn ngoÃ i hÃ m aes(). HÃ£y quan sÃ¡t Ä‘á»“ thá»‹ á»Ÿ trÃªn:HÃ¬nh bÃªn trÃ¡i cho Ä‘Æ°á»ng cong cá»§a mÃ´ hÃ¬nh \\(loess\\) cÃ³ mÃ u xanh da trá»i. Khi gá»i hÃ m geom_smooth(), chÃºng ta Ä‘Ã£ cho thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) vá» giÃ¡ trá»‹ máº·c Ä‘á»‹nh báº±ng cÃ¡ch Ã¡nh xáº¡ thuá»™c tÃ­nh nÃ y tá»›i giÃ¡ trá»‹ \\(NULL\\). MÃ u xanh da trá»i lÃ  mÃ u máº·c Ä‘á»‹nh cá»§a cÃ¡c Ä‘Æ°á»ng cong Ä‘Æ°á»£c táº¡o ra tá»« geom_smooth().HÃ¬nh bÃªn trÃ¡i cho Ä‘Æ°á»ng cong cá»§a mÃ´ hÃ¬nh \\(loess\\) cÃ³ mÃ u xanh da trá»i. Khi gá»i hÃ m geom_smooth(), chÃºng ta Ä‘Ã£ cho thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) vá» giÃ¡ trá»‹ máº·c Ä‘á»‹nh báº±ng cÃ¡ch Ã¡nh xáº¡ thuá»™c tÃ­nh nÃ y tá»›i giÃ¡ trá»‹ \\(NULL\\). MÃ u xanh da trá»i lÃ  mÃ u máº·c Ä‘á»‹nh cá»§a cÃ¡c Ä‘Æ°á»ng cong Ä‘Æ°á»£c táº¡o ra tá»« geom_smooth().HÃ¬nh á»Ÿ giá»¯a chÃºng ta cÃ i Ä‘áº·t (setting) cáº¥u pháº§n tháº©m má»¹ \\(color\\) báº±ng má»™t giÃ¡ trá»‹ cá»‘ Ä‘á»‹nh lÃ  â€œblackâ€ (mÃ u Ä‘en). Ä‘Ã³ Ä‘Æ°á»ng cong Ä‘Æ°á»£c táº¡o tá»« geom_smooth() sáº½ cÃ³ mÃ u Ä‘en giá»‘ng nhÆ° cÃ i Ä‘áº·t. Báº¡n Ä‘á»c chá»‰ cáº§n sá»­ dá»¥ng giÃ¡ trá»‹ mÃ u sáº¯c cÃ³ Ã½ nghÄ©a vá»›i R Ä‘á»ƒ cÃ i Ä‘áº·t cho thuá»™c tÃ­nh tháº©m má»¹ \\(color\\). Náº¿u trong má»™t hÃ m geom_*() vá»«a cÃ³ Ã¡nh xáº¡ tháº©m má»¹ Ä‘Æ°á»£c khai bÃ¡o trong hÃ m aes() vÃ  vá»«a cÃ³ cÃ i Ä‘áº·t thuá»™c tÃ­nh tháº©m má»¹ (ngoÃ i hÃ m aes()), \\(ggplot2\\) sáº½ Æ°u tiÃªn giÃ¡ trá»‹ náº±m ngoÃ i aes().HÃ¬nh á»Ÿ giá»¯a chÃºng ta cÃ i Ä‘áº·t (setting) cáº¥u pháº§n tháº©m má»¹ \\(color\\) báº±ng má»™t giÃ¡ trá»‹ cá»‘ Ä‘á»‹nh lÃ  â€œblackâ€ (mÃ u Ä‘en). Ä‘Ã³ Ä‘Æ°á»ng cong Ä‘Æ°á»£c táº¡o tá»« geom_smooth() sáº½ cÃ³ mÃ u Ä‘en giá»‘ng nhÆ° cÃ i Ä‘áº·t. Báº¡n Ä‘á»c chá»‰ cáº§n sá»­ dá»¥ng giÃ¡ trá»‹ mÃ u sáº¯c cÃ³ Ã½ nghÄ©a vá»›i R Ä‘á»ƒ cÃ i Ä‘áº·t cho thuá»™c tÃ­nh tháº©m má»¹ \\(color\\). Náº¿u trong má»™t hÃ m geom_*() vá»«a cÃ³ Ã¡nh xáº¡ tháº©m má»¹ Ä‘Æ°á»£c khai bÃ¡o trong hÃ m aes() vÃ  vá»«a cÃ³ cÃ i Ä‘áº·t thuá»™c tÃ­nh tháº©m má»¹ (ngoÃ i hÃ m aes()), \\(ggplot2\\) sáº½ Æ°u tiÃªn giÃ¡ trá»‹ náº±m ngoÃ i aes().HÃ¬nh bÃªn tay pháº£i phá»©c táº¡p hÆ¡n má»™t chÃºt. KhÃ¡c vá»›i hÃ¬nh á»Ÿ giá»¯a, thuá»™c tÃ­nh \\(color\\) Ä‘Æ°á»£c gÃ¡n cho giÃ¡ trá»‹ â€œblackâ€ bÃªn trong hÃ m aes(). Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng Ä‘Æ°á»ng cong Ä‘Æ°á»£c táº¡o tá»« hÃ m geom_smooth() khÃ´ng cÃ³ mÃ u Ä‘en nhÆ° hÃ¬nh á»Ÿ giá»¯a. Khi khai bÃ¡o thuá»™c tÃ­nh trong hÃ m aes(), chÃºng ta Ä‘Ã£ Ã¡nh xáº¡ thuá»™c tÃ­nh \\(color\\) cá»§a hÃ m geom_smooth() Ä‘áº¿n má»™t giÃ¡ trá»‹ kiá»ƒu kÃ½ tá»± lÃ  â€œblackâ€ chá»© khÃ´ng pháº£i cho mÃ u sáº¯c cá»§a Ä‘Æ°á»ng cong nháº­n giÃ¡ trá»‹ mÃ u tÆ°Æ¡ng á»©ng! Trong hÃ m geom_point() trÆ°á»›c Ä‘Ã³ Ä‘Ã£ Ã¡nh xáº¡ biáº¿n \\(continent\\) tá»›i thuá»™c tÃ­nh tháº©m má»¹ \\(color\\), khi chÃºng ta tiáº¿p tá»¥c Ã¡nh xáº¡ má»™t biáº¿n â€œblackâ€ tá»›i \\(color\\) trong geom_smooth() thÃ¬ \\(ggplot2\\) sáº½ hiá»ƒu ráº±ng cÃ³ thÃªm má»™t giÃ¡ trá»‹ má»›i cho thuá»™c tÃ­nh \\(color\\) (â€œblackâ€) thÃªm vÃ o cÃ¡c giÃ¡ trá»‹ hiá»‡n cÃ³ (tÃªn cá»§a 5 chÃ¢u lá»¥c). Äiá»u nÃ y giáº£i thÃ­ch táº¡i sao trong chÃº giáº£i (legend) cá»§a hÃ¬nh bÃªn tay pháº£i cÃ³ 6 loáº¡i thay vÃ¬ 5 loáº¡i nhÆ° hÃ¬nh á»Ÿ giá»¯a. ÄÆ°á»ng cong táº¡o bá»Ÿi geom_smooth() cÃ³ mÃ u xanh lÃ¡ cÃ¢y vÃ¬ giÃ¡ trá»‹ â€œblackâ€ cÃ³ thá»© háº¡ng lÃ  4 khi sáº¯p xáº¿p 6 giÃ¡ trá»‹ Ã¡nh xáº¡ tá»›i thuá»™c tÃ­nh \\(color\\) theo thá»© tá»± tÄƒng dáº§n.HÃ¬nh bÃªn tay pháº£i phá»©c táº¡p hÆ¡n má»™t chÃºt. KhÃ¡c vá»›i hÃ¬nh á»Ÿ giá»¯a, thuá»™c tÃ­nh \\(color\\) Ä‘Æ°á»£c gÃ¡n cho giÃ¡ trá»‹ â€œblackâ€ bÃªn trong hÃ m aes(). Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng Ä‘Æ°á»ng cong Ä‘Æ°á»£c táº¡o tá»« hÃ m geom_smooth() khÃ´ng cÃ³ mÃ u Ä‘en nhÆ° hÃ¬nh á»Ÿ giá»¯a. Khi khai bÃ¡o thuá»™c tÃ­nh trong hÃ m aes(), chÃºng ta Ä‘Ã£ Ã¡nh xáº¡ thuá»™c tÃ­nh \\(color\\) cá»§a hÃ m geom_smooth() Ä‘áº¿n má»™t giÃ¡ trá»‹ kiá»ƒu kÃ½ tá»± lÃ  â€œblackâ€ chá»© khÃ´ng pháº£i cho mÃ u sáº¯c cá»§a Ä‘Æ°á»ng cong nháº­n giÃ¡ trá»‹ mÃ u tÆ°Æ¡ng á»©ng! Trong hÃ m geom_point() trÆ°á»›c Ä‘Ã³ Ä‘Ã£ Ã¡nh xáº¡ biáº¿n \\(continent\\) tá»›i thuá»™c tÃ­nh tháº©m má»¹ \\(color\\), khi chÃºng ta tiáº¿p tá»¥c Ã¡nh xáº¡ má»™t biáº¿n â€œblackâ€ tá»›i \\(color\\) trong geom_smooth() thÃ¬ \\(ggplot2\\) sáº½ hiá»ƒu ráº±ng cÃ³ thÃªm má»™t giÃ¡ trá»‹ má»›i cho thuá»™c tÃ­nh \\(color\\) (â€œblackâ€) thÃªm vÃ o cÃ¡c giÃ¡ trá»‹ hiá»‡n cÃ³ (tÃªn cá»§a 5 chÃ¢u lá»¥c). Äiá»u nÃ y giáº£i thÃ­ch táº¡i sao trong chÃº giáº£i (legend) cá»§a hÃ¬nh bÃªn tay pháº£i cÃ³ 6 loáº¡i thay vÃ¬ 5 loáº¡i nhÆ° hÃ¬nh á»Ÿ giá»¯a. ÄÆ°á»ng cong táº¡o bá»Ÿi geom_smooth() cÃ³ mÃ u xanh lÃ¡ cÃ¢y vÃ¬ giÃ¡ trá»‹ â€œblackâ€ cÃ³ thá»© háº¡ng lÃ  4 khi sáº¯p xáº¿p 6 giÃ¡ trá»‹ Ã¡nh xáº¡ tá»›i thuá»™c tÃ­nh \\(color\\) theo thá»© tá»± tÄƒng dáº§n.Khi cÃ¢n nháº¯c sá»­ dá»¥ng Ã¡nh xáº¡ hay thiáº¿t láº­p giÃ¡ trá»‹ cho cÃ¡c thuá»™c tÃ­nh tháº©m má»¹, báº¡n Ä‘á»c nÃªn cÃ¢n nháº¯c vá» viá»‡c cÃ³ muá»‘n tÃ¡c Ä‘á»™ng lÃªn thuá»™c tÃ­nh tháº©m má»¹ ná»¯a hay khÃ´ng. Náº¿u báº¡n muá»‘n cá»‘ Ä‘á»‹nh giÃ¡ trá»‹ cho thuá»™c tÃ­nh tháº©m má»¹, hÃ£y sá»­ dá»¥ng thiáº¿t láº­p giÃ¡ trá»‹. CÃ²n náº¿u báº¡n muá»‘n tÃ¡c Ä‘á»™ng ngÆ°á»£c láº¡i lÃªn thuá»™c tÃ­nh tháº©m má»¹ Ä‘Ã³, hÃ£y sá»­ dá»¥ng Ã¡nh xáº¡ thay vÃ¬ thiáº¿t láº­p giÃ¡ trá»‹.HÃ£y nÃ³i má»™t chÃºt vá» cÃ¡ch chÃº giáº£i ghi nháº­n giÃ¡ trá»‹ má»›i cá»§a má»™t thuá»™c tÃ­nh tháº©m má»¹. Trong hÃ¬nh bÃªn pháº£i, khi chÃºng ta khai bÃ¡o giÃ¡ trá»‹ â€œblackâ€ cho thuá»™c tÃ­nh \\(color\\), \\(ggplot2\\) ghi nháº­n â€œblackâ€ nhÆ° má»™t giÃ¡ trá»‹ má»›i tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i tÃªn cÃ¡c ChÃ¢u lá»¥c Ä‘Ã£ sá»­ dá»¥ng trong khai bÃ¡o trÆ°á»›c Ä‘Ã³. CÃ¡ch ghi nháº­n tÃªn biáº¿n má»›i trong chÃº giáº£i sáº½ ráº¥t há»¯u Ã­ch khi chÃºng ta muá»‘n táº¡o má»™t Ä‘á»“ thá»‹ nhiá»u lá»›p vÃ  Ä‘áº·t tÃªn cho tá»«ng lá»›p trong pháº§n chÃº giáº£i cá»§a Ä‘á»“ thá»‹. Äá»“ thá»‹ dÆ°á»›i Ä‘Ã¢y sÃ¡nh ba phÆ°Æ¡ng phÃ¡p xÃ¢y dá»±ng mÃ´ hÃ¬nh trÃªn dá»¯ liá»‡u lÃ  phÆ°Æ¡ng phÃ¡p há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng (method = \"lm\"); há»“i quy loess (method = \"loess\"), vÃ  mÃ´ hÃ¬nh cá»™ng tÃ­nh tá»•ng quÃ¡t (method = \"gam\")","code":"\n## HÃ¬nh bÃªn trÃ¡i\np1<-dat%>%ggplot(aes(x = life_expectancy, y = gdp_per_capita, \n                color = continent)) + \n  geom_point(alpha = 0.4)+\n  geom_smooth(se=FALSE)\n\n## HÃ¬nh bÃªn pháº£i\np2<-dat%>%ggplot(aes(x = life_expectancy, y = gdp_per_capita))+\n  geom_point(aes(color = continent), alpha = 0.4) + \n  geom_smooth(se=FALSE)\n\n## Váº½ p1 vÃ  p2 trÃªn cÃ¹ng má»™t Ä‘á»“ thá»‹\ngrid.arrange(p1,p2,nrow= 1 , ncol = 2)\n## HÃ¬nh bÃªn trÃ¡i\np1<-dat%>%ggplot(aes(x = life_expectancy, y = gdp_per_capita, \n                color = continent)) + \n  geom_point(alpha = 0.4)+\n  geom_smooth(aes(color=NULL), se = FALSE)\n\n## HÃ¬nh á»Ÿ giá»¯a\np2<-dat%>%ggplot(aes(x = life_expectancy, y = gdp_per_capita, \n                color = continent)) + \n  geom_point(alpha = 0.4)+\n  geom_smooth(color=\"black\", se = FALSE)\n\n## HÃ¬nh bÃªn pháº£i \n\np3<-dat%>%ggplot(aes(x = life_expectancy, y = gdp_per_capita, \n                color = continent)) + \n  geom_point(alpha = 0.4)+\n  geom_smooth(aes(color=\"black\") , se = FALSE)\n\n## Váº½ p1, p2, p3 trÃªn cÃ¹ng má»™t Ä‘á»“ thá»‹\ngrid.arrange(p1,p2,p3, nrow= 1 , ncol = 3)\n# So sÃ¡nh ba phÆ°Æ¡ng phÃ¡p xÃ¢y dá»±ng mÃ´ hÃ¬nh khÃ¡c nhau cá»§a hÃ m geom_smooth\ndat%>%ggplot(aes(x = life_expectancy, y = gdp_per_capita)) +\n  #Layer 1: Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm\n  geom_point(alpha = 0.4)+\n  \n  # Layer 2: ÄÆ°á»ng há»“i quy tuyáº¿n tÃ­nh\n  geom_smooth(aes(color=\"Há»“i quy tuyáº¿n tÃ­nh\"), method = \"lm\" , se = FALSE)+\n  \n  # Layer 3: ÄÆ°á»ng há»“i quy loess\n  geom_smooth(aes(color=\"Há»“i quy loess\"), method = \"loess\" , se = FALSE)+\n  \n  # Layer 4: MÃ´ hÃ¬nh GAM (generalized additive model)\n  geom_smooth(aes(color=\"MÃ´ hÃ¬nh cá»™ng tÃ­nh tá»•ng quÃ¡t\"), method = \"gam\" , se = FALSE)"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"cÃ¡c-hÃ m-geom_-cÆ¡-báº£n","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.3.2 CÃ¡c hÃ m geom_*() cÆ¡ báº£n","text":"CÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a, gá»i táº¯t lÃ  cÃ¡c \\(geoms\\), lÃ  má»™t cÃ¡ch phá»• biáº¿n Ä‘á»ƒ hiá»ƒn thá»‹ má»™t lá»›p cá»§a má»™t Ä‘á»“ thá»‹ mÃ´ táº£ dá»¯ liá»‡. VÃ­ dá»¥ nhÆ° sá»­ dá»¥ng geom_point() sáº½ táº¡o ra má»™t Ä‘á»“ thá»‹ phÃ¢n tÃ¡n, trong khi sá»­ dá»¥ng geom_line() sáº½ táº¡o ra cÃ¡c Ä‘á»“ thá»‹ theo Ä‘Æ°á»ng. Danh sÃ¡ch cÃ¡c \\(geoms\\) vÃ  cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ báº¡n Ä‘á»c cÃ³ thá»ƒ tÃ¬m tháº¥y trong CHEAT SHEET á»Ÿ trÃªn. á» Ä‘Ã¢y chÃºng tÃ´i chá»‰ tá»•ng há»£p vÃ  phÃ¢n loáº¡i láº¡i cÃ¡c \\(geoms\\) má»™t cÃ¡ch ngáº¯n gá»n.Khi mÃ´ táº£ má»™t biáº¿n:\nMÃ´ táº£ biáº¿n rá»i ráº¡c:\ngeom_bar(): hiá»ƒn thá»‹ phÃ¢n phá»‘i cá»§a biáº¿n rá»i ráº¡c dÆ°á»›i dáº¡ng cÃ¡c thanh.\n\nMÃ´ táº£ má»™t biáº¿n liÃªn tá»¥c:\ngeom_histogram(): nhÃ³m dá»¯ liá»‡u liÃªn tá»¥c láº¡i vÃ o cÃ¡c nhÃ³m (bin) vÃ  hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng cÃ¡c thanh.\ngeom_density(): váº½ Ä‘Æ°á»ng mÃ´ táº£ hÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c. HÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng báº±ng phÆ°Æ¡ng phÃ¡p kernel. GiÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ táº¡i má»™t Ä‘iá»ƒm \\(x\\) báº¥t ká»³ Ä‘Æ°á»£c tÃ­nh báº±ng trung bÃ¬nh giÃ¡ trá»‹ hÃ m \\(K\\), Ä‘Æ°á»£c gá»i lÃ  hÃ m \\(kernel\\), tÃ­nh trÃªn khoáº£ng cÃ¡ch tá»« Ä‘iá»ƒm \\(x\\) tá»›i táº¥t cáº£ cÃ¡c quan sÃ¡t. Náº¿u \\(\\hat{f}(x)\\) lÃ  giÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ tÃ­nh táº¡i \\(x\\) báº±ng phÆ°Æ¡ng phÃ¡p kernel thÃ¬ ta cÃ³\n\nMÃ´ táº£ biáº¿n rá»i ráº¡c:\ngeom_bar(): hiá»ƒn thá»‹ phÃ¢n phá»‘i cá»§a biáº¿n rá»i ráº¡c dÆ°á»›i dáº¡ng cÃ¡c thanh.\ngeom_bar(): hiá»ƒn thá»‹ phÃ¢n phá»‘i cá»§a biáº¿n rá»i ráº¡c dÆ°á»›i dáº¡ng cÃ¡c thanh.MÃ´ táº£ má»™t biáº¿n liÃªn tá»¥c:\ngeom_histogram(): nhÃ³m dá»¯ liá»‡u liÃªn tá»¥c láº¡i vÃ o cÃ¡c nhÃ³m (bin) vÃ  hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng cÃ¡c thanh.\ngeom_density(): váº½ Ä‘Æ°á»ng mÃ´ táº£ hÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c. HÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng báº±ng phÆ°Æ¡ng phÃ¡p kernel. GiÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ táº¡i má»™t Ä‘iá»ƒm \\(x\\) báº¥t ká»³ Ä‘Æ°á»£c tÃ­nh báº±ng trung bÃ¬nh giÃ¡ trá»‹ hÃ m \\(K\\), Ä‘Æ°á»£c gá»i lÃ  hÃ m \\(kernel\\), tÃ­nh trÃªn khoáº£ng cÃ¡ch tá»« Ä‘iá»ƒm \\(x\\) tá»›i táº¥t cáº£ cÃ¡c quan sÃ¡t. Náº¿u \\(\\hat{f}(x)\\) lÃ  giÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ tÃ­nh táº¡i \\(x\\) báº±ng phÆ°Æ¡ng phÃ¡p kernel thÃ¬ ta cÃ³\ngeom_histogram(): nhÃ³m dá»¯ liá»‡u liÃªn tá»¥c láº¡i vÃ o cÃ¡c nhÃ³m (bin) vÃ  hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng cÃ¡c thanh.geom_density(): váº½ Ä‘Æ°á»ng mÃ´ táº£ hÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c. HÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng báº±ng phÆ°Æ¡ng phÃ¡p kernel. GiÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ táº¡i má»™t Ä‘iá»ƒm \\(x\\) báº¥t ká»³ Ä‘Æ°á»£c tÃ­nh báº±ng trung bÃ¬nh giÃ¡ trá»‹ hÃ m \\(K\\), Ä‘Æ°á»£c gá»i lÃ  hÃ m \\(kernel\\), tÃ­nh trÃªn khoáº£ng cÃ¡ch tá»« Ä‘iá»ƒm \\(x\\) tá»›i táº¥t cáº£ cÃ¡c quan sÃ¡t. Náº¿u \\(\\hat{f}(x)\\) lÃ  giÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ tÃ­nh táº¡i \\(x\\) báº±ng phÆ°Æ¡ng phÃ¡p kernel thÃ¬ ta cÃ³\\[\\begin{align}\n\\hat{f}(x) = \\cfrac{1}{nh} \\times \\sum\\limits_{= 1}^{n} \\ K\\left( \\cfrac{x - x_i}{h} \\right)\n\\end{align}\\]\ntrong Ä‘Ã³ \\(x_i\\) lÃ  giÃ¡ trá»‹ quan sÃ¡t thá»© \\(\\) vÃ  \\(h\\) lÃ  Ä‘Æ°á»£c gá»i lÃ  tham sá»‘ lÃ m má»‹n. \\(h\\) cÃ ng lá»›n thÃ¬ hÃ m \\(\\hat{f}\\) sáº½ cÃ ng má»‹n. HÃ m \\(K\\) Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m hÃ m kernel máº·c Ä‘á»‹nh cho geom_density() lÃ  hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n.geom_boxplot(): váº½ Ä‘á»“ thá»‹ boxplot cá»§a má»™t biáº¿n liÃªn tá»¥c.Khi mÃ´ táº£ hai biáº¿n:\nCáº£ hai biáº¿n Ä‘á»u lÃ  liÃªn tá»¥c:\ngeom_point(): Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm lÃ  cÃ¡ch hiá»‡u quáº£ nháº¥t Ä‘á»ƒ mÃ´ táº£ hai biáº¿n liÃªn tá»¥c. Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¹ng vá»›i geom_smooth() Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ giá»¯a hai biáº¿n. Trong trÆ°á»ng há»£p biáº¿n liÃªn tá»¥c nhÆ°ng cÃ¡c Ä‘iá»ƒm bá»‹ trÃ¹ng nhau khi hiá»ƒn thá»‹, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng geom_jitter() thay tháº¿ cho geom_point() Ä‘á»ƒ hiá»‡n thá»‹ tá»‘t hÆ¡n. geom_jitter() sáº½ di chuyá»ƒn cÃ¡c Ä‘iá»ƒm má»™t cÃ¡ch ngáº«u nhiÃªn xung quanh Ä‘iá»ƒm ban Ä‘áº§u Ä‘á»ƒ trÃ¡nh viá»‡c hiá»ƒn thá»‹ Ä‘iá»ƒm bá»‹ trÃ¹ng nhau.\ngeom_line(): thÆ°á»ng Ä‘á»ƒ mÃ´ táº£ hai biáº¿n liÃªn tá»¥c mÃ  má»™t trong hai biáº¿n lÃ  kiá»ƒu thá»i gian.\ngeom_text(): tÆ°Æ¡ng tá»± geom_point() nhÆ°ng hiá»ƒn thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± thay vÃ¬ hiá»ƒn thá»‹ Ä‘iá»ƒm. geom_text() thÆ°á»ng sá»­ dá»¥ng káº¿t há»£p vá»›i geom_point(). LÆ°u Ã½ Ä‘á»ƒ khi hiá»ƒn thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± vÃ  Ä‘iá»ƒm khÃ´ng bá»‹ trÃ¹ng nhau lÃ  báº¡n Ä‘á»c cáº§n pháº£i sá»­ dá»¥ng thÃªm cÃ¡c tham sá»‘ nhÆ° \\(hjust\\), \\(vjust\\) Ä‘á»ƒ Ä‘iá»u chá»‰nh trong hÃ m geom_text(). Trong nhiá»u trÆ°á»ng há»£p, Ä‘á»ƒ hiá»‡n thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± tá»‘t hÆ¡n, chÃºng tÃ´i sá»­ dá»¥ng hÃ m geom_text_repel() tá»« thÆ° viá»‡n bá»• sung \\(ggrepel\\).\ngeom_label(): tÆ°Æ¡ng tá»± geom_text(). HÃ m cÃ³ thá»ƒ hiá»‡n thá»‹ tá»‘t hÆ¡n trong thÆ° viá»‡n \\(ggrepel\\) lÃ  hÃ m geom_label_repel(). Báº¡n Ä‘á»c quan sÃ¡t vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ tháº¥y cÃ¡c hÃ m geom_text_repel() vÃ  geom_label_repel() cho káº¿t quáº£ tá»‘t hÆ¡n geom_text() vÃ  geom_label()\n\nCáº£ hai biáº¿n Ä‘á»u lÃ  liÃªn tá»¥c:\ngeom_point(): Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm lÃ  cÃ¡ch hiá»‡u quáº£ nháº¥t Ä‘á»ƒ mÃ´ táº£ hai biáº¿n liÃªn tá»¥c. Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¹ng vá»›i geom_smooth() Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ giá»¯a hai biáº¿n. Trong trÆ°á»ng há»£p biáº¿n liÃªn tá»¥c nhÆ°ng cÃ¡c Ä‘iá»ƒm bá»‹ trÃ¹ng nhau khi hiá»ƒn thá»‹, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng geom_jitter() thay tháº¿ cho geom_point() Ä‘á»ƒ hiá»‡n thá»‹ tá»‘t hÆ¡n. geom_jitter() sáº½ di chuyá»ƒn cÃ¡c Ä‘iá»ƒm má»™t cÃ¡ch ngáº«u nhiÃªn xung quanh Ä‘iá»ƒm ban Ä‘áº§u Ä‘á»ƒ trÃ¡nh viá»‡c hiá»ƒn thá»‹ Ä‘iá»ƒm bá»‹ trÃ¹ng nhau.\ngeom_line(): thÆ°á»ng Ä‘á»ƒ mÃ´ táº£ hai biáº¿n liÃªn tá»¥c mÃ  má»™t trong hai biáº¿n lÃ  kiá»ƒu thá»i gian.\ngeom_text(): tÆ°Æ¡ng tá»± geom_point() nhÆ°ng hiá»ƒn thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± thay vÃ¬ hiá»ƒn thá»‹ Ä‘iá»ƒm. geom_text() thÆ°á»ng sá»­ dá»¥ng káº¿t há»£p vá»›i geom_point(). LÆ°u Ã½ Ä‘á»ƒ khi hiá»ƒn thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± vÃ  Ä‘iá»ƒm khÃ´ng bá»‹ trÃ¹ng nhau lÃ  báº¡n Ä‘á»c cáº§n pháº£i sá»­ dá»¥ng thÃªm cÃ¡c tham sá»‘ nhÆ° \\(hjust\\), \\(vjust\\) Ä‘á»ƒ Ä‘iá»u chá»‰nh trong hÃ m geom_text(). Trong nhiá»u trÆ°á»ng há»£p, Ä‘á»ƒ hiá»‡n thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± tá»‘t hÆ¡n, chÃºng tÃ´i sá»­ dá»¥ng hÃ m geom_text_repel() tá»« thÆ° viá»‡n bá»• sung \\(ggrepel\\).\ngeom_label(): tÆ°Æ¡ng tá»± geom_text(). HÃ m cÃ³ thá»ƒ hiá»‡n thá»‹ tá»‘t hÆ¡n trong thÆ° viá»‡n \\(ggrepel\\) lÃ  hÃ m geom_label_repel(). Báº¡n Ä‘á»c quan sÃ¡t vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ tháº¥y cÃ¡c hÃ m geom_text_repel() vÃ  geom_label_repel() cho káº¿t quáº£ tá»‘t hÆ¡n geom_text() vÃ  geom_label()\ngeom_point(): Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm lÃ  cÃ¡ch hiá»‡u quáº£ nháº¥t Ä‘á»ƒ mÃ´ táº£ hai biáº¿n liÃªn tá»¥c. Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¹ng vá»›i geom_smooth() Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ giá»¯a hai biáº¿n. Trong trÆ°á»ng há»£p biáº¿n liÃªn tá»¥c nhÆ°ng cÃ¡c Ä‘iá»ƒm bá»‹ trÃ¹ng nhau khi hiá»ƒn thá»‹, báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng geom_jitter() thay tháº¿ cho geom_point() Ä‘á»ƒ hiá»‡n thá»‹ tá»‘t hÆ¡n. geom_jitter() sáº½ di chuyá»ƒn cÃ¡c Ä‘iá»ƒm má»™t cÃ¡ch ngáº«u nhiÃªn xung quanh Ä‘iá»ƒm ban Ä‘áº§u Ä‘á»ƒ trÃ¡nh viá»‡c hiá»ƒn thá»‹ Ä‘iá»ƒm bá»‹ trÃ¹ng nhau.geom_line(): thÆ°á»ng Ä‘á»ƒ mÃ´ táº£ hai biáº¿n liÃªn tá»¥c mÃ  má»™t trong hai biáº¿n lÃ  kiá»ƒu thá»i gian.geom_text(): tÆ°Æ¡ng tá»± geom_point() nhÆ°ng hiá»ƒn thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± thay vÃ¬ hiá»ƒn thá»‹ Ä‘iá»ƒm. geom_text() thÆ°á»ng sá»­ dá»¥ng káº¿t há»£p vá»›i geom_point(). LÆ°u Ã½ Ä‘á»ƒ khi hiá»ƒn thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± vÃ  Ä‘iá»ƒm khÃ´ng bá»‹ trÃ¹ng nhau lÃ  báº¡n Ä‘á»c cáº§n pháº£i sá»­ dá»¥ng thÃªm cÃ¡c tham sá»‘ nhÆ° \\(hjust\\), \\(vjust\\) Ä‘á»ƒ Ä‘iá»u chá»‰nh trong hÃ m geom_text(). Trong nhiá»u trÆ°á»ng há»£p, Ä‘á»ƒ hiá»‡n thá»‹ biáº¿n kiá»ƒu kÃ½ tá»± tá»‘t hÆ¡n, chÃºng tÃ´i sá»­ dá»¥ng hÃ m geom_text_repel() tá»« thÆ° viá»‡n bá»• sung \\(ggrepel\\).geom_label(): tÆ°Æ¡ng tá»± geom_text(). HÃ m cÃ³ thá»ƒ hiá»‡n thá»‹ tá»‘t hÆ¡n trong thÆ° viá»‡n \\(ggrepel\\) lÃ  hÃ m geom_label_repel(). Báº¡n Ä‘á»c quan sÃ¡t vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ tháº¥y cÃ¡c hÃ m geom_text_repel() vÃ  geom_label_repel() cho káº¿t quáº£ tá»‘t hÆ¡n geom_text() vÃ  geom_label()-geom_bin2d() vÃ  geom_density2d() tÆ°Æ¡ng tá»± nhÆ° geom_histogram() vÃ  geom_density() dÃ¹ng Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a hai biáº¿n liÃªn tá»¥c. Khi sá»‘ lÆ°á»£ng quan sÃ¡t cáº§n hiá»ƒn thá»‹ lá»›n thÃ¬ sá»­ dá»¥ng Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm sáº½ khÃ´ng hiá»‡u quáº£. geom_bin2d() chia miá»n giÃ¡ trá»‹ cá»§a tá»«ng biáº¿n thÃ nh cÃ¡c khoáº£ng báº±ng nhau vÃ  Ä‘áº¿m trong má»—i hÃ¬nh chá»¯ nháº­t cÃ³ bao nhiÃªu Ä‘iá»ƒm sau Ä‘Ã³ sá»­ dá»¥ng mÃ u sáº¯c tá»« Ä‘áº­m Ä‘áº¿n nháº¡t Ä‘á»ƒ mÃ´ táº£ sá»‘ lÆ°á»£ng Ä‘iá»ƒm trong tá»«ng hÃ¬nh chá»¯ nháº­t tá»« nhá» Ä‘áº¿n lá»›n. geom_density2d() sá»­ dá»¥ng phÆ°Æ¡ng phÃ¡p kernel Ä‘á»ƒ tÃ­nh giÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ trong khÃ´ng gian hai chiá»u. Khoáº£ng cÃ¡ch tá»« quan sÃ¡t \\(x_i\\) Ä‘áº¿n Ä‘iá»ƒm \\(x\\) Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  khoáº£ng cÃ¡ch Euclid. Kernel Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n hai chiá»u. geom_density2d() váº½ cÃ¡c Ä‘Æ°á»ng ná»—i cÃ¡c Ä‘iá»ƒm cÃ³ giÃ¡ trá»‹ hÃ m máº­t Ä‘á»™ báº±ng nhau. HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ phÃ¢n phá»‘i Ä‘á»“ng cá»§a hai biáº¿n \\(favorite\\_count\\) vÃ  \\(retweet\\_count\\) trong dá»¯ liá»‡u \\(trump\\_tweet\\).Má»™t biáº¿n liÃªn tá»¥c vÃ  má»™t biáº¿n rá»i ráº¡c\ngeom_boxplot() váº½ Ä‘á»“ thá»‹ boxplot cá»§a má»™t biáº¿n liÃªn tá»¥c theo cÃ¡c nhÃ³m Ä‘Æ°á»£c phÃ¢n loáº¡i theo biáº¿n rá»i ráº¡c.\ngeom_violin() tÆ°Æ¡ng tá»± geom_boxplot() vÃ  sá»­ dá»¥ng cÃ¹ng vá»›i geom_boxplot() Ä‘á»ƒ bá»• sung thÃ´ng tin khi mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n liÃªn tá»¥c trong tá»«ng nhÃ³m. ChÃºng ta cÃ³ thá»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n \\(life_expectancy\\) trong cÃ¡c nÄƒm 1990, 2000, vÃ  2010 trong dá»¯ liá»‡u \\(gapminder\\) nhÆ° sau\ngeom_boxplot() váº½ Ä‘á»“ thá»‹ boxplot cá»§a má»™t biáº¿n liÃªn tá»¥c theo cÃ¡c nhÃ³m Ä‘Æ°á»£c phÃ¢n loáº¡i theo biáº¿n rá»i ráº¡c.geom_violin() tÆ°Æ¡ng tá»± geom_boxplot() vÃ  sá»­ dá»¥ng cÃ¹ng vá»›i geom_boxplot() Ä‘á»ƒ bá»• sung thÃ´ng tin khi mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n liÃªn tá»¥c trong tá»«ng nhÃ³m. ChÃºng ta cÃ³ thá»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n \\(life_expectancy\\) trong cÃ¡c nÄƒm 1990, 2000, vÃ  2010 trong dá»¯ liá»‡u \\(gapminder\\) nhÆ° sauMÃ´ táº£ hai biáº¿n rá»i ráº¡c:\ngeom_count() Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ hai biáº¿n rá»i ráº¡c. geom_count() táº¡o ra Ä‘á»“ thá»‹ thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  Ä‘á»“ thá»‹ kiá»ƒu bong bÃ³ng, mÃ  kÃ­ch thÆ°á»›c cá»§a má»—i bong bÃ³ng cho biáº¿t sá»‘ lÆ°á»£ng hay máº­t Ä‘á»™ cá»§a cÃ¡c Ä‘iá»ƒm rá»i ráº¡c. VÃ­ dá»¥ nhÆ° khi mÃ´ táº£ hai biáº¿n lÃ  \\(cut\\) vÃ  \\(color\\) trong dá»¯ liá»‡u \\(diamonds\\), chÃºng ta sá»­ dá»¥ng geom_count() nhÆ° sau\ngeom_count() Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ hai biáº¿n rá»i ráº¡c. geom_count() táº¡o ra Ä‘á»“ thá»‹ thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  Ä‘á»“ thá»‹ kiá»ƒu bong bÃ³ng, mÃ  kÃ­ch thÆ°á»›c cá»§a má»—i bong bÃ³ng cho biáº¿t sá»‘ lÆ°á»£ng hay máº­t Ä‘á»™ cá»§a cÃ¡c Ä‘iá»ƒm rá»i ráº¡c. VÃ­ dá»¥ nhÆ° khi mÃ´ táº£ hai biáº¿n lÃ  \\(cut\\) vÃ  \\(color\\) trong dá»¯ liá»‡u \\(diamonds\\), chÃºng ta sá»­ dá»¥ng geom_count() nhÆ° sauKhÃ´ng khÃ³ Ä‘á»ƒ nháº­n ra tá»· trá»ng lá»›n cÃ¡c viÃªn kim cÆ°Æ¡ng cÃ³ biáº¿n \\(cut\\) nháº­n giÃ¡ trá»‹ \\(ideal\\), vÃ  trong cÃ¡c viÃªn kim cÆ°Æ¡ng Ä‘Ã³ mÃ u \\(G\\) cÃ³ tá»· trá»ng lá»›n nháº¥t.MÃ´ táº£ ba biáº¿n: Sá»­ dá»¥ng cÃ¡c hÃ¬nh áº£nh kiá»ƒu 3 chiá»u khÃ´ng pháº£i lÃ  má»™t phÆ°Æ¡ng phÃ¡p tá»‘t Ä‘á»ƒ hiá»ƒn thá»‹ ba biáº¿n trÃªn cÃ¹ng má»™t Ä‘á»“ thá»‹. \\(ggplot2\\) thÆ°á»ng hiá»ƒn thá»‹ dá»¯ liá»‡u trÃªn má»™t máº·t pháº³ng vÃ  sá»­ dá»¥ng má»™t thuá»™c tÃ­nh tháº©m má»¹ nÃ o Ä‘Ã³ lÃ m chiá»u thá»© ba. geom_title() thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ ba biáº¿n\ncÃ¹ng má»™t lÃºc báº±ng cÃ¡ch sá»­ dá»¥ng trá»¥c \\(x\\) vÃ  \\(y\\) Ä‘á» mÃ´ táº£ hai biáº¿n vÃ  mÃ u sáº¯c Ä‘á»ƒ mÃ´ táº£ biáº¿n thá»© ba. HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y sá»­ dá»¥ng geom_tile() Ä‘á»ƒ mÃ´ táº£ ba biáº¿n \\(region\\), \\(year\\), vÃ  \\(life\\_expectancy\\). \\(life\\_expectancy\\) Ä‘Æ°á»£c tÃ­nh theo trung bÃ¬nh cá»§a vÃ¹ng qua cÃ¡c nÄƒm.Trong Ä‘á»“ thá»‹ á»Ÿ trÃªn chÃºng tÃ´i Ä‘Ã£ sá»­ dá»¥ng thÃªm cÃ¡c hÃ m scale_*() Ä‘á»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹. Cháº³ng háº¡n giÃ¡ trá»‹ nÄƒm (trá»¥c x) sáº½ lÃ  cÃ¡ch Ä‘á»u 5 nÄƒm, cÃ¡c vÃ¹ng trÃªn trá»¥c \\(y\\) Ä‘Æ°á»£c sáº¯p xáº¿p theo lá»¥c Ä‘á»‹a (ChÃ¢u Äáº¡i DÆ°Æ¡ng, ChÃ¢u Ã‚u, ChÃ¢u Ã, ChÃ¢u Má»¹, vÃ  cuá»‘i cÃ¹ng lÃ  ChÃ¢u Phi). Dáº£i mÃ u sáº¯c cÅ©ng Ä‘Æ°á»£c cho giÃ¡ trá»‹ dáº£i mÃ u tá»« Ä‘á» sang xanh da trá»i. ChÃºng ta sáº½ tháº£o luáº­n vá» scale_*() trong pháº§n sau cá»§a chÆ°Æ¡ng sÃ¡ch.","code":"\np1<-gapminder%>%filter(year==2011)%>%ggplot(aes(fertility))+\n  geom_histogram()\np2<-gapminder%>%filter(year==2011)%>%ggplot(aes(fertility))+\n  geom_density()\np3<-gapminder%>%filter(year==2011)%>%ggplot(aes(y=fertility))+\n  geom_boxplot()\ngrid.arrange(p1,p2,p3,nrow=1,ncol=3)\np1<-gapminder%>%filter(year==2011, region==\"South-Eastern Asia\")%>%\n  ggplot(aes(fertility, infant_mortality))+\n  geom_point()+geom_text(aes(label = country), vjust=1.1)+\n  ggtitle(\"Sá»­ dá»¥ng geom_text()\")\np2<-gapminder%>%filter(year==2011, region==\"South-Eastern Asia\")%>%\n  ggplot(aes(fertility, infant_mortality))+\n  geom_point()+geom_label(aes(label = country), vjust=0.9)+\n  ggtitle(\"Sá»­ dá»¥ng geom_label()\")\ngrid.arrange(p1,p2,nrow=1,ncol=2)\np1<-gapminder%>%filter(year==2011, region==\"South-Eastern Asia\")%>%\n  ggplot(aes(fertility, infant_mortality))+\n  geom_point()+geom_text_repel(aes(label = country), vjust=1.1)+\n  ggtitle(\"Sá»­ dá»¥ng geom_text_repel()\")\np2<-gapminder%>%filter(year==2011, region==\"South-Eastern Asia\")%>%\n  ggplot(aes(fertility, infant_mortality))+\n  geom_point()+geom_label_repel(aes(label = country), vjust=0.9)+\n  ggtitle(\"Sá»­ dá»¥ng geom_label_repel()\")\ngrid.arrange(p1,p2,nrow=1,ncol=2)\n# geom_bind2d\np1<-trump_tweets%>%mutate(log_favorite_count = log(favorite_count), \n                          log_retweet_count = log(retweet_count)) %>%\n  ggplot(aes(log_favorite_count,log_retweet_count))+geom_bin2d()+theme_minimal()\n\n# geom_density2d\np2<-trump_tweets%>%mutate(log_favorite_count = log(favorite_count), \n                          log_retweet_count = log(retweet_count)) %>%\n  ggplot(aes(log_favorite_count,log_retweet_count))+geom_density2d()+theme_minimal()\n\ngrid.arrange(p1,p2,nrow=1, ncol = 2)\np1<- gapminder%>%filter(year %in% c(1990,2000,2010))%>%ggplot(aes(x = as.factor(year),y = life_expectancy))+geom_boxplot()\n\np2<-gapminder%>%filter(year %in% c(1990,2000,2010))%>%ggplot(aes(x = as.factor(year),y = life_expectancy))+geom_violin()\n\ngrid.arrange(p1,p2,nrow=1, ncol = 2)\ndiamonds%>%ggplot(aes(cut,color))+geom_count(color=\"lightskyblue\")+theme_minimal()\ndanhsach<-gapminder%>%filter(year==2010)%>%\n  group_by(region)%>%summarise(continent = unique(continent))%>%\n  arrange(continent)\ngapminder%>%group_by(year,continent, region)%>%summarise(life_expectancy = mean(life_expectancy,na.rm = TRUE))%>%\n  ggplot()+geom_tile(aes(x = year, y = region , fill = life_expectancy), color= \"grey\")+\n  scale_fill_gradientn(colours = c(rgb(0.8,0.3,0.3),rgb(0.9,0.9,0.9),rgb(0.3,0.3,0.9)))+\n  scale_x_continuous(breaks = seq(1960,2010,5))+\n  scale_y_discrete(limits = danhsach$region)+\n  theme_minimal()"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"cÃ¡c-hÃ m-stat_","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.3.3 CÃ¡c hÃ m stat_*()","text":"Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ xÃ¢y dá»±ng cÃ¡c lá»›p cho Ä‘á»“ thá»‹ \\(ggplot2\\) báº±ng cÃ¡c hÃ m stat_*(). CÃ¡c hÃ m sá»‘ nÃ y thÆ°á»ng khÃ´ng hiá»ƒn thá»‹ dá»¯ liá»‡u á»Ÿ tráº¡ng thÃ¡i ban Ä‘áº§u mÃ  thÆ°á»ng hiá»ƒn thá»‹ dá»¯ liá»‡u dÆ°á»›i má»™t phÃ©p biáº¿n Ä‘á»•i thá»‘ng kÃª hoáº·c má»™t sau má»™t tÃ³m táº¯t dá»¯ liá»‡u theo má»™t cÃ¡ch nÃ o Ä‘Ã³. Nhiá»u hÃ m stat_*() Ä‘Æ°á»£c gá»i thÃ´ng qua cÃ¡c hÃ m geom_*(), cháº³ng háº¡n nhÆ° stat_bin() tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i geom_histogram() vÃ  geom_bar(); stat_smooth() tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i geom_smooth(); â€¦ Sá»± tÆ°Æ¡ng Ä‘á»“ng hay khÃ¡c biá»‡t giá»¯a sá»­ dá»¥ng hÃ m stat_*() vÃ  hÃ m geom_*() sáº½ Ä‘Æ°á»£c tháº£o luáº­n á»Ÿ pháº§n cuá»‘i cá»§a chÆ°Æ¡ng sÃ¡ch.Thay vÃ¬ sá»­ dá»¥ng geom_*(), chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng stat_*() Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a cÃ¡c biáº¿n liÃªn tá»¥c","code":"\n# Äá»’ thá»‹ histogram\np1<-gapminder%>%filter(year==2011)%>%ggplot(aes(fertility))+\n  stat_bin()+ggtitle(\"Äá»“ thá»‹ histogram cá»§a fertility\") \n# hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t\np2<-gapminder%>%filter(year==2011)%>%ggplot(aes(fertility))+\n  stat_density()+ggtitle(\"HÃ m máº­t Ä‘á»™\") \np3<-gapminder%>%filter(year==2011)%>%ggplot(aes(fertility))+\n  stat_boxplot()+ggtitle(\"Äá»“ thá»‹ boxplot\") \ngrid.arrange(p1,p2,p3,nrow=1,ncol=3)"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"scale","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.4 Scale","text":"\\(Scale\\) trong ggplot2 kiá»ƒm soÃ¡t Ã¡nh xáº¡ tá»« dá»¯ liá»‡u Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹ cá»§a Ä‘á»“ thá»‹. CÃ¡c hÃ m scale_*() láº¥y dá»¯ liá»‡u ban Ä‘áº§u vÃ  biáº¿n Ä‘á»•i thÃ nh cÃ¡c Ä‘á»‘i tÆ°á»£ng trá»±c quan mÃ  báº¡n cÃ³ thá»ƒ nhÃ¬n tháº¥y, nhÆ° kÃ­ch thÆ°á»›c, mÃ u sáº¯c, vá»‹ trÃ­ hoáº·c hÃ¬nh dáº¡ng. Báº¡n cÃ³ thá»ƒ táº¡o biá»ƒu Ä‘á»“ báº±ng \\(ggplot2\\) mÃ  khÃ´ng cáº§n biáº¿t chÃ­nh xÃ¡c Ã¡nh xáº¡ hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o, nhÆ°ng hiá»ƒu vá» \\(scale\\) vÃ  há»c cÃ¡ch thao tÃ¡c cÃ¡c hÃ m scale_*() sáº½ giÃºp báº¡n kiá»ƒm soÃ¡t tá»‘t hÆ¡n ráº¥t nhiá»u.","code":""},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"vá»‹-trÃ­-xuáº¥t-hiá»‡n-trÃªn-trá»¥c-tá»a-Ä‘á»™","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.4.1 Vá»‹ trÃ­ xuáº¥t hiá»‡n trÃªn trá»¥c tá»a Ä‘á»™","text":"Äa sá»‘ cÃ¡c Ä‘á»“ thá»‹ trong \\(ggplot2\\) hiá»ƒn thá»‹ dá»¯ liá»‡u trÃªn trá»¥c tá»a Ä‘á»™ Descartes nÃªn chÃºng tÃ´i sáº½ táº­p trung vÃ o cÃ¡ch dá»¯ liá»‡u hiá»ƒn thá»‹ trÃªn hai trá»¥c tá»a Ä‘á»™ \\(x\\) vÃ  \\(y\\). Khi Ã¡nh xáº¡ cÃ¡c cá»™t dá»¯ liá»‡u tá»›i cÃ¡c trá»¥c tá»a Ä‘á»™ \\(x\\) vÃ  \\(y\\) náº¿u chÃºng ta khÃ´ng sá»­ dá»¥ng \\(scale\\), cÃ¡c Ä‘iá»ƒm sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ Ä‘Ãºng nhÆ° giÃ¡ trá»‹ cá»§a Ä‘iá»ƒm Ä‘Ã³ trÃªn cÃ¡c trá»¥c tá»a Ä‘á»™. Trong nhiá»u trÆ°á»ng há»£p, hiá»ƒn thá»‹ táº¡i vá»‹ trÃ­ Ä‘Ãºng nhÆ° dá»¯ liá»‡u ban Ä‘áº§u sáº½ khÃ´ng mang láº¡i hiá»‡u quáº£. VÃ­ dá»¥ nhÆ° khi mÃ´ táº£ hai biáº¿n \\(total\\) vÃ  \\(population\\) cá»§a dá»¯ liá»‡u \\(murders\\), báº¡n Ä‘á»c cÃ³ thá»ƒ sÃ¡nh cÃ¡ch hiá»ƒn thá»‹ giá»¯a viá»‡c khÃ´ng kiá»ƒm soÃ¡t (hÃ¬nh bÃªn trÃ¡i) vÃ  cÃ³ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ nhÆ° hÃ¬nh dÆ°á»›i Ä‘Ã¢y\nCÃ³ thá»ƒ tháº¥y ráº±ng hÃ¬nh bÃªn pháº£i hiá»ƒn thá»‹ rÃµ rÃ ng hÆ¡n hÃ¬nh bÃªn trÃ¡i sau khi chÃºng ta kiá»ƒm soÃ¡t Ã¡nh xáº¡ tá»« biáº¿n \\(population\\) Ä‘áº¿n thuá»™c tÃ­nh \\(x\\) vÃ  tá»« biáº¿n \\(total\\) Ä‘áº¿n thuá»™c tÃ­nh \\(y\\) báº±ng cÃ¡c hÃ m scale_x_continuous() vÃ  scale_y_continuous(). ÄÃ¢y lÃ  hai hÃ m sá»‘ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ kiá»ƒm soÃ¡t vá»‹ trÃ­ xuáº¥t hiá»‡n cá»§a cÃ¡c Ä‘iá»ƒm trÃªn trá»¥c tá»a Ä‘á»™ khi cÃ¡c biáº¿n trong Ã¡nh xáº¡ lÃ  cÃ¡c biáº¿n kiá»ƒu sá»‘ liÃªn tá»¥c. CÃ¡c tham sá»‘ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c hÃ m nÃ y bao gá»“m cÃ³:Tham sá»‘ \\(trans\\), lÃ  viáº¿t táº¯t cá»§a transformation, nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  â€˜identityâ€™ nghÄ©a lÃ  láº¥y chÃ­nh xÃ¡c giÃ¡ trá»‹ cá»§a biáº¿n Ã¡nh xáº¡ vÃ o thuá»™c tÃ­nh \\(x\\) hoáº·c \\(y\\) tÆ°Æ¡ng á»©ng. Äá»ƒ biáº¿t cÃ¡c giÃ¡ trá»‹ mÃ  tham sá»‘ nÃ y cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c báº¡n Ä‘á»c cÃ³ thá»ƒ tham kháº£o trong tÃ i liá»‡u Ä‘i kÃ¨m vá»›i hÃ m scale_x_continuous() vÃ  scale_y_continuous(). Khi scale cÃ¡c biáº¿n, cháº³ng háº¡n nhÆ° \\(x_1\\) vÃ  \\(x_2\\), lÃ  cÃ¡c biáº¿n Ã¡nh xáº¡ tá»›i \\(x\\) vÃ  \\(y\\) trong Ã¡nh xáº¡ tháº©m má»¹ báº±ng má»™t hÃ m \\(f\\) Ä‘Æ°á»£c khai bÃ¡o báº±ng tham sá»‘ \\(trans\\), giÃ¡ trá»‹ xuáº¥t hiá»‡n trÃªn trá»¥c tá»a Ä‘á»™ \\(x\\) vÃ  \\(y\\) sáº½ tÆ°Æ¡ng á»©ng lÃ  \\(f(x_1)\\) vÃ  \\(f(x_2)\\). Cháº³ng háº¡n nhÆ° trong Ä‘á»“ thá»‹ phÃ­a bÃªn pháº£i á»Ÿ trÃªn, khi chÃºng ta thá»±c hiá»‡n scale sá»­ dá»¥ng hÃ m \\(log10\\), tá»a Ä‘á»™ cá»§a cÃ¡c Ä‘iá»ƒm (cÃ¡c quá»‘c gia) sáº½ lÃ  \\(log10(population)\\) vÃ  \\(log10(total)\\). Viá»‡c chuyá»ƒn Ä‘á»•i nÃ y sáº½ há»¯u Ã­ch bá»Ÿi ráº¥t Ä‘a sá»‘ cÃ¡c quá»‘c gia cÃ³ dÃ¢n sá»‘ nhá», trong khi cÃ³ má»™t vÃ i quá»‘c gia cÃ³ dÃ¢n sá»‘ ráº¥t lá»›n. Thá»±c hiá»‡n chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u báº±ng cÃ¡c hÃ m \\(log\\) sáº½ giÃºp cho khoáº£ng cÃ¡ch cá»§a cÃ¡c Ä‘iá»ƒm cÃ¡ch Ä‘á»u nhau hÆ¡n vÃ  dá»… dÃ ng phÃ¢n biá»‡t hÆ¡n.Tham sá»‘ \\(trans\\), lÃ  viáº¿t táº¯t cá»§a transformation, nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  â€˜identityâ€™ nghÄ©a lÃ  láº¥y chÃ­nh xÃ¡c giÃ¡ trá»‹ cá»§a biáº¿n Ã¡nh xáº¡ vÃ o thuá»™c tÃ­nh \\(x\\) hoáº·c \\(y\\) tÆ°Æ¡ng á»©ng. Äá»ƒ biáº¿t cÃ¡c giÃ¡ trá»‹ mÃ  tham sá»‘ nÃ y cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c báº¡n Ä‘á»c cÃ³ thá»ƒ tham kháº£o trong tÃ i liá»‡u Ä‘i kÃ¨m vá»›i hÃ m scale_x_continuous() vÃ  scale_y_continuous(). Khi scale cÃ¡c biáº¿n, cháº³ng háº¡n nhÆ° \\(x_1\\) vÃ  \\(x_2\\), lÃ  cÃ¡c biáº¿n Ã¡nh xáº¡ tá»›i \\(x\\) vÃ  \\(y\\) trong Ã¡nh xáº¡ tháº©m má»¹ báº±ng má»™t hÃ m \\(f\\) Ä‘Æ°á»£c khai bÃ¡o báº±ng tham sá»‘ \\(trans\\), giÃ¡ trá»‹ xuáº¥t hiá»‡n trÃªn trá»¥c tá»a Ä‘á»™ \\(x\\) vÃ  \\(y\\) sáº½ tÆ°Æ¡ng á»©ng lÃ  \\(f(x_1)\\) vÃ  \\(f(x_2)\\). Cháº³ng háº¡n nhÆ° trong Ä‘á»“ thá»‹ phÃ­a bÃªn pháº£i á»Ÿ trÃªn, khi chÃºng ta thá»±c hiá»‡n scale sá»­ dá»¥ng hÃ m \\(log10\\), tá»a Ä‘á»™ cá»§a cÃ¡c Ä‘iá»ƒm (cÃ¡c quá»‘c gia) sáº½ lÃ  \\(log10(population)\\) vÃ  \\(log10(total)\\). Viá»‡c chuyá»ƒn Ä‘á»•i nÃ y sáº½ há»¯u Ã­ch bá»Ÿi ráº¥t Ä‘a sá»‘ cÃ¡c quá»‘c gia cÃ³ dÃ¢n sá»‘ nhá», trong khi cÃ³ má»™t vÃ i quá»‘c gia cÃ³ dÃ¢n sá»‘ ráº¥t lá»›n. Thá»±c hiá»‡n chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u báº±ng cÃ¡c hÃ m \\(log\\) sáº½ giÃºp cho khoáº£ng cÃ¡ch cá»§a cÃ¡c Ä‘iá»ƒm cÃ¡ch Ä‘á»u nhau hÆ¡n vÃ  dá»… dÃ ng phÃ¢n biá»‡t hÆ¡n.Tham sá»‘ \\(limits\\) giá»›i háº¡n giÃ¡ trá»‹ trÃªn cÃ¡c trá»¥c \\(x\\) vÃ  \\(y\\). Má»—i khi chÃºng ta váº½ Ä‘á»“ thá»‹ sá»­ dá»¥ng \\(ggplot2\\), tham sá»‘ \\(limits\\) máº·c Ä‘á»‹nh sáº½ Ä‘áº£m báº£o viá»‡c hiá»ƒn thá»‹ Ä‘Æ°á»£c Ä‘áº§y Ä‘á»§ nháº¥t. Tuy nhiÃªn, khi chÃºng ta muá»‘n sÃ¡nh hai dá»¯ liá»‡u con trÃªn cÃ¹ng má»™t miá»n giÃ¡ trá»‹ cá»§a \\(x\\) vÃ  \\(y\\), sá»­ dá»¥ng tham sá»‘ \\(limits\\) cho phÃ©p sÃ¡nh rÃµ rÃ ng hÆ¡n lÃ  sá»­ dá»¥ng tham sá»‘ máº·c Ä‘á»‹nh. HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ hai biáº¿n \\(fertility\\) vÃ  \\(life\\_expectancy\\) trong nÄƒm 1960 vÃ  2010 vÃ  khÃ´ng sá»­ dá»¥ng scale.Tham sá»‘ \\(limits\\) giá»›i háº¡n giÃ¡ trá»‹ trÃªn cÃ¡c trá»¥c \\(x\\) vÃ  \\(y\\). Má»—i khi chÃºng ta váº½ Ä‘á»“ thá»‹ sá»­ dá»¥ng \\(ggplot2\\), tham sá»‘ \\(limits\\) máº·c Ä‘á»‹nh sáº½ Ä‘áº£m báº£o viá»‡c hiá»ƒn thá»‹ Ä‘Æ°á»£c Ä‘áº§y Ä‘á»§ nháº¥t. Tuy nhiÃªn, khi chÃºng ta muá»‘n sÃ¡nh hai dá»¯ liá»‡u con trÃªn cÃ¹ng má»™t miá»n giÃ¡ trá»‹ cá»§a \\(x\\) vÃ  \\(y\\), sá»­ dá»¥ng tham sá»‘ \\(limits\\) cho phÃ©p sÃ¡nh rÃµ rÃ ng hÆ¡n lÃ  sá»­ dá»¥ng tham sá»‘ máº·c Ä‘á»‹nh. HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ hai biáº¿n \\(fertility\\) vÃ  \\(life\\_expectancy\\) trong nÄƒm 1960 vÃ  2010 vÃ  khÃ´ng sá»­ dá»¥ng scale.KhÃ´ng thá»ƒ tháº¥y rÃµ Ä‘Æ°á»£c sá»± khÃ¡c biá»‡t giá»¯a hai nÄƒm 1960 vÃ  2010 náº¿u khÃ´ng biá»ƒu diá»…n cÃ¡c biáº¿n trÃªn cÃ¹ng má»™t miá»n giÃ¡ trá»‹ cá»§a \\(x\\) vÃ  \\(y\\). HÃ¬nh phÃ­a dÆ°á»›i sá»­ dá»¥ng tÃ¹y biáº¿n \\(limits\\). Äá»ƒ khai bÃ¡o tham sá»‘ cho tÃ¹y biáº¿n nÃ y chÃºng ta sá»­ dá»¥ng má»™t vÃ©c-tÆ¡ hai chiá»u chá»©a giÃ¡ trá»‹ nhá» nháº¥t vÃ  giÃ¡ trá»‹ lá»›n nháº¥t trÃªn trá»¥c mÃ  báº¡n muá»‘n hiá»ƒn thá»‹. RÃµ rÃ ng Ä‘Ã£ cÃ³ sá»­ khÃ¡c nhau Ä‘Ã¡ng ká»ƒ vá» sá»± phÃ¢n bá»‘ cá»§a cÃ¡c Ä‘iá»ƒm trong nÄƒm 1960 vÃ  nÄƒm 2010.Tham sá»‘ \\(breaks\\) kiá»ƒm soÃ¡t vá»‹ trÃ­ cÃ¡c Ä‘iá»ƒm Ä‘Ã¡nh dáº¥u xuáº¥t hiá»‡n trÃªn cÃ¡c trá»¥c \\(x\\) vÃ  trá»¥c \\(y\\). ChÃºng tÃ´i thÆ°á»ng káº¿t há»£p \\(breaks\\) vá»›i tham sá»‘ \\(labels\\) Ä‘á»ƒ kiá»ƒm soÃ¡t Ä‘á»“ng thá»i vá»‹ trÃ­ vÃ  cÃ¡ch hiá»ƒn thá»‹ trÃªn cÃ¡c trá»¥c sá»‘. VÃ­ dá»¥ nhÆ° trong hÃ¬nh sÃ¡nh Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm cá»§a nÄƒm 1960 vÃ  2010 chÃºng ta muá»‘n giÃ¡ trá»‹ xuáº¥t hiá»‡n trÃªn cÃ¡c trá»¥c \\(x\\) lÃ  cÃ¡c sá»‘ 2, 4, 6, 8 thay vÃ¬ 2,5; 5,0; vÃ  7, vÃ  cÃ¡c sá»‘ trÃªn trá»¥c \\(y\\) xuáº¥t hiá»‡n táº¡i cÃ¡c vá»‹ trÃ­ 10, 30, 50, 70, vÃ  90 thay vÃ¬ 40, 60, 80 nhÆ° hiá»‡n táº¡i, chÃºng ta chá»‰ cáº§n gÃ¡n giÃ¡ trá»‹ tham sá»‘ \\(breaks\\) báº±ng vÃ©c-tÆ¡ chá»©a cÃ¡c giÃ¡ trá»‹ mÃ  chÃºng ta muá»‘n hiá»ƒn thá»‹. LÆ°u Ã½ ráº±ng \\(breaks\\) cÃ³ chá»¯ \\(s\\) á»Ÿ cuá»‘i Ä‘á»ƒ phÃ¢n biá»‡t vá»›i tá»« khÃ³a \\(break\\).Khi má»™t trong hai biáº¿n liÃªn tá»¥c lÃ  biáº¿n kiá»ƒu thá»i gian thÃ¬ hÃ m sá»‘ sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm soÃ¡t giÃ¡ trá»‹ hiá»ƒn thá»‹ lÃ  scale_x_date() vá»›i hai tham sá»‘ thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  \\(date\\_break\\) vÃ  \\(date\\_labels\\). Báº¡n Ä‘á»c quan sÃ¡t dá»¯ liá»‡u \\(AirPassengers\\) Ä‘Æ°á»£c trá»±c quan hÃ³a khi sá»­ dá»¥ng scale_x_date() nhÆ° sauKhi giÃ¡ trá»‹ trÃªn trá»¥c \\(x\\) hoáº·c trá»¥c \\(y\\) lÃ  cÃ¡c giÃ¡ trá»‹ rá»i ráº¡c, cÃ¡c hÃ m sá»‘ sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ tá»« biáº¿n Ä‘áº¿n cÃ¡c trá»¥c tá»a Ä‘á»™c lÃ  scale_x_discrete() vÃ  scale_y_discrete(). CÃ¡c tham sá»‘ thÆ°á»ng sá»­ dá»¥ng bao gá»“m \\(limits\\) vÃ  \\(labels\\). Tham sá»‘ \\(limits\\) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cho biáº¿t cÃ¡c giÃ¡ trá»‹ nÃ o cá»§a biáº¿n rá»i ráº¡c xuáº¥t hiá»‡n trÃªn Ä‘á»“ thá»‹, trong khi tham sá»‘ \\(labels\\) cho biáº¿t tá»«ng giÃ¡ trá»‹ cá»§a biáº¿n rá»i ráº¡c xuáº¥t hiá»‡n nhÆ° tháº¿ nÃ o","code":"\np1<-murders%>%ggplot(aes(x = population,y = total))+geom_point(size = 3, color = \"lightskyblue\")+\n  theme_minimal()+ggtitle(\"KhÃ´ng sá»­ dá»¥ng scale\")\np2<-murders%>%ggplot(aes(x = population,y = total))+geom_point(size = 3, color = \"lightskyblue\")+\n  theme_minimal()+\n  scale_x_continuous(trans = \"log10\")+\n  scale_y_continuous(trans = \"log10\")+\n  ggtitle(\"CÃ³ sá»­ dá»¥ng scale (log10)\")\ngrid.arrange(p1,p2,nrow=1,ncol=2)\np1<-gapminder%>%filter(year==1960)%>%\n  ggplot(aes(fertility,life_expectancy))+\n  geom_point(shape = 21, size = 3,alpha = 0.8, fill= \"lightskyblue\")+\n  ggtitle(\"NÄƒm 1960\")+\n  scale_x_continuous(limits = c(1,9))+\n  scale_y_continuous(limits = c(25,85))\np2<-gapminder%>%filter(year==2010)%>%\n  ggplot(aes(fertility,life_expectancy))+\n  geom_point(shape = 21, size = 3,alpha = 0.8, fill= \"lightskyblue\")+\n  ggtitle(\"NÄƒm 2010\")+\n   scale_x_continuous(limits = c(1,9))+\n  scale_y_continuous(limits = c(25,85))\ngrid.arrange(p1,p2,nrow=1,ncol=2)\np1<-gapminder%>%filter(year==1960)%>%\n  ggplot(aes(fertility,life_expectancy))+\n  geom_point(shape = 21, size = 3,alpha = 0.8, fill= \"lightskyblue\")+\n  ggtitle(\"NÄƒm 1960\")+\n  scale_x_continuous(limits = c(1,9), \n                     breaks = c(2,4,6,8),\n                     labels = paste(c(2,4,6,8),\"tráº» em\"))+\n  scale_y_continuous(limits = c(25,85), \n                     breaks = c(10,30,50,70,90),\n                     labels = paste(c(10,30,50,70,90),\"tuá»•i\"))\np2<-gapminder%>%filter(year==2010)%>%\n  ggplot(aes(fertility,life_expectancy))+\n  geom_point(shape = 21, size = 3,alpha = 0.8, fill= \"lightskyblue\")+\n  ggtitle(\"NÄƒm 2010\")+\n  scale_x_continuous(limits = c(1,9), \n                     breaks = c(2,4,6,8),\n                     labels = paste(c(2,4,6,8),\"tráº» em\"))+\n  scale_y_continuous(limits = c(25,85), \n                     breaks = c(10,30,50,70,90),\n                     labels = paste(c(10,30,50,70,90),\"tuá»•i\"))\ngrid.arrange(p1,p2,nrow=1,ncol=2)\ndat<-data.frame(Number_Passengers = AirPassengers, \n                Month = seq(as.Date(\"1949-01-01\"), by = \"month\", length.out = 144))\np1<-dat%>%ggplot(aes(x = Month, y = Number_Passengers))+\n  geom_line() + ggtitle(\"KhÃ´ng sá»­ dá»¥ng scale\")\np2<-dat%>%ggplot(aes(x = Month, y = Number_Passengers))+\n  geom_line()+ ggtitle(\"Sá»­ dá»¥ng scale_x_date()\")+\n  scale_x_date(date_break = \"2 years\", date_labels = \"%b\\n%Y\" )+\n  scale_y_continuous(breaks = seq(100,600,length=6))\n                     \ngrid.arrange(p1,p2,nrow=1,ncol=2)\np1<-murders%>%mutate(rate = total/population*10^6)%>%\n  ggplot(aes(region,rate))+\n  geom_boxplot()+ggtitle(\"KhÃ´ng sá»­ dá»¥ng scale\")\n\n# Sá»­ dá»¥ng tham sá»‘ limits cho giÃ¡ trá»‹ trÃªn trá»¥c x\np2<-murders%>%mutate(rate = total/population*10^6)%>%\n  ggplot(aes(region,rate))+\n  geom_boxplot()+ggtitle(\"KhÃ´ng sá»­ dá»¥ng scale\")+\n  scale_y_continuous(limits = c(0,50))+\n  # chá»‰ hiá»ƒn thá»‹ boxplot cho 2 vÃ¹ng \"Northeast\" vÃ  \"West\"\n  scale_x_discrete(limits = c(\"Northeast\", \"West\"))+\n  ggtitle(\"Sá»­ dá»¥ng dá»¥ng tham sá»‘ limits\")\n# Sá»­ dá»¥ng tham sá»‘ labels cho giÃ¡ trá»‹ trÃªn trá»¥c x\np3<-murders%>%mutate(rate = total/population*10^6)%>%\n  ggplot(aes(region,rate))+\n  geom_boxplot()+ggtitle(\"KhÃ´ng sá»­ dá»¥ng scale\")+\n  scale_y_continuous(limits = c(0,100))+\n  # Thay tháº¿ giÃ¡ trá»‹ hiá»ƒn thá»‹ trÃªn trá»¥c sá»‘ báº±ng labels\n  scale_x_discrete(labels = c(\"Northeast\" = \"ÄÃ´ng Báº¯c\", \n                              \"West\" = \"Miá»n TÃ¢y\",\n                              \"South\" = \"Miá»n Nam\",\n                              \"North Central\" = \"Miá»n Báº¯c\"))+\n  ggtitle(\"Sá»­ dá»¥ng dá»¥ng tham sá»‘ labels\")\ngrid.arrange(p1,p2,p3,nrow=1,ncol=3)"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"mÃ u-sáº¯c-hiá»ƒn-thá»‹-vÃ -chÃº-giáº£i","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.4.2 MÃ u sáº¯c hiá»ƒn thá»‹ vÃ  chÃº giáº£i","text":"Thuá»™c tÃ­nh tháº©m má»¹ Ä‘Æ°á»£c sá»­ dá»¥ng phá»• biáº¿n nháº¥t lÃ  mÃ u sáº¯c. CÃ³ nhiá»u cÃ¡ch Ä‘á»ƒ Ã¡nh xáº¡ giÃ¡ trá»‹ cá»§a biáº¿n tá»›i mÃ u sáº¯c trong \\(ggplot2\\). VÃ¬ mÃ u sáº¯c lÃ  má»™t chá»§ Ä‘á» phá»©c táº¡p nÃªn pháº§n nÃ y chÃºng tÃ´i sáº½ báº¯t Ä‘áº§u báº±ng viá»‡c tháº£o luáº­n má»™t chÃºt vá» lÃ½ thuyáº¿t mÃ u sáº¯c. Sau Ä‘Ã³ chÃºng tÃ´i sáº½ giá»›i thiá»‡u Ä‘áº¿n báº¡n Ä‘á»c vá» thang mÃ u liÃªn tá»¥c, thang mÃ u rá»i ráº¡c vÃ  thang mÃ u tá»•ng há»£p. ChÃºng tÃ´i cÅ©ng sáº½ Ä‘á» cáº­p Ä‘áº¿n cÃ¡c thang mÃ u dÃ nh cho biáº¿n kiá»ƒu thá»i gian ngÃ y/giá», Ä‘á»™ trong cá»§a cÃ¡c mÃ u sáº¯c hiá»ƒn thá»‹ vÃ  nguyÃªn táº¯c chÃº giáº£i Ä‘Æ°á»£c thiáº¿t láº­p trong cÃ¡c Ä‘á»“ thá»‹ \\(ggplot2\\).","code":""},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"cáº£m-nháº­n-vá»-mÃ u-sáº¯c","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.4.2.1 Cáº£m nháº­n vá» mÃ u sáº¯c","text":"Trong váº­t lÃ½, mÃ u sáº¯c Ä‘Æ°á»£c táº¡o ra bá»Ÿi há»—n há»£p cÃ¡c bÆ°á»›c sÃ³ng Ã¡nh sÃ¡ng. Äá»ƒ mÃ´ táº£ Ä‘áº§y Ä‘á»§ vá» má»™t mÃ u sáº¯c, chÃºng ta cáº§n biáº¿t sá»± káº¿t há»£p chÃ­nh xÃ¡c cá»§a cÃ¡c bÆ°á»›c sÃ³ng. Sá»± tháº­t thÃ¬ máº¯t con ngÆ°á»i chá»‰ cÃ³ ba cÆ¡ quan cáº£m nháº­n mÃ u sáº¯c khÃ¡c nhau, vÃ  vÃ¬ váº­y chÃºng ta cÃ³ thá»ƒ tÃ³m táº¯t kháº£ nÄƒng cáº£m nháº­n vá» báº¥t ká»³ mÃ u nÃ o chá»‰ báº±ng ba con sá»‘. Má»™t khÃ´ng gian mÃ u cÃ³ thá»ƒ quen thuá»™c vá»›i báº¡n Ä‘á»c lÃ  khÃ´ng gian mÃ u RGB, khÃ´ng gian mÃ  má»i mÃ u sáº¯c Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh theo cÆ°á»ng Ä‘á»™ Ã¡nh sÃ¡ng Ä‘á», xanh da trá»i vÃ  xanh lÃ¡ cÃ¢y Ä‘á»ƒ táº¡o ra mÃ u Ä‘Ã³. Æ¯u Ä‘iá»ƒm cá»§a khÃ´ng gian mÃ u nÃ y lÃ  sá»± Ä‘Æ¡n giáº£n má»—i mÃ u sáº¯c Ä‘á»u Ä‘Æ°á»£c mÃ´ táº£ báº±ng ba con sá»‘ tá»« 0 Ä‘áº¿n 255 hoÃ n toÃ n Ä‘á»™c láº­p vá»›i nhau. Má»™t váº¥n Ä‘á» vá»›i khÃ´ng gian nÃ y lÃ  cÃ¡c dáº£i mÃ u liÃªn tá»¥c nháº­n Ä‘Æ°á»£c báº±ng cÃ¡ch tÄƒng giáº£m cÃ¡c cÆ°á»ng Ä‘á»™ mÃ u Ä‘á», xanh lam, xanh lÃ¡ cÃ¢y láº¡i khÃ´ng giá»‘ng nhÆ° cÃ¡ch nháº­n thá»©c vá» mÃ u sáº¯c cá»§a cÃ²n ngÆ°á»i. Khi nhÃ¬n vÃ o má»™t mÃ u cá»¥ thá»ƒ, chÃºng ta khÃ´ng thá»ƒ Æ°á»›c tÃ­nh Ä‘Æ°á»£c cÆ°á»ng Ä‘á»™ má»—i mÃ u lÃ  bao nhiÃªu, Ä‘iá»u nÃ y cÃ³ thá»ƒ gÃ¢y khÃ³ khÄƒn cho viá»‡c táº¡o Ã¡nh xáº¡ tá»« má»™t biáº¿n liÃªn tá»¥c sang má»™t dáº£i mÃ u.Má»—i khi hiá»ƒn thá»‹ má»™t giÃ¡ trá»‹ mÃ u sáº¯c trong khÃ´ng gian RGB, R thÆ°á»ng sá»­ dá»¥ng kÃ½ tá»± cÃ³ 6 chá»¯ sá»‘ trong há»‡ 16 (tá»« 0 Ä‘áº¿n F) vÃ  báº¯t Ä‘áº§u báº±ng má»™t dáº¥u â€˜#â€™ thay vÃ¬ má»™t vÃ©c-tÆ¡ ba chiá»u Ä‘áº¡i diá»‡n cho 3 sáº¯c Ä‘á», xanh lÃ¡ cÃ¢y, vÃ  xanh lam. Hai chá»¯ sá»‘ Ä‘áº§u Ä‘áº¡i diá»‡n cho sáº¯c Ä‘á», 2 chá»¯ sá»‘ tiáº¿p theo Ä‘áº¡i diá»‡n cho mÃ u xanh lÃ¡ cÃ¢y vÃ  2 chá»¯ sá»‘ cuá»‘i Ä‘áº¡i diá»‡n cho mÃ u lam. Cháº³ng háº¡n nhÆ° â€œ#FF0000â€ sáº½ lÃ  mÃ u Ä‘á», â€œ#00FF00â€ lÃ  mÃ u xanh lÃ¡ cÃ¢y vÃ  â€œ#0000FFâ€ lÃ  mÃ u xanh lam.Má»™t khÃ´ng gian mÃ u Ä‘Æ°á»£c chuyá»ƒn Ä‘á»•i tá»« khÃ´ng gian RGB lÃ  khÃ´ng gian Lab trong Ä‘Ã³ L Ä‘áº¡i diá»‡n cho Ä‘á»™ tÆ°Æ¡ng pháº£n sÃ¡ng-tá»‘i cá»§a mÃ u sáº¯c, trá»¥c tá»a Ä‘á»™ vÃ  b cho biáº¿t cÃ¡c vá»‹ trÃ­ cá»§a mÃ u trÃªn trÃªn trá»¥c Ä‘á» Ä‘áº¿n xanh lam vÃ  vÃ ng Ä‘áº¿n xanh lÃ¡. Cáº£i tiáº¿n tá»« khÃ´ng gian RGB sang khÃ´ng gian Lab giÃºp cho cÃ¡c dáº£i mÃ u sáº¯c tÆ°Æ¡ng á»©ng hÆ¡n vá»›i cÃ¡ch kháº£ nÄƒng nháº­n biáº¿t mÃ u sáº¯c cá»§a con ngÆ°á»i, tuy nhiÃªn váº«n cÃ²n khoáº£ng cÃ¡ch giá»¯a khÃ´ng gian Lab vá»›i nháº­n thá»©c mÃ u sáº¯c. KhÃ´ng gian \\(Lab\\) cÅ©ng cÃ³ cÃ¡c Æ°u Ä‘iá»ƒm riÃªng, Ä‘Ã³ \\(ggplot2\\) máº·c Ä‘á»‹nh sá»­ dá»¥ng khÃ´ng gian \\(Lab\\) khi ná»™i suy tuyáº¿n tÃ­nh cÃ¡c mÃ u sáº¯c náº±m giá»¯a hai mÃ u báº¥t ká»³ khi chÃºng ta Ã¡nh xáº¡ má»™t biáº¿n liÃªn tá»¥c lÃªn thuá»™c tÃ­nh tháº©m má»¹ mÃ u sáº¯c.Má»™t khÃ´ng gian mÃ u khÃ¡c cÃ³ thá»ƒ háº¡n cháº¿ váº¥n Ä‘á» cá»§a khÃ´ng gian RGB lÃ  khÃ´ng gian mÃ u HCL vá»›i ba thÃ nh pháº§n mÃ u: mÃ u sáº¯c (Hue), sáº¯c Ä‘á»™ (Chroma) vÃ  Ä‘á»™ chÃ³i (Luminance):MÃ u sáº¯c náº±m trong khoáº£ng tá»« 0 Ä‘áº¿n 360 (má»™t gÃ³c) vÃ  cho biáº¿t mÃ u muá»‘n hiá»ƒn thá»‹.MÃ u sáº¯c náº±m trong khoáº£ng tá»« 0 Ä‘áº¿n 360 (má»™t gÃ³c) vÃ  cho biáº¿t mÃ u muá»‘n hiá»ƒn thá»‹.Sáº¯c Ä‘á»™ lÃ  â€œÄ‘á»™ tinh khiáº¿tâ€ cá»§a má»™t mÃ u, náº±m trong khoáº£ng tá»« 0 (xÃ¡m) Ä‘áº¿n má»©c tá»‘i Ä‘a thay Ä‘á»•i theo Ä‘á»™ sÃ¡ng.Sáº¯c Ä‘á»™ lÃ  â€œÄ‘á»™ tinh khiáº¿tâ€ cá»§a má»™t mÃ u, náº±m trong khoáº£ng tá»« 0 (xÃ¡m) Ä‘áº¿n má»©c tá»‘i Ä‘a thay Ä‘á»•i theo Ä‘á»™ sÃ¡ng.Äá»™ sÃ¡ng lÃ  Ä‘á»™ sÃ¡ng cá»§a mÃ u, dao Ä‘á»™ng tá»« 0 (Ä‘en) Ä‘áº¿n 1 (tráº¯ng).Äá»™ sÃ¡ng lÃ  Ä‘á»™ sÃ¡ng cá»§a mÃ u, dao Ä‘á»™ng tá»« 0 (Ä‘en) Ä‘áº¿n 1 (tráº¯ng).Ba chiá»u cÃ³ nhá»¯ng Ä‘áº·c tÃ­nh khÃ¡c nhau. TÆ°Æ¡ng tá»± nhÆ° khÃ´ng gian mÃ u Lab, mÃ u sáº¯c trong HCL Ä‘Æ°á»£c sáº¯p xáº¿p xung quanh má»™t hÃ¬nh trÃ²n vÃ  khÃ´ng Ä‘Æ°á»£c coi lÃ  cÃ³ tráº­t tá»±; vÃ­ dá»¥: mÃ u xanh lÃ¡ dÆ°á»ng nhÆ° khÃ´ng lá»›n hÆ¡n hay nhá» hÆ¡n mÃ u Ä‘á» vÃ  mÃ u xanh lam dÆ°á»ng nhÆ° khÃ´ng lá»›n hÆ¡n hay nhá» hÆ¡n mÃ u xanh lÃ¡. NgÆ°á»£c láº¡i, cáº£ sáº¯c Ä‘á»™ vÃ  Ä‘á»™ sÃ¡ng Ä‘á»u Ä‘Æ°á»£c coi lÃ  cÃ³ tráº­t tá»±: mÃ u há»“ng Ä‘Æ°á»£c coi lÃ  náº±m giá»¯a mÃ u Ä‘á» vÃ  tráº¯ng, vÃ  mÃ u xÃ¡m Ä‘Æ°á»£c coi lÃ  náº±m giá»¯a mÃ u Ä‘en vÃ  tráº¯ng. Táº¡o cÃ¡c thang mÃ u sáº¯c tá»« khÃ´ng gian HCL thÆ°á»ng Ä‘Æ°á»£c dá»±a trÃªn nguyÃªn táº¯c cá»‘ Ä‘á»‹nh 2 tham sá»‘ vÃ  thay Ä‘á»•i tham sá»‘ cÃ²n láº¡i. khÃ´ng gian mÃ u HCL gáº§n vá»›i nháº­n thá»©c mÃ u sáº¯c cá»§a con ngÆ°á»i hÆ¡n nÃªn cÃ¡c dáº£i mÃ u Ä‘Æ°á»£c táº¡o ra sáº½ â€œcÃ¡ch Ä‘á»uâ€ nhau hÆ¡n theo cÃ¡ch mÃ  chÃºng ta nháº­n thá»©c.Xin Ä‘Æ°á»£c nháº¯c láº¡i ráº±ng mÃ u sáº¯c lÃ  má»™t chá»§ Ä‘á»ƒ phá»©c táº¡p mÃ  pháº¡m vi cá»§a nÃ³ vÆ°á»£t ráº¥t xa nhá»¯ng gÃ¬ mÃ  chÃºng tÃ´i Ä‘á» cáº­p á»Ÿ trÃªn. Báº¡n Ä‘á»c nÃªn tham kháº£o thÃªm cÃ¡c tÃ i liá»‡u chuyÃªn ngÃ nh khoa há»c mÃ¡y tÃ­nh Ä‘á»ƒ cÃ³ thá»ƒ sá»­ dá»¥ng mÃ u sáº¯c má»™t cÃ¡ch hiá»‡u quáº£ nháº¥t.","code":""},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"dáº£i-mÃ u-liÃªn-tá»¥c","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.4.2.2 Dáº£i mÃ u liÃªn tá»¥c","text":"Dáº£i mÃ u liÃªn tá»¥c Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ hiá»ƒn thá»‹ giÃ¡ trá»‹ cá»§a má»™t biáº¿n liÃªn tá»¥c trÃªn bá» máº·t pháº³ng. Äá»ƒ kiá»ƒm soÃ¡t mÃ u sáº¯c trong \\(ggplot2\\), chÃºng ta sá»­ dá»¥ng cÃ¡c hÃ m scale_color_*(). LÆ°u Ã½ ráº±ng cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ \\(color\\) vÃ  \\(fill\\) lÃ  tÆ°Æ¡ng Ä‘á»“ng nhau, Ä‘Ã³ báº¥t ká»³ hÃ m scale_color_*() cÅ©ng cÃ³ hÃ m scale_fill_*() tÆ°Æ¡ng á»©ng.Dáº£i mÃ u liÃªn tá»¥c thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng cÃ¹ng vá»›i cÃ¡c \\(geoms\\) cÃ³ hÃ¬nh dáº¡ng Ä‘á»“ há»a cáº§n mÃ u sáº¯c Ä‘á»ƒ phÃ¢n biá»‡t trÃªn trÃªn máº·t pháº³ng nhÆ° geom_polygon(), geom_tile() (hoáº·c geom_raster()), vÃ  geom_bin2d(). Má»—i khi chÃºng ta cho má»™t biáº¿n liÃªn tá»¥c Ã¡nh xáº¡ Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹ mÃ u sáº¯c, \\(ggplot2\\) sáº½ tá»± Ä‘á»™ng hiá»ƒu ráº±ng chÃºng ta sá»­ dá»¥ng dáº£i mÃ u liÃªn tá»¥c Ä‘á»ƒ mÃ´ táº£ biáº¿n Ä‘Ã³. HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n hai chiá»u trung bÃ¬nh 0, phÆ°Æ¡ng sai 1 vÃ  há»‡ sá»‘ tÆ°Æ¡ng quan \\(\\rho = 0.8\\). LÆ°u Ã½ ráº±ng hÃ m máº­t Ä‘á»™ cá»§a hai biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(0,1)\\) vá»›i há»‡ sá»‘ tÆ°Æ¡ng quan \\(\\rho = 0.8\\) Ä‘Æ°á»£c tÃ­nh nhÆ° sau\n\\[\\begin{align}\nf(x,y) = \\cfrac{1}{2 \\pi \\sqrt{1-\\rho^2}} \\ \\exp \\left(- \\cfrac{x^2 + y^2 - 2\\rho x y}{1-\\rho^2}  \\right)\n\\end{align}\\]PhÆ°Æ¡ng phÃ¡p Ä‘Æ¡n giáº£n nháº¥t Ä‘á»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ tá»« má»™t biáº¿n liÃªn tá»¥c Ä‘áº¿n mÃ u sáº¯c lÃ  lá»±a chá»n cÃ¡c dáº£i mÃ u liÃªn tá»¥c cÃ³ sáºµn trong \\(ggplot2\\) hoáº·c trong cÃ¡c thÆ° viá»‡n bá»• sung. CÃ¡c dáº£i mÃ u cÃ³ sáºµn nÃ y Ä‘á»u Ä‘Æ°á»£c xÃ¢y dá»±ng Ä‘á»ƒ nhá»¯ng ngÆ°á»i gáº·p khÃ³ khÄƒn trong phÃ¢n biá»‡t mÃ u sáº¯c cÅ©ng cÃ³ thá»ƒ cáº£m nháº­n Ä‘Æ°á»£c. Trong hÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y chÃºng tÃ´i lá»±a chá»n cÃ¡c dáº£i mÃ u: 1. Dáº£i mÃ u máº·c Ä‘á»‹nh cá»§a \\(ggplot2\\), 2. Dáº£i mÃ u \\(viridis\\), 3. Dáº£i mÃ u \\(distiller\\) vÃ  4. Dáº£i mÃ u \\(fermenter\\). Má»—i dáº£i mÃ u sáº½ cÃ³ tÃ¹y biáº¿n \\(palette\\) Ä‘á»ƒ lá»±a chá»n.Äá»ƒ dáº£i mÃ u sáº¯c liÃªn tá»¥c cÃ³ tÃ­nh cÃ¡ nhÃ¢n hÃ³a cao hÆ¡n, báº¡n Ä‘á»c cáº§n chá»‰ Ä‘á»‹nh thang mÃ u sáº¯c thay vÃ¬ sá»­ dá»¥ng cÃ¡c thang mÃ u cÃ³ sáºµn. \\(Gradient\\) \\(scale\\) lÃ  má»™t cÃ´ng cá»¥ máº¡nh máº½ giÃºp báº¡n thá»±c hiá»‡n viá»‡c nÃ y. Báº¡n chá»‰ cáº§n cung cáº¥p cÃ¡c giÃ¡ trá»‹ mÃ u sáº¯c tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ nhá» nháº¥t, giÃ¡ trá»‹ lá»›n nháº¥t, cÃ³ thá»ƒ thÃªm má»™t vÃ i giÃ¡ trá»‹ trung gian, \\(ggplot2\\) sáº½ ná»™i suy tuyáº¿n tÃ­nh ra cÃ¡c mÃ u sáº¯c trong thang mÃ u. CÃ¡c hÃ m sá»‘ cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ táº¡o thang mÃ u bao gá»“mscale_fill_gradient() táº¡o má»™t thang mÃ u liÃªn tá»¥c giá»¯a hai mÃ u sáº¯c mÃ  báº¡n khai bÃ¡o. Hai tham sá»‘ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ khai bÃ¡o hai Ä‘iá»ƒm Ä‘áº§u cá»§a dáº£i mÃ u lÃ  tham sá»‘ \\(low\\) vÃ  tham sá»‘ \\(high\\). Má»—i khi chÃºng ta Ã¡nh xáº¡ tuyáº¿n tÃ­nh tá»« má»™t biáº¿n liÃªn tá»¥c Ä‘áº¿n mÃ u sáº¯c, \\(ggplot2\\) máº·c Ä‘á»‹nh sá»­ dá»¥ng dáº£i mÃ u liÃªn tá»¥c theo hÃ m sá»‘ nÃ y vá»›i giÃ¡ trá»‹ low lÃ  â€œ#132B43â€ vÃ  giÃ¡ trá»‹ high lÃ  â€œ#56B1F7â€. KhÃ´ng gian Ä‘á»ƒ ná»™i suy tuyáº¿n tÃ­nh lÃ  khÃ´ng gian mÃ u Lab.scale_fill_gradient() táº¡o má»™t thang mÃ u liÃªn tá»¥c giá»¯a hai mÃ u sáº¯c mÃ  báº¡n khai bÃ¡o. Hai tham sá»‘ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ khai bÃ¡o hai Ä‘iá»ƒm Ä‘áº§u cá»§a dáº£i mÃ u lÃ  tham sá»‘ \\(low\\) vÃ  tham sá»‘ \\(high\\). Má»—i khi chÃºng ta Ã¡nh xáº¡ tuyáº¿n tÃ­nh tá»« má»™t biáº¿n liÃªn tá»¥c Ä‘áº¿n mÃ u sáº¯c, \\(ggplot2\\) máº·c Ä‘á»‹nh sá»­ dá»¥ng dáº£i mÃ u liÃªn tá»¥c theo hÃ m sá»‘ nÃ y vá»›i giÃ¡ trá»‹ low lÃ  â€œ#132B43â€ vÃ  giÃ¡ trá»‹ high lÃ  â€œ#56B1F7â€. KhÃ´ng gian Ä‘á»ƒ ná»™i suy tuyáº¿n tÃ­nh lÃ  khÃ´ng gian mÃ u Lab.scale_fill_gradient2() táº¡o má»™t thang mÃ u liÃªn tá»¥c tá»« ba mÃ u, bao gá»“m má»™t mÃ u sáº¯c á»Ÿ giá»¯a. NgoÃ i hai giÃ¡ trá»‹ lÃ  hai Ä‘iá»ƒm Ä‘áº§u cá»§a hai thang mÃ u, chÃºng ta cáº§n khai bÃ¡o thÃªm má»™t mÃ u á»Ÿ giá»¯a báº±ng tham sá»‘ \\(mid\\) vÃ  tham sá»‘ \\(midpoint\\) cho biáº¿t giÃ¡ trá»‹ nÃ o cá»§a biáº¿n Ã¡nh xáº¡ tá»›i thuá»™c tÃ­nh mÃ u sáº¯c tÆ°Æ¡ng á»©ng vá»›i mÃ u Ä‘Æ°á»£c khai bÃ¡o vá»›i tham sá»‘ \\(mid\\). Náº¿u khÃ´ng khai bÃ¡o tham sá»‘ \\(midpoint\\) sáº½ nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  0.scale_fill_gradient2() táº¡o má»™t thang mÃ u liÃªn tá»¥c tá»« ba mÃ u, bao gá»“m má»™t mÃ u sáº¯c á»Ÿ giá»¯a. NgoÃ i hai giÃ¡ trá»‹ lÃ  hai Ä‘iá»ƒm Ä‘áº§u cá»§a hai thang mÃ u, chÃºng ta cáº§n khai bÃ¡o thÃªm má»™t mÃ u á»Ÿ giá»¯a báº±ng tham sá»‘ \\(mid\\) vÃ  tham sá»‘ \\(midpoint\\) cho biáº¿t giÃ¡ trá»‹ nÃ o cá»§a biáº¿n Ã¡nh xáº¡ tá»›i thuá»™c tÃ­nh mÃ u sáº¯c tÆ°Æ¡ng á»©ng vá»›i mÃ u Ä‘Æ°á»£c khai bÃ¡o vá»›i tham sá»‘ \\(mid\\). Náº¿u khÃ´ng khai bÃ¡o tham sá»‘ \\(midpoint\\) sáº½ nháº­n giÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  0.scale_fill_gradientn() táº¡o má»™t thang mÃ u liÃªn tá»¥c tá»« má»™t vÃ©c-tÆ¡ chá»©a cÃ¡c mÃ u sáº¯c khai bÃ¡o.scale_fill_gradientn() táº¡o má»™t thang mÃ u liÃªn tá»¥c tá»« má»™t vÃ©c-tÆ¡ chá»©a cÃ¡c mÃ u sáº¯c khai bÃ¡o.Cáº£ ba hÃ m sá»‘ ká»ƒ trÃªn Ä‘á»u ná»™i suy tuyáº¿n tÃ­nh trong khÃ´ng gian mÃ u \\(Lab\\) Ä‘á»ƒ táº¡o ra cÃ¡c giáº£i mÃ u liÃªn tá»¥c. Khi nÃ³i Ä‘áº¿n ná»™i suy tuyáº¿n tÃ­nh giá»¯a hai mÃ u sáº¯c, sáº½ dá»… hiá»ƒu náº¿u chÃºng ta sá»­ dá»¥ng khÃ´ng gian RGB mÃ  táº¥t cáº£ cÃ¡c mÃ u Ä‘á»u náº±m trong má»™t hÃ¬nh láº­p phÆ°Æ¡ng vá»›i Ä‘iá»ƒm (0,0,0) lÃ  mÃ u Ä‘en, (1,1,1) lÃ  mÃ u tráº¯ngâ€¦ Báº¡n Ä‘á»c cÃ³ thá»ƒ hiá»ƒu nhÆ° sau: trong má»—i khÃ´ng gian má»—i mÃ u sáº¯c hiá»ƒn thá»‹ cÃ³ ba thÃ nh pháº§n lÃ  cÆ°á»ng Ä‘á»™ mÃ u Ä‘á» (r), cÆ°á»ng Ä‘á»™ mÃ u xanh lÃ¡ (g) cÆ°á»ng Ä‘á»™ mÃ u xanh lam (b) â€¦ Má»™t dáº£i mÃ u bao gá»“m \\(n\\) mÃ u, báº¯t Ä‘áº§u tá»« mÃ u \\(m_1\\) bao gá»“m cÃ¡c thÃ nh pháº§n \\((r_1, g_1, b_1)\\), Ä‘áº¿n mÃ u \\(m_n\\) vá»›i thÃ nh pháº§n \\((r_n, g_n, b_n)\\) sáº½ lÃ  cÃ¡c mÃ u \\(m_i\\) cÃ³ cÃ¡c thÃ nh pháº§n tÆ°Æ¡ng á»©ng\n\\[\\begin{align}\nr_i = \\left[r_1 + (-1) * \\cfrac{r_n - r_1}{(n-1)} \\right] \\\\\ng_i = \\left[g_1 + (-1) * \\cfrac{g_n - g_1}{(n-1)} \\right] \\\\\nb_i = \\left[b_1 + (-1) * \\cfrac{b_n - b_1}{(n-1)} \\right]\n\\end{align}\\]ÄÃ¡ng tiáº¿c lÃ  trong khÃ´ng gian \\(Lab\\) viá»‡c ná»™i suy mÃ u sáº¯c khÃ´ng Ä‘Æ¡n giáº£n nhÆ° váº­y. Viá»‡c ná»™i suy dá»±a trÃªn cÃ¡c tÃ­nh toÃ¡n phá»©c táº¡p vÃ  káº¿t quáº£ cuá»‘i cÃ¹ng lÃ  cÃ¡c cÃ´ng thá»©c gáº§n Ä‘Ãºng. Æ¯u Ä‘iá»ƒm cá»§a ná»™i suy mÃ u sáº¯c trong khÃ´ng gian \\(Lab\\) vá»›i khÃ´ng gian \\(RGB\\) sá»± chuyá»ƒn Ä‘á»•i mÃ u sáº¯c giá»¯a cÃ¡c Ä‘iá»ƒm mÆ°á»£t mÃ  hÆ¡n ráº¥t nhiá»u trong cÃ¡ch nháº­n biáº¿t mÃ u sáº¯c cá»§a con ngÆ°á»i.Cáº£ hai hÃ¬nh Ä‘á»u sá»­ dá»¥ng dáº£i mÃ u liÃªn tá»¥c tá»« xanh lam Ä‘áº¿n Ä‘á» Ä‘á»ƒ mÃ´ táº£ má»™t biáº¿n liÃªn tá»¥c lÃ  máº­t Ä‘á»™ cá»§a phÃ¢n phá»‘i chuáº©n hai chiá»u cÃ³ há»‡ sá»‘ tÆ°Æ¡ng quan \\(\\rho=0\\), hÃ¬nh bÃªn trÃ¡i ná»™i suy trong khÃ´ng gian RGB, hÃ¬nh bÃªn pháº£i ná»™i suy trong khÃ´ng gian Lab. CÃ³ thá»ƒ tháº¥y ráº±ng viá»‡c chuyá»ƒn hÃ³a mÃ u sáº¯c tá»« xanh lam sang Ä‘á» khi sá»­ dá»¥ng khÃ´ng gian mÃ u Lab lÃ  mÆ°á»£t hÆ¡n nhiá»u vá»›i khÃ´ng gian RGB.TÆ°Æ¡ng tá»± nhÆ° vá»‹ trÃ­ trÃªn trá»¥c tá»a Ä‘á»™, cÃ¡c tham sá»‘ \\(limits\\), \\(breaks\\), vÃ  \\(label\\) cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c hÃ m \\(scale_fill_*()\\) Ä‘á»ƒ kiá»ƒm soÃ¡t cÃ¡c thang mÃ u liÃªn tá»¥c. Tham sá»‘ \\(limits\\) nháº­n giÃ¡ trá»‹ lÃ  má»™t vÃ©c-tÆ¡ hai pháº§n tá»­, pháº§n tá»­ thá»© nháº¥t cho biáº¿t mÃ u sáº¯c báº¯t Ä‘áº§u trong thang mÃ u tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ nÃ o trong biáº¿n liÃªn tá»¥c vÃ  pháº§n tá»­ thá»© hai cho biáº¿t mÃ u sáº¯c káº¿t thÃºc cá»§a thang mÃ u á»©ng vá»›i giÃ¡ trá»‹ nÃ o cá»§a biáº¿n liÃªn tá»¥c. HÃ m \\(breaks\\) vÃ  \\(labels\\) sá»­ dá»¥ng Ä‘á»ƒ thay Ä‘á»•i giÃ¡ trá»‹ trÃªn thang mÃ u cá»§a chÃº giáº£i.","code":"\n# táº¡o lÆ°á»›i Ä‘iá»ƒm trÃªn hÃ¬nh vuÃ´ng [-2,2] * [2-,2]\nn<-100\nx<-rep(1:n,n)/n*4-2 \ny<-sort(x, decreasing = FALSE)\nrho<-0.8\ndat<-data.frame(x=x,y=y,dens = 1/(2*pi*sqrt(1-rho^2)) * exp(-(x^2+y^2-2*rho*x*y)/(1-rho^2)))\np<-dat%>%ggplot(aes(x,y,fill=dens))+geom_raster()+theme_minimal()\n# táº¡o lÆ°á»›i Ä‘iá»ƒm trÃªn hÃ¬nh vuÃ´ng [-2,2] * [2-,2]\np1<-p + scale_fill_continuous()+\n  ggtitle(\"MÃ u máº·c Ä‘á»‹nh\") # sá»­ dá»¥ng dáº£i mÃ u máº·c Ä‘á»‹nh\np2<-p + scale_fill_viridis_c()+ # Dáº£i mÃ u viridis liÃªn tá»¥c\n  ggtitle(\"Dáº£i mÃ u viridis\")\np3<-p + scale_fill_distiller()+ # Dáº£i mÃ u distiller\n  ggtitle(\"Dáº£i mÃ u distiller\")\np4<-p + scale_fill_fermenter()+ # Dáº£i mÃ u fermenter\n  ggtitle(\"Dáº£i mÃ u fermenter\")\ngrid.arrange(p1,p2,p3,p4,nrow=2,ncol=2)\np1<-p + ggtitle(\"MÃ u máº·c Ä‘á»‹nh\") # sá»­ dá»¥ng dáº£i mÃ u máº·c Ä‘á»‹nh\np2<-p + scale_fill_gradient(low = \"blue\", high = \"red\")+\n  ggtitle(\"Dáº£i mÃ u tá»« xanh lam Ä‘áº¿n Ä‘á»\") # sá»­ dá»¥ng dáº£i mÃ u tá»« xanh lam Ä‘áº¿n Ä‘o\np3<-p + scale_fill_gradient2(low = \"blue\", high = \"red\", mid = \"white\", midpoint = 0.12)+\n  ggtitle(\"Dáº£i mÃ u tá»« xanh lam Ä‘áº¿n Ä‘á» Ä‘iá»ƒm giá»¯a lÃ  tráº¯ng\") \np4<-p +  scale_fill_gradientn(colours = c(\"#00FF00\",\"#FFFFFF\",\"#0000FF\", \"#FFFF00\"))+\n  ggtitle(\"Dáº£i mÃ u Ä‘i qua nhiá»u Ä‘iá»ƒm mÃ u\") \ngrid.arrange(p1,p2,p3,p4,nrow=2,ncol=2)\n# limits cho biáº¿t hai giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng vá»›i Ä‘iá»ƒm Ä‘áº§u vÃ  cuá»‘i cá»§a dáº£i mÃ u\np1<-p + scale_fill_gradient(low = \"blue\", high = \"red\", \n                            limits = c(0,0.5))+\n  ggtitle(\"Tham sá»‘ limits\")\n# breaks cho biáº¿t cÃ¡c giÃ¡ trá»‹ nÃ o xuáº¥t hiá»‡n trÃªn chÃº giáº£i\n# labels cho biáº¿t giÃ¡ trá»‹ hiá»ƒn thá»‹ trong chÃº giáº£i\np2<-p + scale_fill_gradient(low = \"blue\", high = \"red\", \n                            limits = c(0,0.3),\n                            breaks = c(0.1,0.15,0.25),\n                            labels = paste(\"Density at\", c(0.1,0.15,0.25)))+\n  ggtitle(\"Tham sá»‘ breaks vÃ  labels\") \ngrid.arrange(p1,p2,nrow=1,ncol=2)"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"dáº£i-mÃ u-rá»i-ráº¡c","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.4.2.3 Dáº£i mÃ u rá»i ráº¡c","text":"Dáº£i mÃ u rá»i ráº¡c dÃ¹ng Ä‘á»ƒ mÃ´ táº£ thuá»™c tÃ­nh tháº©m má»¹ mÃ u sáº¯c cá»§a cÃ¡c biáº¿n rá»i ráº¡c. HÃ m sá»‘ dÃ¹ng Ä‘á»ƒ kiá»ƒm soÃ¡t mÃ u sáº¯c rá»i ráº¡c trong \\(ggplot2\\) lÃ  scale_fill_discrete() vÃ  scale_color_discrete(). Má»—i khi sá»­ dá»¥ng cÃ¡c hÃ m sá»‘ kiá»ƒm soÃ¡t mÃ u sáº¯c rá»i ráº¡c, \\(ggplot2\\) sáº½ máº·c Ä‘á»‹nh sá»­ dá»¥ng dáº£i mÃ u rá»i ráº¡c â€œcÃ¡ch Ä‘á»u nhauâ€ trong khÃ´ng gian \\(HCL\\). Dáº£i mÃ u máº·c Ä‘á»‹nh nÃ y cÃ³ cÃ¹ng sáº¯c Ä‘á»™ (Chromes hay tham sá»‘ \\(c\\)), Ä‘á»™ sÃ¡ng (Luminance hay tham sá»‘ \\(l\\)) vÃ  giÃ¡ trá»‹ \\(h\\) cÃ¡ch Ä‘á»u nhau tá»« gÃ³c 15 Ä‘á»™ (\\(h\\) nháº­n giÃ¡ trá»‹ tá»« 0 Ä‘áº¿n 360 Ä‘á»™). Báº¡n Ä‘á»c muá»‘n sá»­ dá»¥ng cÃ¡c dáº£i mÃ u rá»i ráº¡c trong khÃ´ng gian \\(hcl\\) thÃ¬ cÃ³ thá»ƒ sá»­ dá»¥ng scale_fill_hue() vÃ  scale_color_hue() thay vÃ¬ scale_fill_discrete() vÃ  scale_color_discrete().Dáº£i mÃ u máº·c Ä‘á»‹nh Ä‘á»‘i vá»›i biáº¿n rá»i ráº¡c sá»­ dá»¥ng tham sá»‘ \\(c\\) báº±ng 100 vÃ  tham sá»‘ \\(l\\) báº±ng 65 trong khi tham sá»‘ \\(h\\) nháº­n cÃ¡c giÃ¡ trá»‹ cÃ¡ch Ä‘á»u nhau, báº¯t Ä‘áº§u tá»« \\(h = 15 (Ä‘á»™)\\). LÆ°u Ã½ ráº±ng \\(h\\) nháº­n giÃ¡ trá»‹ tá»« 0 Ä‘á»™ Ä‘áº¿n 360 Ä‘á»™ nÃªn trong trÆ°á»ng há»£p biáº¿n rá»i ráº¡c cÃ³ nÄƒm giÃ¡ trá»‹, cÃ¡c mÃ u sáº¯c sáº½ láº§n lÆ°á»£t nháº­n cÃ¡c giÃ¡ trá»‹ h = 15, 15 + 360/5, 15 + 2 * 360/5, 15 + 3 * 360/5 vÃ  15 + 4 * 360/5. ÄÃ³ lÃ  mÃ u sáº¯c cá»§a cÃ¡c thanh trong Ä‘á»“ thá»‹ barplot bÃªn tay trÃ¡i theo thá»© tá»± tá»« trÃ¡i qua pháº£i. Trong hÃ¬nh á»Ÿ giá»¯a, khi chÃºng ta sá»­ dá»¥ng giÃ¡ trá»‹ tá»‹nh tiáº¿n giÃ¡ trá»‹ h lÃªn 360/5, chÃºng ta cÃ³ thá»ƒ tháº¥y cÃ¡c mÃ u sáº¯c báº¯t Ä‘áº§u tá»« h = 15 + 360/5 vÃ  káº¿t thÃºc á»Ÿ h = 15. Trong hÃ¬nh bÃªn pháº£i, chÃºng tÃ´i giáº£m Ä‘á»™ chÃ³i (tham sá»‘ \\(c\\)) xuá»‘ng cÃ²n 40. ChÃºng ta cÃ³ thá»ƒ tháº¥y dáº£i mÃ u váº«n tÆ°Æ¡ng tá»± nhÆ° hÃ¬nh ban Ä‘áº§u nhÆ°ng khÃ´ng Ä‘áº¡t Ä‘Æ°á»£c Ä‘á»™ sÃ¡ng nhÆ° váº­y.Báº¡n Ä‘á»c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c dáº£i mÃ u rá»i ráº¡c Ä‘Æ°á»£c thiáº¿t káº¿ sáºµn cho má»¥c Ä‘Ã­ch trá»±c quan hÃ³a cÃ¡c biáº¿n rá»i ráº¡c. Dáº£i mÃ u rá»i ráº¡c mÃ  chÃºng tÃ´i thÆ°á»ng sá»­ dá»¥ng lÃ  dáº£i mÃ u Brewer. Nhá»¯ng dáº£i mÃ u nÃ y Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ hoáº¡t Ä‘á»™ng tá»‘t trong nhiá»u tÃ¬nh huá»‘ng khÃ¡c nhau ká»ƒ cáº£ Ä‘á»‘i vá»›i nhá»¯ng ngÆ°á»i khÃ³ khÄƒn khi nháº­n biáº¿t mÃ u sáº¯c hay khi sá»­ dá»¥ng Ä‘á»ƒ hiá»ƒn thá»‹ trÃªn nhá»¯ng bá» máº·t lá»›n. HÃ m sá»‘ Ä‘á»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ mÃ u sáº¯c sá»­ dá»¥ng dáº£i mÃ u Brewer lÃ  scale_color_brewer() vÃ  scale_fill_brewer(). Báº¡n Ä‘á»c cáº§n sá»­ dá»¥ng thÆ° viá»‡n \\(RColorBrewer\\) Ä‘á»ƒ gá»i Ä‘Æ°á»£c cÃ¡c hÃ m nÃ y. Äá»ƒ xem cÃ¡c dáº£i mÃ u cÃ³ sáºµn trong thÆ° viá»‡n nÃ y, báº¡n Ä‘á»c sá»­ dá»¥ng cÃ¢u lá»‡nh sauBáº¡n Ä‘á»c sá»­ dá»¥ng tÃ¹y biáº¿n \\(palette\\) trong hÃ m scale_color_brewer() Ä‘á»ƒ lá»±a chá»n dáº£i mÃ u cÃ³ sáºµn.Äá»ƒ táº¡o ra dáº£i mÃ u rá»i ráº¡c theo Ã½ muá»‘n cá»§a mÃ¬nh, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m scale_fill_manual() vÃ  scale_color_manual(). Tham sá»‘ \\(values\\) trong hÃ m nÃ y nháº­n giÃ¡ trá»‹ lÃ  vÃ©c-tÆ¡ chá»©a mÃ u sáº¯c mÃ  báº¡n Ä‘á»c tá»± táº¡o. LÆ°u Ã½ ráº±ng sá»‘ lÆ°á»£ng pháº§n tá»­ trong vÃ©c-tÆ¡ pháº£i tÆ°Æ¡ng á»©ng vá»›i sá»‘ lÆ°á»£ng pháº§n tá»­ trong biáº¿n rá»i ráº¡c.Má»™t hÃ m sá»‘ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ ná»™i suy ra cÃ¡c mÃ u sáº¯c â€œcÃ¡ch Ä‘á»u nhauâ€ trong khÃ´ng gian mÃ u â€œRGBâ€ hoáº·c khÃ´ng gian mÃ u Lab lÃ  hÃ m sá»‘ colorRampPalette() cá»§a thÆ° viá»‡n \\(grDevices\\). Äá»ƒ táº¡o ra má»™t vÃ©c-tÆ¡ cÃ³ Ä‘á»™ dÃ i 5, má»—i giÃ¡ trá»‹ lÃ  má»™t mÃ u sáº¯c Ä‘Æ°á»£c ná»™i suy tuyáº¿n tÃ­nh tá»« mÃ u xanh lam Ä‘áº¿n mÃ u Ä‘á» chÃºng ta sá»­ dá»¥ng colorRampPalette() nhÆ° sauCÃ¡c Ä‘á»“ thá»‹ barplot dÆ°á»›i Ä‘Ã¢y sá»­ dá»¥ng cÃ¡c mÃ u sáº¯c mÃ  chÃºng ta tá»± chá»‰ Ä‘á»‹nh báº±ng hÃ m scale_fill_manual()CÃ¡ch sá»­ dá»¥ng tham sá»‘ \\(limits\\), \\(breaks\\), vÃ  \\(label\\) cÅ©ng gáº§n tÆ°Æ¡ng tá»± nhÆ° Ä‘á»‘i vá»›i biáº¿n liÃªn tá»¥c. Tham sá»‘ \\(limits\\) cho biáº¿t cÃ¡c giÃ¡ trá»‹ nÃ o trong biáº¿n rá»i ráº¡c Ä‘Æ°á»£c Ã¡nh xáº¡ tá»›i dáº£i mÃ u sáº¯c. Tham sá»‘ \\(breaks\\) cho biáº¿t cÃ¡c giÃ¡ trá»‹ nÃ o khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng trong Ã¡nh xáº¡ tháº©m má»¹. \\(label\\) cho biáº¿t cÃ¡ch cÃ¡c mÃ u sáº¯c hiá»ƒn thá»‹ trong pháº§n chÃº giáº£i. Theo kinh nghiá»‡m cá»§a chÃºng tÃ´i thÃ¬ tham sá»‘ \\(breaks\\) khÃ´ng cÃ³ nhiá»u Ã½ nghÄ©a khi sá»­ dá»¥ng Ä‘á»‘i vá»›i dáº£i mÃ u sáº¯c liÃªn tá»¥c, trong khi tham sá»‘ \\(limits\\) cÃ³ Ã½ nghÄ©a quan trá»ng khi báº¡n Ä‘á»c cáº§n cá»‘ Ä‘á»‹nh Ã¡nh xáº¡ mÃ u sáº¯c lÃªn biáº¿n rá»i ráº¡c khi váº½ nhiá»u biá»ƒu Ä‘á»“ khÃ¡c nhau vÃ  Ä‘á»ƒ kiá»ƒm soÃ¡t thá»© tá»± xuáº¥t hiá»‡n cá»§a biáº¿n liÃªn tá»¥c trÃªn Ä‘á»“ thá»‹.Sá»­ dá»¥ng \\(limits\\) trong Ä‘á»“ thá»‹ á»Ÿ trÃªn giÃºp chÃºng ta nháº¥n máº¡nh vÃ o 3 quá»‘c gia Philippines, Vietnam, vÃ  Indonesia trong nhÃ³m 10 nÆ°á»›c cÃ³ dÃ¢n sá»‘ lá»›n nháº¥t chÃ¢u Ã trong cÃ¡c nÄƒm 1960 vÃ  2010.","code":"\np1<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()\np2<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_hue(h=c(0,360)+15+360/5)\np3<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_hue(c=30)\ngrid.arrange(p1,p2,p3,nrow=1,ncol=3)\ndisplay.brewer.all()\np1<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_brewer(palette = \"Dark2\")+\n  ggtitle(\"Sá»­ dá»¥ng dáº£i mÃ u Dark2\")\np2<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_brewer(palette = \"Set1\")+\n  ggtitle(\"Sá»­ dá»¥ng dáº£i mÃ u Set1\")\np3<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_brewer(palette = \"Spectral\")+\n  ggtitle(\"Sá»­ dá»¥ng dáº£i mÃ u Spectral\")\ngrid.arrange(p1,p2,p3,nrow=1,ncol=3)\n# ná»™i suy trong RGB\nmypalette1<-colorRampPalette(c(\"blue\",\"red\"), space = \"rgb\")(5)\n# ná»™i suy trong Lab\nmypalette2<-colorRampPalette(c(\"blue\",\"red\"), space = \"Lab\")(5)\np1<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_manual(values = c(\"blue\",\"green\",\"grey\",\"yellow\",\"red\"))+\n  ggtitle(\"MÃ u tá»± Ä‘á»‹nh nghÄ©a\")\np2<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_manual(values = mypalette1)+\n  ggtitle(\"MÃ u ná»™i suy trong RGB\")\np3<-gapminder%>%filter(year==2011)%>%\n  ggplot(aes(continent,fill=continent))+geom_bar()+\n  scale_fill_manual(values = mypalette2)+\n  ggtitle(\"MÃ u ná»™i suy trong Lab\")\ngrid.arrange(p1,p2,p3,nrow=1,ncol=3)\np1<-gapminder%>%filter(year==1960, continent == \"Asia\")%>%\n  arrange(-population)%>%head(10)%>%\n  ggplot(aes(fill=country))+\n  geom_bar(aes(x = population, y = reorder(country,population)),stat=\"identity\",col=\"black\")+\n  ylab(\"\")+ggtitle(\"NÄƒm 1960\")+\n  scale_x_continuous(labels = scales::comma)+\n  scale_fill_manual(values = c(\"blue\",\"red\",\"yellow\"), limits = c(\"Philippines\",\"Vietnam\", \"Indonesia\"))\np2<-gapminder%>%filter(year==2010, continent == \"Asia\")%>%\n  arrange(-population)%>%head(10)%>%\n  ggplot(aes(fill=country))+\n  geom_bar(aes(x = population, y = reorder(country,population)),stat=\"identity\",col=\"black\")+\n  ylab(\"\")+ggtitle(\"NÄƒm 2010\")+\n  scale_x_continuous(labels = scales::comma)+\n  scale_fill_manual(values = c(\"blue\",\"red\",\"yellow\"), limits = c(\"Philippines\",\"Vietnam\", \"Indonesia\"))\n\ngrid.arrange(p1,p2,nrow=1,ncol=2)"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"cÃ¡c-thuá»™c-tÃ­nh-tháº©m-má»¹-khÃ¡c","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.4.3 CÃ¡c thuá»™c tÃ­nh tháº©m má»¹ khÃ¡c","text":"NgoÃ i vá»‹ trÃ­ vÃ  mÃ u sáº¯c, cÃ²n cÃ³ má»™t sá»‘ thuá»™c tÃ­nh tháº©m má»¹ khÃ¡c mÃ  \\(ggplot2\\) cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ dá»¯ liá»‡u. Trong pháº§n nÃ y, chÃºng ta sáº½ xem xÃ©t thuá»™c tÃ­nh kÃ­ch thÆ°á»›c (size), hÃ¬nh dáº¡ng (shape), chiá»u rá»™ng cá»§a line vÃ  kiá»ƒu line, sá»­ dá»¥ng cÃ¹ng vá»›i cÃ¡c thuá»™c tÃ­nh vá»‹ trÃ­ vÃ  mÃ u sáº¯c Ä‘á»ƒ thá»ƒ hiá»‡n tá»‘t nháº¥t cÃ¡c biáº¿n trong dá»¯ liá»‡u. NgoÃ i Ä‘á» cáº­p Ä‘áº¿n cÃ¡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh, chÃºng tÃ´i cÅ©ng sáº½ tháº£o luáº­n vá» cÃ¡c hÃ m sá»‘ Ä‘á»ƒ báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm soÃ¡t tá»‘t cÃ¡c thuá»™c tÃ­nh nÃ y.","code":""},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"kÃ­ch-thÆ°á»›c-size","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.4.3.1 KÃ­ch thÆ°á»›c (size)","text":"Thuá»™c tÃ­nh tháº©m má»¹ kÃ­ch thÆ°á»›c thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ hÃ¬nh dáº¡ng Ä‘á»“ há»a kiá»ƒu Ä‘iá»ƒm hoáº·c kÃ½ tá»±. NhÆ° chÃºng tÃ´i Ä‘Ã£ Ä‘á» cáº­p trong pháº§n giá»›i thiá»‡u, thuá»™c tÃ­nh kÃ­ch thÆ°á»›c thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i biáº¿n liÃªn tá»¥c. Náº¿u khÃ´ng cÃ³ hÃ m kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹, bÃ¡n kÃ­nh cá»§a Ä‘iá»ƒm tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ nhá» nháº¥t luÃ´n lÃ  1 vÃ  bÃ¡n kÃ­nh cá»§a Ä‘iá»ƒm cÃ³ giÃ¡ trá»‹ lá»›n nháº¥t luÃ´n lÃ  6, nghÄ©a lÃ  cÃ³ bÃ¡n kÃ­nh gáº¥p 6 láº§n bÃ¡n kÃ­nh cá»§a Ä‘iá»ƒm nhá» nháº¥t. Khi ná»™i suy ra kÃ­ch thÆ°á»›c cá»§a cÃ¡c Ä‘iá»ƒm khÃ¡c, \\(ggplot2\\) máº·c Ä‘á»‹nh cho kÃ­ch thÆ°á»›c cá»§a Ä‘iá»ƒm lÃ  diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n mÃ´ táº£ Ä‘iá»ƒm Ä‘Ã³ chá»© khÃ´ng pháº£i Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh trÃ²n. KÃ­ch thÆ°á»›c cá»§a Ä‘iá»ƒm sáº½ phá»¥ thuá»™c vÃ o thá»© háº¡ng (rank) cá»§a giÃ¡ trá»‹ Ä‘Ã³ trong biáº¿n liÃªn tá»¥c chá»© khÃ´ng Ä‘Æ°á»£c tÃ­nh báº±ng giÃ¡ trá»‹ thá»±c cá»§a Ä‘iá»ƒm Ä‘Ã³. Náº¿u \\(r_m\\) lÃ  bÃ¡n kÃ­nh cá»§a hÃ¬nh trÃ²n tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ nhá» nháº¥t vÃ  \\(r_M\\) tÆ°Æ¡ng á»©ng vá»›i diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ lá»›n nháº¥t thÃ¬ diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ cÃ³ thá»© háº¡ng \\(k\\) trong tá»•ng sá»‘ \\(n\\) giÃ¡ trá»‹ cá»§a biáº¿n liÃªn tá»¥c lÃ \n\\[\\begin{align}\narea = r_m + (k-1) \\times \\cfrac{r_M - r_m}{n - 1}\n\\end{align}\\]Báº¡n Ä‘á»c cÃ³ thá»ƒ quan sÃ¡t kÃ­ch thÆ°á»›c cá»§a cÃ¡c hÃ¬nh trÃ²n trong hÃ¬nh dÆ°á»›i Ä‘Ã¢yHÃ¬nh bÃªn tay trÃ¡i: diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n náº±m á»Ÿ tá»a Ä‘á»™ (2,2) báº±ng trung bÃ¬nh cá»™ng diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n náº±m á»Ÿ vá»‹ trÃ­ (1,1) vÃ  (3,3). diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n náº±m á»Ÿ vá»‹ trÃ­ (3,3) báº±ng \\(6^2 = 36\\) láº§n diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n táº¡i vá»‹ trÃ­ \\((1,1)\\) nÃªn diá»‡n tÃ­ch cá»§a hÃ¬nh trÃ²n táº¡i (2,2) báº±ng \\(\\cfrac{36+1}{2} = 18,5 \\textit{(láº§n)}\\) diá»‡n tÃ­ch hÃ¬nh trÃ²n táº¡i (1,1), hay nÃ³i cÃ¡ch khÃ¡c Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh trÃ²n táº¡i vá»‹ trÃ­ (2,2) báº±ng \\(\\sqrt{18,5} \\sim 4,3 \\textit{ (láº§n)}\\) Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh trÃ²n táº¡i vá»‹ trÃ­ (1,1). HÃ¬nh á»Ÿ giá»¯a: cho tháº¥y khi chÃºng ta Ã¡nh xáº¡ thuá»™c tÃ­nh tháº©m má»¹ vÃ o \\(z^2\\) thay vÃ¬ \\(z\\) thÃ¬ kÃ­ch thÆ°á»›c cÃ¡c hÃ¬nh trÃ²n váº«n khÃ´ng há» thay Ä‘á»•i thá»© háº¡ng cá»§a cÃ¡c Ä‘iá»ƒm trong vÃ©c-tÆ¡ \\(z\\) khÃ´ng thay Ä‘á»•i. HÃ¬nh bÃªn pháº£i: khi chÃºng ta chá»‰ váº½ hai Ä‘iá»ƒm thay vÃ¬ cáº£ ba Ä‘iá»ƒm, diá»‡n tÃ­ch hÃ¬nh trÃ²n nhá» nháº¥t vÃ  hÃ¬nh trÃ²n lá»›n nháº¥t váº«n khÃ´ng thay Ä‘á»•i.HÃ m sá»‘ dÃ¹ng Ä‘á»ƒ kiá»ƒm soÃ¡t giÃ¡ trá»‹ cá»§a Ã¡nh xáº¡ tháº©m má»¹ kÃ­ch thÆ°á»›c lÃ  hÃ m scale_size(). Äá»ƒ thay Ä‘á»•i miá»n giÃ¡ trá»‹ cá»§a kÃ­ch thÆ°á»›c, chÃºng ta sá»­ dá»¥ng tham sá»‘ \\(range\\).HÃ¬nh bÃªn trÃ¡i: Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh nhá» nháº¥t lÃ  1, cá»§a hÃ¬nh lá»›n nháº¥t lÃ  6. HÃ¬nh á»Ÿ giá»¯a: Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh nhá» nháº¥t lÃ  1, cá»§a hÃ¬nh lá»›n nháº¥t lÃ  12. HÃ¬nh bÃªn pháº£i: Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh nhá» nháº¥t lÃ  6, cá»§a hÃ¬nh lá»›n nháº¥t lÃ  24. ÄÆ°á»ng kÃ­nh cá»§a cÃ¡c hÃ¬nh náº±m á»Ÿ giá»¯a Ä‘Æ°á»£c ná»™i suy tuyáº¿n tÃ­nh theo diá»‡n tÃ­ch tÄƒng dáº§n theo háº¡ng cá»§a Ä‘iá»ƒm Ä‘Ã³.Trong trÆ°á»ng há»£p báº¡n Ä‘á»c muá»‘n sá»­ dá»¥ng ná»™i suy tuyá»ƒn tÃ­nh theo Ä‘Æ°á»ng kÃ­nh cá»§a Ä‘iá»ƒm thay vÃ¬ diá»‡n tÃ­ch, hÃ£y sá»­ dá»¥ng hÃ m scale_radius()HÃ¬nh bÃªn trÃ¡i sá»­ dá»¥ng scale theo diá»‡n tÃ­ch vÃ  Ä‘Æ°á»ng kÃ­nh hÃ¬nh trÃ²n lá»›n nháº¥t báº±ng 7 láº§n Ä‘Æ°á»ng trÃ²n nhá»; hÃ¬nh trÃ²n á»Ÿ giá»¯a cÃ³ bÃ¡n kÃ­nh báº±ng \\(\\sqrt{\\cfrac{7^2+1^2}{2}} = 5 \\textit{ (láº§n)}\\) diá»‡n tÃ­ch hÃ¬nh trÃ²n nhá» nháº¥t. HÃ¬nh á»Ÿ giá»¯a, scale theo Ä‘Æ°á»ng kÃ­nh hÃ¬nh trÃ²n nÃªn hÃ¬nh á»Ÿ giá»¯a cÃ³ Ä‘Æ°á»ng kÃ­nh báº±ng \\(\\cfrac{7+1}{2} = 4 \\textit{ (láº§n)}\\) Ä‘Æ°á»ng kÃ­nh hÃ¬nh trÃ²n nhá». HÃ¬nh bÃªn pháº£i: Ä‘Æ°á»ng kÃ­nh cá»§a hÃ¬nh nhá» nháº¥t lÃ  4, hÃ¬nh lá»›n nháº¥t lÃ  10, nÃªn bÃ¡n kÃ­nh hÃ¬nh á»Ÿ giá»¯a lÃ  \\(\\cfrac{4+10}{2} = 7\\) (báº±ng kÃ­ch thÆ°á»›c cá»§a hÃ¬nh trÃ²n lá»›n nháº¥t cá»§a hÃ¬nh á»Ÿ giá»¯a).CÃ¡c tham sá»‘ \\(limits\\), \\(breaks\\), vÃ  \\(label\\) Ä‘Æ°á»£c sá»­ dá»¥ng tÆ°Æ¡ng tá»± nhÆ° thuá»™c tÃ­nh tháº©m má»¹ mÃ u sáº¯c. \\(limits\\) cho biáº¿t miá»n giÃ¡ trá»‹ nÃ o cá»§a biáº¿n Ä‘Æ°á»£c Ã¡nh xáº¡ Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹ size. \\(breaks\\) cho biáº¿t cÃ¡c kÃ­ch thÆ°á»›c nÃ o xuáº¥t hiá»‡n trÃªn chÃº giáº£i, vÃ  \\(labels\\) mÃ´ táº£ thuá»™c tÃ­nh tháº©m trÃªn chÃº giáº£i cá»§a Ä‘á»“ thá»‹.","code":"\ndat<-data.frame(x=1:3,y=1:3,z=1:3)\n# HÃ¬nh bÃªn trÃ¡i\np1<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  theme(legend.position = \"none\")\n# HÃ¬nh á»Ÿ giá»¯a\np2<-dat%>%ggplot(aes(x,y,size=z^2))+geom_point(shape=21,fill= \"lightskyblue\")+\n  theme(legend.position = \"none\")\n# HÃ¬nh bÃªn pháº£i\np3<-dat%>%filter(z>=2)%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  theme(legend.position = \"none\")\ngrid.arrange(p1,p2,p3,ncol=3,nrow=1)\ndat<-data.frame(x=1:3,y=1:3,z=1:3)\n# HÃ¬nh bÃªn trÃ¡i\np1<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  theme(legend.position = \"none\")\n# HÃ¬nh á»Ÿ giá»¯a\np2<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  scale_size(range=c(1,12))+\n  theme(legend.position = \"none\")\n# HÃ¬nh bÃªn pháº£i\np3<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  scale_size(range=c(6,24))+\n  theme(legend.position = \"none\")\ngrid.arrange(p1,p2,p3,ncol=3,nrow=1)\ndat<-data.frame(x=1:3,y=1:3,z=1:3)\n# HÃ¬nh bÃªn trÃ¡i\np1<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  theme(legend.position = \"none\")+\n  scale_size(range=c(1,7))\n# HÃ¬nh á»Ÿ giá»¯a\np2<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  scale_radius(range=c(1,7))+\n  theme(legend.position = \"none\")\n# HÃ¬nh bÃªn pháº£i\np3<-dat%>%ggplot(aes(x,y,size=z))+geom_point(shape=21,fill= \"lightskyblue\")+\n  scale_radius(range=c(4,10))+\n  theme(legend.position = \"none\")\ngrid.arrange(p1,p2,p3,ncol=3,nrow=1)\ngapminder%>%filter(year==2010)%>%\n  ggplot(aes(infant_mortality,life_expectancy, size = population))+\n  geom_point(shape = 21, fill = \"lightskyblue\",alpha = 0.5)+\n  scale_size(range = c(1,12),\n             limits = c(10^7,max(gapminder$population)),\n             breaks = c(10^8,2*10^8,5*10^8,10^9),\n             #label = paste(\"DÃ¢n sá»‘\",c(10^8,2*10^8,5*10^8,10^9)),\n             labels = scales::label_comma())"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"hÃ¬nh-dáº¡ng-shape","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.4.3.2 HÃ¬nh dáº¡ng (shape)","text":"HÃ¬nh dáº¡ng thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ má»™t biáº¿n rá»i ráº¡c cÃ³ khÃ´ng quÃ¡ nhiá»u giÃ¡ trá»‹ riÃªng biá»‡t. Theo kinh nghiá»‡m cá»§a tÃ¡c giáº£ thÃ¬ hÃ¬nh dáº¡ng chá»‰ nÃªn sá»­ dá»¥ng vá»›i cÃ¡c biáº¿n cÃ³ nhá» hÆ¡n hoáº·c báº±ng 5 giÃ¡ trá»‹ riÃªng biá»‡t. Máº·c dÃ¹ \\(ggplot2\\) cho phÃ©p sá»­ dá»¥ng lÃªn Ä‘áº¿n hÆ¡n 20 hÃ¬nh dáº¡ng khÃ¡c nhau nhÆ°ng sá»­ dá»¥ng nhiá»u hÆ¡n 5 hÃ¬nh dáº¡ng trong má»™t Ä‘á»“ thá»‹ sáº½ lÃ m cho Ä‘á»“ thá»‹ trá»Ÿ nÃªn ráº¯c rá»‘i vÃ  khÃ³ khÄƒn trong nháº­n diá»‡n. Táº¡i phiÃªn báº£n \\(ggplot2\\) mÃ  tÃ¡c giáº£ Ä‘ang sá»­ dá»¥ng, cÃ³ 25 hÃ¬nh dáº¡ng khÃ¡c nhau cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ mÃ´ táº£ biáº¿n rá»i ráº¡c á»©ng vá»›i 25 sá»‘ tá»± nhiÃªn tá»« 1 Ä‘áº¿n 25 nhÆ° sauBáº¡n Ä‘á»c lÆ°u Ã½ ráº±ng cÃ³ má»™t sá»‘ hÃ¬nh dáº¡ng trÃ´ng giá»‘ng nhau nhÆ°ng láº¡i cÃ³ thuá»™c tÃ­nh tháº©m má»¹ khÃ¡c nhau. Cháº³ng háº¡n nhÆ° hÃ¬nh dáº¡ng tÆ°Æ¡ng á»©ng vá»›i sá»‘ 1 lÃ  má»™t Ä‘iá»ƒm hÃ¬nh trÃ²n vá»›i thuá»™c tÃ­nh tháº©m má»¹ color lÃ  mÃ u sáº¯c cá»§a hÃ¬nh trÃ²n Ä‘Ã³, trong khi hÃ¬nh dáº¡ng tÆ°Æ¡ng á»©ng vá»›i sá»‘ 21 cÃ³ thuá»™c tÃ­nh tháº©m má»¹ color lÃ  mÃ u viá»n bÃªn ngoÃ i cá»§a hÃ¬nh trÃ²n vÃ  thuá»™c tÃ­nh tháº©m má»¹ fill má»›i lÃ  mÃ u sáº¯c bÃªn trong hÃ¬nh trÃ²n.Äá»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ Ä‘áº¿n thuá»™c tÃ­nh hÃ¬nh dáº¡ng, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m scale_shape_manual().NhÃ¬n chung Ã¡nh xáº¡ biáº¿n rá»i ráº¡c Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹ hÃ¬nh dáº¡ng khÃ´ng cho hiá»‡u quáº£ tá»‘t trong phÃ¢n biá»‡t cÃ¡c nhÃ³m. Báº¡n Ä‘á»c nÃªn tháº­n trá»ng khi sá»­ dá»¥ng thuá»™c tÃ­nh tháº©m má»¹ nÃ y.","code":"\ndat<-data.frame(x=c(rep(1:10,2),1:5),y = c(rep(3,10),rep(2,10),rep(1,5)), z = 1:25)\ndat%>%ggplot(aes(x,y,shape=as.factor(z)))+geom_point(size=3)+\n  scale_shape_manual(values = 1:25)+theme_classic()+geom_text(aes(label=z),vjust=-1)+\n  theme(legend.position = \"none\")+\n  theme_void()\ngapminder%>%filter(year==2010, continent == \"Asia\")%>%\n  ggplot(aes(gdp/population,life_expectancy, shape = region))+\n  geom_point()+\n  scale_x_continuous(trans=\"log10\")+\n  scale_shape_manual(values=c(21:24,8) )"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"kÃ­ch-thÆ°á»›c-vÃ -hÃ¬nh-dáº¡ng-cá»§a-cÃ¡c-Ä‘Æ°á»ng-linewidth-vÃ -linetype","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.4.3.3 KÃ­ch thÆ°á»›c vÃ  hÃ¬nh dáº¡ng cá»§a cÃ¡c Ä‘Æ°á»ng (linewidth vÃ  linetype)","text":"Äá»‘i vá»›i hÃ¬nh dáº¡ng Ä‘á»“ há»a kiá»ƒu cÃ¡c Ä‘Æ°á»ng nhÆ° geom_line(), geom_path(), geom_segment() chÃºng ta cÃ³ thá»ƒ Ã¡nh xáº¡ cÃ¡c biáº¿n rá»i ráº¡c vÃ o Ä‘á»™ rá»™ng hoáº·c hÃ¬nh dáº¡ng cá»§a Ä‘Æ°á»ng. HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ sá»± thay Ä‘á»•i cá»§a biáº¿n \\(gdp\\) cá»§a ba quá»‘c gia bao gá»“m Má»¹, Trung Quá»‘c vÃ  Nháº­t Báº£n theo thá»i gian tá»« nÄƒm 1960 Ä‘áº¿n nÄƒm 2010.HÃ m sá»‘ dÃ¹ng Ä‘á»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ vÃ o hÃ¬nh dáº¡ng cá»§a Ä‘Æ°á»ng lÃ  scale_linetype_manual(). \\(ggplot2\\) cÃ³ 13 hÃ¬nh dáº¡ng cho cÃ¡c Ä‘Æ°á»ng Ä‘Æ°á»£c Ä‘Ã¡nh sá»‘ tá»« 1 Ä‘áº¿n 13 nhÆ° dÆ°á»›i Ä‘Ã¢yÄá»ƒ cÃ¡c Ä‘Æ°á»ng cÃ³ hÃ¬nh dáº¡ng nhÆ° mong muá»‘n, chÃºng ta gÃ¡n giÃ¡ trá»‹ tham sá»‘ \\(values\\) cho vÃ©c-tÆ¡ chá»©a cÃ¡c sá»‘ tá»« 1 Ä‘áº¿n 13 lÃ  hÃ¬nh dáº¡ng mÃ  báº¡n lá»±a chá»n.","code":"\ngapminder%>%filter(country %in% c(\"United States\", \"China\", \"Japan\"), year <= 2011)%>%\n  ggplot(aes(x = year,y = gdp/10^9))+\n  geom_line(aes(linetype = country))+\n  theme_minimal()+\n  ylab(\"GDP in $B\")+\n  scale_x_continuous(breaks = seq(1960,2010,10))+\n  scale_y_continuous(labels = scales::label_comma())\ngapminder%>%filter(country %in% c(\"United States\", \"China\", \"Japan\"), year <= 2011)%>%\n  ggplot(aes(x = year,y = gdp/10^9))+\n  geom_line(aes(linetype = country))+\n  theme_minimal()+\n  ylab(\"GDP in $B\")+\n  scale_x_continuous(breaks = seq(1960,2010,10))+\n  scale_y_continuous(labels = scales::label_comma())+\n  scale_linetype_manual(values = c(4,7,12))"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"chÃº-giáº£i-cá»§a-Ã¡nh-xáº¡-tháº©m-má»¹","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.5 ChÃº giáº£i cá»§a Ã¡nh xáº¡ tháº©m má»¹","text":"Vá» máº·t hÃ¬nh thá»©c, náº¿u coi cÃ¡c hÃ m scale_*() trong pháº§n trÆ°á»›c cá»§a chÆ°Æ¡ng sÃ¡ch nhÆ° cÃ¡c Ã¡nh xáº¡ tá»« má»™t táº­p há»£p cÃ¡c giÃ¡ trá»‹ cá»§a biáº¿n Ä‘áº¿n má»™t táº­p há»£p cÃ¡c giÃ¡ trá»‹ cá»§a thuá»™c tÃ¬nh tháº©m má»¹ thÃ¬ chÃº giáº£i lÃ  Ã¡nh xáº¡ ngÆ°á»£c tá»« thuá»™c tÃ­nh tháº©m má»¹ Ä‘áº¿n miá»n giÃ¡ trá»‹ cá»§a biáº¿n. ChÃº giáº£i cho phÃ©p báº¡n chuyá»ƒn Ä‘á»•i cÃ¡c thuá»™c tÃ­nh trá»±c quan trá»Ÿ láº¡i giÃ¡ trá»‹ cá»§a dá»¯ liá»‡u. GiÃ¡ trá»‹ xuáº¥t hiá»‡n trÃªn cÃ¡c trá»¥c tá»a Ä‘á»™ vÃ  cÃ¡c chÃº giáº£i cÃ³ cÃ¡ch hiá»ƒn thá»‹ khÃ¡c nhau nhÆ°ng vá» báº£n cháº¥t láº¡i cÃ³ cÃ¹ng má»™t má»¥c Ä‘Ã­ch lÃ  cho phÃ©p ngÆ°á»i tiáº¿p nháº­n quan sÃ¡t cÃ¡c hÃ¬nh áº£nh Ä‘á»“ há»a trá»±c quan vÃ  Ã¡nh xáº¡ chÃºng trá»Ÿ láº¡i giÃ¡ trá»‹ cá»§a dá»¯ liá»‡u.ChÃº giáº£i cÃ³ kháº£ nÄƒng giáº£i thÃ­ch tá»‘t hÆ¡n giÃ¡ trá»‹ xuáº¥t hiá»‡n trÃªn cÃ¡c trá»¥c tá»a Ä‘á»™ bá»Ÿi cÃ¡c nguyÃªn nhÃ¢n sauChÃº giáº£i cÃ³ thá»ƒ giáº£i thÃ­ch nhiá»u biáº¿n cÃ¹ng lÃºc trong khi giÃ¡ trá»‹ trÃªn trá»¥c tá»a Ä‘á»™ chá»‰ cho phÃ©p má»™t biáº¿n.ChÃº giáº£i cÃ³ thá»ƒ giáº£i thÃ­ch nhiá»u biáº¿n cÃ¹ng lÃºc trong khi giÃ¡ trá»‹ trÃªn trá»¥c tá»a Ä‘á»™ chá»‰ cho phÃ©p má»™t biáº¿n.ChÃº giáº£i cÃ³ thá»ƒ tÃ¹y biáº¿n dá»… hÆ¡n: cÃ³ thá»ƒ xuáº¥t hiá»‡n á»Ÿ cÃ¡c vá»‹ trÃ­ theo Ã½ muá»‘n cá»§a ngÆ°á»i xÃ¢y dá»±ng Ä‘á»“ thá»‹, cÃ³ thá»ƒ xuáº¥t hiá»‡n theo báº¥t ká»³ hÆ°á»›ng nÃ o.ChÃº giáº£i cÃ³ thá»ƒ tÃ¹y biáº¿n dá»… hÆ¡n: cÃ³ thá»ƒ xuáº¥t hiá»‡n á»Ÿ cÃ¡c vá»‹ trÃ­ theo Ã½ muá»‘n cá»§a ngÆ°á»i xÃ¢y dá»±ng Ä‘á»“ thá»‹, cÃ³ thá»ƒ xuáº¥t hiá»‡n theo báº¥t ká»³ hÆ°á»›ng nÃ o.Báº¡n Ä‘á»c hÃ£y lÆ°u Ã½ ráº±ng dÃ¹ chÃºng ta khÃ´ng gá»i báº¥t ká»³ hÃ m scale_*() nÃ o trong cÃ¡c cÃ¢u lá»‡nh thÃ¬ \\(ggplot2\\) váº«n luÃ´n luÃ´n sá»­ dá»¥ng má»™t hÃ m \\(scale\\) máº·c Ä‘á»‹nh Ä‘á»ƒ Ã¡nh xáº¡ tá»« biáº¿n Ä‘áº¿n miá»n giÃ¡ trá»‹ cá»§a thuá»™c tÃ­nh tháº©m má»¹. Má»—i khi báº¡n gá»i hÃ m scale Ä‘á»ƒ kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹, cÃ¡c giÃ¡ trá»‹ mÃ  báº¡n khai bÃ¡o sáº½ thay tháº¿ cho cÃ¡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh. Trong trÆ°á»ng há»£p báº¡n gá»i nhiá»u hÃ m scale tÃ¡c Ä‘á»™ng Ä‘áº¿n má»™t thuá»™c tÃ­nh tháº©m má»¹ thÃ¬ chá»‰ cÃ³ hÃ m scale_*() sau cÃ¹ng báº¡n gá»i ra sau cÃ¹ng Ä‘Æ°á»£c sá»­ dá»¥ng.Khi báº¡n sá»­ dá»¥ng nhiá»u hÃ m scale_*() tÃ¡c Ä‘á»™ng Ä‘áº¿n cÃ¹ng má»™t thuá»™c tÃ­nh tháº©m má»¹ nhÆ° trÃªn, \\(ggplot2\\) sáº½ Ä‘Æ°a ra cÃ¡c cáº£nh bÃ¡o. Báº¡n cáº§n xem xÃ©t láº¡i cÃ¡c cÃ¢u lá»‡nh cá»§a mÃ¬nh Ä‘á»ƒ Ä‘áº£m báº£o sá»­ dá»¥ng Ä‘Ãºng vá»›i má»¥c Ä‘Ã­ch.NhÃ¬n chung Ä‘á»ƒ kiá»ƒm soÃ¡t chÃº giáº£i cá»§a cÃ¡c Ã¡nh xáº¡ tháº©m má»¹, báº¡n Ä‘á»c sá»­ dá»¥ng tham sá»‘ \\(guide\\) trong cÃ¡c hÃ m scale_*() tÆ°Æ¡ng á»©ng. GiÃ¡ trá»‹ gÃ¡n cho tham sá»‘ \\(guide\\) lÃ  má»™t trong cÃ¡c hÃ m sá»‘ sau Ä‘Ã¢y:guide_axis() lÃ  hÃ m sá»‘ dÃ¹ng Ä‘á»ƒ gÃ¡n cho tham sá»‘ \\(guide\\) khi chÃºng ta sá»­ dá»¥ng cÃ¡c hÃ m scale_*() nháº±m kiá»ƒm soÃ¡t Ã¡nh xáº¡ tháº©m má»¹ Ä‘áº¿n cÃ¡c trá»¥c tá»a Ä‘á»™.Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng tham sá»‘ \\(title\\) trong hÃ m \\(guide\\) Ä‘Ã£ thay tháº¿ cho tham sá»‘ \\(name\\) trong hÃ m scale_(). Tham sá»‘ \\(angle\\) cho biáº¿t hÆ°á»›ng cÃ¡c giÃ¡ trá»‹ xuáº¥t hiá»‡n trÃªn trá»¥c tá»a Ä‘á»™. Báº¡n Ä‘á»c tham kháº£o hÆ°á»›ng dáº«n sá»­ dá»¥ng hÃ m guide_axis() Ä‘á»ƒ hiá»ƒu vá» cÃ¡c tham sá»‘ khÃ¡c nhÆ° \\(n.dodge\\), \\(order\\), hay \\(position\\).guide_legend() lÃ  hÃ m sá»‘ dÃ¹ng Ä‘á»ƒ gÃ¡n cho tham sá»‘ \\(guide\\) khi gá»i cÃ¡c hÃ m scale_*() kiá»ƒm soÃ¡t Ã¡nh xáº¡ tá»« cÃ¡c biáº¿n rá»i ráº¡c Ä‘áº¿n mÃ u sáº¯c. CÃ³ ráº¥t nhiá»u tham sá»‘ cÃ³ thá»ƒ sá»­ dá»¥ng trong hÃ m sá»‘ nÃ y. Báº¡n Ä‘á»c tham kháº£o hÆ°á»›ng dáº«n sá»­ dá»¥ng hÃ m Ä‘á»ƒ biáº¿t Ä‘áº§y Ä‘á»§ cÃ¡c tham sá»‘.guide_colorbar() Ä‘Æ°á»£c dÃ¹ng khi chÃº giáº£i cho cÃ¡c Ã¡nh xáº¡ tá»« biáº¿n liÃªn tá»¥c Ä‘áº¿n dáº£i mÃ u liÃªn tá»¥cguide_colorbar() Ä‘Æ°á»£c dÃ¹ng khi chÃº giáº£i cho cÃ¡c Ã¡nh xáº¡ tá»« biáº¿n liÃªn tá»¥c Ä‘áº¿n dáº£i mÃ u liÃªn tá»¥cguide_bin() Ä‘Æ°á»£c dÃ¹ng khi chÃº giáº£i cho cÃ¡c Ã¡nh xáº¡ tá»« biáº¿n liÃªn tá»¥c Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹ kÃ­ch thÆ°á»›c (size).guide_bin() Ä‘Æ°á»£c dÃ¹ng khi chÃº giáº£i cho cÃ¡c Ã¡nh xáº¡ tá»« biáº¿n liÃªn tá»¥c Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹ kÃ­ch thÆ°á»›c (size).","code":"\np<-gapminder%>%filter(year==2010,region==\"South-Eastern Asia\")%>%\n  mutate(gdp_per_capita = gdp/population)%>%\n  ggplot(aes(reorder(country,gdp_per_capita),gdp_per_capita,fill = country))+\n  geom_bar(stat=\"identity\")+\n  theme_minimal()\np+scale_y_continuous(name = \"GDP bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i\", labels = scales::label_comma())+\n  scale_x_discrete(name = \"Country\")+\n  scale_y_continuous(trans = \"sqrt\")+\n  scale_x_discrete(name = \"Quá»‘c gia\", labels = c(\n    \"Vietnam\" = \"VN\",\n    \"Thailand\" = \"TL\",\n    \"Timor-Leste\" = \"ÄÃ´ng Timor\"))+\n  scale_y_continuous(name = \"GDP bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i\", labels = scales::label_dollar())\np+ scale_x_discrete(name = \"Quá»‘c gia\",\n                   guide = guide_axis(title = \"Country\",\n                                      angle = 90))+\n  scale_y_continuous(name = \"GDP bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i\", labels = scales::label_dollar(),\n                     guide = guide_axis(title = \"GDP per capita\"))\np+scale_x_discrete(guide = guide_axis(title = \"Quá»‘c gia\",\n                                      angle = 90))+\n  scale_y_continuous(labels = scales::label_dollar(),\n                     guide = guide_axis(title = \"GDP per capita\"))+\n  scale_fill_brewer(palette = \"Paired\",\n                    guide = guide_legend(\n                      title = \"Quá»‘c gia\",\n                      title.position = \"top\",\n                      ncol = 2\n                    ))"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"cÃ¡c-kiá»ƒu-trá»¥c-tá»a-Ä‘á»™","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.6 CÃ¡c kiá»ƒu trá»¥c tá»a Ä‘á»™","text":"","code":""},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"chá»§-Ä‘á»-vÃ -ngá»¯-cáº£nh-cá»§a-Ä‘á»“-thá»‹-theme","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.7 Chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh cá»§a Ä‘á»“ thá»‹ (theme)","text":"Trong pháº§n nÃ y, chÃºng ta sáº½ há»c cÃ¡ch sá»­ dá»¥ng chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh (theme) cho cÃ¡c Ä‘á»“ thá»‹. Ngá»¯ cáº£nh cho phÃ©p báº¡n Ä‘á»c kiá»ƒm soÃ¡t tá»‘t cÃ¡c cáº¥u pháº§n khÃ´ng Ã¡nh xáº¡ Ä‘áº¿n dá»¯ liá»‡u trong cÃ¢u chuyá»‡n cá»§a báº¡n. NhÃ¬n chung chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c hiá»ƒn thá»‹ báº±ng cÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a hoáº·c cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c biáº¿n Ä‘á»•i. Chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh cho phÃ©p báº¡n Ä‘á»c kiá»ƒm soÃ¡t nhá»¯ng cáº¥u pháº§n nhÆ° phÃ´ng chá»¯, hÃ¬nh ná»n, vá»‹ trÃ­ chÃº giáº£i,â€¦Sá»± phÃ¢n tÃ¡ch giá»¯a cÃ¡c thÃ nh cÃ¡c pháº§n cÃ³ Ã¡nh xáº¡ Ä‘áº¿n dá»¯ liá»‡u vÃ  thÃ nh pháº§n khÃ´ng Ã¡nh xáº¡ Ä‘áº¿n dá»¯ liá»‡u trong \\(ggplot2\\) lÃ  Ä‘iá»ƒm khÃ¡c biá»‡t vá»›i Ä‘á»“ há»a cÆ¡ sá»Ÿ. Trong Ä‘á»“ há»a cÆ¡ sá»Ÿ háº§u háº¿t cÃ¡c hÃ m Ä‘á»u cÃ³ má»™t sá»‘ lÆ°á»£ng lá»›n cÃ¡c tham sá»‘ sá»‘ chá»‰ Ä‘á»‹nh cáº£ hÃ¬nh thá»©c dá»¯ liá»‡u vÃ  pháº§n khÃ´ng liÃªn quan Ä‘áº¿n dá»¯ liá»‡u, Ä‘iá»u nÃ y lÃ m cho cÃ¡c hÃ m trong Ä‘á»“ thá»‹ cÆ¡ sá»Ÿ trá»Ÿ nÃªn phá»©c táº¡p. \\(ggplot2\\) tiáº¿p cáº­n theo cÃ¡ch khÃ¡c: khi táº¡o Ä‘á»“ thá»‹, báº¡n xÃ¡c Ä‘á»‹nh cÃ¡ch hiá»ƒn thá»‹ dá»¯ liá»‡u trÆ°á»›c, sau Ä‘Ã³ báº¡n cÃ³ thá»ƒ chá»‰nh sá»­a má»i chi tiáº¿t khÃ´ng liÃªn quan Ä‘áº¿n dá»¯ liá»‡u báº±ng cÃ¡ch hÃ m kiá»ƒm soÃ¡t chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh. Äá»ƒ kiá»ƒm soÃ¡t chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh cá»§a Ä‘á»“ thá»‹, báº¡n Ä‘á»c cáº§n náº¯m vá»¯ng cÃ¡c ná»™i dung sau:CÃ¡c chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh Ä‘Ã£ Ä‘Æ°á»£c hoÃ n chá»‰nh sáºµn cÃ³ trong \\(ggplot2\\) vÃ  trong thÆ° viá»‡n \\(ggthemes\\).CÃ¡c chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh Ä‘Ã£ Ä‘Æ°á»£c hoÃ n chá»‰nh sáºµn cÃ³ trong \\(ggplot2\\) vÃ  trong thÆ° viá»‡n \\(ggthemes\\).Kiá»ƒm soÃ¡t cÃ¡c thÃ nh pháº§n cá»§a chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh nhÆ°: tiÃªu Ä‘á» cá»§a Ä‘á»“ thá»‹ (kiá»ƒu chá»¯, kÃ­ch thÆ°á»›c, vá»‹ trÃ­), cÃ¡ch hiá»ƒn thá»‹ cÃ¡c sá»‘ trÃªn cÃ¡c trá»¥c, cÃ¡ch hiá»ƒn thá»‹ cÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a trÃªn chÃº giáº£i, kiá»ƒu chá»¯, kÃ­ch thÆ°á»›c hay vá»‹ trÃ­ cá»§a chÃº giáº£iâ€¦Kiá»ƒm soÃ¡t cÃ¡c thÃ nh pháº§n cá»§a chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh nhÆ°: tiÃªu Ä‘á» cá»§a Ä‘á»“ thá»‹ (kiá»ƒu chá»¯, kÃ­ch thÆ°á»›c, vá»‹ trÃ­), cÃ¡ch hiá»ƒn thá»‹ cÃ¡c sá»‘ trÃªn cÃ¡c trá»¥c, cÃ¡ch hiá»ƒn thá»‹ cÃ¡c hÃ¬nh dáº¡ng Ä‘á»“ há»a trÃªn chÃº giáº£i, kiá»ƒu chá»¯, kÃ­ch thÆ°á»›c hay vá»‹ trÃ­ cá»§a chÃº giáº£iâ€¦Kiá»ƒm soÃ¡t cÃ¡c tÃ¹y biáº¿n cá»§a cÃ¡c hÃ m dÃ¹ng Ä‘á»ƒ gÃ¡n giÃ¡ trá»‹ cho cÃ¡c thÃ nh pháº§n cá»§a chá»§ Ä‘á». VÃ­ dá»¥ nhÆ° hÃ m element_text() cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ chá»‰nh kÃ­ch thÆ°á»›c phÃ´ng chá»¯, mÃ u sáº¯c vÃ  giao diá»‡n cá»§a cÃ¡c thÃ nh pháº§n vÄƒn báº£n.Kiá»ƒm soÃ¡t cÃ¡c tÃ¹y biáº¿n cá»§a cÃ¡c hÃ m dÃ¹ng Ä‘á»ƒ gÃ¡n giÃ¡ trá»‹ cho cÃ¡c thÃ nh pháº§n cá»§a chá»§ Ä‘á». VÃ­ dá»¥ nhÆ° hÃ m element_text() cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ chá»‰nh kÃ­ch thÆ°á»›c phÃ´ng chá»¯, mÃ u sáº¯c vÃ  giao diá»‡n cá»§a cÃ¡c thÃ nh pháº§n vÄƒn báº£n.CÃ¡ch sá»­ dá»¥ng hÃ m theme() vá»›i má»™t danh sÃ¡ch dÃ i cÃ¡c tÃ¹y biáº¿n cho phÃ©p báº¡n ghi Ä‘Ã¨ lÃªn cÃ¡c thÃ nh pháº§n cá»§a chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh máº·c Ä‘á»‹nh.CÃ¡ch sá»­ dá»¥ng hÃ m theme() vá»›i má»™t danh sÃ¡ch dÃ i cÃ¡c tÃ¹y biáº¿n cho phÃ©p báº¡n ghi Ä‘Ã¨ lÃªn cÃ¡c thÃ nh pháº§n cá»§a chá»§ Ä‘á» vÃ  ngá»¯ cáº£nh máº·c Ä‘á»‹nh.","code":""},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"táº¡o-Ä‘á»“-thá»‹-tÆ°Æ¡ng-tÃ¡c-vÃ -Ä‘á»“-thá»‹-Ä‘á»™ng.","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.8 Táº¡o Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c vÃ  Ä‘á»“ thá»‹ Ä‘á»™ng.","text":"CÃ¡c Ä‘á»“ thá»‹ cá»§a thÆ° viá»‡n \\(ggplot2\\) Ä‘á»u lÃ  cÃ¡c Ä‘á»“ thá»‹ tÄ©nh. CÃ¡c Ä‘á»“ thá»‹ Ä‘á»™ng hay Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c ngoÃ i lá»£i tháº¿ hÆ¡n Ä‘á»“ thá»‹ tÄ©nh á»Ÿ viá»‡c thu hÃºt thá»‹ giÃ¡c cá»§a ngÆ°á»i tiáº¿p nháº­n cÃ²n á»Ÿ kháº£ nÄƒng mÃ´ táº£ dá»¯ liá»‡u má»™t cÃ¡ch Ä‘áº§y Ä‘á»§ thÃ´ng tin hÆ¡n:CÃ¡c Ä‘á»“ thá»‹ dáº¡ng Ä‘á»™ng Ä‘áº·c biá»‡t hiá»‡u quáº£ trong viá»‡c mÃ´ táº£ sá»± thay Ä‘á»•i dá»¯ liá»‡u theo thá»i gian.CÃ¡c Ä‘á»“ thá»‹ dáº¡ng Ä‘á»™ng Ä‘áº·c biá»‡t hiá»‡u quáº£ trong viá»‡c mÃ´ táº£ sá»± thay Ä‘á»•i dá»¯ liá»‡u theo thá»i gian.CÃ¡c Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c cho phÃ©p hiá»ƒn thá»‹ thÃ´ng tin báº±ng con trá», hoáº·c phÃ³ng , thu nhá» tá»«ng pháº§n cá»§a Ä‘á»“ thá»‹. Báº¡n Ä‘á»c trÃ¡nh pháº£i hiá»ƒn thá»‹ quÃ¡ nhiá»u thÃ´ng tin lÃªn Ä‘á»“ thá»‹ cÃ¹ng lÃºc.CÃ¡c Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c cho phÃ©p hiá»ƒn thá»‹ thÃ´ng tin báº±ng con trá», hoáº·c phÃ³ng , thu nhá» tá»«ng pháº§n cá»§a Ä‘á»“ thá»‹. Báº¡n Ä‘á»c trÃ¡nh pháº£i hiá»ƒn thá»‹ quÃ¡ nhiá»u thÃ´ng tin lÃªn Ä‘á»“ thá»‹ cÃ¹ng lÃºc.Khuyáº¿t Ä‘iá»ƒm duy nháº¥t cá»§a cÃ¡c Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c vÃ  cÃ¡c Ä‘á»“ thá»‹ Ä‘á»™ng Ä‘Ã³ lÃ  khÃ´ng thá»ƒ biá»ƒu diá»…n trÃªn cÃ¡c báº£n cá»©ng.Trong pháº§n nÃ y cá»§a chÆ°Æ¡ng sÃ¡ch, chÃºng tÃ´i sáº½ tháº£o luáº­n vá» hai thÆ° viá»‡n dÃ¹ng Ä‘á»ƒ táº¡o Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c vÃ  Ä‘á»“ thá»‹ dáº¡ng Ä‘á»™ng sá»­ dá»¥ng cÃ¹ng vá»›i \\(ggplot2\\) lÃ  \\(ggiraph\\) vÃ  \\(plotly\\). Náº¿u nhÆ° \\(ggiraph\\) lÃ  thÆ° viá»‡n bá»• sung cho \\(ggplot2\\) vÃ  Ä‘Æ°á»£c xÃ¢y dá»±ng dá»±a trÃªn cáº¥u trÃºc ngá»¯ phÃ¡p Ä‘á»“ thá»‹ tÆ°Æ¡ng tá»± nhÆ° \\(ggplot2\\) thÃ¬ \\(plotly\\) lÃ  má»™t thÆ° viá»‡n khÃ¡ Ä‘á»™c láº­p vá»›i \\(ggplot2\\) vÃ  chuyÃªn sá»­ dá»¥ng Ä‘á»ƒ táº¡o Ä‘á»“ thá»‹ dáº¡ng Ä‘á»™ng vÃ  tÆ°Æ¡ng tÃ¡c.","code":""},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"táº¡o-Ä‘á»“-thá»‹-tÆ°Æ¡ng-tÃ¡c-vá»›i-ggiraph","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.8.1 Táº¡o Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c vá»›i \\(ggiraph\\)","text":"Æ¯u Ä‘iá»ƒm lá»›n nháº¥t cá»§a \\(ggiraph\\) Ä‘Ã³ lÃ  cÃ¡c cÃ¢u lá»‡nh táº¡o Ä‘á»“ thá»‹ cÅ©ng Ä‘Æ°á»£c dá»±a trÃªn ngá»¯ phÃ¡p cá»§a Ä‘á»“ thá»‹, nghÄ©a lÃ  hoÃ n toÃ n tÆ°Æ¡ng Ä‘á»“ng vá»›i cÃ¡c cÃ¢u lá»‡nh trong \\(ggplot2\\). Äá»ƒ táº¡o má»™t Ä‘á»“ thá»‹ trong \\(ggiraph\\), báº¡n Ä‘á»c chá»‰ cáº§n thÃªm cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ cá»§a Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c vÃ  Ä‘á»“ thá»‹ Ä‘á»™ng cÃ¹ng vá»›i cÃ¡c thuá»™c tÃ­nh cá»§a Ä‘á»“ thá»‹ tÄ©nh cá»§a \\(ggplot2\\). Táº¡i thá»i Ä‘iá»ƒm chÃºng tÃ´i viáº¿t chÆ°Æ¡ng sÃ¡ch nÃ y, thÆ° viá»‡n \\(ggiraph\\) Ä‘ang á»Ÿ phiÃªn báº£n 0.8.7 vÃ  hÆ°á»›ng dáº«n sá»­ dá»¥ng á»Ÿ trong link dÆ°á»›i Ä‘Ã¢yhttps://cloud.r-project.org/web/packages/ggiraph/ggiraph.pdfSau khi xem qua danh sÃ¡ch cÃ¡c hÃ m sá»‘ trong thÆ° viá»‡n \\(ggiraph\\), báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng Ä‘a sá»‘ cÃ¡c hÃ m geom_*() trong thÆ° viá»‡n \\(ggplot2\\) Ä‘á»u cÃ³ má»™t hÃ m tÆ°Æ¡ng á»©ng Ä‘á»ƒ táº¡o Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c lÃ  geom_*_interactive(). Cháº³ng háº¡n nhÆ° hÃ m geom_point() trong thÆ° viá»‡n \\(ggplot2\\) sáº½ cÃ³ hÃ m tÆ°Æ¡ng á»©ng trong \\(ggiraph\\) lÃ  geom_point_interactive(). Hai cáº¥u pháº§n tháº©m má»¹ cho Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c lÃ  \\(tooltip\\) vÃ  \\(data_id\\). CÅ©ng giá»‘ng nhÆ° \\(plotly\\), báº¡n Ä‘á»c cáº§n táº¡o má»™t Ä‘á»‘i tÆ°á»£ng kiá»ƒu Ä‘á»“ thá»‹ báº±ng hÃ m ggplot() sau Ä‘Ã³ sá»­ dá»¥ng hÃ m girafe() Ä‘á»ƒ táº¡o Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c. HÃ£y quan sÃ¡t vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y:Thuá»™c tÃ­nh tháº©m má»¹ \\(tooltip\\) cho biáº¿t thÃ´ng tin hiá»ƒn thá»‹ cá»§a cÃ¡c Ä‘iá»ƒm trÃªn Ä‘á»“ thá»‹ khi sá»­ dá»¥ng con trá» trong khi thuá»™c tÃ­nh tháº©m má»¹ \\(data\\_id\\) khi Ä‘Æ°á»£c Ã¡nh xáº¡ Ä‘áº¿n tá»« má»™t biáº¿n sáº½ cho biáº¿t cÃ¡c quan sÃ¡t cÃ³ cÃ¹ng giÃ¡ trá»‹ trÃªn biáº¿n Ä‘Ã³. Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng con trá» di chuyá»ƒn Ä‘áº¿n tá»«ng cÃ¡c Ä‘iá»ƒm Ä‘á»ƒ xem káº¿t quáº£ cá»§a Ã¡nh xáº¡ Ä‘áº¿n thuá»™c tÃ­nh \\(tooltip\\) vÃ  \\(data_id\\).CÃ¡ch sá»­ dá»¥ng cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ \\(tooltip\\) vÃ  \\(data\\_id\\) hoÃ n toÃ n tÆ°Æ¡ng tá»± trong cÃ¡c Ä‘á»“ thá»‹ cÆ¡ báº£n khÃ¡c.Äá»“ thá»‹ dáº¡ng bong bÃ³ngÄá»“ thá»‹ dáº¡ng line: Äá»“ thá»‹ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ tá»· lá»‡ tháº¥t nghiá»‡p cá»§a nÆ°á»›c Má»¹ qua cÃ¡c thá»i ká»³ Tá»•ng thá»‘ng vÃ  cÃ¡c Äáº£ngÄá»“ thá»‹ dáº¡ng thanhÄá»“ thá»‹ dáº¡ng thanhBáº£n Ä‘á»“ tÆ°Æ¡ng tÃ¡cBáº£n Ä‘á»“ tÆ°Æ¡ng tÃ¡cChÃºng ta sáº½ mÃ´ táº£ biáº¿n infant_mortality cá»§a dá»¯ liá»‡u \\(gapminder\\) thÃ´ng qua báº£n Ä‘á»“ tháº¿ giá»›i","code":"\np<-murders %>% ggplot(aes(y = total, x = population)) +\n  geom_point_interactive(aes(fill=region, \n                             tooltip = paste0(\"State: \", state, \"\\n Region: \", region, \"\\n Population: \", population), \n                             onclick = region), \n                         size = 4, shape=21, alpha = 0.8, color = \"black\") +\n  geom_smooth(method = \"lm\", se = FALSE, linetype = 2, color=\"grey\")+\n  scale_x_continuous(trans = \"log10\", labels = scales::label_comma()) +\n  scale_y_log10() +\n  scale_fill_brewer(palette = \"Dark2\")+\n  theme_minimal()+\n  ggtitle(\"Sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng táº¡i cÃ¡c bang nÄƒm 2010\")\ngirafe(ggobj = p)\np<-diamonds%>%group_by(cut,color)%>%mutate(ave_price = mean(price))%>%ungroup()%>%\n  as.data.frame()%>%\n  ggplot(aes(cut,color,color = ave_price))+\n  geom_count_interactive(aes(tooltip = paste0(\"Number: \", after_stat(n))))+\n  scale_color_continuous(type = \"viridis\")+\n  scale_size(range=c(1,12))+\n  theme_minimal()\ngirafe(ggobj = p)\ndat1<-presidential[3:11,]\np<-economics%>%mutate(unemploy_rate = unemploy/pop)%>%\n  ggplot()+\n  geom_line_interactive(aes(x=date,y=unemploy_rate,tooltip = name, data_id = party))+\n  scale_y_continuous(limits = c(0.013,0.052))+\n  geom_rect(data=dat1,\n              aes(xmin = start, xmax = end, \n                  ymin = 0.013, ymax = 0.052,fill = party),alpha = 0.4)+\n  geom_rect_interactive(data=dat1,\n            aes(xmin = start, xmax = end, \n                ymin = 0.013, ymax = 0.052,\n                tooltip = name,\n                data_id = name),color = \"black\",size=0.1,alpha=0.01)+\n  scale_fill_manual(values=c(\"blue\",\"red\"))+\n  theme_minimal()\ngirafe(ggobj = p)"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"táº¡o-Ä‘á»“-thá»‹-tÆ°Æ¡ng-tÃ¡c-vá»›i-plotly","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.8.2 Táº¡o Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c vá»›i \\(plotly\\)","text":"Äá»ƒ táº¡o má»™t Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c báº±ng thÆ° viá»‡n \\(plotly\\) dá»… hÆ¡n báº¡n nghÄ© ráº¥t nhiá»u. Viá»‡c duy nháº¥t báº¡n Ä‘á»c cáº§n lÃ m lÃ  gá»i thÆ° viá»‡n \\(plotly\\) vÃ  sau Ä‘Ã³ sá»­ dá»¥ng hÃ m ggplotly(). Äoáº¡n cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ dá»¯ liá»‡u \\(murders\\) dÆ°á»›i dáº¡ng Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm tÆ°Æ¡ng tÃ¡c.Báº¡n Ä‘á»c cÃ³ thá»ƒ tÆ°Æ¡ng tÃ¡c vá»›i Ä‘á»“ thá»‹ báº±ng cÃ¡c thao tÃ¡c nhÆ° sau:Sá»­ dá»¥ng con trá» chá»‰ vÃ o cÃ¡c Ä‘iá»ƒm Ä‘á»ƒ xem thÃ´ng tin chÃ­nh xÃ¡c vá» dÃ¢n sá»‘, sá»‘ vá»¥ sÃ¡t nhÃ¢n, tÃªn bang, vÃ  tÃªn vÃ¹ng cá»§a má»—i Ä‘iá»ƒm.Sá»­ dá»¥ng con trá» chá»‰ vÃ o cÃ¡c Ä‘iá»ƒm Ä‘á»ƒ xem thÃ´ng tin chÃ­nh xÃ¡c vá» dÃ¢n sá»‘, sá»‘ vá»¥ sÃ¡t nhÃ¢n, tÃªn bang, vÃ  tÃªn vÃ¹ng cá»§a má»—i Ä‘iá»ƒm.Sá»­ dá»¥ng con trá», hoáº·c cÃ¡c nÃºt phÃ³ng , thu nhá» Ä‘á»ƒ xem tá»«ng pháº§n cá»§a Ä‘á»“ thá»‹.Sá»­ dá»¥ng con trá», hoáº·c cÃ¡c nÃºt phÃ³ng , thu nhá» Ä‘á»ƒ xem tá»«ng pháº§n cá»§a Ä‘á»“ thá»‹.Sá»­ dá»¥ng con trá» trÃªn chÃº giáº£i Ä‘á»ƒ lá»±a chá»n cÃ¡c vÃ¹ng nÃ o hiá»ƒn thá»‹, hoáº·c khÃ´ng hiá»ƒn thá»‹ trÃªn Ä‘á»“ thá»‹.Sá»­ dá»¥ng con trá» trÃªn chÃº giáº£i Ä‘á»ƒ lá»±a chá»n cÃ¡c vÃ¹ng nÃ o hiá»ƒn thá»‹, hoáº·c khÃ´ng hiá»ƒn thá»‹ trÃªn Ä‘á»“ thá»‹.Sá»­ dá»¥ng con trá» trÆ°á»£t theo Ä‘Æ°á»ng tháº³ng táº¡o bá»Ÿi geom_smooth() Ä‘á»ƒ biáº¿t giÃ¡ trá»‹ trÃªn trá»¥c total vÃ  population cá»§a má»—i Ä‘iá»ƒm trÃªn Ä‘Æ°á»ng tháº³ng. LÆ°u Ã½ ráº±ng giÃ¡ trá»‹ xuáº¥t hiá»‡n lÃ  giÃ¡ trá»‹ sau khi Ä‘Ã£ chuyá»ƒn Ä‘á»•i báº±ng hÃ m \\(log10()\\).Sá»­ dá»¥ng con trá» trÆ°á»£t theo Ä‘Æ°á»ng tháº³ng táº¡o bá»Ÿi geom_smooth() Ä‘á»ƒ biáº¿t giÃ¡ trá»‹ trÃªn trá»¥c total vÃ  population cá»§a má»—i Ä‘iá»ƒm trÃªn Ä‘Æ°á»ng tháº³ng. LÆ°u Ã½ ráº±ng giÃ¡ trá»‹ xuáº¥t hiá»‡n lÃ  giÃ¡ trá»‹ sau khi Ä‘Ã£ chuyá»ƒn Ä‘á»•i báº±ng hÃ m \\(log10()\\).CÃ¡c thÃ´ng tin báº¡n Ä‘á»c muá»‘n hiá»ƒn thá»‹ báº±ng con trá» lÃ  cÃ¡c dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c Ã¡nh xáº¡ vÃ o trong cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ cá»§a Ä‘á»“ thá»‹. Trong Ä‘á»“ thá»‹ á»Ÿ trÃªn thÃ´ng tin cá»§a má»—i Ä‘iá»ƒm bao gá»“m cÃ³ 1: Population, 2: Total, 3: State, vÃ  4: region. Náº¿u khÃ´ng sá»­ dá»¥ng \\(plotly\\), thuá»™c tÃ­nh tháº©m má»¹ \\(label\\) sáº½ khÃ´ng Ä‘Æ°á»£c hiá»ƒn thá»‹ chÃºng ta khÃ´ng sá»­ dá»¥ng geom_text() hay geom_label(). \\(plotly\\) sáº½ hiá»ƒn thá»‹ thÃ´ng tin cá»§a táº¥t cáº£ cÃ¡c biáº¿n cÃ³ Ã¡nh xáº¡ Ä‘áº¿n thuá»™c tÃ­nh tháº©m má»¹, dÃ¹ thuá»™c tÃ­nh tháº©m má»¹ Ä‘Ã³ khÃ´ng hiá»ƒn thá»‹ trong \\(ggplot2\\).Tham sá»‘ \\(tooltip\\) trong hÃ m \\(ggplotly\\) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm soÃ¡t cÃ¡c thuá»™c tÃ­nh tháº©m má»¹ xuáº¥t hiá»‡n trÃªn Ä‘á»“ thá»‹ tÆ°Æ¡ng tÃ¡c. VÃ­ dá»¥ nhÆ° trong Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm á»Ÿ trÃªn, báº¡n Ä‘á»c khÃ´ng chá»‰ muá»‘n thÃ´ng tin hiá»ƒn thá»‹ trÃªn má»—i Ä‘iá»ƒm chá»‰ bao gá»“m tÃªn bang (thuá»™c tÃ­nh tháº©m má»¹ \\(fill\\)) vÃ  vÃ¹ng (thuá»™c tÃ­nh tháº©m má»¹ \\(label\\)), chÃºng ta sá»­ dá»¥ng tÃ¹y biáº¿n \\(tooltip\\) nhÆ° sauChÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng \\(ggplotly\\) trÃªn háº§u háº¿t cÃ¡c Ä‘á»“ thá»‹ Ä‘Æ°á»£c táº¡o bá»Ÿi \\(ggplot2\\), dÆ°á»›i Ä‘Ã¢y lÃ  má»™t sá»‘ vÃ­ dá»¥Äá»“ thá»‹ kiá»ƒu bong bÃ³ng:Äá»“ thá»‹ kiá»ƒu lineÄá»“ thá»‹ kiá»ƒu thanh: barplot káº¿t há»£p vá»›i thuá»™c tÃ­nh tháº©m má»¹ \\(fill\\) cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ trá»±c quan hÃ³a hai biáº¿n rá»i ráº¡c. Äá»“ thá»‹ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ thu nháº­p bÃ¬nh quÃ¢n Ä‘áº§u ngÆ°á»i táº¡i cÃ¡c ChÃ¢u lá»¥c vÃ o nÄƒm 2010 theo cÃ¡c má»©c Ä‘á»™: dÆ°á»›i $2000, tá»« $2000 Ä‘áº¿n $5000, vÃ  trÃªn $5000.Báº£n Ä‘á»“ tÆ°Æ¡ng tÃ¡c: báº£n Ä‘á»“ tÆ°Æ¡ng tÃ¡c giÃºp cho viá»‡c hiá»ƒn thá»‹ dá»¯ liá»‡u trÃªn báº£n Ä‘á»“ trá»Ÿ nÃªn Ä‘Æ¡n giáº£n hÆ¡n ráº¥t nhiá»u vá»›i sá»­ dá»¥ng geom_text() hoáº·c geom_label()Táº¡o Ä‘á»“ thá»‹ dáº¡ng Ä‘á»™ng (dynamic) lÃ  má»™t phÆ°Æ¡ng phÃ¡p thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ dá»¯ liá»‡u biáº¿n Ä‘á»•i theo thá»i gian. Äá»“ thá»‹ dáº¡ng Ä‘á»™ng ngoÃ i yáº¿u tá»‘ báº¯t máº¯t cÃ²n giÃºp cho ngÆ°á»i tiáº¿p nháº­n dá»¯ liá»‡u cáº£m nháº­n Ä‘Æ°á»£c báº£n cháº¥t cá»§a váº¥n Ä‘á» phá»©c táº¡p má»™t cÃ¡ch trá»±c quan nháº¥t. HÃ£y báº¯t Ä‘áº§u vá»›i má»™t dá»¯ liá»‡u Ä‘Æ¡n giáº£n bao gá»“m hai biáº¿n \\(x\\), \\(y\\) vÃ  thá»i gian \\(time\\).ChÃºng ta muá»‘n váº½ má»™t Ä‘iá»ƒm táº¡i cÃ¡c vá»‹ trÃ­ lÆ°u á»Ÿ cá»™t \\(x\\) vÃ  cá»™t \\(y\\) di chuyá»ƒn theo thá»i gian Ä‘Æ°á»£c lÆ°u trong cá»™t \\(time\\) vá»›i \\(ggplotly\\), chÃºng ta chá»‰ cáº§n khai bÃ¡o thÃªm Ã¡nh xáº¡ tháº©m má»¹ tá»« thuá»™c tÃ­nh \\(frame\\) cá»§a hÃ m animation_opts() Ä‘áº¿n biáº¿n \\(time\\) nhÆ° dÆ°á»›i Ä‘Ã¢yÄá»“ thá»‹ dáº¡ng Ä‘á»™ng sáº½ Ä‘Æ°á»£c kÃ­ch hoáº¡t má»—i khi chÃºng ta báº¥m nÃºt â€œplayâ€. CÃ¡c tham sá»‘ \\(width\\) vÃ  \\(height\\) trong hÃ m ggplotly() cho biáº¿t kÃ­ch thÆ°á»›c cá»§a Ä‘á»“ thá»‹ dáº¡ng Ä‘á»™ng trong khi tham sá»‘ \\(frame\\) trong hÃ m animation_opts() cho biáº¿t Ä‘á»™ mÆ°á»£t cá»§a hÃ¬nh Ä‘á»™ng.Giáº£ sá»­ báº¡n Ä‘á»c muá»‘n theo dÃµi má»‘i quan há»‡ giá»¯a hai biáº¿n tuá»•i thá» trung bÃ¬nh vÃ  tá»· lá»‡ sinh trung bÃ¬nh cá»§a táº¥t cáº£ cÃ¡c quá»‘c gia trÃªn tháº¿ giá»›i. Báº¡n sá»­ dá»¥ng Ä‘á»“ thá»‹ ráº£i Ä‘iá»ƒm Ä‘á»ƒ mÃ´ táº£ má»‘i quan há»‡ giá»¯a hai biáº¿n liÃªn tá»¥c, sá»­ dá»¥ng mÃ u sáº¯c Ä‘á»ƒ phÃ¢n biá»‡t giá»¯a cÃ¡c chÃ¢u lá»¥c, sá»­ dá»¥ng kÃ­ch thÆ°á»›c cá»§a cÃ¡c Ä‘iá»ƒm Ä‘á»ƒ mÃ´ táº£ dÃ¢n sá»‘, vÃ  sau cÃ¹ng báº¡n sá»­ dá»¥ng \\(frame\\) Ä‘á»ƒ mÃ´ táº£ biáº¿n \\(year\\). Vá»›i má»™t vÃ i Ä‘iá»u chá»‰nh Ã¡nh xáº¡ tháº©m má»¹, báº¡n Ä‘Ã£ cÃ³ thá»ƒ ká»ƒ Ä‘Æ°á»£c má»™t cÃ¢u chuyá»‡n háº¥p dáº«n vá» tuá»•i thá» trung bÃ¬nh vÃ  tá»· lá»‡ sinh dá»±a trÃªn dá»¯ liá»‡u \\(gapminder\\)Má»™t trong nhá»¯ng cÃ´ng viá»‡c khÃ³ khÄƒn nháº¥t cá»§a nhá»¯ng ngÆ°á»i lÃ m viá»‡c liÃªn quan Ä‘áº¿n xÃ¢y dá»±ng cÃ¡c mÃ´ hÃ¬nh toÃ¡n há»c phá»©c táº¡p lÃ  giáº£i thÃ­ch káº¿t quáº£ cá»§a mÃ¬nh cho nhá»¯ng ngÆ°á»i Ã­t cÃ³ kiáº¿n thá»©c chuyÃªn mÃ´n vá» lÄ©nh vá»±c nÃ y. Kinh nghiá»‡m cá»§a chÃºng tÃ´i lÃ  hÃ£y trá»±c quan hÃ³a káº¿t quáº£ cá»§a mÃ¬nh thay vÃ¬ cÃ¡c cÃ´ng thá»©c phá»©c táº¡p. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ i khÃ¡i niá»‡m toÃ¡n há»c phá»©c táº¡p Ä‘Æ°á»£c giáº£i thÃ­ch dÆ°á»›i dáº¡ng Ä‘á»“ thá»‹ Ä‘á»™ngChuyá»ƒn Ä‘á»™ng Brown: chuyá»ƒn Ä‘á»™ng Brown lÃ  má»™t quÃ¡ trÃ¬nh ngáº«u nhiÃªn cÃ³ Ã½ nghÄ©a Ä‘áº·c biá»‡t quan trá»ng trong tÃ i chÃ­nh, báº£o hiá»ƒm, vÃ  cáº£ cÃ¡c lÄ©nh vá»±c cÃ´ng nghá»‡. KhÃ´ng dá»… dÃ ng Ä‘á»ƒ giáº£i thÃ­ch cho nhá»¯ng ngÆ°á»i khÃ´ng cÃ³ ná»n táº£ng vá» toÃ¡n cÃ¡c khÃ¡i niá»‡m vá» chuyá»ƒn Ä‘á»™ng Brown. Thay vÃ¬ cÃ¡c cÃ´ng thá»©c toÃ¡n, chÃºng ta cÃ³ thá»ƒ giáº£i thÃ­ch vá» chuyá»ƒn Ä‘á»™ng Brown thÃ´ng qua trá»±c quan hÃ³a:Chuyá»ƒn Ä‘á»™ng Brown: chuyá»ƒn Ä‘á»™ng Brown lÃ  má»™t quÃ¡ trÃ¬nh ngáº«u nhiÃªn cÃ³ Ã½ nghÄ©a Ä‘áº·c biá»‡t quan trá»ng trong tÃ i chÃ­nh, báº£o hiá»ƒm, vÃ  cáº£ cÃ¡c lÄ©nh vá»±c cÃ´ng nghá»‡. KhÃ´ng dá»… dÃ ng Ä‘á»ƒ giáº£i thÃ­ch cho nhá»¯ng ngÆ°á»i khÃ´ng cÃ³ ná»n táº£ng vá» toÃ¡n cÃ¡c khÃ¡i niá»‡m vá» chuyá»ƒn Ä‘á»™ng Brown. Thay vÃ¬ cÃ¡c cÃ´ng thá»©c toÃ¡n, chÃºng ta cÃ³ thá»ƒ giáº£i thÃ­ch vá» chuyá»ƒn Ä‘á»™ng Brown thÃ´ng qua trá»±c quan hÃ³a:Markov Chain Monte Carlo lÃ  má»™t ká»¹ thuáº­t mÃ´ phá»ng biáº¿n ngáº«u nhiÃªn hoáº·c má»™t vÃ©c-tÆ¡ ngáº«u nhiÃªn cÃ³ hÃ m phÃ¢n phá»‘i \\(F\\) mÃ  khÃ´ng thá»ƒ mÃ´ phá»ng Ä‘Æ°á»£c má»™t cÃ¡ch trá»±c tiáº¿p. QuÃ¡ trÃ¬nh táº¡o ra biáº¿n ngáº«u nhiÃªn cÃ³ hÃ m phÃ¢n phá»‘i \\(F\\) sáº½ báº¯t Ä‘áº§u tá»« má»™t phÃ¢n phá»‘i \\(G\\) mÃ  chÃºng ta cÃ³ thá»ƒ mÃ´ phá»ng ra Ä‘Æ°á»£c Ä‘i qua cÃ¡c hÃ m phÃ¢n phá»‘i trung gian vÃ  sáº½ há»™i tá»¥ Ä‘áº¿n phÃ¢n phá»‘i \\(F\\). HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ quÃ¡ trÃ¬nh mÃ´ phá»ng biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(0,1)\\) tá»« má»™t phÃ¢n phá»‘i cÃ³ hai Ä‘inh (2 mode).Markov Chain Monte Carlo lÃ  má»™t ká»¹ thuáº­t mÃ´ phá»ng biáº¿n ngáº«u nhiÃªn hoáº·c má»™t vÃ©c-tÆ¡ ngáº«u nhiÃªn cÃ³ hÃ m phÃ¢n phá»‘i \\(F\\) mÃ  khÃ´ng thá»ƒ mÃ´ phá»ng Ä‘Æ°á»£c má»™t cÃ¡ch trá»±c tiáº¿p. QuÃ¡ trÃ¬nh táº¡o ra biáº¿n ngáº«u nhiÃªn cÃ³ hÃ m phÃ¢n phá»‘i \\(F\\) sáº½ báº¯t Ä‘áº§u tá»« má»™t phÃ¢n phá»‘i \\(G\\) mÃ  chÃºng ta cÃ³ thá»ƒ mÃ´ phá»ng ra Ä‘Æ°á»£c Ä‘i qua cÃ¡c hÃ m phÃ¢n phá»‘i trung gian vÃ  sáº½ há»™i tá»¥ Ä‘áº¿n phÃ¢n phá»‘i \\(F\\). HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ quÃ¡ trÃ¬nh mÃ´ phá»ng biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(0,1)\\) tá»« má»™t phÃ¢n phá»‘i cÃ³ hai Ä‘inh (2 mode).","code":"\np<-murders %>% ggplot(aes(y = total, label = state, x = population)) +\n  geom_point(aes(fill=region), size = 4, shape=21, alpha = 0.8, color = \"black\") +\n  geom_smooth(method = \"lm\", se = FALSE, linetype = 2, color=\"grey\")+\n  scale_x_continuous(trans = \"log10\", labels = scales::label_comma()) +\n  scale_y_log10() +\n  scale_fill_brewer(palette = \"Dark2\")+\n  theme_minimal()+\n  ggtitle(\"Sá»‘ vá»¥ sÃ¡t nhÃ¢n báº±ng sÃºng táº¡i cÃ¡c bang nÄƒm 2010\")\nggplotly(p)\n# ThÃ´ng tin má»—i Ä‘iá»ƒm chá»‰ bao gá»“m 1. TÃªn bang (label) vÃ  2. VÃ¹ng (fill) \nggplotly(p, tooltip = c(\"label\",\"fill\"))\np<-diamonds%>%group_by(cut,color)%>%mutate(ave_price = mean(price))%>%ungroup()%>%\n  as.data.frame()%>%\n  ggplot(aes(cut,color,color = ave_price))+\n  geom_count()+\n  scale_color_continuous(type = \"viridis\")+\n  scale_size(range=c(1,12))+\n  theme_minimal()\nggplotly(p, tooltip = c(\"n\", \"fill\"))\np<-gapminder%>%filter(country %in% c(\"United States\",\"Japan\",\"China\",\"Germany\",\"France\"),\n                   year <= 2011)%>%mutate(gdp_bil_usd = gdp/10^9)%>%\n  ggplot(aes(x = year, y = gdp_bil_usd, color = country, linetype = country))+\n  geom_line(size=0.5)+\n  scale_y_continuous(labels = scales::label_comma())+\n  theme_minimal()\nggplotly(p, tooltip = c(\"x\",\"y\", \"color\") )\np<-gapminder%>%filter(year == 2010)%>%drop_na()%>%\n  mutate(gdp_per_capita = gdp/population,\n         gdp_levels = ifelse(gdp_per_capita<2000,\"Low\",\n                            ifelse(gdp_per_capita<5000,\"Medium\",\"High\")),\n         gdp_range = factor(gdp_levels, levels = c(\"High\",\"Medium\",\"Low\")))%>%\n  ggplot(aes(x = continent,fill = gdp_range))+\n  geom_bar(color=\"grey\",alpha=0.6)+\n  scale_fill_manual(values = c(\"green\",\"blue\",\"red\"))+\n  theme_minimal()\nggplotly(p, tooltip = \"count\")\ndat<-map_data(\"state\")\ndat1<-murders%>%mutate(murder_rate=total/population*10^6,\n                       state = tolower(state))\n\np<-dat%>%mutate(state = region)%>%\n  mutate(murder_rate=dat1$murder_rate[match(state,dat1$state)])%>%\n  ggplot(aes(x=long,y=lat,group=group,label = state, fill=murder_rate))+\n  geom_polygon(color=\"black\",size = 0.1)+\n  scale_x_continuous(expand=c(0,0))+\n  scale_fill_gradientn(colors = c(rgb(0.95,0.95,0.95),rgb(0.95,0.3,0.3),\n                                  rgb(0.95,0.1,0.1)))+\n  theme_minimal()+\n  theme(legend.position = \"bottom\")\nggplotly(p)\ndat<-data.frame(x=1:10,y=1:10,time=1:10)\np<-dat%>%ggplot(aes(x=x,y=y,size=time, frame = time, color= time))+\n  geom_point()+\n  theme_minimal()\nggplotly(p, width = 600, height = 600, tooltip = \"color\") %>%\nanimation_slider(frame = 1000)\np<-gapminder%>%filter(year %in% 1960:2011)%>%\n  ggplot(aes(x = fertility, y = life_expectancy, size = population, \n             fill = continent, frame = year, label = country))+\n  geom_point(alpha = 0.5,shape=21)+\n  scale_fill_brewer(palette = \"Set1\")+\n  scale_size(range=c(1,15))+\n  theme_minimal()+\n  ggtitle(\"Tuá»•i thá» vÃ  tá»· lá»‡ sinh trung bÃ¬nh 1960 Ä‘áº¿n 2011\")\nggplotly(p, width = 800, height = 600, tooltip = c(\"label\",\"size\") ) %>%\nanimation_slider(frame = 204)"},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"kiáº¿n-thá»©c-nÃ¢ng-cao-vá»-ggplot2","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.9 Kiáº¿n thá»©c nÃ¢ng cao vá» \\(ggplot2\\)","text":"","code":""},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"láº­p-trÃ¬nh-trong-ggplot2","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.9.1 Láº­p trÃ¬nh trong \\(ggplot2\\)","text":"","code":""},{"path":"trá»±c-quan-hÃ³a-dá»¯-liá»‡u-1.html","id":"táº¡o-dashboard-vá»›i-shiny","chapter":"ChÆ°Æ¡ng 8 Trá»±c quan hÃ³a dá»¯ liá»‡u","heading":"8.9.2 Táº¡o dashboard vá»›i \\(shiny\\)","text":"","code":"\nlibrary(readxl)\nlibrary(dplyr)## \n## Attaching package: 'dplyr'## The following objects are masked from 'package:stats':\n## \n##     filter, lag## The following objects are masked from 'package:base':\n## \n##     intersect, setdiff, setequal, union\nlibrary(knitr)\nlibrary(kableExtra)## \n## Attaching package: 'kableExtra'## The following object is masked from 'package:dplyr':\n## \n##     group_rows\nlibrary(ggplot2)\nlibrary(forcats)\nlibrary(ggpubr)\nlibrary(grid)\nlibrary(gridExtra)## \n## Attaching package: 'gridExtra'## The following object is masked from 'package:dplyr':\n## \n##     combine\nlibrary(forcats)\nlibrary(pryr)\ncolorize <- function(x, color) {\n if (knitr::is_latex_output()) {\n sprintf(\"\\\\textcolor{%s}{%s}\", color, x)\n } else if (knitr::is_html_output()) {\n sprintf(\"<span style='color: %s;'>%s<\/span>\", \n color,\n x)\n } else x\n}"},{"path":"mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh.html","id":"mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh","chapter":"ChÆ°Æ¡ng 9 MÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh","heading":"ChÆ°Æ¡ng 9 MÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh","text":"","code":""},{"path":"mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh.html","id":"mÃ´-hÃ¬nh-há»•i-quy-tuyáº¿n-tÃ­nh-Ä‘Æ¡n","chapter":"ChÆ°Æ¡ng 9 MÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh","heading":"9.1 MÃ´ hÃ¬nh há»•i quy tuyáº¿n tÃ­nh Ä‘Æ¡n","text":"","code":""},{"path":"mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh.html","id":"mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh-Ä‘a-biáº¿n","chapter":"ChÆ°Æ¡ng 9 MÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh","heading":"9.2 MÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh Ä‘a biáº¿n","text":"","code":""},{"path":"mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh.html","id":"nhá»¯ng-cÃ¢n-nháº¯c-khi-xÃ¢y-dá»±ng-mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh","chapter":"ChÆ°Æ¡ng 9 MÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh","heading":"9.3 Nhá»¯ng cÃ¢n nháº¯c khi xÃ¢y dá»±ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh","text":"","code":""},{"path":"mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh.html","id":"má»Ÿ-rá»™ng-mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh","chapter":"ChÆ°Æ¡ng 9 MÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh","heading":"9.4 Má»Ÿ rá»™ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh","text":"","code":""},{"path":"mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh.html","id":"thá»±c-hÃ nh-xÃ¢y-dá»±ng-mÃ´-hÃ¬nh-há»•i-quy-tuyáº¿n-tÃ­nh-cho-dá»¯-liá»‡u-sales","chapter":"ChÆ°Æ¡ng 9 MÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh","heading":"9.5 Thá»±c hÃ nh: XÃ¢y dá»±ng mÃ´ hÃ¬nh há»•i quy tuyáº¿n tÃ­nh cho dá»¯ liá»‡u Sales","text":"","code":""},{"path":"mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh.html","id":"thá»±c-hÃ nh-mÃ´-hÃ¬nh-há»•i-quy-tuyáº¿n-tÃ­nh-má»Ÿ-rá»™ng","chapter":"ChÆ°Æ¡ng 9 MÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh","heading":"9.6 Thá»±c hÃ nh: MÃ´ hÃ¬nh há»•i quy tuyáº¿n tÃ­nh má»Ÿ rá»™ng","text":"","code":"## \n## Attaching package: 'dplyr'## The following objects are masked from 'package:stats':\n## \n##     filter, lag## The following objects are masked from 'package:base':\n## \n##     intersect, setdiff, setequal, union## \n## Attaching package: 'kableExtra'## The following object is masked from 'package:dplyr':\n## \n##     group_rows## \n## Attaching package: 'gridExtra'## The following object is masked from 'package:dplyr':\n## \n##     combine## Classes and Methods for R developed in the\n## Political Science Computational Laboratory\n## Department of Political Science\n## Stanford University\n## Simon Jackman\n## hurdle and zeroinfl functions by Achim Zeileis"},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","text":"MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t, Generalized Linear Model hay viáº¿t táº¯t lÃ  GLM, Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng rÃ£i trong cÃ¡c doanh nghiá»‡p, cÃ¡c cÆ¡ quan tá»• chá»©c hoáº¡t Ä‘á»™ng trong lÄ©nh vá»±c tÃ i chÃ­nh, ngÃ¢n hÃ ng, vÃ  báº£o hiá»ƒm. CÃ¡c chuyÃªn gia quáº£n trá»‹ rá»§i ro trong cÃ¡c ngÃ¢n hÃ ng sá»­ dá»¥ng GLM Ä‘á»ƒ cháº¥m Ä‘iá»ƒm tÃ­n dá»¥ng khÃ¡ch hÃ ng vÃ  quyáº¿t Ä‘á»‹nh phÃª duyá»‡t tÃ­n dá»¥ng. CÃ¡c chuyÃªn gia tÃ­nh toÃ¡n thÆ°á»ng xuyÃªn sá»­ dá»¥ng mÃ´ hÃ¬nh GLM Ä‘á»ƒ xÃ¡c Ä‘á»‹nh phÃ­ thuáº§n cá»§a cÃ¡c sáº£n pháº©m báº£o hiá»ƒm, Ä‘á»ƒ xÃ¡c Ä‘á»‹nh dá»± phÃ²ng nghiá»‡p vá»¥, hoáº·c Ä‘á»ƒ phÃ¢n loáº¡i rá»§i ro mÃ  cÃ´ng ty pháº£i Ä‘á»‘i máº·t. KhÃ¡i niá»‡m GLM láº§n Ä‘áº§u tiÃªn Ä‘Æ°á»£c sá»­ dá»¥ng trong nghiÃªn cá»©u cá»§a Nelder vÃ  Wedderburn (1972) vÃ  tá»« Ä‘Ã³ Ä‘áº¿n nay Ä‘Ã£ cÃ³ nhiá»u sÃ¡ch tham kháº£o tin cáº­y cho mÃ´ hÃ¬nh nÃ y nhÆ° Alan Agresti (2015) hay Annette J. Dobson Adrian G. Barnett (2018). Äa sá»‘ cÃ¡c tÃ i liá»‡u tham kháº£o giá»›i thiá»‡u GLM dÆ°á»›i gÃ³c Ä‘á»™ toÃ¡n há»c vÃ  mang nhiá»u tÃ­nh lÃ½ thuyáº¿t. ChÆ°Æ¡ng sÃ¡ch nÃ y sáº½ cá»‘ gáº¯ng giáº£i thÃ­ch vÃ  tiáº¿p cáº­n GLM tá»« má»™t gÃ³c nhÃ¬n mang tÃ­nh thá»±c hÃ nh nhiá»u hÆ¡n. ChÃºng tÃ´i sáº½ khÃ´ng quÃ¡ Ä‘i sÃ¢u vÃ o cÃ¡c khÃ­a cáº¡nh nhÆ° giáº£ thiáº¿t hay phÆ°Æ¡ng phÃ¡p Æ°á»›c lÆ°á»£ng cá»§a mÃ´ hÃ¬nh GLM, mÃ  sáº½ táº­p trung vÃ o hÆ°á»›ng dáº«n báº¡n Ä‘á»c á»©ng dá»¥ng GLM trÃªn nhiá»u kiá»ƒu dá»¯ liá»‡u nháº¥t cÃ³ thá»ƒ.MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t Ä‘Æ°á»£c phÃ¡t biá»ƒu dÆ°á»›i dáº¡ng cÃ´ng thá»©c nhÆ° sau:\n\\[\\begin{align}\n& Y \\sim  \\mathcal{F}_{\\boldsymbol{\\theta}} \\\\\n& \\mathbb{E}(Y|\\textbf{X} = \\textbf{x}_i) = \\mu_i \\\\\n& g(\\mu_i) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p} \\\\\n& \\mu_i = g^{-1}\\left(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p} \\right)\n\\tag{10.1}\n\\end{align}\\]\nvá»›i \\(Y\\) lÃ  biáº¿n má»¥c tiÃªu, \\(\\mathcal{F}_{\\boldsymbol{\\theta}}\\) lÃ  má»™t phÃ¢n phá»‘i xÃ¡c suáº¥t cÃ³ tham sá»‘ lÃ  má»™t vÃ©c-tÆ¡ \\(\\boldsymbol{\\theta}\\). GiÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) phá»¥ thuá»™c vÃ o giÃ¡ trá»‹ cá»§a (cÃ¡c) biáº¿n Ä‘á»™c láº­p nhÆ° sau: vá»›i Ä‘iá»u kiá»‡n vÃ©c-tÆ¡ biáº¿n Ä‘á»™c láº­p \\(\\textbf{X} = (X_1, X_2, \\cdots, X_p)\\) nháº­n giÃ¡ trá»‹ \\(\\textbf{x_i} = (x_{,1}, x_{,2}, \\cdots, x_{,p})\\), giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vá»›i Ä‘iá»u kiá»‡n \\(\\textbf{X} = x_i\\), kÃ½ hiá»‡u \\(Y|\\textbf{X} = x_i\\) hoáº·c ngáº¯n gá»n hÆ¡n lÃ  \\(Y_i\\), Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh báº±ng giÃ¡ trá»‹ má»™t hÃ m sá»‘ ngÆ°á»£c cá»§a má»™t hÃ m sá»‘ thá»±c \\(g\\), kÃ½ hiá»‡u lÃ  hÃ m \\(g^{-1}\\), tÃ­nh táº¡i má»™t tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c giÃ¡ trá»‹ \\((x_{,1}, x_{,2}, \\cdots, x_{,p})\\).Thay vÃ¬ cá»‘ gáº¯ng hiá»ƒu cÃ¡c khÃ¡i niá»‡m toÃ¡n há»c á»Ÿ trÃªn, chÃºng ta hÃ£y thá»­ Ã¡p dá»¥ng mÃ´ hÃ¬nh ká»ƒ trÃªn trong má»™t trÆ°á»ng há»£p cá»¥ thá»ƒ. ChÃºng ta sáº½ xÃ¢y dá»±ng má»™t mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t mÃ  trong Ä‘Ã³ biáº¿n má»¥c tiÃªu \\(Y\\) cho biáº¿t ngÆ°á»i mua báº£o hiá»ƒm xe Ã´ tÃ´ cÃ³ hay khÃ´ng lá»±a chá»n Ä‘áº§y Ä‘á»§ cÃ¡c quyá»n lá»£i báº£o hiá»ƒm khi kÃ½ há»£p Ä‘á»“ng mua báº£o hiá»ƒm trÃ¡ch nhiá»‡m dÃ¢n sá»±. Dá»¯ liá»‡u Ä‘Æ°á»£c sá»­ dá»¥ng cÃ³ tÃªn lÃ  \\(MotoInsurance.csv\\). Dá»¯ liá»‡u cÃ³ 6 biáº¿n Ä‘á»™c láº­p lÃ :Äá»™ tuá»•i cá»§a ngÆ°á»i lÃ¡i xe, biáº¿n \\(age\\), nháº­n giÃ¡ trá»‹ lÃ  cÃ¡c sá»‘ nguyÃªn dÆ°Æ¡ng tá»« 15 Ä‘áº¿n 92 tuá»•i.\nÄá»™ tuá»•i cá»§a ngÆ°á»i lÃ¡i xe, biáº¿n \\(age\\), nháº­n giÃ¡ trá»‹ lÃ  cÃ¡c sá»‘ nguyÃªn dÆ°Æ¡ng tá»« 15 Ä‘áº¿n 92 tuá»•i.Kinh nghiá»‡m lÃ¡i xe, biáº¿n \\(seniority\\), cho biáº¿t sá»‘ nÄƒm kinh nghiá»‡m lÃ¡i xe, giÃ¡ trá»‹ lÃ  cÃ¡c sá»‘ nguyÃªn tá»« 2 Ä‘áº¿n 40 nÄƒm.\nKinh nghiá»‡m lÃ¡i xe, biáº¿n \\(seniority\\), cho biáº¿t sá»‘ nÄƒm kinh nghiá»‡m lÃ¡i xe, giÃ¡ trá»‹ lÃ  cÃ¡c sá»‘ nguyÃªn tá»« 2 Ä‘áº¿n 40 nÄƒm.Giá»›i tÃ­nh cá»§a ngÆ°á»i lÃ¡i xe, biáº¿n \\(sex\\), nháº­n giÃ¡ trá»‹ â€œMâ€ náº¿u ngÆ°á»i lÃ¡i xe lÃ  nam giá»›i vÃ  â€œFâ€ náº¿u ngÆ°á»i lÃ¡i xe lÃ  ná»¯ giá»›i.\nGiá»›i tÃ­nh cá»§a ngÆ°á»i lÃ¡i xe, biáº¿n \\(sex\\), nháº­n giÃ¡ trá»‹ â€œMâ€ náº¿u ngÆ°á»i lÃ¡i xe lÃ  nam giá»›i vÃ  â€œFâ€ náº¿u ngÆ°á»i lÃ¡i xe lÃ  ná»¯ giá»›i.NÆ¡i xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½, biáº¿n \\(urban\\), nháº­n giÃ¡ trá»‹ lÃ  1 náº¿u xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½ táº¡i khu vá»±c thÃ nh phá»‘ vÃ  nháº­n giÃ¡ trá»‹ 0 trong cÃ¡c trÆ°á»ng há»£p cÃ²n láº¡i.\nNÆ¡i xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½, biáº¿n \\(urban\\), nháº­n giÃ¡ trá»‹ lÃ  1 náº¿u xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½ táº¡i khu vá»±c thÃ nh phá»‘ vÃ  nháº­n giÃ¡ trá»‹ 0 trong cÃ¡c trÆ°á»ng há»£p cÃ²n láº¡i.Loáº¡i hÃ¬nh Ä‘Äƒng kÃ½ xe, biáº¿n \\(private\\), nháº­n giÃ¡ trá»‹ lÃ  1 náº¿u xe mua báº£o hiá»ƒm lÃ  xe Ä‘Äƒng kÃ½ theo cÃ¡ nhÃ¢n vÃ  nháº­n giÃ¡ trá»‹ 0 trong cÃ¡c trÆ°á»ng há»£p cÃ²n láº¡i.\nLoáº¡i hÃ¬nh Ä‘Äƒng kÃ½ xe, biáº¿n \\(private\\), nháº­n giÃ¡ trá»‹ lÃ  1 náº¿u xe mua báº£o hiá»ƒm lÃ  xe Ä‘Äƒng kÃ½ theo cÃ¡ nhÃ¢n vÃ  nháº­n giÃ¡ trá»‹ 0 trong cÃ¡c trÆ°á»ng há»£p cÃ²n láº¡i.TÃ¬nh tráº¡ng hÃ´n nhÃ¢n cá»§a ngÆ°á»i lÃ¡i xe, biáº¿n \\(marital\\), nháº­n giÃ¡ trá»‹ â€œCâ€ náº¿u Ä‘Ã£ káº¿t hÃ´n, â€œSâ€ tÆ°Æ¡ng á»©ng vá»›i chÆ°a káº¿t hÃ´n, vÃ  â€œOâ€ tÆ°Æ¡ng á»©ng vá»›i Ä‘Ã£ ly dá»‹.\nTÃ¬nh tráº¡ng hÃ´n nhÃ¢n cá»§a ngÆ°á»i lÃ¡i xe, biáº¿n \\(marital\\), nháº­n giÃ¡ trá»‹ â€œCâ€ náº¿u Ä‘Ã£ káº¿t hÃ´n, â€œSâ€ tÆ°Æ¡ng á»©ng vá»›i chÆ°a káº¿t hÃ´n, vÃ  â€œOâ€ tÆ°Æ¡ng á»©ng vá»›i Ä‘Ã£ ly dá»‹.Biáº¿n má»¥c tiÃªu hay biáº¿n phá»¥ thuá»™c lÃ  biáº¿n \\(Y\\) nháº­n má»™t trong hai giÃ¡ trá»‹, â€œYesâ€ náº¿u ngÆ°á»i mua báº£o hiá»ƒm trÃ¡ch nhiá»‡m dÃ¢n sá»± Ä‘á»“ng Ã½ lá»±a thÃªm quyá»n lá»£i báº£o hiá»ƒm bá»• sung vÃ  â€œâ€ náº¿u ngÆ°á»i mua báº£o hiá»ƒm trÃ¡ch nhiá»‡m dÃ¢n sá»± khÃ´ng lá»±a chá»n mua quyá»n lá»£i bá»• sung. Äá»ƒ mÃ´ hÃ¬nh á»Ÿ dáº¡ng Ä‘Æ¡n giáº£n nháº¥t cÃ³ thá»ƒ, chÃºng tÃ´i lá»±a chá»n hai biáº¿n Ä‘á»™c láº­p Ä‘á»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh lÃ  biáº¿n \\(age\\) vÃ  biáº¿n \\(sex\\). ChÃºng ta sáº½ sá»­ dá»¥ng biáº¿n \\(age\\) nhÆ° má»™t biáº¿n kiá»ƒu sá»‘, trong khi biáº¿n \\(sex\\) lÃ  má»™t biáº¿n kiá»ƒu phÃ¢n loáº¡i/rá»i ráº¡c nháº­n má»™t trong hai giÃ¡ trá»‹ lÃ  â€œMâ€ tÆ°Æ¡ng á»©ng vá»›i nam giá»›i vÃ  â€œFâ€ tÆ°Æ¡ng á»©ng vá»›i ná»¯ giá»›i.Äoáº¡n lá»‡nh R dÆ°á»›i Ä‘Ã¢y Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ láº¥y dá»¯ liá»‡u vÃ  phÃ¢n tÃ­ch nhanh áº£nh hÆ°á»Ÿng cá»§a cÃ¡c biáº¿n \\(age\\) vÃ  \\(sex\\) lÃªn quyáº¿t Ä‘á»‹nh mua báº£o hiá»ƒm bá»• sung cá»§a ngÆ°á»i sá»Ÿ há»¯u xe Ã´ tÃ´.Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng: Ä‘á»“ thá»‹ bÃªn trÃ¡i cho tháº¥y nhá»¯ng ngÆ°á»i tráº» tuá»•i hÆ¡n cÃ³ xu hÆ°á»›ng Ä‘á»“ng Ã½ mua báº£o hiá»ƒm bá»• sung hÆ¡n nhá»¯ng ngÆ°á»i nhiá»u tuá»•i; Ä‘á»“ thá»‹ bÃªn pháº£i cho tháº¥y ná»¯ giá»›i cÃ³ xu hÆ°á»›ng mua báº£o hiá»ƒm bá»• sung cao hÆ¡n vá»›i nam giá»›i.ChÃºng ta sáº½ xÃ¢y dá»±ng má»™t mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t Ä‘á»ƒ xÃ¡c nháº­n láº¡i cÃ¡c phÃ¢n tÃ­ch á»Ÿ trÃªn vÃ  lÆ°á»£ng hÃ³a Ä‘Æ°á»£c áº£nh hÆ°á»Ÿng cá»§a cÃ¡c biáº¿n \\(age\\) vÃ  \\(sex\\) lÃªn quyáº¿t Ä‘á»‹nh mua báº£o hiá»ƒm bá»• sung. HÃ m sá»‘ dÃ¹ng Ä‘á»ƒ xÃ¢y dá»±ng vÃ  Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trong R lÃ  hÃ m glm() cá»§a thÆ° viá»‡n \\(stat\\):ChÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng cÃ¡c há»‡ sá»‘ cá»§a biáº¿n \\(age\\) vÃ  \\(sex\\) Ä‘á»u cÃ³ Ã½ nghÄ©a thá»‘ng kÃª khi cÃ¡c giÃ¡ trá»‹ \\(p-value\\) Ä‘á»u ráº¥t nhá». ÄÃºng nhÆ° chÃºng nháº­n Ä‘á»‹nh tá»« pháº§n phÃ¢n tÃ­ch khai phÃ¡, há»‡ sá»‘ tuyáº¿n tÃ­nh cá»§a biáº¿n \\(age\\) lÃ  sá»‘ Ã¢m, báº±ng -0.016, cho biáº¿t ngÆ°á»i tráº» tuá»•i hÆ¡n cÃ³ kháº£ nÄƒng Ä‘á»“ng Ã½ mua báº£o hiá»ƒm bá»• sung cao hÆ¡n. Há»‡ sá»‘ á»©ng vá»›i biáº¿n giá»›i tÃ­nh nam lÃ  sá»‘ Ã¢m, báº±ng -0.447, Ä‘iá»u nÃ y cho biáº¿t kháº£ nÄƒng nam giá»›i Ä‘á»“ng Ã½ mua báº£o hiá»ƒm bá»• sung lÃ  tháº¥p hÆ¡n vá»›i ná»¯ giá»›i.ChÃºng ta cÃ³ thá»ƒ viáº¿t cÃ¡c thÃ nh pháº§n cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t Ä‘Ã£ xÃ¢y dá»±ng á»Ÿ trÃªn nhÆ° sau\\[\\begin{align}\n& Y \\sim  \\mathcal{B}(\\rho) \\\\\n& \\mathbb{E}(Y_i) = \\mathbb{E}\\left(Y|(age_i, sex_i)\\right) = \\rho_i \\\\\n& \\Phi^{-1}\\left(\\rho_i\\right) = 0.678 - 0.016 \\times age_i - 0.447 \\times sex_i \\\\\n& \\rho_i = \\Phi\\left(0.678 - 0.016 \\times age_i - 0.447 \\times sex_i\\right)\n\\tag{10.2}\n\\end{align}\\]\ntrong Ä‘Ã³ \\(\\rho_i\\) lÃ  xÃ¡c suáº¥t hay kháº£ nÄƒng ngÆ°á»i \\(\\) mua Ä‘áº§y Ä‘á»§ cÃ¡c quyá»n lá»£i cá»§a báº£o hiá»ƒm sau khi Ä‘Ã£ mua báº£o hiá»ƒm trÃ¡ch nhiá»‡m dÃ¢n sá»±. HÃ m \\(\\Phi\\) lÃ  hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n cÃ³ trung bÃ¬nh 0 va phÆ°Æ¡ng sai báº±ng 1. ÄÃ¢y lÃ  hÃ m sá»‘ mÃ  chÃºng ta lá»±a chá»n Ä‘á»ƒ liÃªn káº¿t giá»¯a xÃ¡c suáº¥t mua báº£o hiá»ƒm bá»• sung Ä‘áº¿n tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p.Tá»« káº¿t quáº£ cá»§a mÃ´ hÃ¬nh, chÃºng ta cÃ³ thá»ƒ káº¿t luáº­n ráº±ng kháº£ nÄƒng mua báº£o hiá»ƒm bá»• sung phá»¥ thuá»™c má»™t cÃ¡ch cÃ³ Ã½ nghÄ©a thá»‘ng kÃª biáº¿n Ä‘á»™ tuá»•i (\\(age\\)) vÃ  giá»›i tÃ­nh (\\(sex\\)) cá»§a ngÆ°á»i tham gia báº£o hiá»ƒm trÃ¡ch nhiá»‡m dÃ¢n sá»± báº¯t buá»™c. Sá»± phá»¥ thuá»™c nÃ y cá»¥ thá»ƒ nhÆ° sau:XÃ¡c suáº¥t mÃ  má»™t ngÆ°á»i mua Ä‘áº§y Ä‘á»§ cÃ¡c quyá»n lá»£i báº£o hiá»ƒm sau khi mua báº£o hiá»ƒm báº¯t buá»™c sáº½ GIáº¢M náº¿u tuá»•i cá»§a ngÆ°á»i tham gia báº£o hiá»ƒm TÄ‚NG, Ä‘iá»u nÃ y cÃ³ nghÄ©a lÃ  nhá»¯ng ngÆ°á»i tráº» tuá»•i hÆ¡n thÆ°á»ng cÃ³ nhu cáº§u mua Ä‘áº§y Ä‘á»§ cÃ¡c quyá»n lá»£i báº£o hiá»ƒm hÆ¡n nhá»¯ng ngÆ°á»i lá»›n tuá»•i.XÃ¡c suáº¥t mÃ  má»™t ngÆ°á»i mua Ä‘áº§y Ä‘á»§ cÃ¡c quyá»n lá»£i báº£o hiá»ƒm sau khi mua báº£o hiá»ƒm báº¯t buá»™c sáº½ GIáº¢M náº¿u tuá»•i cá»§a ngÆ°á»i tham gia báº£o hiá»ƒm TÄ‚NG, Ä‘iá»u nÃ y cÃ³ nghÄ©a lÃ  nhá»¯ng ngÆ°á»i tráº» tuá»•i hÆ¡n thÆ°á»ng cÃ³ nhu cáº§u mua Ä‘áº§y Ä‘á»§ cÃ¡c quyá»n lá»£i báº£o hiá»ƒm hÆ¡n nhá»¯ng ngÆ°á»i lá»›n tuá»•i.Nam giá»›i Ã­t cÃ³ kháº£ nÄƒng mua Ä‘áº§y Ä‘á»§ quyá»n lá»£i báº£o hiá»ƒm nhÆ° ná»¯ giá»›i.Nam giá»›i Ã­t cÃ³ kháº£ nÄƒng mua Ä‘áº§y Ä‘á»§ quyá»n lá»£i báº£o hiá»ƒm nhÆ° ná»¯ giá»›i.Má»‘i liÃªn há»‡ giá»¯a xÃ¡c suáº¥t mua báº£o hiá»ƒm Ä‘áº§y Ä‘á»§ vÃ  cÃ¡c thuá»™c tÃ­nh cá»§a ngÆ°á»i Ä‘Æ°á»£c quan sÃ¡t Ä‘Æ°á»£c mÃ´ táº£ má»™t cÃ¡ch Ä‘á»‹nh lÆ°á»£ng thÃ´ng qua phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\rho_i = \\Phi\\left(0.678 - 0.016 \\times age_i - 0.447 \\times sex_i\\right)\n\\tag{10.3}\n\\end{align}\\]\ntrong Ä‘Ã³\n\\(age_i\\) lÃ  tuá»•i cá»§a ngÆ°á»i tham gia báº£o hiá»ƒm; \\(sex_i\\) nháº­n giÃ¡ trá»‹ báº±ng 1 náº¿u ngÆ°á»i Ä‘Ã³ lÃ  nam giá»›i vÃ  0 náº¿u ngÆ°á»i Ä‘Ã³ lÃ  ná»¯ giá»›i; vÃ  \\(\\Phi\\) lÃ  hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(0,1)\\); miá»n giÃ¡ trá»‹ cá»§a hÃ m sá»‘ nÃ y Ä‘áº£m báº£o cho giÃ¡ trá»‹ xÃ¡c suáº¥t \\(\\rho_i\\) Ä‘Æ°á»£c tÃ­nh ra náº±m trong khoáº£ng (0,1).Báº¡n Ä‘á»c cÃ³ thá»ƒ nháº­n tháº¥y Ä‘Æ°á»£c sá»± khÃ¡c biá»‡t giá»¯a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t á»Ÿ trÃªn vá»›i mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng á»Ÿ hai Ä‘iá»ƒm:PhÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) lÃ  phÃ¢n phá»‘i nhá»‹ thá»©c chá»© khÃ´ng pháº£i lÃ  phÃ¢n phá»‘i chuáº©n.\nPhÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) lÃ  phÃ¢n phá»‘i nhá»‹ thá»©c chá»© khÃ´ng pháº£i lÃ  phÃ¢n phá»‘i chuáº©n.Má»‘i liÃªn káº¿t giá»¯a giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) vÃ  tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘Æ°á»£c thá»ƒ hiá»‡n thÃ´ng qua má»™t hÃ m sá»‘, trong trÆ°á»ng há»£p nÃ y lÃ  hÃ m \\(\\Phi\\). Trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng, giÃ¡ trá»‹ trunh bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu Ä‘Æ°á»£c mÃ´ táº£ trá»±c tiáº¿p báº±ng tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p.\nMá»‘i liÃªn káº¿t giá»¯a giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) vÃ  tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘Æ°á»£c thá»ƒ hiá»‡n thÃ´ng qua má»™t hÃ m sá»‘, trong trÆ°á»ng há»£p nÃ y lÃ  hÃ m \\(\\Phi\\). Trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng, giÃ¡ trá»‹ trunh bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu Ä‘Æ°á»£c mÃ´ táº£ trá»±c tiáº¿p báº±ng tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p.Háº£i Ä‘iá»ƒm nÃªu trÃªn cÅ©ng chÃ­nh lÃ  hai cáº£i tiáº¿n quan trá»ng cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng vá»›i mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng. Viá»‡c tá»•ng quÃ¡t hÃ³a phÃ¢n phá»‘i cá»§a biáº¿n phá»¥ thuá»™c vÃ  thiáº¿t láº­p má»™t hÃ m liÃªn káº¿t giá»¯a giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vÃ  vá»›i cÃ¡c biáº¿n Ä‘á»™c láº­p giÃºp cho mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t linh hoáº¡t hÆ¡n ráº¥t nhiá»u khi lÃ m viá»‡c vá»›i cÃ¡c dá»¯ liá»‡u cá»¥ thá»ƒ vÃ  váº«n giá»¯ Ä‘Æ°á»£c kháº£ nÄƒng suy diá»…n giá»‘ng nhÆ° mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng. Trong pháº§n tiáº¿p theo cá»§a chÆ°Æ¡ng chÃºng ta sáº½ tháº£o luáº­n ká»¹ hÆ¡n vá» cÃ¡c váº¥n Ä‘á» nÃ y.","code":"\ndat<-read.csv(\"../KHDL_KTKD/Dataset/MotoInsurance.csv\")\n\n# Äá»•i cÃ¡c biáº¿n Y vÃ  sex sang kiá»ƒu factor\ndat$Y<-as.factor(dat$Y)\ndat$sex<-as.factor(dat$sex)\n\n# Thá»±c hiá»‡n cÃ¡c phÃ¢n tÃ­ch khai phÃ¡\np1<-dat%>%ggplot()+geom_boxplot(aes(x = Y, y = age))+\n  ggtitle(\"Má»‘i liÃªn há»‡ giá»¯a biáº¿n age vÃ  biáº¿n Y\")+\n  theme_minimal()\n\np2<-dat%>%ggplot()+geom_bar(aes(x = sex, fill = Y),col = \"black\")+\n  ggtitle(\"Má»‘i liÃªn há»‡ giá»¯a biáº¿n sex vÃ  biáº¿n Y\")+\n  theme_minimal()+\n  scale_fill_manual(values = c(\"white\",\"grey\"))\n\ngrid.arrange(p1,p2, ncol = 2)\n# Biáº¿n Y cÃ³ phÃ¢n phá»‘i nhá»‹ thá»©c\n# HÃ m g lÃ  hÃ m probit\nglm1<-glm(Y ~ age + sex, data=dat, \n          family = binomial(link = \"probit\")) # khai bÃ¡o hÃ m g\nsummary(glm1)## \n## Call:\n## glm(formula = Y ~ age + sex, family = binomial(link = \"probit\"), \n##     data = dat)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -1.4495  -0.9278  -0.7382   1.2584   2.0391  \n## \n## Coefficients:\n##              Estimate Std. Error z value Pr(>|z|)    \n## (Intercept)  0.678644   0.079138   8.575   <2e-16 ***\n## age         -0.016257   0.001619 -10.041   <2e-16 ***\n## sexM        -0.446783   0.047421  -9.422   <2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for binomial family taken to be 1)\n## \n##     Null deviance: 5163.3  on 3999  degrees of freedom\n## Residual deviance: 4933.9  on 3997  degrees of freedom\n## AIC: 4939.9\n## \n## Number of Fisher Scoring iterations: 4"},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"cÃ¡c-nhÆ°á»£c-Ä‘iá»ƒm-cá»§a-mÃ´-hÃ¬nh-há»“i-quy-tuyáº¿n-tÃ­nh.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.1 CÃ¡c nhÆ°á»£c Ä‘iá»ƒm cá»§a mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh.","text":"MÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh lÃ  ná»n táº£ng quan trá»ng cho háº§u háº¿t cÃ¡c mÃ´ hÃ¬nh há»c mÃ¡y vÃ  cÃ¡c mÃ´ hÃ¬nh trÃ­ tuá»‡ nhÃ¢n táº¡o hiá»‡n táº¡i. TrÆ°á»›c khi nhá»¯ng mÃ´ hÃ¬nh há»c mÃ¡y Ä‘Æ°á»£c nghiÃªn cá»©u vÃ  phÃ¡t triá»ƒn máº¡nh máº½ nhÆ° hiá»‡n nay, nhá»¯ng ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh luÃ´n gáº·p khÃ³ khÄƒn khi sá»­ dá»¥ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh trong nhiá»u hoÃ n cáº£nh. NguyÃªn nhÃ¢n lÃ  giáº£ thiáº¿t vá» phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n má»¥c tiÃªu vÃ  miá»n giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu cá»§a mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng lÃ  khÃ´ng phÃ¹ há»£p vá»›i Ä‘a sá»‘ dá»¯ liá»‡u thá»±c táº¿.Tháº­t váº­y, mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh Ä‘Æ°á»£c tháº£o luáº­n trong pháº§n trÆ°á»›c cá»§a cuá»‘n sÃ¡ch cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ³m táº¯t nhÆ° sau: ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh cá»‘ gáº¯ng nghiÃªn cá»©u má»‘i quan há»‡ giá»¯a má»™t biáº¿n má»¥c tiÃªu \\(Y\\) vá»›i vÃ©c-tÆ¡ biáº¿n Ä‘á»™c láº­p \\(\\textbf{X} = (X_1, X_2, \\cdots, X_p)\\) báº±ng cÃ¡ch cho ráº±ng má»‘i liÃªn há»‡ giá»¯a \\(Y\\) vÃ  \\(\\textbf{X}\\) lÃ  má»™t hÃ m tuyáº¿n tÃ­nh. Má»‘i liÃªn há»‡ Ä‘Ã³ khÃ´ng Ä‘á»“ng nháº¥t nÃªn sai sá»‘ sáº½ tá»“n táº¡i vÃ  nhá»¯ng ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh cho ráº±ng sai sá»‘ cÃ³ phÃ¢n phá»‘i chuáº©n vá»›i trung bÃ¬nh báº±ng 0 vÃ  Ä‘á»™ lá»‡ch chuáº©n lÃ  má»™t háº±ng sá»‘ \\(\\sigma > 0\\). ChÃºng ta biá»ƒu diá»…n mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°Æ¡ng nhÆ° sau\\[\\begin{align}\n& Y = \\beta_0 + \\beta_1 \\cdot X_1 + \\beta_2 \\cdot X_2 + \\cdots + \\beta_p \\cdot X_p + \\epsilon \\\\\n& \\epsilon \\sim \\mathcal{N}(0, \\sigma^2)\n\\tag{10.4}\n\\end{align}\\]Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng trong mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh, biáº¿n phá»¥ thuá»™c \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i chuáº©n cÃ³ phÆ°Æ¡ng sai lÃ  \\(\\sigma^2\\) vÃ  giÃ¡ trá»‹ trung bÃ¬nh phá»¥ thuá»™c vÃ o vÃ©c-tÆ¡ biáº¿n Ä‘á»™c láº­p \\(\\textbf{X}_i\\). Vá»›i Ä‘iá»u kiá»‡n biáº¿n Ä‘á»™c láº­p nháº­n giÃ¡ trá»‹ lÃ  \\(\\textbf{x}_i = (x_{,1}, x_{,2}, \\cdots, x_{,p})\\); chÃºng ta cÃ³ mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh nhÆ° sau:\\[\\begin{align}\n& Y_i \\sim  \\mathcal{N}(\\mu_i, \\sigma^2) \\\\\n& \\mu_i = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}\n\\tag{10.5}\n\\end{align}\\]NgoÃ i giáº£ thiáº¿t vá» phÃ¢n phá»‘i chuáº©n cá»§a \\(Y\\), mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng cÃ²n cho ráº±ng giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n ngáº«u nhiÃªn \\(Y\\) vá»›i Ä‘iá»u kiá»‡n cÃ¡c biáº¿n Ä‘á»™c láº­p nháº­n giÃ¡ trá»‹ \\(\\textbf{x}_i\\), kÃ½ hiá»‡u \\(\\mu_i\\), lÃ  má»™t tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p. Khi cÃ¡c biáº¿n Ä‘á»™c láº­p nháº­n cÃ¡c giÃ¡ trá»‹ báº¥t ká»³, miá»n giÃ¡ trá»‹ cá»§a \\(\\mu_i\\) sáº½ lÃ  (toÃ n bá»™) táº­p cÃ¡c sá»‘ thá»±c \\(\\mathbb{R}\\).CÃ¢u há»i Ä‘áº·t ra lÃ : lÃ m nhÆ° tháº¿ nÃ o Ä‘á»ƒ Ã¡p dá»¥ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh trong cÃ¡c trÆ°á»ng há»£p nhÆ° sau?Biáº¿n má»¥c tiÃªu \\(Y\\) chá»‰ nháº­n hai giÃ¡ trá»‹ lÃ  0 hoáº·c 1. ÄÃ¢y lÃ  trÆ°á»ng há»£p ráº¥t thÆ°á»ng gáº·p pháº£i trong nhiá»u lÄ©nh vá»±c khi thá»±c hiá»‡n phÃ¢n tÃ­ch dá»¯ liá»‡u. CÃ³ thá»ƒ ká»ƒ Ä‘áº¿n nhÆ°: khi biáº¿n \\(Y\\) Ä‘áº¡i diá»‡n cho sá»± kiá»‡n má»™t ngÆ°á»i cÃ³ hay khÃ´ng tham gia báº£o hiá»ƒm xÃ£ há»™i; má»™t ngÆ°á»i cÃ³ hay khÃ´ng thá»±c hiá»‡n rÃºt báº£o hiá»ƒm xÃ£ há»™i má»™t láº§n trong thá»i gian má»™t khoáº£ng thá»i gian; má»™t khÃ¡ch hÃ ng cÃ³ hay khÃ´ng gá»­i yÃªu cáº§u thanh toÃ¡n báº£o hiá»ƒm; hay tÆ°Æ¡ng tá»± nhÆ° vÃ­ dá»¥ trong pháº§n Ä‘áº§u cá»§a cuá»‘n sÃ¡ch, má»™t khÃ¡ch hÃ ng Ä‘Ã£ mua báº£o hiá»ƒm báº¯t buá»™c cÃ³ hay khÃ´ng mua thÃªm cÃ¡c quyá»n lá»£i báº£o hiá»ƒm bá»• sung. NgoÃ i lÄ©nh vá»±c báº£o hiá»ƒm, biáº¿n má»¥c tiÃªu \\(Y\\) chá»‰ nháº­n giÃ¡ trá»‹ 0 hoáº·c 1 cÃ²n xuáº¥t hiá»‡n trong lÄ©nh vá»±c ngÃ¢n hÃ ng tÃ i chÃ­nh: biáº¿n má»¥c tiÃªu cho biáº¿t má»™t giao dá»‹ch trá»±c tuyáº¿n cÃ³ pháº£i lÃ  má»™t giao dá»‹ch gian láº­n hay khÃ´ng; má»™t khÃ¡ch hÃ ng cÃ³ hay khÃ´ng tiáº¿p nháº­n sáº£n pháº©m dá»‹ch vá»¥ tÃ i chÃ­nh vá»›i má»›i; má»™t khÃ¡ch hÃ ng cÃ³ hay khÃ´ng hoÃ n tráº£ khoáº£n ná»£ tháº» tÃ­n dá»¥ng trong thá»i gian tá»›i,â€¦ Trong táº¥t cáº£ cÃ¡c trÆ°á»ng há»£p ká»ƒ trÃªn khÃ´ng thá»ƒ giáº£ thiáº¿t phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n má»¥c tiÃªu lÃ  phÃ¢n phá»‘i chuáº©n. HÆ¡n tháº¿ ná»¯a, giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu sáº½ luÃ´n náº±m trong khoáº£ng 0 Ä‘áº¿n 1, chá»© khÃ´ng pháº£i toÃ n bá»™ trá»¥c sá»‘ thá»±c. Náº¿u sá»­ dá»¥ng má»™t tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘á»ƒ tÃ­nh toÃ¡n giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu, chÃºng ta sáº½ cÃ³ thá»ƒ gáº·p cÃ¡c giÃ¡ trá»‹ nhá» hÆ¡n 0 hoáº·c cÃ¡c giÃ¡ trá»‹ lá»›n hÆ¡n 1.Biáº¿n má»¥c tiÃªu \\(Y\\) chá»‰ nháº­n hai giÃ¡ trá»‹ lÃ  0 hoáº·c 1. ÄÃ¢y lÃ  trÆ°á»ng há»£p ráº¥t thÆ°á»ng gáº·p pháº£i trong nhiá»u lÄ©nh vá»±c khi thá»±c hiá»‡n phÃ¢n tÃ­ch dá»¯ liá»‡u. CÃ³ thá»ƒ ká»ƒ Ä‘áº¿n nhÆ°: khi biáº¿n \\(Y\\) Ä‘áº¡i diá»‡n cho sá»± kiá»‡n má»™t ngÆ°á»i cÃ³ hay khÃ´ng tham gia báº£o hiá»ƒm xÃ£ há»™i; má»™t ngÆ°á»i cÃ³ hay khÃ´ng thá»±c hiá»‡n rÃºt báº£o hiá»ƒm xÃ£ há»™i má»™t láº§n trong thá»i gian má»™t khoáº£ng thá»i gian; má»™t khÃ¡ch hÃ ng cÃ³ hay khÃ´ng gá»­i yÃªu cáº§u thanh toÃ¡n báº£o hiá»ƒm; hay tÆ°Æ¡ng tá»± nhÆ° vÃ­ dá»¥ trong pháº§n Ä‘áº§u cá»§a cuá»‘n sÃ¡ch, má»™t khÃ¡ch hÃ ng Ä‘Ã£ mua báº£o hiá»ƒm báº¯t buá»™c cÃ³ hay khÃ´ng mua thÃªm cÃ¡c quyá»n lá»£i báº£o hiá»ƒm bá»• sung. NgoÃ i lÄ©nh vá»±c báº£o hiá»ƒm, biáº¿n má»¥c tiÃªu \\(Y\\) chá»‰ nháº­n giÃ¡ trá»‹ 0 hoáº·c 1 cÃ²n xuáº¥t hiá»‡n trong lÄ©nh vá»±c ngÃ¢n hÃ ng tÃ i chÃ­nh: biáº¿n má»¥c tiÃªu cho biáº¿t má»™t giao dá»‹ch trá»±c tuyáº¿n cÃ³ pháº£i lÃ  má»™t giao dá»‹ch gian láº­n hay khÃ´ng; má»™t khÃ¡ch hÃ ng cÃ³ hay khÃ´ng tiáº¿p nháº­n sáº£n pháº©m dá»‹ch vá»¥ tÃ i chÃ­nh vá»›i má»›i; má»™t khÃ¡ch hÃ ng cÃ³ hay khÃ´ng hoÃ n tráº£ khoáº£n ná»£ tháº» tÃ­n dá»¥ng trong thá»i gian tá»›i,â€¦ Trong táº¥t cáº£ cÃ¡c trÆ°á»ng há»£p ká»ƒ trÃªn khÃ´ng thá»ƒ giáº£ thiáº¿t phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n má»¥c tiÃªu lÃ  phÃ¢n phá»‘i chuáº©n. HÆ¡n tháº¿ ná»¯a, giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu sáº½ luÃ´n náº±m trong khoáº£ng 0 Ä‘áº¿n 1, chá»© khÃ´ng pháº£i toÃ n bá»™ trá»¥c sá»‘ thá»±c. Náº¿u sá»­ dá»¥ng má»™t tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘á»ƒ tÃ­nh toÃ¡n giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu, chÃºng ta sáº½ cÃ³ thá»ƒ gáº·p cÃ¡c giÃ¡ trá»‹ nhá» hÆ¡n 0 hoáº·c cÃ¡c giÃ¡ trá»‹ lá»›n hÆ¡n 1.Biáº¿n má»¥c tiÃªu \\(Y\\) lÃ  biáº¿n dáº¡ng Ä‘áº¿m. Cháº³ng háº¡n nhÆ° \\(Y\\) cho biáº¿t má»™t ngÆ°á»i tham gia báº£o hiá»ƒm xÃ£ há»™i gá»­i yÃªu cáº§u bá»“i thÆ°á»ng bao nhiÃªu láº§n trong má»™t nÄƒm; biáº¿n \\(Y\\) cho biáº¿t má»™t khÃ¡ch hÃ ng mua báº£o hiá»ƒm xe Ã´ tÃ´ gÃ¢y ra bao nhiÃªu tai náº¡n trong thá»i gian Ä‘Æ°á»£c báº£o hiá»ƒm,â€¦ Trong trÆ°á»ng há»£p nÃ y, \\(Y\\) sáº½ nháº­n giÃ¡ trá»‹ kiá»ƒu sá»‘ Ä‘áº¿m: \\(0, 1, 2, \\cdots\\) tÆ°Æ¡ng á»©ng vá»›i sá»‘ láº§n khÃ¡ch hÃ ng gá»­i yÃªu cáº§u báº£o hiá»ƒm. KhÃ´ng thá»ƒ sá»­ dá»¥ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng biáº¿n \\(Y\\) lÃ  biáº¿n rá»i ráº¡c Ä‘á»“ng thá»i giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) lÃ  má»™t sá»‘ lá»›n hÆ¡n 0.Biáº¿n má»¥c tiÃªu \\(Y\\) lÃ  biáº¿n dáº¡ng Ä‘áº¿m. Cháº³ng háº¡n nhÆ° \\(Y\\) cho biáº¿t má»™t ngÆ°á»i tham gia báº£o hiá»ƒm xÃ£ há»™i gá»­i yÃªu cáº§u bá»“i thÆ°á»ng bao nhiÃªu láº§n trong má»™t nÄƒm; biáº¿n \\(Y\\) cho biáº¿t má»™t khÃ¡ch hÃ ng mua báº£o hiá»ƒm xe Ã´ tÃ´ gÃ¢y ra bao nhiÃªu tai náº¡n trong thá»i gian Ä‘Æ°á»£c báº£o hiá»ƒm,â€¦ Trong trÆ°á»ng há»£p nÃ y, \\(Y\\) sáº½ nháº­n giÃ¡ trá»‹ kiá»ƒu sá»‘ Ä‘áº¿m: \\(0, 1, 2, \\cdots\\) tÆ°Æ¡ng á»©ng vá»›i sá»‘ láº§n khÃ¡ch hÃ ng gá»­i yÃªu cáº§u báº£o hiá»ƒm. KhÃ´ng thá»ƒ sá»­ dá»¥ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng biáº¿n \\(Y\\) lÃ  biáº¿n rá»i ráº¡c Ä‘á»“ng thá»i giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) lÃ  má»™t sá»‘ lá»›n hÆ¡n 0.Ngay cáº£ khi trong cÃ¡c trÆ°á»ng há»£p biáº¿n phá»¥ thuá»™c \\(Y\\) lÃ  biáº¿n liÃªn tá»¥c, sá»­ dá»¥ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng cÅ©ng sáº½ gáº·p pháº£i váº¥n Ä‘á». Cháº³ng háº¡n nhÆ° khi \\(Y\\) lÃ  sá»‘ tiá»n khÃ¡ch hÃ ng yÃªu cáº§u bá»“i thÆ°á»ng cho xe Ã´ tÃ´ trong trÆ°á»ng há»£p xáº£y ra tai náº¡n. Biáº¿n \\(Y\\) chá»‰ nháº­n giÃ¡ trá»‹ lÃ  sá»‘ dÆ°Æ¡ng vÃ  thÆ°á»ng cÃ³ phÃ¢n phá»‘i xÃ¡c suáº¥t lá»‡ch pháº£i vá»›i Ä‘uÃ´i lá»›n. Sá»­ dá»¥ng giáº£ thiáº¿t phÃ¢n phá»‘i chuáº©n cho biáº¿n \\(Y\\) sáº½ lÃ m cho mÃ´ hÃ¬nh khÃ´ng Ä‘Ã¡nh giÃ¡ Ä‘Ãºng kháº£ má»©c Ä‘á»™ nghiÃªm trá»ng cá»§a yÃªu cáº§u bá»“i thÆ°á»ng phÃ¢n phá»‘i chuáº©n khÃ´ng cÃ³ kháº£ nÄƒng mÃ´ táº£ cÃ¡c rá»§i ro cÃ³ Ä‘uÃ´i lá»›n. Äá»“ng thá»i, giÃ¡ trá»‹ trung bÃ¬nh cá»§a sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°á»ng luÃ´n lÃ  sá»‘ dÆ°Æ¡ng, Ä‘Ã³ cÅ©ng khÃ´ng thá»ƒ sá»­ dá»¥ng tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘á»ƒ trá»±c tiáº¿p mÃ´ táº£ giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\).Ngay cáº£ khi trong cÃ¡c trÆ°á»ng há»£p biáº¿n phá»¥ thuá»™c \\(Y\\) lÃ  biáº¿n liÃªn tá»¥c, sá»­ dá»¥ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng cÅ©ng sáº½ gáº·p pháº£i váº¥n Ä‘á». Cháº³ng háº¡n nhÆ° khi \\(Y\\) lÃ  sá»‘ tiá»n khÃ¡ch hÃ ng yÃªu cáº§u bá»“i thÆ°á»ng cho xe Ã´ tÃ´ trong trÆ°á»ng há»£p xáº£y ra tai náº¡n. Biáº¿n \\(Y\\) chá»‰ nháº­n giÃ¡ trá»‹ lÃ  sá»‘ dÆ°Æ¡ng vÃ  thÆ°á»ng cÃ³ phÃ¢n phá»‘i xÃ¡c suáº¥t lá»‡ch pháº£i vá»›i Ä‘uÃ´i lá»›n. Sá»­ dá»¥ng giáº£ thiáº¿t phÃ¢n phá»‘i chuáº©n cho biáº¿n \\(Y\\) sáº½ lÃ m cho mÃ´ hÃ¬nh khÃ´ng Ä‘Ã¡nh giÃ¡ Ä‘Ãºng kháº£ má»©c Ä‘á»™ nghiÃªm trá»ng cá»§a yÃªu cáº§u bá»“i thÆ°á»ng phÃ¢n phá»‘i chuáº©n khÃ´ng cÃ³ kháº£ nÄƒng mÃ´ táº£ cÃ¡c rá»§i ro cÃ³ Ä‘uÃ´i lá»›n. Äá»“ng thá»i, giÃ¡ trá»‹ trung bÃ¬nh cá»§a sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°á»ng luÃ´n lÃ  sá»‘ dÆ°Æ¡ng, Ä‘Ã³ cÅ©ng khÃ´ng thá»ƒ sá»­ dá»¥ng tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘á»ƒ trá»±c tiáº¿p mÃ´ táº£ giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\).CÃ³ thá»ƒ tá»•ng káº¿t ráº±ng hai váº¥n Ä‘á» thÆ°á»ng gáº·p pháº£i khi sá»­ dá»¥ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng trÃªn dá»¯ liá»‡u thá»±c táº¿ lÃ Thá»© nháº¥t: sá»± khÃ´ng phÃ¹ há»£p cá»§a giáº£ thiáº¿t phÃ¢n phá»‘i chuáº©n Ä‘á»‘i vá»›i biáº¿n má»¥c tiÃªu \\(Y\\); vÃ Thá»© nháº¥t: sá»± khÃ´ng phÃ¹ há»£p cá»§a giáº£ thiáº¿t phÃ¢n phá»‘i chuáº©n Ä‘á»‘i vá»›i biáº¿n má»¥c tiÃªu \\(Y\\); vÃ Thá»© hai: miá»n giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) khÃ´ng phÃ¹ há»£p vá»›i miá»n giÃ¡ trá»‹ cá»§a tá»• há»£p tuyáº¿n tÃ­nh cá»§a biáº¿n Ä‘á»™c láº­p. GiÃ¡ trá»‹ \\(\\textbf{x}_i^{'} \\boldsymbol{\\beta} = \\beta_0 + \\beta_1 \\ x_{,1} + \\beta_2 \\ x_{,2} + \\cdots + \\beta_p \\ x_{,p}\\) cÃ³ thá»ƒ nháº­n báº¥t ká»³ giÃ¡ trá»‹ nÃ o trong \\(\\mathbb{R}\\), trong khi giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) trong cÃ¡c dá»¯ liá»‡u thá»±c táº¿ láº¡i thÆ°á»ng chá»‰ lÃ  má»™t táº­p con cá»§a \\(\\mathbb{R}\\).Thá»© hai: miá»n giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) khÃ´ng phÃ¹ há»£p vá»›i miá»n giÃ¡ trá»‹ cá»§a tá»• há»£p tuyáº¿n tÃ­nh cá»§a biáº¿n Ä‘á»™c láº­p. GiÃ¡ trá»‹ \\(\\textbf{x}_i^{'} \\boldsymbol{\\beta} = \\beta_0 + \\beta_1 \\ x_{,1} + \\beta_2 \\ x_{,2} + \\cdots + \\beta_p \\ x_{,p}\\) cÃ³ thá»ƒ nháº­n báº¥t ká»³ giÃ¡ trá»‹ nÃ o trong \\(\\mathbb{R}\\), trong khi giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) trong cÃ¡c dá»¯ liá»‡u thá»±c táº¿ láº¡i thÆ°á»ng chá»‰ lÃ  má»™t táº­p con cá»§a \\(\\mathbb{R}\\).MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn cÆ¡ sá»Ÿ cá»§a mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng vá»›i má»¥c Ä‘Ã­ch kháº¯c phá»¥c hai nhÆ°á»£c Ä‘iá»ƒm ká»ƒ trÃªn.\n- TrÆ°á»›c háº¿t, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t giáº£ thiáº¿t má»™t phÃ¢n phá»‘i phÃ¹ há»£p cho biáº¿n phá»¥ thuá»™c \\(Y\\), tÃ¹y vÃ o dá»¯ liá»‡u sá»­ dá»¥ng Ä‘á»ƒ phÃ¢n tÃ­ch, táº¡m gá»i lÃ  phÃ¢n phá»‘i \\(F\\) vá»›i tham sá»‘ \\(\\boldsymbol{\\theta}\\), kÃ½ hiá»‡u lÃ  \\(F_\\boldsymbol{\\theta}\\).\n- Tiáº¿p theo, Ä‘á»ƒ Ä‘áº£m báº£o miá»n giÃ¡ trá»‹ cá»§a giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) vá»›i Ä‘iá»u kiá»‡n cÃ¡c biáº¿n Ä‘á»™c láº­p báº±ng \\(\\textbf{x}_i\\), \\(\\mu_i = E(Y|\\textbf{X} = \\textbf{x}_i)\\), phÃ¹ há»£p vá»›i miá»n giÃ¡ trá»‹ cá»§a \\(\\textbf{x}_i^{'} \\boldsymbol{\\beta}\\), mÃ´ hÃ¬nh tuyá»ƒn tÃ­nh tá»•ng quÃ¡t sá»­ dá»¥ng má»™t hÃ m sá»‘ Ä‘Æ¡n Ä‘iá»‡u \\(g\\), Ä‘Æ°á»£c gá»i lÃ  hÃ m liÃªn káº¿t, Ä‘á»ƒ biáº¿n Ä‘á»•i miá»n giÃ¡ trá»‹ cá»§a \\(\\mu_i\\). ChÃºng ta phÃ¡t biá»ƒu mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t nhÆ° sau\n\\[\\begin{align}\n& Y \\sim  F_\\theta \\\\\n& \\mathbb{E}(Y|\\textbf{X} = \\textbf{x}_i) = \\mu_i \\\\\n& g(\\mu_i) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}\n\\tag{10.6}\n\\end{align}\\]TrÆ°á»›c háº¿t, cÃ³ thá»ƒ tháº¥y ráº±ng mÃ´ hÃ¬nh há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng lÃ  trÆ°á»ng há»£p Ä‘áº·c biá»‡t cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t khi tham sá»‘ \\(\\boldsymbol{\\theta}\\) lÃ  \\(\\sigma^2\\); phÃ¢n phá»‘i \\(F\\) lÃ  phÃ¢n phá»‘i chuáº©n; vÃ  hÃ m \\(g\\) lÃ  hÃ m sá»‘ Ä‘á»“ng nháº¥t \\(g(x) = x\\).Giáº£ thiáº¿t Ä‘Æ¡n Ä‘iá»‡u cá»§a hÃ m liÃªn káº¿t \\(g\\) Ä‘áº£m báº£o sá»± tá»“n táº¡i cá»§a hÃ m sá»‘ ngÆ°á»£c \\(g^{-1}\\). Má»‘i liÃªn há»‡ cá»§a \\(\\mu_i\\) vÃ  \\(\\textbf{x}_i^{'} \\boldsymbol{\\beta}\\) cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t láº¡i dÆ°á»›i dáº¡ng hÃ m ngÆ°á»£c cá»§a hÃ m liÃªn káº¿t nhÆ° sau\n\\[\\begin{align}\n\\mu_i = g^{-1}(\\textbf{x}_i^{'} \\boldsymbol{\\beta})\n\\tag{10.7}\n\\end{align}\\]Quay trá»Ÿ láº¡i vÃ­ dá»¥ á»Ÿ pháº§n trÆ°á»›c cá»§a chÆ°Æ¡ng sÃ¡ch, chÃºng ta phÃ¢n tÃ­ch vá» tÃ¡c Ä‘á»™ng cá»§a Ä‘á»™ tuá»•i vÃ  giá»›i tÃ­nh lÃªn quyáº¿t Ä‘á»‹nh cÃ³ tham gia quyá»n lá»£i báº£o hiá»ƒm bá»• sung hay khÃ´ng. MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t Ä‘Æ°á»£c xÃ¢y dá»±ng nhÆ° sau:\\[\\begin{align}\n& Y \\sim  \\mathcal{B}(p) \\\\\n& \\mathbb{E}(Y|age_i, sex_i) = p_i \\\\\n& \\Phi^{-1}(p_i) = 0.678 - 0.016 \\times age_i - 0.446 \\times sex_i\n\\end{align}\\]PhÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n \\(Y\\) lÃ  phÃ¢n phá»‘i nhá»‹ thá»©c \\(Y\\) chá»‰ cÃ³ thá»ƒ nháº­n lÃ  0 hoáº·c 1. Äá»“ng thá»i, giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) náº±m trong khoáº£ng \\((0,1)\\) chÃºng ta cÃ³ thá»ƒ chá»n hÃ m liÃªn káº¿t \\(g\\) lÃ  hÃ m \\(\\Phi^{-1}\\). ÄÃ¢y lÃ  hÃ m ngÆ°á»£c cá»§a hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(0,1)\\) nÃªn thá»a mÃ£n cÃ¡c Ä‘iá»u kiá»‡n cá»§a má»™t hÃ m liÃªn káº¿t: hÃ m Ä‘Æ¡n Ä‘iá»‡u tÄƒng; cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  \\((0,1)\\); vÃ  miá»n giÃ¡ trá»‹ lÃ  táº­p sá»‘ thá»±c \\(\\mathbb{R}\\). Náº¿u khÃ´ng lá»±a chá»n \\(\\Phi^{-1}\\), má»i hÃ m sá»‘ Ä‘Æ¡n Ä‘iá»‡u, cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  khoáº£ng \\((0,1)\\), vÃ  miá»n giÃ¡ trá»‹ lÃ  táº­p sá»‘ thá»±c \\(\\mathbb{R}\\) Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c lá»±a chá»n lÃ m hÃ m sá»‘ káº¿t ná»‘i.","code":""},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"xÃ¢y-dá»±ng-mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.2 XÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t","text":"Pháº§n tiáº¿p theo cá»§a cuá»‘n sÃ¡ch sáº½ tháº£o luáº­n vá» cÃ¡ch xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tá»•ng quÃ¡t vá»›i cÃ¡c kiá»ƒu giÃ¡ trá»‹ khÃ¡c nhau cá»§a biáº¿n phá»¥ thuá»™c \\(Y\\). Xin Ä‘Æ°á»£c nháº¯c láº¡i ráº±ng Ä‘Ã¢y lÃ  cuá»‘n sÃ¡ch dÃ nh cho cáº£ cÃ¡c báº¡n Ä‘á»c khÃ´ng cÃ³ ná»n táº£ng toÃ¡n há»c nÃ¢ng cao. Ä‘Ã³, nhá»¯ng tháº£o luáº­n phá»©c táº¡p liÃªn quan Ä‘áº¿n cÃ¡c giáº£ thiáº¿t cá»§a mÃ´ hÃ¬nh hay phÆ°Æ¡ng phÃ¡p Æ°á»›c lÆ°á»£ng tham sá»‘ sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ pháº§n sau cá»§a chÆ°Æ¡ng sÃ¡ch. ChÃºng ta sáº½ hiá»ƒu vá» mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t thÃ´ng qua viá»‡c á»©ng dá»¥ng mÃ´ hÃ¬nh cho cÃ¡c cÃ¡c dá»¯ liá»‡u thá»±c táº¿ trÆ°á»›c khi Ä‘i sÃ¢u vÃ o báº£n cháº¥t toÃ¡n há»c cá»§a mÃ´ hÃ¬nh.","code":""},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"biáº¿n-phá»¥-thuá»™c-lÃ -biáº¿n-dáº¡ng-nhá»‹-phÃ¢n.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.2.1 Biáº¿n phá»¥ thuá»™c lÃ  biáº¿n dáº¡ng nhá»‹ phÃ¢n.","text":"ÄÃ¢y lÃ  cÃ¡c trÆ°á»ng há»£p mÃ  biáº¿n phá»¥ thuá»™c chá»‰ nháº­n má»™t trong hai giÃ¡ trá»‹. á» pháº§n trÃªn chÃºng ta Ä‘Ã£ trÃ¬nh bÃ y cÃ¡c vÃ­ dá»¥ cho trÆ°á»ng há»£p nÃ y: khÃ¡ch hÃ ng cÃ³ hay khÃ´ng hoÃ n tráº£ ná»£ tháº» tÃ­n dá»¥ng, khÃ¡ch hÃ ng pháº£n há»“i tÃ­ch cá»±c hay tiÃªu cá»±c vá» sáº£n pháº§m, má»™t yÃªu cáº§u bá»“i thÆ°á»ng lÃ  trá»¥c lá»£i hay bÃ¬nh thÆ°á»ng, má»™t giao dá»‹ch rÃºt tiá»n ngÃ¢n hÃ ng cÃ³ hay khÃ´ng pháº£i lÃ  giao dá»‹ch gian láº­n, â€¦ Máº·c dÃ¹ Ä‘Ã¢y chá»‰ lÃ  má»™t trÆ°á»ng há»£p Ä‘áº·c biá»‡t cá»§a biáº¿n phá»¥ thuá»™c nháº­n giÃ¡ trá»‹ rá»i ráº¡c nhÆ°ng qua cÃ¡c vÃ­ dá»¥ thá»±c táº¿ láº¡i tháº¥y ráº±ng pháº§n lá»›n cÃ¡c dá»¯ liá»‡u gáº·p pháº£i láº¡i cÃ³ biáº¿n phá»¥ thuá»™c á»Ÿ dáº¡ng nhá»‹ phÃ¢n. Khi \\(Y\\) chá»‰ nháº­n hai giÃ¡ trá»‹, chÃºng ta sáº½ luÃ´n mÃ£ hÃ³a giÃ¡ trá»‹ cá»§a \\(Y\\) thÃ nh hai sá»‘ lÃ  0 vÃ  1. Má»™t vÃ i cuá»‘n sÃ¡ch khÃ¡c, hoáº·c trong má»™t vÃ i lÄ©nh vá»±c nghiÃªn cá»©u khÃ¡c, ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh cÃ³ thá»ƒ mÃ£ hÃ³a \\(Y\\) thÃ nh -1 vÃ  1. Tuy nhiÃªn hai cÃ¡ch mÃ£ hÃ³a nÃ y chá»‰ khÃ¡c nhau á»Ÿ hÃ¬nh thá»©c chá»© khÃ´ng lÃ m áº£nh hÆ°á»Ÿng Ä‘áº¿n káº¿t quáº£ cá»§a mÃ´ hÃ¬nh.","code":""},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"phÃ¢n-phá»‘i-xÃ¡c-suáº¥t-cá»§a-biáº¿n-phá»¥-thuá»™c.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.2.1.1 PhÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n phá»¥ thuá»™c.","text":"Khi biáº¿n phá»¥ thuá»™c lÃ  biáº¿n dáº¡ng nhá»‹ phÃ¢n, má»™t cÃ¡ch tá»± nhiÃªn, chÃºng ta sáº½ sá»­ dá»¥ng phÃ¢n phá»‘i nhá»‹ thá»©c, hay cÃ²n gá»i lÃ  phÃ¢n phá»‘i Bernoulli, Ä‘á»ƒ mÃ´ táº£ biáº¿n phá»¥ thuá»™c. Biáº¿n ngáº«u nhiÃªn \\(B\\) cÃ³ phÃ¢n phá»‘i nhá»‹ thá»©c vá»›i tham sá»‘ \\(\\rho\\), \\(0 < \\rho < 1\\), kÃ½ hiá»‡u \\(\\mathcal{B}(\\rho)\\), lÃ  biáº¿n ngáº«u nhiÃªn chá»‰ nháº­n hai giÃ¡ trá»‹ lÃ  0 vÃ  1 vá»›i hÃ m khá»‘i lÆ°á»£ng xÃ¡c suáº¥t nhÆ° sau\\[\\begin{align}\n\\mathbb{P}(B = x) = \\rho^x \\times (1-\\rho)^{(1-x)} \\text{ vá»›i } x \\\\{0;1\\}\n\\tag{10.8}\n\\end{align}\\]ChÃºng ta cÃ³ giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a \\(\\mathcal{B}(\\rho)\\).\n\\[\\begin{align}\n& \\mathbb{E}(B) = \\rho \\\\\n& \\mathbb{V}(B) = \\rho \\ (1-\\rho)\n\\tag{10.9}\n\\end{align}\\]CÃ³ thá»ƒ tháº¥y ráº±ng phÃ¢n phá»‘i nhá»‹ thá»©c cÃ³ duy nháº¥t má»™t tham sá»‘ \\(\\rho\\) vÃ  tham sá»‘ nÃ y cÅ©ng chÃ­nh lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n Ä‘Ã³. PhÆ°Æ¡ng sai cá»§a \\(\\mathcal{B}(\\rho)\\) nhá» hÆ¡n giÃ¡ trá»‹ trung bÃ¬nh.","code":""},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"lá»±a-chá»n-hÃ m-liÃªn-káº¿t.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.2.1.2 Lá»±a chá»n hÃ m liÃªn káº¿t.","text":"Khi biáº¿n phá»¥ thuá»™c \\(Y\\) cÃ³ phÃ¢n phá»‘i nhá»‹ thá»©c, giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c sáº½ náº±m trong khoáº£ng \\((0,1)\\). Tá»« cÃ´ng thá»©c (10.6), náº¿u cho \\(\\rho_i\\) lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vá»›i Ä‘iá»u kiá»‡n cÃ¡c biáº¿n Ä‘á»™c láº­p \\(\\textbf{X} = \\textbf{x}_i\\), ta cÃ³\\[\\begin{align}\n& \\mathbb{E}(Y|\\textbf{X} = \\textbf{x}_i) = \\rho_i \\\\\n& g(\\rho_i) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,3}\n\\tag{10.10}\n\\end{align}\\]NhÆ° váº­y, má»i hÃ m sá»‘ Ä‘Æ¡n Ä‘iá»‡u cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  khoáº£ng \\((0,1)\\) vÃ  miá»n giÃ¡ trá»‹ lÃ  toÃ n bá»™ táº­p sá»‘ thá»±c \\(\\mathbb{R}\\) Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c lá»±a chá»n Ä‘á»ƒ lÃ m hÃ m ngÆ°á»£c cá»§a hÃ m liÃªn káº¿t. LÃ m tháº¿ nÃ o Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c nhá»¯ng hÃ m sá»‘ cÃ³ tÃ­nh cháº¥t nhÆ° váº­y? ChÃºng ta Ä‘á»u biáº¿t ráº±ng cÃ¡c hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a má»™t biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c báº¥t ká»³ lÃ  cÃ¡c hÃ m sá»‘ tÄƒng, cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  \\(\\mathbb{R}\\) vÃ  miá»n giÃ¡ trá»‹ lÃ  khoáº£ng \\((0,1)\\). Ä‘Ã³, hÃ m sá»‘ ngÆ°á»£c cá»§a cÃ¡c hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t, sáº½ lÃ  cÃ¡c hÃ m sá»‘ tÄƒng, cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  khoáº£ng \\((0,1)\\) vÃ  miá»n giÃ¡ trá»‹ lÃ  \\(\\mathbb{R}\\). NÃ³i má»™t cÃ¡ch khÃ¡c, hÃ m sá»‘ ngÆ°á»£c cá»§a cÃ¡c hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t báº¥t ká»³ thá»a mÃ£n Ä‘áº§y Ä‘á»§ tÃ­nh cháº¥t cá»§a hÃ m liÃªn káº¿t trong trÆ°á»ng há»£p \\(Y\\) cÃ³ phÃ¢n phá»‘i nhá»‹ thá»©c.Trong thá»±c táº¿, viá»‡c lá»±a chá»n hÃ m liÃªn káº¿t cÃ²n cÃ³ má»¥c tiÃªu lÃ  Ä‘á»ƒ mÃ´ hÃ¬nh dá»… giáº£i thÃ­ch vÃ  quÃ¡ trÃ¬nh Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh Ä‘Æ¡n giáº£n nháº¥t cÃ³ thá»ƒ. CÃ¡c hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t thÆ°á»ng Ä‘Æ°á»£c lá»±a chá»n lÃ m \\(g^{-1}(.)\\) bao gá»“m cÃ³: thá»© nháº¥t lÃ  hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn logistic; thá»© hai lÃ  hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n; vÃ  thá»© ba lÃ  hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i Cauchy.HÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn logistic vÃ  hÃ m ngÆ°á»£c Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c sau\n\\[\\begin{align}\n& \\textit{HÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t: } \\ g^{-1}(x) = \\cfrac{1}{1 + e^{-x}} \\\\\n& \\textit{HÃ m ngÆ°á»£c: } \\ g(x) = ln(\\cfrac{x}{1- x})\n\\end{align}\\]Vá»›i biáº¿n phá»¥ thuá»™c \\(Y\\) lÃ  cÃ³ phÃ¢n phá»‘i nhá»‹ thá»©c vÃ  hÃ m \\(g\\) lÃ  hÃ m sá»‘ ngÆ°á»£c cá»§a hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn logistic, chÃºng ta cÃ³ mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t nhÆ° sau:\\[\\begin{align}\n& Y_i \\sim \\mathcal{B}(\\rho_i) \\\\\n& \\rho_i = \\cfrac{1}{1 + exp(-(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}))} \\\\\n& ln(\\cfrac{\\rho_i}{1 - \\rho_i}) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}\n\\tag{10.11}\n\\end{align}\\]ÄÃ¢y lÃ  mÃ´ hÃ¬nh Ä‘Æ°á»£c biáº¿t Ä‘áº¿n rá»™ng rÃ£i vá»›i tÃªn gá»i lÃ  há»“i quy logistic vÃ  cÅ©ng lÃ  mÃ´ hÃ¬nh thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng nháº¥t trong khi biáº¿n phá»¥ thuá»™c lÃ  biáº¿n nhá»‹ phÃ¢n. MÃ´ hÃ¬nh cÃ³ Æ°u Ä‘iá»ƒm lÃ  sá»± dá»… hiá»ƒu khi diá»…n giáº£i káº¿t quáº£:\\(\\rho_i\\) ngoÃ i Ã½ nghÄ©a lÃ  trung bÃ¬nh cá»§a biáº¿n ngáº«u nhiÃªn \\(Y_i\\) cÃ²n cÃ³ Ã½ nghÄ©a lÃ  xÃ¡c suáº¥t xáº£y ra sá»± kiá»‡n \\(Y_i = 1\\).\\(\\rho_i\\) ngoÃ i Ã½ nghÄ©a lÃ  trung bÃ¬nh cá»§a biáº¿n ngáº«u nhiÃªn \\(Y_i\\) cÃ²n cÃ³ Ã½ nghÄ©a lÃ  xÃ¡c suáº¥t xáº£y ra sá»± kiá»‡n \\(Y_i = 1\\).GiÃ¡ trá»‹ \\(\\cfrac{\\rho_i}{1 - \\rho_i}\\) Ä‘Æ°á»£c gá»i lÃ  odds cá»§a sá»± kiá»‡n \\(Y_i = 1\\). Má»‘i liÃªn há»‡ giá»¯a quan sÃ¡t thá»© \\(\\) cá»§a biáº¿n Ä‘á»™c láº­p \\(X_j\\) lÃ  \\(x_{,j}\\) vÃ  obbs cá»§a sá»± kiá»‡n \\(Y_i = 1\\) cÃ³ thá»ƒ Ä‘Æ°á»£c diá»…n giáº£i thÃ´ng qua há»‡ sá»‘ \\(\\beta_j\\).GiÃ¡ trá»‹ \\(\\cfrac{\\rho_i}{1 - \\rho_i}\\) Ä‘Æ°á»£c gá»i lÃ  odds cá»§a sá»± kiá»‡n \\(Y_i = 1\\). Má»‘i liÃªn há»‡ giá»¯a quan sÃ¡t thá»© \\(\\) cá»§a biáº¿n Ä‘á»™c láº­p \\(X_j\\) lÃ  \\(x_{,j}\\) vÃ  obbs cá»§a sá»± kiá»‡n \\(Y_i = 1\\) cÃ³ thá»ƒ Ä‘Æ°á»£c diá»…n giáº£i thÃ´ng qua há»‡ sá»‘ \\(\\beta_j\\).HÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn chuáº©n \\(\\mathcal{N}(0,1)\\) vÃ  hÃ m ngÆ°á»£c cá»§a hÃ m phÃ¢n phá»‘i Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c sau\n\\[\\begin{align}\n& g^{-1}(x) = \\Phi(x) \\\\\n& g(x) = \\Phi^{-1}(x) \\\\\n& \\Phi(x) = \\cfrac{1}{\\sqrt{2 \\pi}} \\  \\int\\limits_{-\\infty}^x \\ exp(-t^2/2)  \\\\\n\\end{align}\\]ChÃºng ta cÃ³ mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t nhÆ° sau\\[\\begin{align}\n& Y_i \\sim \\mathcal{B}(\\rho_i) \\\\\n& \\rho_i = \\Phi(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}) \\\\\n& \\Phi^{-1}(\\rho_i) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}\n\\tag{10.12}\n\\end{align}\\]HÃ m sá»‘ ngÆ°á»£c cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n Ä‘Æ°á»£c gá»i lÃ  hÃ m probit Ä‘Ã³ mÃ´ hÃ¬nh GLM trong trÆ°á»ng há»£p nÃ y cÃ²n Ä‘Æ°á»£c biáº¿t Ä‘áº¿n vá»›i tÃªn gá»i lÃ  mÃ´ hÃ¬nh probit.HÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn Cauchy vÃ  hÃ m ngÆ°á»£c cá»§a hÃ m phÃ¢n phá»‘i Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c sau\n\\[\\begin{align}\n& g^{-1}(x) = \\cfrac{1}{2} + \\cfrac{arctan(x)}{\\pi} \\\\\n& g(x) = tan\\left( \\pi \\left( x - \\cfrac{1}{2} \\right) \\right)\n\\tag{10.13}\n\\end{align}\\]ChÃºng ta cÃ³ mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t nhÆ° sau\\[\\begin{align}\n& Y_i \\sim \\mathcal{B}(\\rho_i) \\\\\n& p_i = \\cfrac{1}{2} + \\cfrac{arctan(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p})}{\\pi}  \\\\\n& tan\\left( \\pi \\left( \\rho_i - \\cfrac{1}{2} \\right) \\right) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}\n\\tag{10.14}\n\\end{align}\\]HÃ m sá»‘ ngÆ°á»£c cá»§a phÃ¢n phá»‘i cauchy cÃ²n Ä‘Æ°á»£c gá»i lÃ  hÃ m cauchit, Ä‘Ã³ mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trong trÆ°á»ng há»£p nÃ y cÃ²n Ä‘Æ°á»£c biáº¿t Ä‘áº¿n vá»›i tÃªn lÃ  mÃ´ hÃ¬nh cauchit.HÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ hÃ¬nh dáº¡ng cá»§a ba hÃ m sá»‘ káº¿t ná»‘iMÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trong trÆ°á»ng há»£p \\(Y\\) lÃ  biáº¿n nhá»‹ phÃ¢n thÆ°á»ng Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng báº±ng phÆ°Æ¡ng phÃ¡p tá»‘i Ä‘a hÃ³a hÃ m likelihood, hay gá»i táº¯t lÃ  phÆ°Æ¡ng phÃ¡p MLE. Äá»ƒ trÃ¡nh sá»± phá»©c táº¡p khÃ´ng cáº§n thiáº¿t chÃºng tÃ´i sáº½ trÃ¬nh bÃ y pháº§n Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh trong pháº§n sau cá»§a chÆ°Æ¡ng sÃ¡ch.Trong R, hÃ m sá»‘ glm() cá»§a thÆ° viá»‡n \\(stat\\) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t. Tham sá»‘ \\(family\\) trong hÃ m glm() dÃ¹ng Ä‘á»ƒ khai bÃ¡o phÃ¢n phá»‘i xÃ¡c suáº¥t cho biáº¿n phá»¥ thuá»™c \\(Y\\) vÃ  Ä‘á»ƒ lá»±a chá»n hÃ m liÃªn káº¿t phÃ¹ há»£p. Trá»Ÿ láº¡i vá»›i vÃ­ dá»¥ khi \\(Y\\) lÃ  biáº¿n nhá»‹ phÃ¢n mÃ´ táº£ khÃ¡ch hÃ ng cÃ³ hay khÃ´ng lá»±a chá»n cÃ¡c quyá»n lá»£i Ä‘áº§y Ä‘á»§ khi tham gia báº£o hiá»ƒm bá»• sung, chÃºng ra thá»±c hiá»‡n xÃ¢y dá»±ng mÃ´ hÃ¬nh nhÆ° sauCáº£ ba mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t á»Ÿ trÃªn Ä‘á»u cho \\(Y\\) lÃ  má»™t biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i nhá»‹ thá»©c, nhÆ°ng má»‘i liÃªn há»‡ giá»¯a Ä‘á»™ tuá»•i vÃ  giá»›i tÃ­nh Ä‘áº¿n giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) láº¡i Ä‘Æ°á»£c mÃ´ táº£ báº±ng cÃ¡c cÃ´ng thá»©c khÃ¡c nhauTrong mÃ´ hÃ¬nh logit:\n\\[\\begin{align}\n\\mathbb{P}(Y_i = 1| age_i, sex_i) = \\cfrac{1}{1 + exp(-(1.109 - 0.026 \\times age_{} - 0.723 \\times sex_{}))}\n\\end{align}\\]Trong mÃ´ hÃ¬nh logit:\n\\[\\begin{align}\n\\mathbb{P}(Y_i = 1| age_i, sex_i) = \\cfrac{1}{1 + exp(-(1.109 - 0.026 \\times age_{} - 0.723 \\times sex_{}))}\n\\end{align}\\]Trong mÃ´ hÃ¬nh probit\n\\[\\begin{align}\n\\mathbb{P}(Y_i = 1| age_i, sex_i) = \\Phi\\left(0.678 - 0.016 \\times age_{} - 0.446 \\times sex_{}\\right)\n\\end{align}\\]Trong mÃ´ hÃ¬nh probit\n\\[\\begin{align}\n\\mathbb{P}(Y_i = 1| age_i, sex_i) = \\Phi\\left(0.678 - 0.016 \\times age_{} - 0.446 \\times sex_{}\\right)\n\\end{align}\\]Trong mÃ´ hÃ¬nh cauchit\n\\[\\begin{align}\n\\mathbb{P}(Y_i = 1| age_i, sex_i) = \\cfrac{1}{2} + \\cfrac{arctan\\left(0.997 - 0.024 \\times age_{} - 0.624 \\times sex_{}\\right)} {\\pi}\n\\end{align}\\]Trong mÃ´ hÃ¬nh cauchit\n\\[\\begin{align}\n\\mathbb{P}(Y_i = 1| age_i, sex_i) = \\cfrac{1}{2} + \\cfrac{arctan\\left(0.997 - 0.024 \\times age_{} - 0.624 \\times sex_{}\\right)} {\\pi}\n\\end{align}\\]Cáº£ ba mÃ´ hÃ¬nh Ä‘á»u cho cÃ¹ng má»™t káº¿t quáº£: ngÆ°á»i cÃ³ Ä‘á»™ tuá»•i cÃ ng cao thÃ¬ cÃ ng Ã­t cÃ³ kháº£ nÄƒng lá»±a chá»n quyá»n lá»£i báº£o hiá»ƒm bá»• sung vÃ  xÃ¡c suáº¥t nam giá»›i lá»±a chá»n quyá»n lá»£i báº£o hiá»ƒm bá»• sung lÃ  Ã­t hÆ¡n vá»›i ná»¯ giá»›i. Báº£ng dÆ°á»›i Ä‘Ã¢y Ä‘Æ°a ra kháº£ nÄƒng/xÃ¡c suáº¥t cháº¥p nháº­n cá»§a ba mÃ´ hÃ¬nh tÃ­nh dá»±a trÃªn hai biáº¿n Ä‘á»™c láº­p lÃ  tuá»•i vÃ  giá»›i tÃ­nhCÃ³ thá»ƒ tháº¥y ráº±ng khÃ´ng cÃ³ sá»± khÃ¡c biá»‡t lá»›n trong tÃ­nh toÃ¡n xÃ¡c suáº¥t cá»§a \\(Y\\) khi sá»­ dá»¥ng hÃ m liÃªn káº¿t khÃ¡c nhau. Thá»±c táº¿ thÃ¬ viá»‡c lá»±a chá»n hÃ m káº¿t ná»‘i sáº½ khÃ´ng áº£nh hÆ°á»Ÿng lá»›n Ä‘áº¿n káº¿t quáº£ cá»§a mÃ´ hÃ¬nh báº±ng viá»‡c lá»±a chá»n phÃ¢n phá»‘i cho biáº¿n phá»¥ thuá»™c hay viá»‡c lá»±a chá»n biáº¿n Ä‘á»™c láº­p Ä‘á»ƒ giáº£i thÃ­ch mÃ´ hÃ¬nh.","code":"\n# PhÃ¢n phá»‘i Y lÃ  nhá»‹ thá»©c vÃ  hÃ m liÃªn káº¿t lÃ  hÃ m logit\nglm.binomial.logit<-glm(Y ~ age + sex, data=dat, \n          family = binomial(link = \"logit\"))\n\n# PhÃ¢n phá»‘i Y lÃ  nhá»‹ thá»©c vÃ  hÃ m liÃªn káº¿t lÃ  hÃ m probit\nglm.binomial.probit<-glm(Y ~ age + sex, data=dat, \n          family = binomial(link = \"probit\"))\n\n# PhÃ¢n phá»‘i Y lÃ  nhá»‹ thá»©c vÃ  hÃ m liÃªn káº¿t lÃ  hÃ m cauchit\nglm.binomial.cauchy<-glm(Y ~ age + sex, data=dat, \n          family = binomial(link = \"cauchit\"))"},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"biáº¿n-phá»¥-thuá»™c-lÃ -biáº¿n-rá»i-ráº¡c-khÃ´ng-cÃ³-thá»©-tá»±.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.2.2 Biáº¿n phá»¥ thuá»™c lÃ  biáº¿n rá»i ráº¡c khÃ´ng cÃ³ thá»© tá»±.","text":"Biáº¿n rá»i ráº¡c khÃ´ng cÃ³ thá»© tá»±, hay cÃ²n gá»i lÃ  biáº¿n rá»i ráº¡c danh nghÄ©a (non-ordinal variable), lÃ  biáº¿n ngáº«u nhiÃªn mÃ  cÃ¡c giÃ¡ trá»‹ cÃ³ thá»ƒ nháº­n khÃ´ng cÃ³ Ã½ nghÄ©a sÃ¡nh vá»›i nhau. Khi nÃ³i Ä‘áº¿n biáº¿n rá»i ráº¡c khÃ´ng cÃ³ thá»© tá»±, chÃºng ta luÃ´n hiá»ƒu ráº±ng biáº¿n nháº­n tá»« ba giÃ¡ trá»‹ trá»Ÿ lÃªn bá»Ÿi vÃ¬ trÆ°á»ng há»£p cÃ³ hai giÃ¡ trá»‹ sáº½ tÆ°Æ¡ng tá»± nhÆ° biáº¿n cÃ³ phÃ¢n phá»‘i nhá»‹ phÃ¢n. Má»™t vÃ­ dá»¥ Ä‘Æ¡n giáº£n cho biáº¿n rá»i ráº¡c khÃ´ng cÃ³ thá»© tá»± lÃ  mÃ u sáº¯c Ä‘Æ°á»£c chá»n khi mua xe Ã´ tÃ´, hoáº·c loáº¡i hÃ¬nh báº£o hiá»ƒm Ä‘Æ°á»£c lá»±a chá»n bá»Ÿi cÃ¡c khÃ¡ch hÃ ng cá»§a má»™t cÃ´ng ty báº£o hiá»ƒm.Giáº£ sá»­ biáº¿n rá»i ráº¡c danh nghÄ©a \\(Y\\) cÃ³ thá»ƒ nháº­n \\(J\\) giÃ¡ trá»‹ khÃ¡c nhau láº§n lÆ°á»£t lÃ  \\(1, 2, \\cdots, J\\). Vá»›i biáº¿n danh nghÄ©a, chÃºng ta khÃ´ng thá»ƒ mÃ´ táº£ Ä‘Æ°á»£c má»‘i liÃªn há»‡ giá»¯a xÃ¡c suáº¥t cá»§a hai sá»± kiá»‡n \\((Y=)\\) vÃ  \\((Y=j)\\) vá»›i \\(1 \\leq < j \\leq J\\) dÆ°á»›i dáº¡ng tham sá»‘. ChÃ­nh vÃ¬ tháº¿ cáº¥u trÃºc dáº¡ng tham sá»‘ cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t nhÆ° phÆ°Æ¡ng trÃ¬nh (10.1) lÃ  khÃ´ng thá»ƒ Ã¡p dá»¥ng Ä‘Æ°á»£c.Má»™t phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n cho trÆ°á»ng há»£p biáº¿n má»¥c tiÃªu \\(Y\\) lÃ  biáº¿n danh nghÄ©a lÃ  má»Ÿ rá»™ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n nhá»‹ phÃ¢n: vá»›i má»—i \\(j \\{1,2,\\cdots,J}\\)\\[\\begin{align}\n\\mathbb{P}\\left(Y = j\\right|\\textbf{x}_i) = \\cfrac{h(\\beta_{j,0} + \\beta_{j,1} \\cdot x_{,1} + \\cdots + \\beta_{j,p} \\cdot x_{,p} ) }{ \\sum\\limits_{j=1}^J h(\\beta_{j,0} + \\beta_{j,1} \\cdot x_{,1} + \\cdots + \\beta_{j,p} \\cdot x_{,p} ) }\n\\tag{10.15}\n\\end{align}\\]vá»›i hÃ m \\(h\\): \\(\\mathbb{R} \\rightarrow \\mathbb{R}^+\\). HÃ m sá»‘ \\(h\\) thÆ°á»ng Ä‘Æ°á»£c lá»±a chá»n lÃ  hÃ m lÅ©y thá»«a cÆ¡ sá»‘ tá»± nhiÃªn exp(). HÃ m sá»‘ xÃ¡c Ä‘á»‹nh xÃ¡c suáº¥t xáº£y ra cÃ¡c sá»± kiá»‡n \\((Y=j)\\) trong phÆ°Æ¡ng trÃ¬nh (10.15) Ä‘Æ°á»£c gá»i lÃ  hÃ m \\(softmax\\):\n\\[\\begin{align}\nsoftmax(z_1, z_2, \\cdots, z_p) = \\left(\\cfrac{e^{z_1}}{\\sum\\limits_{j=1}^p e^{z_j}}, \\cfrac{e^{z_2}}{\\sum\\limits_{j=1}^p e^{z_1}}, \\cdots, \\cfrac{e^{z_p}}{\\sum\\limits_{=1}^p e^{z_j}}  \\right)\n\\end{align}\\]CÃ¡c tham sá»‘ \\(\\beta_{j,k}\\) Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng Ä‘á»ƒ tá»‘i thiá»ƒu hÃ³a hÃ m tá»•n tháº¥t tÃ­nh báº±ng cross-entropy:\n\\[\\begin{align}\n\\sum\\limits_{=1}^n \\sum\\limits_{j=1}^J y_{,j} \\cdot \\log\\left(\\mathbb{P}\\left(Y = j|\\textbf{x}_i\\right)\\right)\n\\end{align}\\]trong Ä‘Ã³ \\(\\mathbb{P}\\left(Y = j|\\textbf{x}_i\\right)\\) Ä‘Æ°á»£c tÃ­nh toÃ¡n tá»« cÃ´ng thá»©c (10.15) vÃ  \\(y_{,j}\\) nháº­n má»™t trong hai giÃ¡ trá»‹:báº±ng 1 náº¿u giÃ¡ trá»‹ quan sÃ¡t thá»© \\(\\) cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) báº±ng \\(j\\)báº±ng 1 náº¿u giÃ¡ trá»‹ quan sÃ¡t thá»© \\(\\) cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) báº±ng \\(j\\)báº±ng 0 náº¿u giÃ¡ trá»‹ quan sÃ¡t thá»© \\(\\) cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) khÃ¡c \\(j\\)báº±ng 0 náº¿u giÃ¡ trá»‹ quan sÃ¡t thá»© \\(\\) cá»§a biáº¿n má»¥c tiÃªu \\(Y\\) khÃ¡c \\(j\\)LÆ°u Ã½ ráº±ng cÃ³ \\(J\\) vÃ©c-tÆ¡ há»‡ sá»‘ tuyáº¿n tÃ­nh trong phÆ°Æ¡ng trÃ¬nh (10.15). Trong thá»±c táº¿, khi biáº¿n má»¥c tiÃªu \\(Y\\) cÃ³ thá»ƒ nháº­n \\(J\\) giÃ¡ trá»‹ danh nghÄ©a, chÃºng ta xÃ¢y dá»±ng mÃ´ hÃ¬nh vá»›i \\((J-1)\\) vÃ©c-tÆ¡ há»‡ sá»‘ tuyáº¿n tÃ­nh tÆ°Æ¡ng á»©ng vá»›i cÃ¡c giÃ¡ trá»‹ danh nghÄ©a \\(1, 2, \\cdots, (J-1)\\), Ä‘á»“ng thá»i cá»‘ Ä‘á»‹nh giÃ¡ trá»‹ cá»§a táº¥t cáº£ cÃ¡c há»‡ sá»‘ tuyáº¿n tÃ­nh báº±ng 0 vá»›i giÃ¡ trá»‹ danh nghÄ©a \\(J\\). Khi táº¥t cáº£ cÃ¡c há»‡ sá»‘ tuyáº¿n tÃ­nh báº±ng 0, chÃºng ta cÃ³ \\(h(.) = exp(0) = 1\\) vá»›i má»i \\(\\textbf{x}_i\\).\\[\\begin{align}\n& \\mathbb{P}\\left(Y = j\\right|x_i) = \\cfrac{h(\\beta_{j,0} + \\beta_{j,1} \\cdot x_{,1} + \\cdots + \\beta_{j,p} \\cdot x_{,p} ) }{1 + \\sum\\limits_{j=1}^{J-1} h(\\beta_{j,0} + \\beta_{j,1} \\cdot x_{,1} + \\cdots + \\beta_{j,p} \\cdot x_{,p} )} \\textit{ vá»›i } j < J \\\\\n& \\mathbb{P}\\left(Y = J\\right|x_i) = \\cfrac{1}{1 + \\sum\\limits_{j=1}^{J-1} h(\\beta_{j,0} + \\beta_{j,1} \\cdot x_{,1} + \\cdots + \\beta_{j,p} \\cdot x_{,p} )} \\\\\n\\tag{10.16}\n\\end{align}\\]ChÃºng ta sáº½ xÃ¢y dá»±ng mÃ´ hÃ¬nh phÃ¢n loáº¡i biáº¿n má»¥c tiÃªu trÃªn dá»¯ liá»‡u â€œtravel insurance.csvâ€. Dá»¯ liá»‡u cung cáº¥p thÃ´ng tin vá» cÃ¡c sáº£n pháº©m báº£o hiá»ƒm du lá»‹ch tá»« má»™t Ä‘áº¡i lÃ½ du lá»‹ch, vá»›i biáº¿n má»¥c tiÃªu lÃ  \\(product.name\\) cho biáº¿t khÃ¡ch hÃ ng Ä‘Ã£ lá»±a chá»n sáº£n pháº©m sáº£n pháº©m báº£o hiá»ƒm nÃ o. Biáº¿n má»¥c tiÃªu cÃ³ bá»‘n giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng vá»›i bá»‘n loáº¡i sáº£n pháº©m, máº·c dÃ¹ cÃ¡c sáº£n pháº©m nÃ y cÃ³ má»©c giÃ¡ khÃ¡c nhau nhÆ°ng viá»‡c sÃ¡nh cÃ¡c giÃ¡ trá»‹ lÃ  khÃ´ng cÃ³ Ã½ nghÄ©a. Dá»¯ liá»‡u cÃ³ 10 biáº¿n Ä‘á»™c láº­p, tuy nhiÃªn, Ä‘á»ƒ Ä‘Æ¡n giáº£n hÃ³a, chÃºng ta chá»‰ láº¥y hai biáº¿n lÃ  giá»›i tÃ­nh vÃ  Ä‘á»™ tuá»•i cá»§a ngÆ°á»i tham gia báº£o hiá»ƒm.Má»‘i liÃªn há»‡ giá»¯a Ä‘á»™ tuá»•i vÃ  giá»›i tÃ­nh cá»§a khÃ¡ch hÃ ng Ä‘áº¿n sáº£n pháº©m khÃ¡ch hÃ ng lá»±a chá»n Ä‘Æ°á»£c mÃ´ táº£ qua hÃ¬nh váº½ dÆ°á»›i Ä‘Ã¢yCÃ³ thá»ƒ tháº¥y ráº±ng cÃ³ sá»± khÃ¡c biá»‡t vá» Ä‘á»™ tuá»•i cá»§a nhá»¯ng ngÆ°á»i lá»±a chá»n cÃ¡c sáº£n pháº©m báº£o hiá»ƒm: nhá»¯ng ngÆ°á»i tráº» tuá»•i cÃ³ xu hÆ°á»›ng lá»±a chá»n â€œBronze Planâ€ vÃ  â€œSilver Planâ€ trong khi nhá»¯ng ngÆ°á»i lá»›n tuá»•i cÃ³ xu hÆ°á»›ng lá»±a chá»n â€œBasic Planâ€ vÃ  â€œValue Planâ€. CÃ³ sá»± khÃ¡c biá»‡t vá» tá»· lá»‡ nam vÃ  ná»¯ khi lá»±a chá»n sáº£n pháº© báº£o hiá»ƒm, tá»· lá»‡ nam giá»›i lá»±a chá»n â€œBasic Planâ€ vÃ  â€œValue Planâ€ cao, trong khi ná»¯ giá»›i cÃ³ xu hÆ°á»›ng lá»±a chá»n â€œBronze Planâ€ vÃ  â€œSilver Planâ€.Äá»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t cho biáº¿n phÃ¢n loáº¡i danh nghÄ©a, chÃºng ta sá»­ dá»¥ng hÃ m multinom() tá»« thÆ° viá»‡n nnet:Dá»±a trÃªn káº¿t quáº£ Æ°á»›c lÆ°á»£ng, chÃºng ta cÃ³ cÃ´ng thá»©c tÃ­nh xÃ¡c suáº¥t cháº¥p nháº­n cÃ¡c sáº£n pháº©m báº£o hiá»ƒm du lá»‹ch cá»§a má»™t ngÆ°á»i cÃ³ giá»›i tÃ­nh lÃ  \\(g_i\\) vÃ  Ä‘á»™ tuá»•i \\(a_i\\) nhÆ° sau: vá»›i sáº£n pháº©m â€œBasic Planâ€\n\\[\\begin{align}\n\\mathbb{P}(Y = Basic|g_i, a_i) = \\cfrac{1}{S_0}\n\\end{align}\\]\nvá»›i\n\\[\\begin{align}\nS_0 = 1 + exp(1.512 - 0.558 \\cdot g_i - 0.038 \\cdot a_i) + exp(0.563 - 0.489 \\cdot g_i - 0.030 \\cdot a_i) +  exp(-3.028 - 0.246 \\cdot g_i - 0.039 \\cdot a_i)\n\\end{align}\\]\nVá»›i cÃ¡c sáº£n pháº©m Bronze Plan, Silver Plan vÃ  Value Plan, ta cÃ³\n\\[\\begin{align}\n& \\mathbb{P}(Y = Bronze|g_i, a_i) = \\cfrac{exp(1.512 - 0.558 \\cdot g_i - 0.038 \\cdot a_i)}{S_0} \\\\\n& \\mathbb{P}(Y = Silver|g_i, a_i) = \\cfrac{exp(0.563 - 0.489 \\cdot g_i - 0.030 \\cdot a_i)}{S_0} \\\\\n& \\mathbb{P}(Y = Value|g_i, a_i) = \\cfrac{exp(-3.028 - 0.246 \\cdot g_i - 0.039 \\cdot a_i)}{S_0}\n\\end{align}\\]Káº¿t quáº£ tá»« mÃ´ hÃ¬nh cho tháº¥y chá»‰ cÃ³ â€œBasic Planâ€ vÃ  â€œBronze Planâ€ Ä‘Æ°á»£c chá»n náº¿u chÃºng ta chá»‰ sá»­ dá»¥ng hai biáº¿n Ä‘á»™c láº­p lÃ  giá»›i tÃ­nh vÃ  Ä‘á»™ tuá»•i. Kháº£ nÄƒng dá»± Ä‘oÃ¡n cá»§a mÃ´ hÃ¬nh khÃ´ng cao mÃ´ hÃ¬nh cÃ²n quÃ¡ Ä‘Æ¡n giáº£n, chÃºng tÃ´i muá»‘n nháº¥n máº¡nh vá» cÃ¡ch xÃ¢y dá»±ng mÃ´ hÃ¬nh trÆ°á»›c khi cá»‘ gáº¯ng xÃ¢y dá»±ng má»™t mÃ´ hÃ¬nh cÃ³ kháº£ nÄƒng dá»± bÃ¡o tá»‘t. ChÃºng ta sáº½ tháº£o luáº­n vá» Ä‘Ã¡nh giÃ¡ hiá»‡u quáº£ cá»§a mÃ´ hÃ¬nh á»Ÿ cÃ¡c pháº§n sau cá»§a chÆ°Æ¡ng sÃ¡ch.","code":"## # weights:  16 (9 variable)\n## initial  value 19625.769270 \n## iter  10 value 18535.510505\n## final  value 18040.676017 \n## converged## Call:\n## multinom(formula = Product.Name ~ Gender + Age, data = dat1)\n## \n## Coefficients:\n##             (Intercept)    GenderM          Age\n## Bronze Plan   1.5631988 -0.5589519 -0.039513361\n## Silver Plan   0.6512458 -0.4871457 -0.031596816\n## Value Plan   -1.0970424  0.3380718  0.002018711\n## \n## Std. Errors:\n##             (Intercept)    GenderM         Age\n## Bronze Plan  0.07047991 0.04302279 0.001653049\n## Silver Plan  0.08280363 0.05117056 0.001938850\n## Value Plan   0.08264747 0.05092679 0.001676413\n## \n## Residual Deviance: 36081.35 \n## AIC: 36099.35"},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"biáº¿n-phá»¥-thuá»™c-lÃ -biáº¿n-rá»i-ráº¡c-cÃ³-thá»©-tá»±.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.2.3 Biáº¿n phá»¥ thuá»™c lÃ  biáº¿n rá»i ráº¡c cÃ³ thá»© tá»±.","text":"Biáº¿n rá»i ráº¡c cÃ³ thá»© tá»±, cÃ²n gá»i lÃ  ordinal categorical variable, lÃ  cÃ¡c biáº¿n nháº­n giÃ¡ trá»‹ rá»i ráº¡c mÃ  cÃ¡c giÃ¡ trá»‹ rá»i ráº¡c cÃ³ thá»ƒ sÃ¡nh Ä‘Æ°á»£c vá»›i nhau. Má»™t vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh cho biáº¿n rá»i ráº¡c cÃ³ thá»© tá»± lÃ  sá»‘ láº§n mÃ  má»™t ngÆ°á»i Ä‘i khÃ¡m chá»¯a bá»‡nh sá»­ dá»¥ng báº£o hiá»ƒm y táº¿ hoáº·c má»™t khÃ¡ch hÃ ng gá»­i yÃªu cáº§u bá»“i thÆ°á»ng Ä‘áº¿n cÃ´ng ty báº£o hiá»ƒm. ÄÃ¢y lÃ  trÆ°á»ng há»£p mÃ  chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng má»™t phÃ¢n phá»‘i xÃ¡c suáº¥t rá»i ráº¡c cÃ³ tham sá»‘ Ä‘á»ƒ mÃ´ táº£ biáº¿n phá»¥ thuá»™c \\(Y\\) giá»‘ng nhÆ° mÃ´ hÃ¬nh (??).","code":""},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"biáº¿n-phá»¥-thuá»™c-cÃ³-phÃ¢n-phá»‘i-poisson.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.2.3.1 Biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i Poisson.","text":"PhÃ¢n phá»‘i rá»i ráº¡c thÆ°á»ng Ä‘Æ°á»£c lá»±a chá»n cho biáº¿n phá»¥ thuá»™c rá»i ráº¡c cÃ³ thá»© tá»± lÃ  phÃ¢n phá»‘i Poisson. HÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a biáº¿n ngáº«u nhiÃªn \\(Y\\) cÃ³ phÃ¢n phá»‘i Poisson vá»›i tham sá»‘ \\(\\lambda > 0\\), kÃ½ hiá»‡u \\(Y \\sim \\mathcal{P}(\\lambda)\\) Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c sau\n\\[\\begin{align}\n\\mathbb{P}(Y = y) = e^{-\\lambda} \\cdot \\cfrac{\\lambda^y}{y!} \\text{ vá»›i } y = 0, 1, 2, \\cdots\n\\end{align}\\]PhÃ¢n phá»‘i Poisson thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ sá»‘ láº§n má»™t hiá»‡n tÆ°á»£ng xáº£y ra trong má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh. NguyÃªn nhÃ¢n lÃ  phÃ¢n phá»‘i Poisson nÃ y cÃ³ má»‘i liÃªn há»‡ trá»±c tiáº¿p Ä‘áº¿n cÃ¡c mÃ´ hÃ¬nh cÃ³ thá»i gian chá» cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ©. Tháº­t váº­y, náº¿u thá»i gian chá» giá»¯a hai sá»± kiá»‡n liÃªn tiáº¿p xáº£y ra cá»§a má»™t hiá»‡n tÆ°á»£ng nÃ o Ä‘Ã³ lÃ  má»™t biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c cÃ³ hÃ m phÃ¢n phá»‘i xÃ¡c suáº¥t kiá»ƒu mÅ© vá»›i tham sá»‘ \\(\\gamma\\) thÃ¬ sá»‘ láº§n hiá»‡n tÆ°á»£ng Ä‘Ã³ xáº£y ra trong má»™t khoáº£ng thá»i gian tá»« \\(t_1\\) Ä‘áº¿n \\(t_2\\) sáº½ lÃ  má»™t biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i Poisson vá»›i tham sá»‘ \\(\\lambda = \\cfrac{(t_1 - t_2)}{\\gamma}\\). Tháº­t váº­y, vá»›i \\(T\\) lÃ  khoáº£ng thá»i gian giá»¯a 2 sá»± kiá»‡n liÃªn tiáº¿p xáº£y ra vÃ  \\(T\\) cÃ³ phÃ¢n phá»‘i mÅ©:\n\\[\\begin{align}\n\\mathbb{P}(T \\leq x) = 1 - exp(-\\gamma x)\n\\end{align}\\]\nvÃ  náº¿u \\(N\\) lÃ  sá»‘ láº§n xáº£y ra sá»± kiá»‡n (Ä‘i khÃ¡m bá»‡nh, lÃ¡i xe gÃ¢y ra tai náº¡n) giá»¯a hai má»‘c thá»i gian \\(t_1 < t_2\\) thÃ¬ \\(N\\) sáº½ cÃ³ phÃ¢n phá»‘i Poisson vá»›i tham sá»‘ \\(\\lambda\\):\n\\[\\begin{align}\n& \\mathbb{P}(N = k) = e^{-\\lambda} \\cdot \\cfrac{\\lambda^k}{k!}\\\\\n& \\lambda = \\cfrac{(t_1 - t_2)}{\\gamma}\n\\end{align}\\]Biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i Poisson vá»›i tham sá»‘ \\(\\lambda\\), kÃ½ hiá»‡u \\(\\mathcal{P}(\\lambda)\\), cÃ³ tÃ­nh cháº¥t lÃ  giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai Ä‘á»u báº±ng tham sá»‘ cá»§a biáº¿n Ä‘Ã³ lÃ  \\(\\lambda\\). PhÃ¢n phá»‘i Poisson náº±m trong há» cÃ¡c phÃ¢n phá»‘i mÅ© nÃªn sáº½ ráº¥t thuáº­n tiá»‡n trong xÃ¢y dá»±ng vÃ  Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh báº±ng phÆ°Æ¡ng phÃ¡p há»£p lÃ½ tá»‘i Ä‘a. NgoÃ i ra, báº±ng cÃ¡ch cho tham sá»‘ cá»§a phÃ¢n phá»‘i Poisson má»™t phÃ¢n phá»‘i xÃ¡c suáº¥t, chÃºng ta cÃ³ thá»ƒ thu Ä‘Æ°á»£c cÃ¡c phÃ¢n phá»‘i rá»i ráº¡c linh hoáº¡t hÆ¡n trong mÃ´ táº£ cÃ¡c biáº¿n ngáº«u nhiÃªn dáº¡ng Ä‘áº¿m Ä‘Æ°á»£c.Khi xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh vá»›i biáº¿n má»¥c tiÃªu \\(Y\\) cÃ³ phÃ¢n phá»‘i Poisson, giÃ¡ trá»‹ trung bÃ¬nh \\(Y\\) nháº­n giÃ¡ trá»‹ dÆ°Æ¡ng nÃªn chÃºng ta cáº§n chá»n cÃ¡c hÃ m liÃªn káº¿t \\(g\\) cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  táº­p cÃ¡c sá»‘ thá»±c dÆ°Æ¡ng \\(\\mathbb{R}^+\\) vÃ  miá»n giÃ¡ trá»‹ lÃ  táº­p sá»‘ thá»±c \\(\\mathbb{R}\\). HÃ m sá»‘ thÆ°á»ng Ä‘Æ°á»£c lá»±a chá»n lÃ  hÃ m \\(log\\).ChÃºng ta cÃ³ thá»ƒ viáº¿t mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t khi \\(Y\\) cÃ³ phÃ¢n phá»‘i Poisson, thÆ°á»ng Ä‘Æ°á»£c gá»i táº¯t lÃ  há»“i quy Poisson, nhÆ° sau\\[\\begin{align}\n& Y_i \\sim \\mathcal{P}(\\lambda_i) \\\\\n& log(\\lambda_i) = \\left(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,p}\\right) \\\\\n\\tag{10.17}\n\\end{align}\\]Dá»¯ liá»‡u Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n phá»¥ thuá»™c phÃ¢n phá»‘i Poisson lÃ  dá»¯ liá»‡u \\(SingaporeAuto.csv\\). Dá»¯ liá»‡u Ä‘Æ°á»£c tá»•ng há»£p bá»Ÿi Hiá»‡p há»™i báº£o hiá»ƒm Singapore trong nÄƒm 1993 mÃ´ táº£ sá»‘ vá»¥ tai náº¡n Ã´ tÃ´ xáº£y ra cÃ¹ng vá»›i cÃ¡c Ä‘áº·c Ä‘iá»ƒm cá»§a ngÆ°á»i lÃ¡i vÃ  Ä‘áº·c Ä‘iá»ƒm cá»§a xe gÃ¢y tai náº¡n. CÅ©ng giá»‘ng nhÆ° cÃ¡c pháº§n trÆ°á»›c, chÃºng ta sáº½ xÃ¢y dá»±ng mÃ´ hÃ¬nh á»Ÿ má»©c Ä‘á»™ Ä‘Æ¡n giáº£n nháº¥t Ä‘á»ƒ báº¡n Ä‘á»c dá»… dÃ ng hÃ¬nh dung. Biáº¿n phá»¥ thuá»™c trong mÃ´ hÃ¬nh lÃ  biáº¿n \\(Clm\\_Count\\) cho biáº¿t sá»‘ vá»¥ tai náº¡n mÃ  má»™t lÃ¡i xe gÃ¢y ra trong vÃ²ng má»™t nÄƒm, hai biáº¿n phá»¥ thuá»™c bao gá»“m cÃ³:Biáº¿n \\(PC\\) lÃ  biáº¿n nháº­n hai giÃ¡ trá»‹ lÃ  0 tÆ°Æ¡ng á»©ng vá»›i xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½ theo cÃ´ng ty vÃ  nháº­n giÃ¡ trá»‹ 1 tÆ°Æ¡ng á»©ng vá»›i xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½ theo cÃ¡ nhÃ¢n.Biáº¿n \\(PC\\) lÃ  biáº¿n nháº­n hai giÃ¡ trá»‹ lÃ  0 tÆ°Æ¡ng á»©ng vá»›i xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½ theo cÃ´ng ty vÃ  nháº­n giÃ¡ trá»‹ 1 tÆ°Æ¡ng á»©ng vá»›i xe Ä‘Æ°á»£c Ä‘Äƒng kÃ½ theo cÃ¡ nhÃ¢n.Biáº¿n \\(NCD\\), viáº¿t táº¯t cá»§a Claims Discount, cho biáº¿t lá»‹ch sá»­ gÃ¢y ra tai náº¡n cá»§a lÃ¡i xe. GiÃ¡ trá»‹ \\(NCD\\) cÃ ng cao nghÄ©a lÃ  lá»‹ch sá»­ ngÆ°á»i lÃ¡i xe cÃ ng gÃ¢y ra Ã­t tai náº¡n.Biáº¿n \\(NCD\\), viáº¿t táº¯t cá»§a Claims Discount, cho biáº¿t lá»‹ch sá»­ gÃ¢y ra tai náº¡n cá»§a lÃ¡i xe. GiÃ¡ trá»‹ \\(NCD\\) cÃ ng cao nghÄ©a lÃ  lá»‹ch sá»­ ngÆ°á»i lÃ¡i xe cÃ ng gÃ¢y ra Ã­t tai náº¡n.ChÃºng ta sá»­ dá»¥ng hÃ m glm() Ä‘á»ƒ xÃ¢y dá»±ng vÃ  Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t:Báº¡n Ä‘á»c cÃ³ thá»ƒ tháº¥y ráº±ng cáº£ hai biáº¿n \\(PC\\) vÃ  \\(NCD\\) Ä‘á»u cÃ³ tÃ¡c Ä‘á»™ng Ä‘áº¿n giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n má»¥c tiÃªu \\(Clm\\_Count\\) cÃ¡c giÃ¡ trá»‹ p-value Ä‘á»u nhá». Má»‘i liÃªn há»‡ giá»¯a sá»‘ lÆ°á»£ng tai náº¡n xáº£y ra vÃ  cÃ¡c biáº¿n \\(PC\\) vÃ  \\(NCD\\) Ä‘Æ°á»£c mÃ´ táº£ nhÆ° sau:\\[\\begin{align}\n& Clm\\_Count_i \\sim \\mathcal{P}(\\lambda_i) \\\\\n& \\log(\\lambda_i) = -2.641 + 0.432 \\cdot PC_{} - 0.013 \\cdot NCD_{} \\\\\n& \\lambda_i = \\exp\\left(-2.641 + 0.432 \\cdot PC_{} - 0.013 \\cdot NCD_{} \\right)\n\\tag{10.18}\n\\end{align}\\]Há»‡ sá»‘ cá»§a biáº¿n \\(PC\\) lÃ  sá»‘ dÆ°Æ¡ng, Ä‘iá»u nÃ y cho biáº¿t cÃ¡c xe Ä‘Äƒng kÃ½ dÆ°á»›i dáº¡ng cÃ¡ nhÃ¢n cÃ³ kháº£ nÄƒng gÃ¢y tai náº¡n cao hÆ¡n vá»›i xe Ä‘Äƒng kÃ½ dÆ°á»›i hÃ¬nh thá»©c doanh nghiá»‡p. Äá»“ng thá»i, há»‡ sá»‘ cá»§a biáº¿n \\(NCD\\) Ã¢m cho biáº¿t lÃ¡i xe cÃ³ lá»‹ch sá»­ lÃ¡i xe tá»‘t, tÆ°Æ¡ng á»©ng vá»›i \\(NCD\\) cao, Ã­t cÃ³ kháº£ nÄƒng gÃ¢y ra tai náº¡n hÆ¡n lÃ¡i xe cÃ³ lá»‹ch sá»­ lÃ¡i xe khÃ´ng tá»‘t, tÆ°Æ¡ng á»©ng vá»›i \\(NCD\\) tháº¥p.","code":"\ndat<-read.csv(\"../KHDL_KTKD/Dataset/SingaporeAuto.csv\")\nglm2<-glm(Clm_Count~PC+NCD, data=dat, family = poisson(link = \"log\"))\nsummary(glm2)## \n## Call:\n## glm(formula = Clm_Count ~ PC + NCD, family = poisson(link = \"log\"), \n##     data = dat)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -0.4685  -0.3801  -0.3520  -0.3283   4.1716  \n## \n## Coefficients:\n##              Estimate Std. Error z value Pr(>|z|)    \n## (Intercept) -2.641681   0.073836 -35.778  < 2e-16 ***\n## PC           0.431980   0.091840   4.704 2.56e-06 ***\n## NCD         -0.013943   0.002618  -5.327 9.99e-08 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for poisson family taken to be 1)\n## \n##     Null deviance: 2887.2  on 7482  degrees of freedom\n## Residual deviance: 2848.3  on 7480  degrees of freedom\n## AIC: 3849.4\n## \n## Number of Fisher Scoring iterations: 6"},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"phÃ¢n-phá»‘i-rá»i-ráº¡c-cÃ³-láº¡m-phÃ¡t-táº¡i-giÃ¡-trá»‹-0.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.2.3.2 PhÃ¢n phá»‘i rá»i ráº¡c cÃ³ láº¡m phÃ¡t táº¡i giÃ¡ trá»‹ 0.","text":"Biáº¿n phá»¥ thuá»™c dáº¡ng Ä‘áº¿m chá»©a má»™t tá»· lá»‡ lá»›n giÃ¡ trá»‹ báº±ng 0 lÃ  cÃ¡c kiá»ƒu biáº¿n phá»¥ thuá»™c thÆ°á»ng gáº·p pháº£i khi lÃ m viá»‡c trÃªn dá»¯ liá»‡u trong lÄ©nh vá»±c báº£o hiá»ƒm. Tá»· lá»‡ lá»›n á»Ÿ Ä‘Ã¢y thÆ°á»ng Ä‘Æ°á»£c hiá»ƒu lÃ  trÃªn 90% giÃ¡ trá»‹ quan sÃ¡t Ä‘Æ°á»£c. Äa sá»‘ cÃ¡c phÃ¢n phá»‘i xÃ¡c suáº¥t rá»i ráº¡c thÃ´ng thÆ°á»ng, bao gá»“m phÃ¢n phá»‘i Poisson, khÃ´ng mÃ´ táº£ tá»‘t khi biáº¿n phá»¥ thuá»™c \\(Y\\) trong trÆ°á»ng há»£p nÃ y.Má»™t giáº£i phÃ¡p phá»• biáº¿n khi lÃ m viá»‡c vá»›i kiá»ƒu dá»¯ liá»‡u nhÆ° váº­y lÃ  thay Ä‘á»•i phÃ¢n phá»‘i dáº¡ng Ä‘áº¿m thÃ´ng thÆ°á»ng Ä‘á»ƒ lÃ m tÄƒng tá»· lá»‡ giÃ¡ trá»‹ nháº­n Ä‘Æ°á»£c táº¡i 0, Ä‘á»ƒ thu Ä‘Æ°á»£c cÃ¡c phÃ¢n phá»‘i thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  cÃ¡c phÃ¢n phá»‘i láº¡m phÃ¡t táº¡i 0, hay Zero-inflated variable. PhÃ¢n phá»‘i láº¡m phÃ¡t táº¡i 0 lÃ  há»—n há»£p cá»§a hai phÃ¢n phá»‘i xÃ¡c suáº¥t rá»i ráº¡c, bao gá»“m má»™t phÃ¢n phá»‘i nhá»‹ thá»©c chá»‰ bÃ¡o cho trÆ°á»ng há»£p 0, vÃ  má»™t phÃ¢n phá»‘i xÃ¡c suáº¥t dÃ nh cho biáº¿n Ä‘áº¿m thÃ´ng thÆ°á»ng. HÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn dáº¡ng Ä‘áº¿m cÃ³ láº¡m phÃ¡t táº¡i 0, kÃ½ hiá»‡u \\(ZI_Y\\), cÃ³ thá»ƒ Ä‘Æ°á»£c mÃ´ táº£ nhÆ° sau\n\\[\\begin{align}\n\\mathbb{P}(ZI_Y = y) = \\begin{cases}\n& \\omega + (1-\\omega) \\cdot \\mathbb{P}(Y=0) \\text{ khi y = 0} \\\\\n& (1-\\omega) \\cdot \\mathbb{P}(Y=y) \\text{ khi y > 0}\n\\end{cases}\n\\tag{10.19}\n\\end{align}\\]\ntrong Ä‘Ã³ biáº¿n ngáº«u nhiÃªn \\(Y\\) tuÃ¢n theo phÃ¢n phá»‘i sá»‘ Ä‘áº¿m tiÃªu chuáº©n Ä‘Æ°á»£c. Trong trÆ°á»ng há»£p tham sá»‘ \\(\\omega\\) báº±ng 0, phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn \\(ZI_Y\\) sáº½ tÆ°Æ¡ng á»©ng tÆ°Æ¡ng á»©ng vá»›i phÃ¢n phá»‘i cá»§a biáº¿n Y.Táº¥t cáº£ cÃ¡c phÃ¢n phá»‘i kiá»ƒu Ä‘áº¿m Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ táº¡o ra cÃ¡c biáº¿n má»›i cÃ³ láº¡m phÃ¡t táº¡i 0. Trong cÃ¡c mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t, biáº¿n dáº¡ng Ä‘áº¿m thÆ°á»ng Ä‘Æ°á»£c mÃ´ táº£ báº±ng phÃ¢n phá»‘i cá»• Ä‘iá»ƒn Poisson. Vá»›i viá»‡c sá»­ dá»¥ng phÆ°Æ¡ng trÃ¬nh (10.19), hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn Poisson cÃ³ láº¡m phÃ¡t táº¡i 0, kÃ½ hiá»‡u lÃ  \\(ZI_\\mathcal{P}\\) Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c sau:\\[\\begin{align}\n\\mathbb{P}(ZI_\\mathcal{P} = y) = \\begin{cases}\n& \\omega + (1-\\omega) \\cdot e^{-\\lambda} \\text{ khi y = 0} \\\\\n& (1-\\omega) \\cdot e^{-\\omega} \\cdot \\cfrac{\\lambda^y}{y!} \\text{ khi y > 0}\n\\end{cases}\n\\tag{10.20}\n\\end{align}\\]ChÃºng ta cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(ZI_Y\\) dá»±a trÃªn tham sá»‘ \\(\\omega\\) vÃ  giÃ¡ trá»‹ trung bÃ¬nh cÅ©ng nhÆ° phÆ°Æ¡ng sai cá»§a biáº¿n \\(Y\\) nhÆ° sau\n\\[\\begin{align}\n& \\mathbb{E}(ZI_Y) = (1-\\omega) \\cdot \\mathbb{E}(Y) \\\\\n& \\mathbb{V}(ZI_Y) = (1-\\omega) \\cdot \\mathbb{V}(Y) + \\omega(1-\\omega) \\cdot \\mathbb{E}(Y)^2\n\\tag{10.21}\n\\end{align}\\]Trong trÆ°á»ng há»£p \\(Y\\) cÃ³ phÃ¢n phá»‘i Poission, chÃºng ta cÃ³ giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a biáº¿n \\(ZI_\\mathcal{P}\\):\n\\[\\begin{align}\n& \\mathbb{E}(ZI_\\mathcal{P}) = (1-\\omega) \\cdot \\lambda \\\\\n& \\mathbb{V}(ZI_\\mathcal{P}) = \\mathbb{E}(ZI_\\mathcal{P}) \\cdot (1 + \\lambda - \\mathbb{E}(ZI_\\mathcal{P}))\n\\tag{10.22}\n\\end{align}\\]Vá»›i giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a biáº¿n \\(ZI_\\mathcal{P}\\) nhÆ° phÆ°Æ¡ng trÃ¬nh (10.19), chÃºng ta cÃ³ thá»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n phá»¥ thuá»™c lÃ  \\(ZI_\\mathcal{P}\\) nhÆ° sau: giÃ¡ trá»‹ trung bÃ¬nh \\(\\left((1-\\omega) \\cdot \\lambda\\right)\\) sáº½ Ä‘Æ°á»£c giáº£i thÃ­ch thÃ´ng qua cÃ¡c biáº¿n phá»¥ thuá»™c trong khi tham sá»‘ \\(\\lambda\\) sáº½ Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng báº±ng phÆ°Æ¡ng phÃ¡p há»£p lÃ½ tá»‘i Ä‘a.Biáº¿n phá»¥ thuá»™c phÃ¢n phá»‘i \\(ZI_\\mathcal{P}\\) sáº½ há»¯u Ã­ch cho má»¥c Ä‘Ã­ch láº­p mÃ´ hÃ¬nh trong trÆ°á»ng há»£p dá»¯ liá»‡u quan sÃ¡t cÃ³ sá»± táº­p trung quÃ¡ má»©c táº¡i giÃ¡ trá»‹ 0. NgoÃ i phÃ¢n phá»‘i Poisson, cÃ¡c phÃ¢n phá»‘i má»Ÿ rá»™ng tá»« phÃ¢n phá»‘i Poisson cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i Ä‘á»ƒ táº¡o ra cÃ¡c phÃ¢n phá»‘i cÃ³ láº¡m phÃ¡t táº¡i 0, cháº³ng háº¡n nhÆ° biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i Poisson - Gamma, Poisson - Inverse gaussian.Trong cÃ¡c nghiÃªn cá»©u thá»±c nghiá»‡m, nhiá»u tÃ¡c giáº£ Ä‘Ã£ chá»©ng minh ráº±ng viá»‡c Ã¡p dá»¥ng phÃ¢n phá»‘i cÃ³ láº¡m phÃ¡t táº¡i 0 Ä‘á»ƒ mÃ´ hÃ¬nh hÃ³a sá»‘ lÆ°á»£ng yÃªu cáº§u bá»“i thÆ°á»ng báº£o hiá»ƒm lÃ  phÃ¹ há»£p Ä‘á»ƒ mÃ´ táº£ hÃ nh vi cá»§a ngÆ°á»i Ä‘Æ°á»£c báº£o hiá»ƒm. Tháº­t váº­y, trong ngÃ nh báº£o hiá»ƒm khÃ´ng pháº£i táº¥t cáº£ cÃ¡c vá»¥ tai náº¡n Ä‘á»u Ä‘Æ°á»£c bÃ¡o cÃ¡o, cÃ´ng ty báº£o hiá»ƒm chá»‰ cÃ³ thÃ´ng tin vá» cÃ¡c yÃªu cáº§u bá»“i thÆ°á»ng Ä‘Æ°á»£c bÃ¡o cÃ¡o. CÃ³ hai cÃ¡ch Ä‘á»ƒ giáº£i thÃ­ch cÃ¡ch phÃ¢n phá»‘i cÃ³ láº¡m phÃ¡t táº¡i 0 nhÆ° sau: (1) Má»™t sá»‘ ngÆ°á»i Ä‘Æ°á»£c báº£o hiá»ƒm khÃ´ng gá»­i yÃªu cáº§u bá»“i thÆ°á»ng dÃ¹ cÃ³ xáº£y ra sá»± kiá»‡n báº£o hiá»ƒm, há» khÃ´ng cÃ³ nháº­n thá»©c Ä‘Æ°á»£c vá» viá»‡c Ä‘Æ°á»£c báº£o hiá»ƒm, hoáº·c khÃ´ng cÃ³ nhu cáº§u gá»­i yÃªu cáº§u báº£o hiá»ƒm. (2) Má»™t cÃ¡ch giáº£i thÃ­ch khÃ¡c cá»§a mÃ´ hÃ¬nh láº¡m phÃ¡t táº¡i 0 lÃ  xem xÃ©t xÃ¡c suáº¥t cá»§a má»—i vá»¥ tai náº¡n Ä‘Æ°á»£c bÃ¡o cÃ¡o. Má»™t hÃ nh vi thá»±c táº¿ cá»§a ngÆ°á»i Ä‘Æ°á»£c báº£o hiá»ƒm lÃ  náº¿u há» Ä‘Ã£ bÃ¡o cÃ¡o vá»¥ tai náº¡n Ä‘áº§u tiÃªn thÃ¬ nhá»¯ng vá»¥ tai náº¡n tiáº¿p theo cÅ©ng sáº½ Ä‘Æ°á»£c bÃ¡o cÃ¡o, cÃ²n náº¿u vá»¥ tai náº¡n Ä‘áº§u tiÃªn khÃ´ng Ä‘Æ°á»£c bÃ¡o cÃ¡o thÃ¬ cÃ¡c vá»¥ tai náº¡n sau sáº½ khÃ´ng Ä‘Æ°á»£c bÃ¡o cÃ¡o. Cáº£ hai cÃ¡ch giáº£i thÃ­ch dá»±a trÃªn hÃ nh vi nÃ y Ä‘á»u dáº«n Ä‘áº¿n viá»‡c sá»‘ lÆ°á»£ng biáº¿n má»¥c tiÃªu nháº­n giÃ¡ trá»‹ báº±ng 0 cao hÆ¡n vá»›i sá»‘ lÆ°á»£ng tai náº¡n thá»±c táº¿ xáº£y ra.\nTable 10.1: KhÃ¡c nhau giá»¯a GLM - Poisson vÃ  GLM - ZIP\nÄá»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trong Ä‘Ã³ biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i \\(ZI_\\mathcal{P}\\) chÃºng ta sá»­ dá»¥ng hÃ m sá»‘ zeroinfl() cá»§a thÆ° viá»‡n \\(pscl\\).ChÃºng ta cÃ³ káº¿t quáº£ Æ°á»›c lÆ°á»£ng cÃ¡c mÃ´ hÃ¬nh\nTable 1.3: Káº¿t quáº£ Æ°á»›c lÆ°á»£ng GLM - Poisson vÃ  GLM - ZIP\nCÃ³ thá»ƒ tháº¥y ráº±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n phá»¥ thuá»™c phÃ¢n phá»‘i \\(ZI_\\mathcal{P}\\) cÃ³ giÃ¡ trá»‹ hÃ m há»£p lÃ½ tá»‘i Ä‘a lá»›n hÆ¡n, Ä‘iá»u nÃ y cÅ©ng cÃ³ nghÄ©a lÃ  phÃ¢n phá»‘i \\(ZI_\\mathcal{P}\\) phÃ¹ há»£p hÆ¡n phÃ¢n phá»‘i Poisson thÃ´ng thÆ°á»ng khi mÃ´ táº£ biáº¿n phá»¥ thuá»™c trong dá»¯ liá»‡u. Dá»±a vÃ o káº¿t quáº£ Æ°á»›c lÆ°á»£ng tá»« hai mÃ´ hÃ¬nh, chÃºng ta cÃ³ thá»ƒ tÃ­nh toÃ¡n xÃ¡c suáº¥t khÃ´ng cÃ³ tai náº¡n vÃ  xÃ¡c suáº¥t Ä‘á»ƒ xáº£y ra má»™t tai náº¡n theo Ä‘á»™ tuá»•i vÃ  giá»›i tÃ­nh cá»§a ngÆ°á»i tham gia báº£o hiá»ƒm nhÆ° sauCÃ³ thá»ƒ nháº­n tháº¥y ráº±ng xÃ¡c suáº¥t mÃ  má»™t ngÆ°á»i Ä‘Æ°á»£c báº£o hiá»ƒm khÃ´ng Ä‘á»ƒ xáº£y ra tai náº¡n trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i \\(ZI_\\mathcal{P}\\) lÃ  luÃ´n cao hÆ¡n vá»›i mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i Poisson thÃ´ng thÆ°á»ng. Äá»“ng thá»i, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i \\(ZI_\\mathcal{P}\\) cho káº¿t quáº£ xÃ¡c suáº¥t xáº£y ra Ä‘Ãºng má»™t tai náº¡n tháº¥p hÆ¡n vá»›i mÃ´ hÃ¬nh cÃ³ biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i Poisson thÃ´ng thÆ°á»ng.","code":"\ndat<-read.csv(\"../KHDL_KTKD/Dataset/exposure.csv\")\n# Biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i Poisson\nglm1<-glm(Claim_Count~Age+Gender,\n          family = poisson(link = \"log\"),\n          data=dat)\n\n# Biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i Zero inflated poisson\nzip.glm<-zeroinfl(Claim_Count~Age+Gender|1,\n                  dist = 'poisson',\n                  link = \"log\",\n                  data = dat)\nsummary(glm1)\nsummary(zip.glm)"},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"biáº¿n-phá»¥-thuá»™c-cÃ³-phÃ¢n-phá»‘i-liÃªn-tá»¥c.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.2.4 Biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i liÃªn tá»¥c.","text":"Má»™t giáº£ thiáº¿t quan trá»ng cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t lÃ  biáº¿n phá»¥ thuá»™c náº±m trong há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ©, hay exponential family. ChÃºng ta sáº½ tháº£o luáº­n ká»¹ hÆ¡n vá» há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© trong pháº§n sau cá»§a cuá»‘n sÃ¡ch. LÆ°u Ã½ ráº±ng há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© khÃ´ng tÆ°Æ¡ng Ä‘á»“ng vá»›i khÃ¡i niá»‡m biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i mÅ©. PhÃ¢n phá»‘i mÅ© chá»‰ lÃ  má»™ trÆ°á»ng há»£p Ä‘áº·c biá»‡t cá»§a phÃ¢n phá»‘i kiá»ƒn mÅ©. CÃ³ nhiá»u biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c khÃ¡c cÃ³ phÃ¢n phá»‘i náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©. CÃ³ thá»ƒ ká»ƒ Ä‘áº¿n nhÆ° phÃ¢n phá»‘i gamma, phÃ¢n phá»‘i chuáº©n, phÃ¢n phá»‘i chuáº©n ngÆ°á»£câ€¦CÃ¡c bÆ°á»›c Ä‘á»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trong trÆ°á»ng há»£p biáº¿n phá»¥ thuá»™c \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c hoÃ n toÃ n tÆ°Æ¡ng tá»± nhÆ° cÃ¡ch xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t á»Ÿ trÃªn, bao gá»“m bÆ°á»›c chá»n phÃ¢n phá»‘i xÃ¡c suáº¥t cho biáº¿n má»¥c tiÃªu vÃ  lá»±a chá»n hÃ m liÃªn káº¿t phÃ¹ há»£p. ChÃºng ta sáº½ tiáº¿p tá»¥c xÃ¢y dá»±ng mÃ´ hÃ¬nh vá»›i dá»¯ liá»‡u â€œexposure.csvâ€ Ä‘Ã£ Ä‘á» cáº­p á»Ÿ cÃ¡c pháº§n trÃªn. Biáº¿n má»¥c tiÃªu khÃ´ng cÃ²n lÃ  sá»‘ láº§n khÃ¡ch hÃ ng gá»­i yÃªu cáº§u bá»“i thÆ°á»ng, mÃ  lÃ  sá»‘ tiá»n trung bÃ¬nh má»—i láº§n khÃ¡ch hÃ ng gá»­i yÃªu cáº§u (biáº¿n \\(Ave\\_Amount\\)). CÃ¡c biáº¿n giáº£i thÃ­ch váº«n tiáº¿p tá»¥c lÃ  giá»›i tÃ­nh (\\(Gender\\)) vÃ  Ä‘á»™ tuá»•i (\\(Age\\)) cá»§a ngÆ°á»i Ä‘Æ°á»£c báº£o hiá»ƒm.Má»‘i liÃªn há»‡ giá»¯a \\(Ave\\_Amount\\) Ä‘Æ°á»£c thá»ƒ hiá»‡n qua Ä‘á»“ thá»‹ dÆ°á»›i Ä‘Ã¢yÄá»“ thá»‹ bÃªn trÃ¡i cho tháº¥y sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°á»ng trung bÃ¬nh cá»§a ná»¯ lÃ  cao hÆ¡n nam giá»›i. PhÃ¢n phá»‘i xÃ¡c suáº¥t cá»§a sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°Æ¡ng trung bÃ¬nh lÃ  phÃ¢n phá»‘i liÃªn tá»¥c lá»‡ch pháº£i, cÃ³ Ä‘uÃ´i bÃªn pháº£i lá»›n. Äá»“ thá»‹ bÃªn pháº£i cho tháº¥y sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°á»ng trung bÃ¬nh cÃ³ xu hÆ°á»›ng tÄƒng theo Ä‘á»™ tuá»•i.Sá»‘ tiá»n báº£o hiá»ƒm trung bÃ¬nh lÃ  sá»‘ dÆ°Æ¡ng nÃªn chÃºng ta sáº½ sá»­ dá»¥ng phÃ¢n phá»‘i \\(gamma\\) vá»›i hÃ m liÃªn káº¿t lÃ  hÃ m log(). LÆ°u Ã½ ráº±ng phÃ¢n phá»‘i gamma() lÃ  phÃ¢n phá»‘i cÃ³ hai tham sá»‘, thÆ°á»ng Ä‘Æ°á»£c kÃ½ hiá»‡u lÃ  \\(\\alpha\\) vÃ  \\(\\gamma\\), vá»›i hÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t, giÃ¡ trá»‹ trung bÃ¬nh, vÃ  phÆ°Æ¡ng sai nhÆ° sau\n\\[\\begin{align}\n& f_Y(y) = \\cfrac{\\beta^\\alpha}{\\Gamma(\\alpha)} \\ y^{\\alpha-1} \\ e^{-\\gamma y} \\\\\n& \\mathbb{E}(X) = \\cfrac{\\alpha}{\\gamma} \\\\\n& \\mathbb{V}(X) = \\cfrac{\\alpha}{\\gamma^2}\n\\end{align}\\]Khi phÃ¢n phá»‘i \\(gamma\\) Ä‘Æ°á»£c sá»­ dá»¥ng cho biáº¿n phá»¥ thuá»™c, giÃ¡ trá»‹ trung bÃ¬nh Ä‘Æ°á»£c tÃ­nh báº±ng \\(\\alpha/\\gamma\\), sáº½ Ä‘Æ°á»£c mÃ´ táº£ thÃ´ng qua cÃ¡c biáº¿n Ä‘á»™c láº­p trong khi tham sá»‘ \\(\\alpha\\) sáº½ Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng dá»±a trÃªn hÃ m há»£p lÃ½ tá»‘i Ä‘a:NgoÃ i cÃ¡c há»‡ sá»‘ cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t, hÃ m glm() cÃ²n cung cáº¥p giÃ¡ trá»‹ Æ°á»›c lÆ°á»£ng Ä‘Æ°á»£c cho tham sá»‘ \\(\\phi\\) (disperson paramter hay tham sá»‘ phÃ¢n tÃ¡n) lÃ  \\(0.924\\). Tham sá»‘ phÃ¢n tÃ¡n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ© sáº½ Ä‘Æ°á»£c tháº£o luáº­n trong pháº§n tiáº¿p theo. Äá»‘i vá»›i phÃ¢n phá»‘i \\(gamma\\), tham sá»‘ phÃ¢n tÃ¡n Ä‘Æ°á»£c tÃ­nh báº±ng \\(\\phi = 1/\\alpha\\).GiÃ¡ trá»‹ sá»‘ tiá»n bá»“i thÆ°á»ng trung bÃ¬nh Ä‘Æ°á»£c Ä‘Æ°á»£c mÃ´ táº£ báº±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t nhÆ° sau:\n\\[\\begin{align}\n& Y_i \\sim Gamma(\\mu_i = \\alpha_i/\\gamma_i , \\phi_i = 1/\\alpha_i) \\\\\n& \\phi_i = 0.924 \\\\\n& log(\\mu_i) = -0.0475 + 0.079 \\cdot Age_i + 0.534 \\cdot Gender_i\n\\end{align}\\]TrÆ°á»›c khi Ä‘i vÃ o chi tiáº¿t cÃ¡c thÃ nh pháº§n cá»§a mÃ´ hÃ¬nh, chÃºng tÃ´i muá»‘n káº¿t luáº­n ráº±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ hÃ¬nh hÃ³a dá»¯ liá»‡u trong nhiá»u hoÃ n cáº£nh khÃ¡c nhau. Viá»‡c xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t luÃ´n Ä‘Æ°á»£c báº¯t Ä‘áº§u báº±ng viá»‡c lá»±a chá»n phÃ¢n phá»‘i cho biáº¿n phá»¥ thuá»™c vÃ  lá»±a chá»n hÃ m sá»‘ liÃªn káº¿t. CÃ³ cÃ¡c quy táº¯c chung trong viá»‡c lá»±a chá»n phÃ¢n phá»‘i vÃ  hÃ m liÃªn káº¿t giá»‘ng nhÆ° chÃºng tÃ´i Ä‘Ã£ trÃ¬nh bÃ y á»Ÿ pháº§n trÃªn. Tuy nhiÃªn Ä‘á»ƒ Ä‘Æ°a ra Ä‘Æ°á»£c mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t phÃ¹ há»£p cho tá»«ng dá»¯ liá»‡u cá»¥ thá»ƒ, hoáº·c Ä‘á»ƒ cÃ³ thá»ƒ má»Ÿ rá»™ng Ä‘Æ°á»£c mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trong cÃ¡c kiá»ƒu dá»¯ liá»‡u phá»©c táº¡p hÆ¡n, báº¡n Ä‘á»c cáº§n hiá»ƒu sÃ¢u hÆ¡n vá» cÃ¡c Ä‘áº·c Ä‘iá»ƒm ká»¹ thuáº­t cá»§a cÃ¡c mÃ´ hÃ¬nh nÃ y. CÃ¡c kiáº¿n thá»©c nÃ y sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y trong cÃ¡c pháº§n tiáº¿p theo cá»§a chÆ°Æ¡ng.","code":"\ndat<-read.csv(\"../KHDL_KTKD/Dataset/exposure.csv\")\ndat<-mutate(dat,Ave_Amount = ifelse(Claim_Count>0,Total_Claim/Claim_Count,0))\ndat1<-filter(dat,Claim_Count>0)\ndat1$Gender<-ifelse(dat1$Gender==0,\"F\",\"M\")\np1<-dat1%>%ggplot()+geom_boxplot(aes(Gender,y = Ave_Amount))+\n  ylim(0,200)+ggtitle(\"Sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°á»ng trung bÃ¬nh vÃ  giá»›i tÃ­nh\")\np2<-dat1%>%ggplot(aes(x=Age,y = Ave_Amount))+geom_point(alpha=0.2)+\n  geom_smooth(col=\"black\", size = 1, se = FALSE)+ylim(0,200)+\n  ggtitle(\"Sá»‘ tiá»n yÃªu cáº§u bá»“i thÆ°á»ng trung bÃ¬nh vÃ  Ä‘á»™ tuá»•i\")\ngrid.arrange(p1,p2,ncol=2)\ndat<-read.csv(\"../KHDL_KTKD/Dataset/exposure.csv\")\ndat<-mutate(dat,Ave_Amount = ifelse(Claim_Count>0,Total_Claim/Claim_Count,0))\ndat1<-filter(dat,Claim_Count>0)\nglm3<-glm(Ave_Amount~Age+Gender, family = Gamma(link = \"log\"),data = dat1)\nsummary(glm3)## \n## Call:\n## glm(formula = Ave_Amount ~ Age + Gender, family = Gamma(link = \"log\"), \n##     data = dat1)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -4.3309  -0.9498  -0.3047   0.3360   2.9954  \n## \n## Coefficients:\n##              Estimate Std. Error t value Pr(>|t|)    \n## (Intercept) -0.047535   0.065517  -0.726    0.468    \n## Age          0.079089   0.001534  51.563   <2e-16 ***\n## Gender      -0.534010   0.041951 -12.730   <2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for Gamma family taken to be 0.9241118)\n## \n##     Null deviance: 4666.5  on 2110  degrees of freedom\n## Residual deviance: 2205.7  on 2108  degrees of freedom\n## AIC: 15710\n## \n## Number of Fisher Scoring iterations: 6"},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"cÃ¡c-thÃ nh-pháº§n-cá»§a-mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.3 CÃ¡c thÃ nh pháº§n cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","text":"NhÆ° chÃºng ta Ä‘Ã£ tháº£o luáº­n trong pháº§n trÆ°á»›c, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t kháº¯c phá»¥c hai giáº£ thiáº¿t, cÅ©ng lÃ  hai nhÆ°á»£c Ä‘iá»ƒm cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng, Ä‘Ã³ lÃ  ) biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i chuáº©n, vÃ  ii) giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c báº±ng má»™t tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p. Trong pháº§n nÃ y cá»§a cuá»‘n sÃ¡ch, chÃºng tÃ´i sáº½ tháº£o luáº­n ká»¹ hÆ¡n vÃ o cÃ¡ch tiáº¿p cáº­n Ä‘á»ƒ kháº¯c phá»¥c cÃ¡c háº¡n cháº¿ ká»ƒ trÃªn.Thá»© nháº¥t, thay vÃ¬ sá»­ dá»¥ng phÃ¢n phá»‘i chuáº©n, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t giáº£ thiáº¿t ráº±ng biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ© (exponential family). PhÃ¢n phá»‘i chuáº©n chá»‰ lÃ  má»™t trÆ°á»ng há»£p Ä‘áº·c biá»‡t cá»§a há» cÃ¡c phÃ¢n phá»‘i nÃ y.Thá»© nháº¥t, thay vÃ¬ sá»­ dá»¥ng phÃ¢n phá»‘i chuáº©n, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t giáº£ thiáº¿t ráº±ng biáº¿n phá»¥ thuá»™c cÃ³ phÃ¢n phá»‘i náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ© (exponential family). PhÃ¢n phá»‘i chuáº©n chá»‰ lÃ  má»™t trÆ°á»ng há»£p Ä‘áº·c biá»‡t cá»§a há» cÃ¡c phÃ¢n phá»‘i nÃ y.Thá»© hai, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t sá»­ dá»¥ng má»™t hÃ m \\(g\\), Ä‘Æ°á»£c gá»i lÃ  hÃ m liÃªn káº¿t, Ä‘á»ƒ mÃ´ táº£ má»‘i liÃªn há»‡ giá»¯a giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vá»›i tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p. Lá»±a chá»n hÃ m \\(g\\) cÃ³ Ã½ nghÄ©a quan trá»ng khÃ´ng chá»‰ trong cÃ¡ch luáº­n giáº£i káº¿t quáº£ cá»§a mÃ´ hÃ¬nh, mÃ  cÃ²n á»Ÿ viá»‡c dá»… dÃ ng Æ°á»›c lÆ°á»£ng tham sá»‘ cá»§a mÃ´ hÃ¬nh.Thá»© hai, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t sá»­ dá»¥ng má»™t hÃ m \\(g\\), Ä‘Æ°á»£c gá»i lÃ  hÃ m liÃªn káº¿t, Ä‘á»ƒ mÃ´ táº£ má»‘i liÃªn há»‡ giá»¯a giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vá»›i tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p. Lá»±a chá»n hÃ m \\(g\\) cÃ³ Ã½ nghÄ©a quan trá»ng khÃ´ng chá»‰ trong cÃ¡ch luáº­n giáº£i káº¿t quáº£ cá»§a mÃ´ hÃ¬nh, mÃ  cÃ²n á»Ÿ viá»‡c dá»… dÃ ng Æ°á»›c lÆ°á»£ng tham sá»‘ cá»§a mÃ´ hÃ¬nh.","code":""},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"há»-cÃ¡c-biáº¿n-ngáº«u-nhiÃªn-cÃ³-phÃ¢n-phá»‘i-kiá»ƒu-mÅ©.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.3.1 Há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ©.","text":"Thay vÃ¬ giáº£ thiáº¿t ráº±ng \\(Y\\) cÃ³ phÃ¢n phá»‘i chuáº©n trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng, mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t giáº£ thiáº¿t biáº¿n phá»¥ thuá»™c \\(Y\\) náº±m trong há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ©. Há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© (exponential family) cÃ³ hÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t cÃ³ thá»ƒ viáº¿t dÆ°á»›i dáº¡ng nhÆ° sau:\n\\[\\begin{align}\nf(y;\\theta,\\phi) = \\exp\\left[ \\cfrac{y \\theta - b(\\theta)}{(\\phi)} + c(y,\\phi) \\right]\n\\end{align}\\]\ntrong Ä‘Ã³Tham sá»‘ \\(\\theta\\) Ä‘Æ°á»£c gá»i lÃ  tham sá»‘ \\(chÃ­nh\\) \\(táº¯c\\) cá»§a phÃ¢n phá»‘i kiá»ƒu mÅ©.Tham sá»‘ \\(\\phi\\) Ä‘Æ°á»£c gá»i lÃ  tham sá»‘ \\(phÃ¢n\\) \\(tÃ¡n\\). NguyÃªn nhÃ¢n lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n ngáº«u nhiÃªn \\(Y\\) khÃ´ng phá»¥ thuá»™c vÃ o \\(\\phi\\). Tham sá»‘ \\(\\phi\\), mÃ  tá»•ng quÃ¡t hÆ¡n lÃ  hÃ m \\((\\phi)\\) sáº½ xÃ¡c Ä‘á»‹nh phÆ°Æ¡ng sai cá»§a biáº¿n phá»¥ thuá»™c.CÃ¡c hÃ m sá»‘ \\(b(\\theta)\\), \\((\\phi)\\) vÃ  \\(c(y,\\phi)\\) sáº½ quyáº¿t Ä‘á»‹nh kiá»ƒu phÃ¢n phá»‘i cá»§a biáº¿n phá»¥ thuá»™c.GiÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a biáº¿n phá»¥ thuá»™c \\(Y\\) Ä‘Æ°á»£c cho bá»Ÿi cÃ¡c cÃ´ng thá»©c sau:\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta)\n\\tag{10.23}\n\\end{align}\\]\nvá»›i \\(b^{'}(\\theta)\\) vÃ  \\(b^{''}(\\theta)\\) láº§n lÆ°á»£t lÃ  Ä‘áº¡o hÃ m báº­c má»™t vÃ  Ä‘áº¡o hÃ m báº­c hai cá»§a hÃ m sá»‘ \\(b\\) theo biáº¿n \\(\\theta\\).Há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© bao gá»“m Ä‘a sá»‘ cÃ¡c biáº¿n ngáº«u nhiÃªn liÃªn tá»¥c thÃ´ng thÆ°á»ng nhÆ° phÃ¢n phá»‘i chuáº©n, phÃ¢n phá»‘i mÅ©, phÃ¢n phá»‘i Gamma, phÃ¢n phá»‘i chuáº©n ngÆ°á»£c. CÃ¡c biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i rá»i ráº¡c nhÆ° phÃ¢n phá»‘i nhá»‹ thá»©c, phÃ¢n phá»‘i binomial, hoáº·c phÃ¢n phá»‘i Poisson cÅ©ng náº±m trong há» cÃ¡c biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ©.VÃ­ dá»¥ 1: phÃ¢n phá»‘i Poisson thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n Ä‘áº¿m trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t. HÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn Poisson vá»›i tham sá»‘ \\(\\lambda\\), kÃ½ hiá»‡u \\(\\mathcal{P}(\\lambda)\\), Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c\n\\[\\begin{align}\n\\mathbb{P}(Y = y; \\lambda) = exp(-\\lambda) \\ \\cfrac{\\lambda^y}{y!}\n\\end{align}\\]\nChÃºng ta cÃ³ thá»ƒ viáº¿t phÃ¢n phá»‘i \\(\\mathcal{P}(\\lambda)\\) dÆ°á»›i dáº¡ng phÃ¢n phá»‘i mÅ© nhÆ° sau\n\\[\\begin{align}\n\\mathbb{P}(Y = y; \\theta) = exp\\left[ \\cfrac{\\theta y - exp(\\theta)}{1} - log(\\Gamma(y+1)) \\right] \\text{ vá»›i } \\lambda = exp(\\theta)\n\\end{align}\\]\nÄÃ¢y lÃ  hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ© vá»›i \\((\\phi) = 1\\); \\(b(\\theta) = exp(\\theta)\\) vÃ  \\(c(y,\\phi) = log\\left(\\Gamma(y+1)\\right)\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ tÃ­nh toÃ¡n trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(\\lambda\\) dá»±a theo cÃ´ng thá»©c (10.23)\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) = exp(\\theta) = \\lambda \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta) = 1 \\cdot exp(\\theta) = \\lambda\n\\end{align}\\]VÃ­ dá»¥ 1: phÃ¢n phá»‘i Poisson thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ phÃ¢n phá»‘i cá»§a biáº¿n Ä‘áº¿m trong mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t. HÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn Poisson vá»›i tham sá»‘ \\(\\lambda\\), kÃ½ hiá»‡u \\(\\mathcal{P}(\\lambda)\\), Ä‘Æ°á»£c cho bá»Ÿi cÃ´ng thá»©c\n\\[\\begin{align}\n\\mathbb{P}(Y = y; \\lambda) = exp(-\\lambda) \\ \\cfrac{\\lambda^y}{y!}\n\\end{align}\\]\nChÃºng ta cÃ³ thá»ƒ viáº¿t phÃ¢n phá»‘i \\(\\mathcal{P}(\\lambda)\\) dÆ°á»›i dáº¡ng phÃ¢n phá»‘i mÅ© nhÆ° sau\n\\[\\begin{align}\n\\mathbb{P}(Y = y; \\theta) = exp\\left[ \\cfrac{\\theta y - exp(\\theta)}{1} - log(\\Gamma(y+1)) \\right] \\text{ vá»›i } \\lambda = exp(\\theta)\n\\end{align}\\]\nÄÃ¢y lÃ  hÃ m phÃ¢n phá»‘i cá»§a biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ© vá»›i \\((\\phi) = 1\\); \\(b(\\theta) = exp(\\theta)\\) vÃ  \\(c(y,\\phi) = log\\left(\\Gamma(y+1)\\right)\\). Báº¡n Ä‘á»c cÃ³ thá»ƒ tÃ­nh toÃ¡n trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(\\lambda\\) dá»±a theo cÃ´ng thá»©c (10.23)\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) = exp(\\theta) = \\lambda \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta) = 1 \\cdot exp(\\theta) = \\lambda\n\\end{align}\\]VÃ­ dá»¥ 2: phÃ¢n phá»‘i chuáº©n lÃ  má»™t biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©. Tháº­t váº­y, chÃºng ta cÃ³ hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n vá»›i trung bÃ¬nh \\(\\mu\\) vÃ  Ä‘á»™ lá»‡ch chuáº©n \\(\\sigma\\), kÃ½ hiá»‡u \\(\\mathcal{N}(\\mu,\\sigma)\\), nhÆ° sau\n\\[\\begin{align}\nf(y,\\mu,\\sigma) = \\cfrac{1}{\\sqrt{2 \\pi \\sigma^2}} \\exp\\left[ \\cfrac{-(y - \\mu)^2}{2 \\ \\sigma^2} \\right]\n\\end{align}\\]\nHÃ m phÃ¢n phá»‘i cá»§a \\(\\mathcal{N}(\\mu,\\sigma)\\) cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t dÆ°á»›i dáº¡ng phÃ¢n phá»‘i kiá»ƒu mÅ©\n\\[\\begin{align}\n\\cfrac{1}{\\sqrt{2 \\pi} \\sigma} \\exp\\left[ \\cfrac{-(y - \\mu)^2}{2 \\ \\sigma^2} \\right] &= \\exp\\left[ \\cfrac{-(y - \\mu)^2}{2 \\ \\sigma^2} - \\cfrac{1}{2} log(2 \\pi \\sigma^2) \\right] \\\\\n&= \\exp\\left[ \\cfrac{\\mu y - \\mu^2/2} {\\sigma^2} - \\cfrac{y^2}{2\\sigma^2} - \\cfrac{1}{2} log(2 \\pi \\sigma^2) \\right]\n\\end{align}\\]\nVá»›i \\(\\theta = \\mu\\) vÃ  \\(\\phi = \\sigma^2\\) chÃºng ta cÃ³ hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn \\(\\mathcal{N}(\\mu,\\sigma)\\) lÃ  hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©, vá»›i \\((\\phi) = \\phi\\), \\(b(\\theta) = \\theta^2/2\\) vÃ \n\\[\\begin{align}\nc(y,\\phi) = -\\cfrac{y^2}{2\\phi} - \\cfrac{1}{2} log(2 \\pi \\phi)\n\\end{align}\\]\nBáº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm tra giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(\\mathcal{N}(\\mu,\\sigma)\\) dá»±a theo cÃ´ng thá»©c (10.23)\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) = \\theta = \\mu \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta) = \\phi \\cdot 1 = \\phi = \\sigma^2\n\\end{align}\\]VÃ­ dá»¥ 2: phÃ¢n phá»‘i chuáº©n lÃ  má»™t biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©. Tháº­t váº­y, chÃºng ta cÃ³ hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n vá»›i trung bÃ¬nh \\(\\mu\\) vÃ  Ä‘á»™ lá»‡ch chuáº©n \\(\\sigma\\), kÃ½ hiá»‡u \\(\\mathcal{N}(\\mu,\\sigma)\\), nhÆ° sau\n\\[\\begin{align}\nf(y,\\mu,\\sigma) = \\cfrac{1}{\\sqrt{2 \\pi \\sigma^2}} \\exp\\left[ \\cfrac{-(y - \\mu)^2}{2 \\ \\sigma^2} \\right]\n\\end{align}\\]\nHÃ m phÃ¢n phá»‘i cá»§a \\(\\mathcal{N}(\\mu,\\sigma)\\) cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t dÆ°á»›i dáº¡ng phÃ¢n phá»‘i kiá»ƒu mÅ©\n\\[\\begin{align}\n\\cfrac{1}{\\sqrt{2 \\pi} \\sigma} \\exp\\left[ \\cfrac{-(y - \\mu)^2}{2 \\ \\sigma^2} \\right] &= \\exp\\left[ \\cfrac{-(y - \\mu)^2}{2 \\ \\sigma^2} - \\cfrac{1}{2} log(2 \\pi \\sigma^2) \\right] \\\\\n&= \\exp\\left[ \\cfrac{\\mu y - \\mu^2/2} {\\sigma^2} - \\cfrac{y^2}{2\\sigma^2} - \\cfrac{1}{2} log(2 \\pi \\sigma^2) \\right]\n\\end{align}\\]\nVá»›i \\(\\theta = \\mu\\) vÃ  \\(\\phi = \\sigma^2\\) chÃºng ta cÃ³ hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn \\(\\mathcal{N}(\\mu,\\sigma)\\) lÃ  hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©, vá»›i \\((\\phi) = \\phi\\), \\(b(\\theta) = \\theta^2/2\\) vÃ \n\\[\\begin{align}\nc(y,\\phi) = -\\cfrac{y^2}{2\\phi} - \\cfrac{1}{2} log(2 \\pi \\phi)\n\\end{align}\\]\nBáº¡n Ä‘á»c cÃ³ thá»ƒ kiá»ƒm tra giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(\\mathcal{N}(\\mu,\\sigma)\\) dá»±a theo cÃ´ng thá»©c (10.23)\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) = \\theta = \\mu \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta) = \\phi \\cdot 1 = \\phi = \\sigma^2\n\\end{align}\\]VÃ­ dá»¥ 3: phÃ¢n phá»‘i \\(Gamma(\\alpha,\\gamma)\\) náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©. Tháº­t váº­y\n\\[\\begin{align}\nf(y) &= \\cfrac{\\gamma^\\alpha}{\\Gamma(\\alpha)} \\ y^{\\alpha-1} \\ e^{-\\gamma \\cdot y} \\\\\n&= \\exp\\left[ -\\gamma \\cdot y + \\alpha \\log(\\gamma) - \\log(\\Gamma(\\alpha)) - (\\alpha-1) \\cdot \\log(y)    \\right]\n\\end{align}\\]\nVá»›i \\(\\theta = -\\gamma/\\alpha\\) vÃ  \\(\\phi = 1/\\alpha\\) ta cÃ³\n\\[\\begin{align}\nf(y) & = \\exp\\left[ \\cfrac{\\theta y + \\log(-\\theta)}{1/\\alpha} - \\cfrac{\\log(\\alpha)}{1/\\alpha} - \\log(\\Gamma(\\alpha)) - (\\alpha-1) \\cdot \\log(y)    \\right] \\\\\n& = \\exp\\left[ \\cfrac{\\theta y + \\log(-\\theta)}{\\phi} + \\cfrac{\\log(\\phi)}{\\phi} - \\log(\\Gamma(1/\\phi)) - (1/\\phi-1) \\cdot \\log(y)    \\right]\n\\end{align}\\]\nChÃºng ta cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© vá»›i \\((\\phi) = \\phi\\), \\(b(\\theta) = \\log(-\\theta)\\), vÃ \n\\[\\begin{align}\nc(y,\\phi) = \\cfrac{\\log(\\phi)}{\\phi} - \\log(\\Gamma(1/\\phi)) - (1/\\phi-1) \\cdot \\log(y)\n\\end{align}\\]\nChÃºng ta kiá»ƒm tra giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(Gamma(\\alpha,\\beta)\\) theo cÃ´ng thá»©c (10.23)\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) = - \\cfrac{1}{\\theta} = \\cfrac{\\alpha}{\\gamma} \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta) = \\cfrac{1}{\\alpha} \\cdot \\cfrac{\\alpha^2}{\\gamma^2} = \\cfrac{\\alpha}{\\gamma^2}\n\\end{align}\\]VÃ­ dá»¥ 3: phÃ¢n phá»‘i \\(Gamma(\\alpha,\\gamma)\\) náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©. Tháº­t váº­y\n\\[\\begin{align}\nf(y) &= \\cfrac{\\gamma^\\alpha}{\\Gamma(\\alpha)} \\ y^{\\alpha-1} \\ e^{-\\gamma \\cdot y} \\\\\n&= \\exp\\left[ -\\gamma \\cdot y + \\alpha \\log(\\gamma) - \\log(\\Gamma(\\alpha)) - (\\alpha-1) \\cdot \\log(y)    \\right]\n\\end{align}\\]\nVá»›i \\(\\theta = -\\gamma/\\alpha\\) vÃ  \\(\\phi = 1/\\alpha\\) ta cÃ³\n\\[\\begin{align}\nf(y) & = \\exp\\left[ \\cfrac{\\theta y + \\log(-\\theta)}{1/\\alpha} - \\cfrac{\\log(\\alpha)}{1/\\alpha} - \\log(\\Gamma(\\alpha)) - (\\alpha-1) \\cdot \\log(y)    \\right] \\\\\n& = \\exp\\left[ \\cfrac{\\theta y + \\log(-\\theta)}{\\phi} + \\cfrac{\\log(\\phi)}{\\phi} - \\log(\\Gamma(1/\\phi)) - (1/\\phi-1) \\cdot \\log(y)    \\right]\n\\end{align}\\]\nChÃºng ta cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© vá»›i \\((\\phi) = \\phi\\), \\(b(\\theta) = \\log(-\\theta)\\), vÃ \n\\[\\begin{align}\nc(y,\\phi) = \\cfrac{\\log(\\phi)}{\\phi} - \\log(\\Gamma(1/\\phi)) - (1/\\phi-1) \\cdot \\log(y)\n\\end{align}\\]\nChÃºng ta kiá»ƒm tra giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i \\(Gamma(\\alpha,\\beta)\\) theo cÃ´ng thá»©c (10.23)\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) = - \\cfrac{1}{\\theta} = \\cfrac{\\alpha}{\\gamma} \\\\\n& \\mathbb{V}(Y) = (\\phi) \\cdot b^{''}(\\theta) = \\cfrac{1}{\\alpha} \\cdot \\cfrac{\\alpha^2}{\\gamma^2} = \\cfrac{\\alpha}{\\gamma^2}\n\\end{align}\\]Trong trÆ°á»ng há»£p hÃ m sá»‘ \\((\\phi)\\) lÃ  hÃ m sá»‘ tuyáº¿n tÃ­nh theo \\(\\phi\\), nghÄ©a lÃ  tá»“n táº¡i sá»‘ \\(\\omega\\) sao cho \\((\\phi) = \\cfrac{\\phi}{\\omega}\\) chÃºng ta cÃ³ hÃ m máº­t Ä‘á»™ cá»§a biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ© nhÆ° sau\n\\[\\begin{align}\nf(y;\\theta,\\phi) = \\exp\\left[ \\cfrac{y \\theta - b(\\theta)}{\\phi/\\omega} + c(y,\\phi) \\right]\n\\end{align}\\]\nGiÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a biáº¿n ngáº«u nhiÃªn \\(Y\\) trong trÆ°á»ng há»£p nÃ y Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau:\n\\[\\begin{align}\n& \\mathbb{E}(Y) = b^{'}(\\theta) \\\\\n& \\mathbb{V}(Y) = \\cfrac{\\phi}{\\omega} \\cdot b^{''}(\\theta)\n\\end{align}\\]Giáº£ sá»­ hÃ m \\(b^{'}(.)\\) lÃ  hÃ m sá»‘ Ä‘Æ¡n Ä‘iá»‡u vÃ  tá»“n táº¡i hÃ m sá»‘ ngÆ°á»£c \\({b^{'}}^{-1}(.)\\) thÃ¬ \\(\\theta = {b^{'}}^{-1}\\left(\\mathbb{E}(Y)\\right)\\). Ä‘Ã³ má»‘i liÃªn há»‡ giá»¯a phÆ°Æ¡ng sai cá»§a biáº¿n ngáº«u nhiÃªn \\(Y\\) vÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n \\(Y\\) Ä‘Æ°á»£c thá»ƒ hiá»‡n qua cÃ´ng thá»©c sau\n\\[\\begin{align}\n\\mathbb{V}(Y) = \\cfrac{\\phi}{\\omega} \\cdot b^{''}({b^{'}}^{-1}(\\mathbb{E}(Y)))\n\\end{align}\\]HÃ m sá»‘ \\(V(\\cdot) = b^{''}({b^{'}}^{-1}(\\cdot))\\) Ä‘Æ°á»£c gá»i lÃ  hÃ m phÆ°Æ¡ng sai cá»§a phÃ¢n phá»‘i kiá»ƒu mÅ©. Táº¡i sao chÃºng ta cáº§n Ä‘á»‹nh nghÄ©a má»™t hÃ m sá»‘ phá»©c táº¡p nhÆ° váº­y? Bá»Ÿi vÃ¬ hÃ m \\(V(\\cdot)\\) lÃ  cÆ¡ sá»Ÿ Ä‘á»ƒ ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh kiá»ƒm soÃ¡t phÆ°Æ¡ng sai cá»§a biáº¿n ngáº«u nhiÃªn kiá»ƒu mÅ©.Giáº£ sá»­ biáº¿n phá»¥ thuá»™c quan sÃ¡t Ä‘Æ°á»£c lÃ  \\(Y_1, Y_2, \\cdots, Y_n\\) cÃ³ cÃ¹ng phÃ¢n phá»‘i kiá»ƒu mÅ© vá»›i cÃ¹ng tham sá»‘ \\(\\phi\\), cÃ¹ng hÃ m \\(b(\\cdot)\\) vÃ  \\(c(\\cdot)\\), nhÆ°ng cÃ³ giÃ¡ trá»‹ \\(\\omega_i\\) khÃ¡c nhau. GiÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n \\(Y_i\\), kÃ½ hiá»‡u lÃ  \\(\\mu_i\\) Ä‘Æ°á»£c giáº£i thÃ­ch thÃ´ng qua cÃ¡c biáº¿n Ä‘á»™c láº­p vÃ  khÃ´ng phá»¥ thuá»™c vÃ o \\(\\omega_i\\), trong khi phÆ°Æ¡ng sai cá»§a biáº¿n \\(Y_i\\) phá»¥ thuá»™c vÃ o \\(\\omega_i\\) vÃ  giÃ¡ trá»‹ trung bÃ¬nh \\(\\mu_i\\):\n\\[\\begin{align}\n\\mathbb{V}(Y_i) = \\cfrac{\\phi}{\\omega_i} \\cdot V(\\mu_i)\n\\end{align}\\]Khi Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t trÃªn má»™t dá»¯ liá»‡u cá»¥ thá»ƒ, giÃ¡ trá»‹ hÃ m phÆ°Æ¡ng sai \\(V\\) phá»¥ thuá»™c vÃ o cÃ¡ch chÃºng ta lá»±a chá»n hÃ m \\(b\\) vÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y_i\\). Tham sá»‘ \\(\\phi\\) khÃ´ng phá»¥ thuá»™c vÃ o quan sÃ¡t \\(Y_i\\), Ä‘Ã³ há»‡ sá»‘ \\(w_i\\) cÃ³ Ã½ nghÄ©a quyáº¿t Ä‘á»‹nh trong xÃ¡c Ä‘á»‹nh phÆ°Æ¡ng sai cá»§a \\(Y_i\\). ChÃºng ta cÃ³ thá»ƒ lá»±a chá»n Ä‘Æ¡n giáº£n lÃ  cho \\(w_i\\) báº±ng 1 vá»›i má»i \\(\\), náº¿u chÃºng ta tin ráº±ng tá»· lá»‡ \\(\\cfrac{V(\\mu_i)}{\\mathbb{V}(Y_i)}\\) lÃ  háº±ng sá»‘. Trong má»™t sá»‘ trÆ°á»ng há»£p, \\(\\cfrac{V(\\mu_i)}{\\mathbb{V}(Y_i)}\\) thay Ä‘á»•i theo \\(\\), Ä‘Ã³ lÃ  lÃºc chÃºng ta cáº§n lá»±a chá»n \\(w_i\\) Ä‘á»ƒ cho káº¿t quáº£ tá»‘t nháº¥t. ChÃºng ta sáº½ tiáº¿p tá»¥c tháº£o luáº­n vá» hÃ m phÆ°Æ¡ng sai cá»§a biáº¿n phá»¥ thuá»™c trong pháº§n hÃ m há»£p lÃ½ tá»‘i Ä‘a cá»§a biáº¿n ngáº«u nhiÃªn náº±m trong há» phÃ¢n phá»‘i cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ©.","code":""},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"hÃ m-liÃªn-káº¿t.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.3.2 HÃ m liÃªn káº¿t.","text":"HÃ m sá»‘ liÃªn káº¿t \\(g(\\cdot)\\) liÃªn káº¿t giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vá»›i tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p luÃ´n Ä‘Æ°á»£c lá»±a chá»n trong nhÃ³m cÃ¡c hÃ m sá»‘ Ä‘Æ¡n Ä‘iá»‡u vÃ  cÃ³ Ä‘áº¡o hÃ m trÃªn miá»n xÃ¡c Ä‘á»‹nh cá»§a hÃ m sá»‘ Ä‘Ã³. CÃ¡c giáº£ thiáº¿t nÃ y Ä‘áº£m báº£o Ä‘á»ƒ hÃ m liÃªn káº¿t cÃ³ hÃ m sá»‘ ngÆ°á»£c \\(g^{-1}(\\cdot)\\) cÅ©ng lÃ  hÃ m Ä‘Æ¡n Ä‘iá»‡u vÃ  cÃ³ Ä‘áº¡o hÃ m trÃªn miá»n xÃ¡c Ä‘á»‹nh. Má»™t yáº¿u tá»‘ quan trá»ng khÃ¡c khi lá»±a chá»n hÃ m liÃªn káº¿t Ä‘Ã³ lÃ  \\(g(\\cdot)\\) cÃ³ miá»n xÃ¡c Ä‘á»‹nh trÃ¹ng vá»›i miá»n xÃ¡c Ä‘á»‹nh cá»§a giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vÃ  miá»n giÃ¡ trá»‹ cá»§a \\(g(\\cdot)\\) lÃ  táº­p sá»‘ thá»±c \\(\\mathbb{R}\\).Xin Ä‘Æ°á»£c nháº¯c láº¡i ráº±ng má»‘i liÃªn há»‡ giá»¯a trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c vÃ  tá»• há»£p tuyáº¿n tÃ­nh cá»§a biáº¿n Ä‘á»™c láº­p Ä‘Æ°á»£c mÃ´ táº£ thÃ´ng qua hÃ m liÃªn káº¿t nhÆ° sau:\n\\[\\begin{align}\n& g(\\mu_i) = \\beta_0 + \\beta_1 \\cdot x_{,1} +  \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,d} \\\\\n& \\mu_i = g^{-1}\\left( beta_0 + \\beta_1 \\cdot x_{,1} +  \\beta_2 \\cdot x_{,2} + \\cdots + \\beta_p \\cdot x_{,d} \\right)\n\\end{align}\\]Danh sÃ¡ch cÃ¡c hÃ m sá»‘ thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m hÃ m liÃªn káº¿t Ä‘Æ°á»£c cho trong báº£ng dÆ°á»›i Ä‘Ã¢yVÃ­ dá»¥ 1: khi \\(Y\\) mÃ´ táº£ sá»‘ láº§n khÃ¡ch hÃ ng gá»­i yÃªu cáº§u báº£o hiá»ƒm, giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) sáº½ lÃ  sá»‘ thá»±c dÆ°Æ¡ng. CÃ¡c hÃ m sá»‘ cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  táº­p cÃ¡c sá»‘ thá»±c dÆ°Æ¡ng sáº½ phÃ¹ há»£p trong trÆ°á»ng há»£p nÃ y. CÃ³ thá»ƒ tháº¥y trong báº£ng trÃªn cÃ¡c hÃ m \\(g(\\mu) = \\log(\\mu)\\) vÃ  hÃ m \\(g(\\mu) = 1/\\mu^2\\) lÃ  cÃ¡c hÃ m sá»‘ cÃ³ thá»ƒ lá»±a chá»n lÃ  hÃ m liÃªn káº¿t.VÃ­ dá»¥ 1: khi \\(Y\\) mÃ´ táº£ sá»‘ láº§n khÃ¡ch hÃ ng gá»­i yÃªu cáº§u báº£o hiá»ƒm, giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) sáº½ lÃ  sá»‘ thá»±c dÆ°Æ¡ng. CÃ¡c hÃ m sá»‘ cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  táº­p cÃ¡c sá»‘ thá»±c dÆ°Æ¡ng sáº½ phÃ¹ há»£p trong trÆ°á»ng há»£p nÃ y. CÃ³ thá»ƒ tháº¥y trong báº£ng trÃªn cÃ¡c hÃ m \\(g(\\mu) = \\log(\\mu)\\) vÃ  hÃ m \\(g(\\mu) = 1/\\mu^2\\) lÃ  cÃ¡c hÃ m sá»‘ cÃ³ thá»ƒ lá»±a chá»n lÃ  hÃ m liÃªn káº¿t.VÃ­ dá»¥ 2: khi \\(Y\\) mÃ´ táº£ khÃ¡ch hÃ ng cÃ³ gá»­i yÃªu cáº§u báº£o hiá»ƒm hay khÃ´ng, hoáº·c mÃ´ táº£ sá»± kiá»‡n tai náº¡n cÃ³ xáº£y ra hay khÃ´ng, giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) náº±m trong khoáº£ng \\((0,1)\\). Ä‘Ã³ cÃ¡c hÃ m \\(Logit\\), hÃ m \\(Probit\\), hÃ m \\(Log-Log\\), hoáº·c hÃ m \\(Cauchit\\) sáº½ lÃ  lá»±a chá»n phÃ¹ há»£p cho hÃ m liÃªn káº¿t.VÃ­ dá»¥ 2: khi \\(Y\\) mÃ´ táº£ khÃ¡ch hÃ ng cÃ³ gá»­i yÃªu cáº§u báº£o hiá»ƒm hay khÃ´ng, hoáº·c mÃ´ táº£ sá»± kiá»‡n tai náº¡n cÃ³ xáº£y ra hay khÃ´ng, giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(Y\\) náº±m trong khoáº£ng \\((0,1)\\). Ä‘Ã³ cÃ¡c hÃ m \\(Logit\\), hÃ m \\(Probit\\), hÃ m \\(Log-Log\\), hoáº·c hÃ m \\(Cauchit\\) sáº½ lÃ  lá»±a chá»n phÃ¹ há»£p cho hÃ m liÃªn káº¿t.Khi lá»±a chá»n hÃ m liÃªn káº¿t báº¡n Ä‘á»c cáº§n cÃ¢n nháº¯c Ä‘áº¿n kháº£ nÄƒng giáº£i thÃ­ch cá»§a mÃ´ hÃ¬nh vÃ  sá»± khÃ³ khÄƒn cÃ³ thá»ƒ gáº·p pháº£i khi Æ°á»›c lÆ°á»£ng cá»§a tham sá»‘ trong mÃ´ hÃ¬nh. VÃ­ dá»¥ nhÆ° khi biáº¿n má»¥c tiÃªu chá»‰ nháº­n giÃ¡ trá»‹ 0 hoáº·c 1, hÃ m logit thÆ°á»ng xuyÃªn Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi vÃ¬ kháº£ nÄƒng giáº£i thÃ­ch tá»‘t hÆ¡n hÃ m \\(Probit\\) hay \\(Log-Log\\). Hoáº·c khi cÃ¢n nháº¯c lá»±a chá»n giá»¯a hÃ m \\(log\\) vÃ  hÃ m \\(inverse\\) \\(squared\\), hÃ m \\(log\\) thÆ°á»ng Ä‘Æ°á»£c Æ°u tiÃªn lá»±a chá»n. CÃ³ thá»ƒ sÃ¡nh má»‘i liÃªn há»‡ giá»¯a \\(\\mu_i\\) vá»›i cÃ¡c biáº¿n Ä‘á»™c láº­p nhÆ° dÆ°á»›i Ä‘Ã¢y thÃ´ng qua hÃ m \\(log\\) hoáº·c hÃ m \\(inverse\\) \\(squared\\) nhÆ° sau\n\\[\\begin{align}\n&\\text{ HÃ m log: } \\mu_i = exp(\\beta_0) \\cdot exp(\\beta_1 \\cdot x_{,1}) \\cdots exp(\\beta_p \\cdot x_{,p}) \\\\\n&\\text{ Inverse squared: } \\mu_i = \\cfrac{1}{\\sqrt{\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}}}\n\\end{align}\\]\nKhi sá»­ dá»¥ng hÃ m \\(log\\), má»—i biáº¿n Ä‘á»™c láº­p tÃ¡c Ä‘á»™ng lÃªn giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c má»™t cÃ¡ch Ä‘á»™c láº­p vá»›i nhau theo quy táº¯c nhÃ¢n, trong khi Ä‘Ã³ khÃ´ng dá»… Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ tÃ¡c Ä‘á»™ng cá»§a má»™t biáº¿n Ä‘á»™c láº­p lÃªn biáº¿n phá»¥ thuá»™c trong cÃ´ng thá»©c cá»§a hÃ m \\(inverse\\) \\(squared\\). Hay nÃ³i cÃ¡ch khÃ¡c, sá»­ dá»¥ng hÃ m \\(log\\) thÆ°á»ng sáº½ dá»… dÃ ng giáº£i thÃ­ch káº¿t quáº£ hÆ¡n vá»›i khi sá»­ dá»¥ng hÃ m \\(inverse\\) \\(squared\\).Vá»›i \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn náº±m trong há» cÃ¡c phÃ¢n phá»‘i kiá»ƒu mÅ© ta cÃ³ \\(\\mathbb{E}(Y_i) = b^{'}(\\theta_i)\\). Khi chÃºng ta lá»±a chá»n hÃ m liÃªn káº¿t lÃ  \\(g(\\cdot) = (b^{'})^{-1}(\\cdot)\\) thÃ¬ má»‘i liÃªn há»‡ giá»¯a tham sá»‘ chÃ­nh táº¯c \\(\\theta_i\\) vá»›i cÃ¡c biáº¿n Ä‘á»™c láº­p sáº½ lÃ  tuyáº¿n tÃ­nh. Tháº­t váº­y,\n\\[\\begin{align}\n& \\mu_i = g^{-1}(\\theta_i) \\\\\n& g(\\mu_i) = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}\\\\\n& \\rightarrow \\theta_i = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\beta_2 \\cdot x_{,2} \\cdots + \\beta_p \\cdot x_{,p}\n\\end{align}\\]NhÆ° váº­y, vá»›i lá»±a chá»n hÃ m liÃªn káº¿t \\(g(\\cdot) = (b^{'})^{-1}(\\cdot)\\), tham sá»‘ chÃ­nh táº¯c \\(\\theta_i\\) cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i mÅ© \\(Y_i\\) báº±ng tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p. Trong trÆ°á»ng há»£p nÃ y, hÃ m liÃªn káº¿t \\((b^{'})^{-1}(\\cdot)\\) cÃ²n Ä‘Æ°á»£c gá»i lÃ  hÃ m liÃªn káº¿t chÃ­nh táº¯c cá»§a biáº¿n phá»¥ thuá»™c \\(Y\\).VÃ­ dá»¥ 1: khi \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(\\mu, \\sigma)\\), chÃºng ta cÃ³ \\(b(\\mu) = \\mu^2/2\\) vÃ  \\(b^{'}(\\mu) = \\mu\\) Ä‘Ã³ hÃ m liÃªn káº¿t chÃ­nh táº¯c cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(\\mu, \\sigma)\\) lÃ  \\(g(\\mu) = \\mu\\).VÃ­ dá»¥ 1: khi \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(\\mu, \\sigma)\\), chÃºng ta cÃ³ \\(b(\\mu) = \\mu^2/2\\) vÃ  \\(b^{'}(\\mu) = \\mu\\) Ä‘Ã³ hÃ m liÃªn káº¿t chÃ­nh táº¯c cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i chuáº©n \\(\\mathcal{N}(\\mu, \\sigma)\\) lÃ  \\(g(\\mu) = \\mu\\).VÃ­ dá»¥ 2: khi \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i \\(gamma(\\alpha,\\gamma)\\), chÃºng ta cÃ³ \\(b(\\mu) = \\log(-\\mu)\\), vÃ  \\(b^{'}(\\mu) = -1/\\mu\\), Ä‘Ã³ hÃ m liÃªn káº¿t chÃ­nh táº¯c cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i gamma lÃ  \\(g(\\mu) = -1/\\mu\\). Trong trÆ°á»ng há»£p nÃ y hÃ m liÃªn káº¿t khÃ´ng cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  táº­p cÃ¡c sá»‘ thá»±c dÆ°Æ¡ng. CÃ³ thá»ƒ tháº¥y ráº±ng lá»±a chá»n hÃ m liÃªn káº¿t chÃ­nh táº¯c khÃ´ng pháº£i lÃ  má»™t lá»±a chá»n phÃ¹ há»£p.VÃ­ dá»¥ 2: khi \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn cÃ³ phÃ¢n phá»‘i \\(gamma(\\alpha,\\gamma)\\), chÃºng ta cÃ³ \\(b(\\mu) = \\log(-\\mu)\\), vÃ  \\(b^{'}(\\mu) = -1/\\mu\\), Ä‘Ã³ hÃ m liÃªn káº¿t chÃ­nh táº¯c cá»§a biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i gamma lÃ  \\(g(\\mu) = -1/\\mu\\). Trong trÆ°á»ng há»£p nÃ y hÃ m liÃªn káº¿t khÃ´ng cÃ³ miá»n xÃ¡c Ä‘á»‹nh lÃ  táº­p cÃ¡c sá»‘ thá»±c dÆ°Æ¡ng. CÃ³ thá»ƒ tháº¥y ráº±ng lá»±a chá»n hÃ m liÃªn káº¿t chÃ­nh táº¯c khÃ´ng pháº£i lÃ  má»™t lá»±a chá»n phÃ¹ há»£p.","code":""},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"hÃ m-há»£p-lÃ½-tá»‘i-Ä‘a-vÃ -Æ°á»›c-lÆ°á»£ng-mÃ´-hÃ¬nh.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.4 HÃ m há»£p lÃ½ tá»‘i Ä‘a vÃ  Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh.","text":"Há»‡ sá»‘ tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p \\(\\boldsymbol{\\beta} = (\\beta_0, \\beta_1, \\cdots, \\beta_p)\\) Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng tá»« dá»¯ liá»‡u \\(\\textbf{y} = (y_1, y_2, \\cdots y_n)\\) vÃ  \\(\\textbf{x} = (\\textbf{x}_1, \\textbf{x}_2, \\cdots \\textbf{x}_n)\\) báº±ng phÆ°Æ¡ng phÃ¡p tá»‘i Ä‘a hÃ³a hÃ m há»£p lÃ½, hay cÃ²n gá»i lÃ  hÃ m likelihood. Khi biáº¿n má»¥c tiÃªu \\(Y_i\\) cÃ³ phÃ¢n phá»‘i kiá»ƒu mÅ©, hÃ m likelihood Ä‘Æ°á»£c viáº¿t nhÆ° sau\n\\[\\begin{align}\nL(\\textbf{y},\\boldsymbol{\\beta}) = \\prod\\limits_{=1}^n \\ \\exp\\left[ \\cfrac{y_i \\theta - b(\\theta)}{a_i(\\phi)} + c_i(y_i,\\phi) \\right]\n\\end{align}\\]\nTrong háº§u háº¿t cÃ¡c trÆ°á»ng há»£p, chÃºng ta sáº½ thá»±c hiá»‡n tÃ­nh toÃ¡n trÃªn hÃ m Log-likelihood thay vÃ¬ hÃ m likelihood. HÃ m Log-likelihood Ä‘Æ°á»£c kÃ½ hiá»‡u \\(l(\\textbf{y},\\beta)\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau\\[\\begin{align}\nl(\\textbf{y},\\beta) &= \\log \\left( \\prod\\limits_{=1}^n \\ \\exp\\left[ \\cfrac{y_i \\theta_i - b(\\theta_i)}{a_i(\\phi)} + c_i(y_i,\\phi) \\right] \\right) \\\\\n&= \\sum\\limits_{=1}^n  \\left(\\cfrac{y_i \\theta_i - b(\\theta_i)}{a_i(\\phi)} + c_i(y_i,\\phi)\\right)\n\\end{align}\\]\nVÃ©c-tÆ¡ há»‡ sá»‘ \\(\\boldsymbol{\\beta}\\) Ä‘Æ°á»£c Æ°á»›c lÆ°á»£ng sao cho giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood Ä‘áº¡t giÃ¡ trá»‹ lá»›n nháº¥t. NhÆ° váº­y \\(\\boldsymbol{\\beta}\\) lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\cfrac{\\partial l(\\textbf{y},\\boldsymbol{\\beta})}{\\partial \\beta_j} & = 0 \\ \\ \\forall j = 1,2, \\cdots, p\n\\end{align}\\]\nLÆ°u Ã½ ráº±ng \\(b^{'}(\\theta_i) = \\mu_i\\) nÃªn trong cÃ¡c thÃ nh pháº§n cá»§a hÃ m máº­t Ä‘á»™ xÃ¡c suáº¥t cá»§a biáº¿n \\(Y_i\\) chá»‰ cÃ³ hÃ m sá»‘ \\(b(\\cdot)\\) vÃ  tham sá»‘ \\(\\theta_i\\) phá»¥ thuá»™c vÃ o há»‡ sá»‘ \\(\\boldsymbol{\\beta}\\). Äáº¡o hÃ m cá»§a hÃ m Log-likelihood theo \\(\\beta\\) cÃ³ thá»ƒ viáº¿t Ä‘Æ°á»£c nhÆ° sau\n\\[\\begin{align}\n\\cfrac{\\partial l(\\textbf{y},\\beta)}{\\partial \\beta_j} & = \\sum\\limits_{=1}^n  \\cfrac{1}{a_i(\\phi)} \\left(y_i \\cfrac{\\partial \\theta_i}{\\partial \\beta_j} - \\cfrac{\\partial b(\\theta_i)}{\\partial \\beta_j} \\right) \\\\\n& = \\sum\\limits_{=1}^n  \\cfrac{y_i - b^{'}(\\theta_i)}{a_i(\\phi)} \\cfrac{\\partial \\theta_i}{\\partial \\beta_j}\n\\end{align}\\]LÆ°u Ã½ ráº±ng \\(\\mu_i = b^{'}(\\theta_i)\\), Ä‘o Ä‘Ã³\n\\[\\begin{align}\n\\theta_i = (b^{'})^{-1}(\\mu_i) = (b^{'})^{-1}\\left(g^{-1}(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots \\beta_p \\cdot x_{,p})\\right)\n\\end{align}\\]\nÄ‘á»“ng thá»i, Ä‘áº¡o hÃ m cá»§a hÃ m ngÆ°á»£c Ä‘Æ°á»£c cá»§a cÃ¡c hÃ m \\(b^{'}(\\cdot)\\) vÃ  \\(g(\\cdot)\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau\n\\[\\begin{align}\n& \\left((b^{'})^{-1}\\right)^{'}(\\mu_i) = \\cfrac{1}{(b^{''}\\left((b^{'})^{-1}(\\mu_i)\\right)} = \\cfrac{1}{b^{''}(\\theta_i)} \\\\\n& (g^{-1}(\\psi_i))^{'} = \\cfrac{1}{(g^{'}(g^{-1}(\\psi_i))} =  \\cfrac{1}{g^{'}(\\mu_i)}\n\\end{align}\\]\nvá»›i \\(\\psi_i = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots \\beta_p \\cdot x_{,p}\\).NhÆ° váº­y, Ä‘áº¡o hÃ m cá»§a \\(\\theta_i\\) theo \\(\\beta_j\\) Ä‘Æ°á»£c tÃ­nh nhÆ° sau\n\\[\\begin{align}\n\\cfrac{\\partial \\theta_i}{\\partial \\beta_j} = \\cfrac{\\partial (b^{'})^{-1}(g^{-1}(\\psi_i(\\beta_j)))}{\\partial \\beta_j} = \\cfrac{x_{,j}}{b^{''}(\\theta_i) \\cdot g^{'}(\\mu_i)}\n\\end{align}\\]Ta cÃ³ Ä‘áº¡o hÃ m cá»§a hÃ m Log-likelihood theo cÃ¡c tham sá»‘ \\(\\beta_j\\)\n\\[\\begin{align}\n\\cfrac{\\partial l(\\textbf{y},\\beta)}{\\partial \\beta_j} = \\sum\\limits_{=1}^n  \\cfrac{(y_i - \\mu_i) \\cdot x_{,j}}{a_i(\\phi) \\cdot b^{''}(\\theta_i) \\cdot g^{'}(\\mu_i)}\n\\end{align}\\]Vá»›i lá»±a chá»n \\(a_i(\\phi) = \\cfrac{\\phi}{\\omega_i}\\), phÆ°Æ¡ng sai cá»§a biáº¿n phá»¥ thuá»™c lÃ  \\(a_i(\\phi) \\cdot b^{''}(\\theta_i)\\) nÃªn ta cÃ³ thá»ƒ viáº¿t hÃ m Log-likelihood theo cÃ¡c tham sá»‘ \\(\\beta_j\\) theo giÃ¡ trá»‹ trung bÃ¬nh vÃ  phÆ°Æ¡ng sai cá»§a biáº¿n phá»¥ thuá»™c\n\\[\\begin{align}\n\\cfrac{\\partial l(\\textbf{y},\\boldsymbol{\\beta})}{\\partial \\beta_j} &= \\sum\\limits_{=1}^n  \\cfrac{(y_i - \\mu_i) \\cdot x_{,j}}{\\mathbb{V}(y_i) \\cdot g^{'}(\\mu_i)} \\\\\n& = \\sum\\limits_{=1}^n w_i \\cfrac{(y_i - \\mu_i) \\cdot x_{,j}}{\\phi V(\\mu_i) \\cdot g^{'}(\\mu_i)} \\\\\n& =\\cfrac{1}{\\phi} \\sum\\limits_{=1}^n w_i \\cfrac{x_{,j}}{V(\\mu_i) \\cdot g^{'}(\\mu_i)} (y_i - \\mu_i)\n\\end{align}\\]\nCÃ³ thá»ƒ tháº§y ráº±ng:Thá»© nháº¥t, \\(\\beta_j\\) lÃ  nghiá»‡m cá»§a phÆ°Æ¡ng trÃ¬nh \\(\\cfrac{\\partial l(\\textbf{y},\\beta)}{\\partial \\beta_j} = 0\\) sáº½ khÃ´ng phá»¥ thuá»™c vÃ o giÃ¡ trá»‹ cá»§a tham sá»‘ phÃ¢n tÃ¡n \\(\\phi\\).Thá»© nháº¥t, \\(\\beta_j\\) lÃ  nghiá»‡m cá»§a phÆ°Æ¡ng trÃ¬nh \\(\\cfrac{\\partial l(\\textbf{y},\\beta)}{\\partial \\beta_j} = 0\\) sáº½ khÃ´ng phá»¥ thuá»™c vÃ o giÃ¡ trá»‹ cá»§a tham sá»‘ phÃ¢n tÃ¡n \\(\\phi\\).Thá»© hai, giÃ¡ trá»‹ cá»§a \\(\\mu_i\\) phá»¥ thuá»™c vÃ o giÃ¡ trá»‹ cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p \\(\\textbf{x}_i\\) vÃ  phá»¥ thuá»™c vÃ o cÃ¡c há»‡ sá»‘ \\(\\boldsymbol{\\beta}\\), Ä‘Ã³ giÃ¡ trá»‹ \\(\\cfrac{x_{,j}}{V(\\mu_i) \\cdot g^{'}(\\mu_i)}\\) khÃ´ng phá»¥ thuá»™c hoÃ n toÃ n vÃ o cÃ¡ch chÃºng ta xÃ¢y dá»±ng mÃ´ hÃ¬nh.Thá»© hai, giÃ¡ trá»‹ cá»§a \\(\\mu_i\\) phá»¥ thuá»™c vÃ o giÃ¡ trá»‹ cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p \\(\\textbf{x}_i\\) vÃ  phá»¥ thuá»™c vÃ o cÃ¡c há»‡ sá»‘ \\(\\boldsymbol{\\beta}\\), Ä‘Ã³ giÃ¡ trá»‹ \\(\\cfrac{x_{,j}}{V(\\mu_i) \\cdot g^{'}(\\mu_i)}\\) khÃ´ng phá»¥ thuá»™c hoÃ n toÃ n vÃ o cÃ¡ch chÃºng ta xÃ¢y dá»±ng mÃ´ hÃ¬nh.Thá»© ba, giÃ¡ trá»‹ \\(w_i\\) khÃ´ng phá»¥ thuá»™c vÃ o dá»¯ liá»‡u Ä‘Ã³ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng linh hoáº¡t Ä‘á»ƒ Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh cÃ³ káº¿t quáº£ tá»‘t nháº¥t.Thá»© ba, giÃ¡ trá»‹ \\(w_i\\) khÃ´ng phá»¥ thuá»™c vÃ o dá»¯ liá»‡u Ä‘Ã³ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng linh hoáº¡t Ä‘á»ƒ Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh cÃ³ káº¿t quáº£ tá»‘t nháº¥t.Giáº£i há»‡ phÆ°Æ¡ng trÃ¬nh vá»›i áº©n lÃ  vÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\) nhÆ° trÃªn thÆ°á»ng pháº£i sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng phÃ¡p giáº£i sá»‘. PhÆ°Æ¡ng phÃ¡p thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  thuáº­t toÃ¡n Newton Raphson.HÃ m glm() sá»­ dá»¥ng xuyÃªn suá»‘t trong chÆ°Æ¡ng sÃ¡ch cho phÃ©p báº¡n Ä‘á»c Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t cho Ä‘a sá»‘ cÃ¡c phÃ¢n phá»‘i thÆ°á»ng gáº·p cá»§a \\(Y_i\\). Tham sá»‘ \\(weight\\) trong hÃ m glm() lÃ  vÃ©c-tÆ¡ tham sá»‘ \\(w_i\\) nhÆ° chÃºng ta Ä‘Ã£ trÃ¬nh bÃ y á»Ÿ trÃªn. Lá»±a chá»n giÃ¡ trá»‹ cho \\(w_i\\) hoÃ n toÃ n cÃ¡ch tiáº¿p cáº­n cá»§a ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh.VÃ­ dá»¥ 1: khi lá»±a chá»n \\(Y_i\\) cÃ³ phÃ¢n phá»‘i Poisson vá»›i tham sá»‘ \\(\\lambda_i = exp(\\theta_i)\\) vÃ  hÃ m liÃªn káº¿t lÃ  hÃ m \\(g(\\cdot) = log(\\cdot)\\). ChÃºng ta cÃ³ \\((\\phi) = 1\\) Ä‘Ã³ \\(w_i = 1 \\forall \\).\n\\[\\begin{align}\n& g(\\mu_i) = log(\\mu_i) \\rightarrow g^{'}(\\mu_i) = 1/\\mu_i \\\\\n& b(\\theta) = exp(\\theta) \\rightarrow b^{'}(\\theta) = b^{''}(\\theta) = exp(\\theta) \\rightarrow (b^{'})^{-1}(\\theta) = \\log(\\theta) \\rightarrow V(\\theta) = b^{''}(b^{'})^{-1})(\\theta) = \\theta\n\\end{align}\\]\nÄáº¡o hÃ m cá»§a hÃ m Log-likelihood theo \\(\\beta_j\\) trá»Ÿ thÃ nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n w_i \\cdot \\cfrac{x_{,j}}{\\phi V(\\mu_i) \\cdot g^{'}(\\mu_i)} (y_i - \\mu_i) &= \\sum\\limits_{=1}^n x_{,j} (y_i - \\mu_i) \\\\\n&= \\sum\\limits_{=1}^n x_{,j} \\left[y_i - \\exp(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p})\\right]\n\\end{align}\\]\nhay nÃ³i má»™t cÃ¡ch khÃ¡c, vÃ©c-tÆ¡ tham sá»‘ \\(\\beta\\) Ä‘á»ƒ tá»‘i Ä‘a hÃ³a giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n x_{,j} \\left[y_i - \\exp \\left(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p} \\right) \\right] = 0 \\ \\forall j\n\\end{align}\\]VÃ­ dá»¥ 1: khi lá»±a chá»n \\(Y_i\\) cÃ³ phÃ¢n phá»‘i Poisson vá»›i tham sá»‘ \\(\\lambda_i = exp(\\theta_i)\\) vÃ  hÃ m liÃªn káº¿t lÃ  hÃ m \\(g(\\cdot) = log(\\cdot)\\). ChÃºng ta cÃ³ \\((\\phi) = 1\\) Ä‘Ã³ \\(w_i = 1 \\forall \\).\n\\[\\begin{align}\n& g(\\mu_i) = log(\\mu_i) \\rightarrow g^{'}(\\mu_i) = 1/\\mu_i \\\\\n& b(\\theta) = exp(\\theta) \\rightarrow b^{'}(\\theta) = b^{''}(\\theta) = exp(\\theta) \\rightarrow (b^{'})^{-1}(\\theta) = \\log(\\theta) \\rightarrow V(\\theta) = b^{''}(b^{'})^{-1})(\\theta) = \\theta\n\\end{align}\\]\nÄáº¡o hÃ m cá»§a hÃ m Log-likelihood theo \\(\\beta_j\\) trá»Ÿ thÃ nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n w_i \\cdot \\cfrac{x_{,j}}{\\phi V(\\mu_i) \\cdot g^{'}(\\mu_i)} (y_i - \\mu_i) &= \\sum\\limits_{=1}^n x_{,j} (y_i - \\mu_i) \\\\\n&= \\sum\\limits_{=1}^n x_{,j} \\left[y_i - \\exp(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p})\\right]\n\\end{align}\\]\nhay nÃ³i má»™t cÃ¡ch khÃ¡c, vÃ©c-tÆ¡ tham sá»‘ \\(\\beta\\) Ä‘á»ƒ tá»‘i Ä‘a hÃ³a giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n x_{,j} \\left[y_i - \\exp \\left(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p} \\right) \\right] = 0 \\ \\forall j\n\\end{align}\\]VÃ­ dá»¥ 2: khi \\(Y_i\\) cÃ³ phÃ¢n phá»‘i Gamma vá»›i tham sá»‘ \\(\\alpha\\), \\(\\gamma_i\\) chÃºng ta cÃ³ \\(b(\\theta_i) = log(-\\theta_i)\\) vá»›i \\(\\theta_i = - \\cfrac{\\gamma_i}{\\alpha}\\) Ä‘á»“ng thá»i \\((\\phi) = \\phi\\) Ä‘Ã³ \\(w_i = 1\\) \\(\\forall \\). Giáº£ sá»­ hÃ m liÃªn káº¿t Ä‘Æ°á»£c lá»±a chá»n lÃ  hÃ m \\(log\\): \\(g(\\cdot) = log(\\cdot)\\).\n\\[\\begin{align}\n& g(\\mu_i) = log(\\mu_i) \\rightarrow g^{'}(\\mu_i) = 1/\\mu_i \\\\\n& b(\\theta_i) = log(-\\theta_i) \\rightarrow b^{'}(\\theta_i) = -1/\\theta_i \\rightarrow b^{''}(\\theta) = 1/\\theta^2 \\rightarrow (b^{'})^{-1}(\\theta) = -1/\\theta \\rightarrow V(\\mu) = b^{''}(b^{'})^{-1})(\\mu) = \\mu^2\n\\end{align}\\]\nÄáº¡o hÃ m cá»§a hÃ m Log-likelihood theo \\(\\beta_j\\) trá»Ÿ thÃ nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n w_i \\cdot \\cfrac{x_{,j}}{\\phi V(\\mu_i) \\cdot g^{'}(\\mu_i)} (y_i - \\mu_i) &= \\sum\\limits_{=1}^n \\cfrac{x_{,j}}{\\mu_i} (y_i - \\mu_i)\n\\end{align}\\]\nvÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\) Ä‘á»ƒ tá»‘i Ä‘a hÃ³a giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n x_{,j} \\left\\{y_i \\cdot \\exp\\left[-(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}) \\right] - 1 \\right\\} = 0 \\ \\forall j\n\\end{align}\\]VÃ­ dá»¥ 2: khi \\(Y_i\\) cÃ³ phÃ¢n phá»‘i Gamma vá»›i tham sá»‘ \\(\\alpha\\), \\(\\gamma_i\\) chÃºng ta cÃ³ \\(b(\\theta_i) = log(-\\theta_i)\\) vá»›i \\(\\theta_i = - \\cfrac{\\gamma_i}{\\alpha}\\) Ä‘á»“ng thá»i \\((\\phi) = \\phi\\) Ä‘Ã³ \\(w_i = 1\\) \\(\\forall \\). Giáº£ sá»­ hÃ m liÃªn káº¿t Ä‘Æ°á»£c lá»±a chá»n lÃ  hÃ m \\(log\\): \\(g(\\cdot) = log(\\cdot)\\).\n\\[\\begin{align}\n& g(\\mu_i) = log(\\mu_i) \\rightarrow g^{'}(\\mu_i) = 1/\\mu_i \\\\\n& b(\\theta_i) = log(-\\theta_i) \\rightarrow b^{'}(\\theta_i) = -1/\\theta_i \\rightarrow b^{''}(\\theta) = 1/\\theta^2 \\rightarrow (b^{'})^{-1}(\\theta) = -1/\\theta \\rightarrow V(\\mu) = b^{''}(b^{'})^{-1})(\\mu) = \\mu^2\n\\end{align}\\]\nÄáº¡o hÃ m cá»§a hÃ m Log-likelihood theo \\(\\beta_j\\) trá»Ÿ thÃ nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n w_i \\cdot \\cfrac{x_{,j}}{\\phi V(\\mu_i) \\cdot g^{'}(\\mu_i)} (y_i - \\mu_i) &= \\sum\\limits_{=1}^n \\cfrac{x_{,j}}{\\mu_i} (y_i - \\mu_i)\n\\end{align}\\]\nvÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\) Ä‘á»ƒ tá»‘i Ä‘a hÃ³a giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n x_{,j} \\left\\{y_i \\cdot \\exp\\left[-(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}) \\right] - 1 \\right\\} = 0 \\ \\forall j\n\\end{align}\\]VÃ­ dá»¥ 3: khi \\(Y_i\\) lÃ  sá»‘ tiá»n bá»“i thÆ°á»ng trung bÃ¬nh cho 1 tai náº¡n trong vÃ²ng 1 nÄƒm cá»§a má»™t khÃ¡ch hÃ ng, biáº¿t ráº±ng khÃ¡ch hÃ ng Ä‘Æ°á»£c bá»“i thÆ°á»ng \\(n_i\\) láº§n trong nÄƒm vÃ  sá»‘ tiá»n bá»“i thÆ°á»ng cá»§a má»™t vá»¥ tai náº¡n lÃ  biáº¿n ngáº«u nhiÃªn \\(Y^*_i\\) phÃ¢n phá»‘i Gamma vá»›i tham sá»‘ \\(\\alpha\\), \\(\\beta_i\\). \\(Y_i\\) lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(n_i\\) biáº¿n phÃ¢n phá»‘i Gamma Ä‘á»™c láº­p vá»›i cÃ¹ng tham sá»‘ \\(\\alpha\\), \\(\\beta_i\\) nÃªn \\(Y_i\\) sáº½ cÃ³ phÃ¢n phá»‘i Gamma vá»›i tham sá»‘ \\((n_i \\alpha)\\) vÃ  \\((n_i \\beta_i)\\). Khi viáº¿t \\(Y_i\\) dÆ°á»›i dáº¡ng phÃ¢n phá»‘i kiá»ƒu mÅ©, chÃºng ta cÃ³ \\(b(\\theta_i) = log(-\\theta_i)\\) vá»›i \\(\\theta_i = - \\cfrac{\\beta_i}{\\alpha}\\) vÃ  \\((\\phi) = \\phi/n_i\\). VÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\) Ä‘á»ƒ tá»‘i Ä‘a hÃ³a giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n n_i \\cdot \\ x_{,j} \\cdot  \\left[y_i \\cdot \\exp\\left(-(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}) \\right) - 1 \\right] = 0 \\ \\forall j\n\\end{align}\\]VÃ­ dá»¥ 3: khi \\(Y_i\\) lÃ  sá»‘ tiá»n bá»“i thÆ°á»ng trung bÃ¬nh cho 1 tai náº¡n trong vÃ²ng 1 nÄƒm cá»§a má»™t khÃ¡ch hÃ ng, biáº¿t ráº±ng khÃ¡ch hÃ ng Ä‘Æ°á»£c bá»“i thÆ°á»ng \\(n_i\\) láº§n trong nÄƒm vÃ  sá»‘ tiá»n bá»“i thÆ°á»ng cá»§a má»™t vá»¥ tai náº¡n lÃ  biáº¿n ngáº«u nhiÃªn \\(Y^*_i\\) phÃ¢n phá»‘i Gamma vá»›i tham sá»‘ \\(\\alpha\\), \\(\\beta_i\\). \\(Y_i\\) lÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a \\(n_i\\) biáº¿n phÃ¢n phá»‘i Gamma Ä‘á»™c láº­p vá»›i cÃ¹ng tham sá»‘ \\(\\alpha\\), \\(\\beta_i\\) nÃªn \\(Y_i\\) sáº½ cÃ³ phÃ¢n phá»‘i Gamma vá»›i tham sá»‘ \\((n_i \\alpha)\\) vÃ  \\((n_i \\beta_i)\\). Khi viáº¿t \\(Y_i\\) dÆ°á»›i dáº¡ng phÃ¢n phá»‘i kiá»ƒu mÅ©, chÃºng ta cÃ³ \\(b(\\theta_i) = log(-\\theta_i)\\) vá»›i \\(\\theta_i = - \\cfrac{\\beta_i}{\\alpha}\\) vÃ  \\((\\phi) = \\phi/n_i\\). VÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\) Ä‘á»ƒ tá»‘i Ä‘a hÃ³a giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood lÃ  nghiá»‡m cá»§a há»‡ phÆ°Æ¡ng trÃ¬nh\n\\[\\begin{align}\n\\sum\\limits_{=1}^n n_i \\cdot \\ x_{,j} \\cdot  \\left[y_i \\cdot \\exp\\left(-(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}) \\right) - 1 \\right] = 0 \\ \\forall j\n\\end{align}\\]","code":""},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"so-sÃ¡nh-vÃ -lá»±a-chá»n-mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t.","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.5 So sÃ¡nh vÃ  lá»±a chá»n mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","text":"Náº¯m Ä‘Æ°á»£c cÃ¡c nguyÃªn táº¯c chung báº¡n Ä‘á»c cÃ³ thá»ƒ tá»± xÃ¢y dá»±ng nhiá»u mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t khÃ¡c nhau cho má»™t dá»¯ liá»‡u cá»¥ thá»ƒ. ThÃ¡ch thá»©c Ä‘áº·t ra lÃ  má»™t mÃ´ hÃ¬nh liá»‡u cÃ³ thá»±c sá»± cÃ³ tá»‘t hÆ¡n cÃ¡c mÃ´ hÃ¬nh khÃ¡c, hay trong sá»‘ cÃ¡c mÃ´ hÃ¬nh báº¡n lá»±a chá»n mÃ´ hÃ¬nh nÃ o lÃ  phÃ¹ há»£p nháº¥t? Pháº§n nÃ y cá»§a chÆ°Æ¡ng sáº½ tháº£o luáº­n vá» váº¥n Ä‘á» sÃ¡nh mÃ´ hÃ¬nh vÃ  lá»±a chá»n mÃ´ hÃ¬nh. CÃ¡c chá»‰ tiÃªu thá»‘ng kÃª Ä‘Æ°á»£c sá»§ dá»¥ng Ä‘á»ƒ sÃ¡nh mÃ´ hÃ¬nh sáº½ xoay quanh giÃ¡ trá»‹ cá»§a hÃ m há»£p lÃ½ tá»‘i Ä‘a, bao gá»“m cÃ³ thÆ°á»›c Ä‘o deviance, chá»‰ tiÃªu AIC, AICC, hay BIC.","code":""},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"thÆ°á»›c-Ä‘o-deviance","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.5.1 ThÆ°á»›c Ä‘o deviance","text":"ThÆ°á»›c Ä‘o Ä‘Æ°á»£c gá»i lÃ  deviance thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ vÃ  sÃ¡nh cÃ¡c mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t cÃ³ cÃ¹ng phÃ¢n phá»‘i cá»§a biáº¿n Ä‘á»™c láº­p. Chá»‰ tiÃªu nÃ y Ä‘Æ°á»£c tÃ­nh toÃ¡n dá»±a trÃªn giÃ¡ trá»‹ hÃ m Log-likelihood. Khi \\(Y\\) lÃ  biáº¿n ngáº«u nhiÃªn trong nhÃ³m cÃ¡c phÃ¢n phá»‘i mÅ©, hÃ m log-likelihood Ä‘Æ°á»£c viáº¿t nhÆ° sau\n\\[\\begin{align}\nl(\\textbf{y},\\theta) & = \\sum\\limits_{=1}^n  \\left(\\cfrac{y_i \\theta_i - b(\\theta_i)}{a_i(\\phi)} + c_i(y_i,\\phi)\\right)\n\\end{align}\\]\nvá»›i \\(\\boldsymbol{\\theta}\\) lÃ  vÃ©c-tÆ¡ cÃ¡c tham sá»‘ chÃ­nh táº¯c, \\(\\boldsymbol{\\theta} = (\\theta_1, \\theta_2, \\cdots, \\theta_n)\\). Sau khi phÃ¢n phá»‘i cá»§a \\(Y\\) vÃ  hÃ m liÃªn káº¿t Ä‘Æ°á»£c lá»±a chá»n, chÃºng ta Æ°á»›c lÆ°á»£ng Ä‘Æ°á»£c vÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\) lÃ  há»‡ sá»‘ cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p báº±ng cÃ¡ch tá»‘i Ä‘a hÃ³a hÃ m log-likelihood. Sau khi Ä‘Ã£ xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c vÃ©c-tÆ¡ tham sá»‘ \\(\\boldsymbol{\\beta}\\), vá»›i má»—i lá»±a chá»n cho phÃ¢n phá»‘i cá»§a \\(Y\\) vÃ  hÃ m liÃªn káº¿t, chÃºng ta sáº½ tÃ­nh toÃ¡n Ä‘Æ°á»£c cÃ¡c tham sá»‘ chÃ­nh táº¯c cá»§a mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t. Náº¿u hÃ m liÃªn káº¿t Ä‘Æ°á»£c lá»±a chá»n lÃ  hÃ m liÃªn káº¿t chÃ­nh táº¯c, \\(g(\\cdot) = (b^{'})^{-1}(\\cdot)\\), chÃºng ta cÃ³ cÃ¡c tham sá»‘ chÃ­nh táº¯c chÃ­nh lÃ  tá»• há»£p tuyáº¿n tÃ­nh cá»§a cÃ¡c biáº¿n Ä‘á»™c láº­p \\(\\boldsymbol{\\theta}^M = (\\theta^M_1, \\theta^M_2, \\cdots, \\theta^M_n)\\) vá»›i\n\\[\\begin{align}\n\\theta^M_i = \\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{,p}\n\\tag{10.24}\n\\end{align}\\]Vá»›i má»—i lá»±a chá»n cho mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t, bao gá»“m lá»±a chá»n cho phÃ¢n phá»‘i cá»§a \\(Y\\) vÃ  hÃ m liÃªn káº¿t \\(g\\), táº¡m gá»i lÃ  mÃ´ hÃ¬nh \\(M\\), chÃºng ta gá»i \\(l(\\textbf{y},\\boldsymbol{\\theta}^M)\\) lÃ  giÃ¡ trá»‹ cá»§a hÃ m Log-likelihood táº¡i tham sá»‘ \\(\\boldsymbol{\\theta}^M\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh qua phÆ°Æ¡ng trÃ¬nh (10.24). LÆ°u Ã½ ráº±ng vÃ©c-tÆ¡ \\(\\boldsymbol{\\theta}^M\\) cÃ³ Ä‘á»™ dÃ i lÃ  \\(n\\), báº±ng vá»›i kÃ­ch thÆ°á»›c cá»§a dá»¯ liá»‡u, tuy nhiÃªn cÃ¡c tham sá»‘ nÃ y Ä‘Æ°á»£c tÃ­nh toÃ¡n tá»« \\((p+1)\\) giÃ¡ trá»‹ \\(\\beta\\) Æ°á»›c lÆ°á»£ng Ä‘Æ°á»£c vÃ  giÃ¡ trá»‹ cá»§a biáº¿n Ä‘á»™c láº­p.Äiá»u gÃ¬ xáº£y ra náº¿u tham sá»‘ chÃ­nh táº¯c \\(\\boldsymbol{\\theta}\\) hoÃ n toÃ n tá»± vÃ  khÃ´ng phá»¥ thuá»™c vÃ o biáº¿n Ä‘á»™c láº­p? HÃ m Log-likelihood sáº½ Ä‘áº¡t giÃ¡ trá»‹ cá»±c Ä‘áº¡i táº¡i \\(\\theta^S = (\\theta^S_1, \\theta^S_2, \\cdots, \\theta^S_n)\\) vá»›i \\(\\theta^S_i\\) lÃ  giÃ¡ trá»‹ sao cho Ä‘áº¡o hÃ m cá»§a hÃ m Log-likelihood táº¡i \\(\\theta^S_i\\) báº±ng 0. \\(\\theta\\) hoÃ n toÃ n tá»± nÃªn chá»‰ cÃ³ thÃ nh pháº§n thá»© \\(\\) cá»§a hÃ m Log-likelihood phá»¥ thuá»™c vÃ o \\(\\theta^S_i\\)\n\\[\\begin{align}\n\\cfrac{\\partial l(\\textbf{y},\\theta)}{\\partial \\theta_i} & =  \\cfrac{y_i - b^{'}(\\theta_i)}{a_i(\\phi)}\n\\end{align}\\]\nCho Ä‘áº¡o hÃ m cá»§a \\(l(\\textbf{y},\\theta)\\) theo \\(\\theta_i\\) báº±ng 0 chÃºng ta cÃ³ \\(y_i - b^{'}(\\theta^S_i) = 0\\) hay \\(\\theta^S_i = (b^{'})^{-1}(y_i)\\).Báº¡n Ä‘á»c lÆ°u Ã½ ráº±ng giÃ¡ trá»‹ hÃ m Log-likelihood Ä‘áº¡t cá»±c Ä‘áº¡i táº¡i \\(\\boldsymbol{\\theta}^S\\) khÃ´ng cÃ³ nghÄ©a lÃ  tham sá»‘ \\(\\boldsymbol{\\theta}^S\\) lÃ  lá»±a chá»n tá»‘t nháº¥t cho mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t bá»Ÿi tham sá»‘ cÃ³ Ä‘áº¿n \\(n\\) báº­c tá»± . \\(\\boldsymbol{\\theta}^S\\) cho chÃºng ta thÃ´ng tin vá» giÃ¡ trá»‹ cáº­n trÃªn cá»§a \\(l(\\textbf{y},\\theta)\\) khi \\(\\theta\\) thay Ä‘á»•i. ThÆ°á»›c Ä‘o deviance cá»§a mÃ´ hÃ¬nh \\(M\\), kÃ½ hiá»‡u \\(D*(y,\\theta^M)\\) Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a lÃ  hai láº§n khoáº£ng cÃ¡ch tá»« \\(l(\\textbf{y},\\boldsymbol{\\theta}^M)\\) Ä‘áº¿n giÃ¡ trá»‹ tá»‘i Ä‘a \\(l(\\textbf{y},\\boldsymbol{\\theta}^S)\\). Deviance cá»§a má»™t mÃ´ hÃ¬nh cho biáº¿t mÃ´ hÃ¬nh Ä‘Æ°á»£c lá»±a chá»n gáº§n vá»›i phÃ¢n phá»‘i quan sÃ¡t Ä‘Æ°á»£c nhÆ° tháº¿ nÃ o, vÃ  mÃ´ hÃ¬nh cÃ³ deviance cÃ ng nhá» thÃ¬ cÃ ng giáº£i thÃ­ch tá»‘t hÆ¡n biáº¿n phá»¥ thuá»™c\n\\[\\begin{align}\nD^{*}(y, \\theta^M) &= 2 \\left( l(\\textbf{y},\\theta^S) - l(\\textbf{y},\\theta^M) \\right) \\\\\n& = 2 \\sum\\limits_{=1}^n  \\cfrac{y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i))}{a_i(\\phi)}\n\\end{align}\\]Trong trÆ°á»ng há»£p hÃ m \\(a_i(\\phi)\\) lÃ  tuyáº¿n tÃ­nh theo \\(\\phi\\); \\(a_i(\\phi) = \\cfrac{\\phi}{w_i}\\), ta cÃ³\n\\[\\begin{align}\nD^{*}(y, \\theta^M) & = \\cfrac{1}{\\phi} \\sum\\limits_{=1}^n 2w_i \\cdot \\left[y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i)) \\right]  = \\cfrac{D(y, \\theta^M)}{\\phi}\n\\end{align}\\]\nvá»›i\n\\[\\begin{align}\nD(y, \\theta^M) & = \\sum\\limits_{=1}^n 2w_i \\cdot \\left[y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i)) \\right]\n\\end{align}\\]\ntrong Ä‘Ã³ \\(D(y, \\theta^M)\\) lÃ  thÆ°á»›c Ä‘o deviance bá» qua áº£nh hÆ°á»Ÿng cá»§a tham sá»‘ dispersion \\(\\phi\\).VÃ­ dá»¥ 1: biáº¿n má»¥c tiÃªu \\(Y_i\\) cÃ³ phÃ¢n phá»‘i chuáº©n: \\(Y_i \\sim \\mathcal{N}(\\mu_i, \\sigma)\\) vÃ  hÃ m liÃªn káº¿t \\(g(x) = x\\). CÃ³ thá»ƒ viáº¿t hÃ m máº­t Ä‘á»™ cá»§a \\(Y_i\\) dÆ°á»›i dáº¡ng phÃ¢n phá»‘i mÅ© nhÆ° sau\n\\[\\begin{align}\nf(y, \\theta_i, \\phi) & = \\exp\\left[ \\cfrac{\\theta_i y - \\theta_i^2/2} {\\phi} - \\cfrac{y^2}{2\\phi} - \\cfrac{1}{2} log(2 \\pi \\phi) \\right]\n\\end{align}\\]\nvá»›i \\(\\theta_i = \\mu_i\\) vÃ  \\(\\phi = \\sigma^2\\). Ta cÃ³ \\(\\theta^S_i = (b^{'})^{-1}(y_i) = y_i\\), Ä‘Ã³ deviance tÃ­nh trÃªn quan sÃ¡t \\(\\textbf{y}\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau\n\\[\\begin{align}\nD(y, \\theta^M) & = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i)) \\right] \\\\\n& = \\sum\\limits_{=1}^n (y_i - \\theta^M_i)^2 \\\\\n& = \\sum\\limits_{=1}^n \\left[y_i -  (\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{p,1}) \\right]^2\n\\end{align}\\]\nTrong trÆ°á»ng há»£p há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng, deviance chÃ­nh lÃ  tá»•ng bÃ¬nh phÆ°Æ¡ng sai sá»‘.VÃ­ dá»¥ 1: biáº¿n má»¥c tiÃªu \\(Y_i\\) cÃ³ phÃ¢n phá»‘i chuáº©n: \\(Y_i \\sim \\mathcal{N}(\\mu_i, \\sigma)\\) vÃ  hÃ m liÃªn káº¿t \\(g(x) = x\\). CÃ³ thá»ƒ viáº¿t hÃ m máº­t Ä‘á»™ cá»§a \\(Y_i\\) dÆ°á»›i dáº¡ng phÃ¢n phá»‘i mÅ© nhÆ° sau\n\\[\\begin{align}\nf(y, \\theta_i, \\phi) & = \\exp\\left[ \\cfrac{\\theta_i y - \\theta_i^2/2} {\\phi} - \\cfrac{y^2}{2\\phi} - \\cfrac{1}{2} log(2 \\pi \\phi) \\right]\n\\end{align}\\]\nvá»›i \\(\\theta_i = \\mu_i\\) vÃ  \\(\\phi = \\sigma^2\\). Ta cÃ³ \\(\\theta^S_i = (b^{'})^{-1}(y_i) = y_i\\), Ä‘Ã³ deviance tÃ­nh trÃªn quan sÃ¡t \\(\\textbf{y}\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau\n\\[\\begin{align}\nD(y, \\theta^M) & = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i)) \\right] \\\\\n& = \\sum\\limits_{=1}^n (y_i - \\theta^M_i)^2 \\\\\n& = \\sum\\limits_{=1}^n \\left[y_i -  (\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{p,1}) \\right]^2\n\\end{align}\\]\nTrong trÆ°á»ng há»£p há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng, deviance chÃ­nh lÃ  tá»•ng bÃ¬nh phÆ°Æ¡ng sai sá»‘.VÃ­ dá»¥ 2: biáº¿n má»¥c tiÃªu \\(Y_i\\) cÃ³ phÃ¢n phá»‘i Poisson \\(Y_i \\sim \\mathcal{P}(\\lambda_i)\\) vÃ  hÃ m liÃªn káº¿t \\(g(\\cdot) = log(\\cdot)\\).\n\\[\\begin{align}\nf(y; \\theta_i) = exp\\left[ \\cfrac{\\theta_i y - exp(\\theta_i)}{1} - log(\\Gamma(y+1)) \\right] \\text{ vá»›i } \\lambda_i = exp(\\theta_i)\n\\end{align}\\]\nTa cÃ³ \\(\\theta^S_i = (b^{'})^{-1}(y_i) = log(y_i)\\), Ä‘Ã³ deviance tÃ­nh trÃªn quan sÃ¡t \\(\\textbf{y}\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau\n\\[\\begin{align}\nD(y, \\theta^M) & = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i)) \\right] \\\\\n& = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i (log(y_i) - \\theta^M_i) - (y_i - exp(\\theta^M_i)) \\right] \\\\\n& = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i \\left(log(y_i) - log(\\mu^M_i)\\right) - (y_i - \\mu^M_i) \\right]\n\\end{align}\\]\nvá»›i \\(\\mu^M_i = \\exp(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{p,1})\\).VÃ­ dá»¥ 2: biáº¿n má»¥c tiÃªu \\(Y_i\\) cÃ³ phÃ¢n phá»‘i Poisson \\(Y_i \\sim \\mathcal{P}(\\lambda_i)\\) vÃ  hÃ m liÃªn káº¿t \\(g(\\cdot) = log(\\cdot)\\).\n\\[\\begin{align}\nf(y; \\theta_i) = exp\\left[ \\cfrac{\\theta_i y - exp(\\theta_i)}{1} - log(\\Gamma(y+1)) \\right] \\text{ vá»›i } \\lambda_i = exp(\\theta_i)\n\\end{align}\\]\nTa cÃ³ \\(\\theta^S_i = (b^{'})^{-1}(y_i) = log(y_i)\\), Ä‘Ã³ deviance tÃ­nh trÃªn quan sÃ¡t \\(\\textbf{y}\\) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh nhÆ° sau\n\\[\\begin{align}\nD(y, \\theta^M) & = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i (\\theta^S_i - \\theta^M_i) - (b(\\theta^S_i) - b(\\theta^M_i)) \\right] \\\\\n& = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i (log(y_i) - \\theta^M_i) - (y_i - exp(\\theta^M_i)) \\right] \\\\\n& = \\sum\\limits_{=1}^n 2 \\cdot \\left[y_i \\left(log(y_i) - log(\\mu^M_i)\\right) - (y_i - \\mu^M_i) \\right]\n\\end{align}\\]\nvá»›i \\(\\mu^M_i = \\exp(\\beta_0 + \\beta_1 \\cdot x_{,1} + \\cdots + \\beta_p \\cdot x_{p,1})\\).Káº¿t quáº£ Æ°á»›c lÆ°á»£ng khi sá»­ dá»¥ng hÃ m glm() trong R hiá»ƒn thá»‹ hai giÃ¡ trá»‹ lÃ  Null deviance vÃ  Residual deviance. Null deviance Ä‘Æ°á»£c tÃ­nh toÃ¡n vá»›i giáº£ thiáº¿t lÃ  chá»‰ cÃ³ há»‡ sá»‘ cháº·n \\(\\beta_0\\), cÃ²n Residual deviance Ä‘Æ°á»£c tÃ­nh toÃ¡n vá»›i vÃ©c-tÆ¡ \\(\\boldsymbol{\\beta}\\) Ä‘áº§y Ä‘á»§.GiÃ¡ trá»‹ Residual deviance ngoÃ i sá»­ dá»¥ng Ä‘á»ƒ sÃ¡nh hai mÃ´ hÃ¬nh cÃ³ cÃ¹ng phÃ¢n phá»‘i cá»§a biáº¿n phá»¥ thuá»™c cÃ²n Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ lá»±a chá»n biáº¿n trong mÃ´ hÃ¬nh. Giáº£ sá»­ hai mÃ´ hÃ¬nh \\(M1\\) vÃ  \\(M2\\) cÃ³ cÃ¹ng phÃ¢n phá»‘i cho biáº¿n phá»¥ thuá»™c vÃ  cÃ³ cÃ¹ng hÃ m liÃªn káº¿t \\(g(.)\\), mÃ´ hÃ¬nh \\(M1\\) cÃ³ \\(m_1\\) biáº¿n Ä‘á»™c láº­p trong khi mÃ´ hÃ¬nh \\(M_2\\) cÃ³ \\(m_2\\) biáº¿n Ä‘á»™c láº­p, bao gá»“m táº¥t cáº£ cÃ¡c biáº¿n Ä‘á»™c láº­p cá»§a mÃ´ hÃ¬nh \\(M1\\). NÃ³i má»™t cÃ¡ch khÃ¡c, \\(M_2\\) cÃ³ nhiá»u hÆ¡n \\(M_1\\) lÃ  \\((m_2 - m_1)\\) biáº¿n Ä‘á»™c láº­p. MÃ´ hÃ¬nh \\(M_2\\) sáº½ cÃ³ deviance lá»›n hÆ¡n mÃ´ hÃ¬nh \\(M_1\\) cÃ³ nhiá»u biáº¿n Ä‘á»™c láº­p hÆ¡n, tuy nhiÃªn viá»‡c thÃªm \\((m_2 - m_1)\\) biáº¿n Ä‘á»™c láº­p vÃ o mÃ´ hÃ¬nh cÃ³ Ã½ nghÄ©a thá»‘ng kÃª náº¿u hiá»‡u sá»‘ giá»¯a \\(D^*(y, \\theta^{M_2})\\) vÃ  \\(D^*(y, \\theta^{M_1})\\) lÃ  Ä‘á»§ lá»›n.CÃ³ thá»ƒ chá»©ng minh Ä‘Æ°á»£c ráº±ng khi kÃ­ch thÆ°á»›c dá»¯ liá»‡u Ä‘á»§ lá»›n, hiá»‡u sá»‘ giá»¯a \\(D^*(y, \\theta^{M_2})\\) vÃ  \\(D^*(y, \\theta^{M_1})\\) lÃ  má»™t biáº¿n ngáº«u nhiÃªn phÃ¢n phá»‘i xáº¥p xá»‰ phÃ¢n phá»‘i \\(\\chi^2\\) vá»›i báº­c tá»± \\((m_2 - m_1)\\)\n\\[\\begin{align}\nD^{*}(y, \\theta^{M_1}) - D^{*}(y, \\theta^{M_2}) = 2 \\cdot \\log\\left( \\cfrac{L(y,\\theta^{M_2})}{L(y,\\theta^{M_1})} \\right) \\sim \\chi^2(m_2 - m_1)\n\\end{align}\\]VÃ­ dá»¥ 3: trong dá»¯ liá»‡u \\(exposure.csv\\), khi biáº¿n \\(Claim\\_Count\\) Ä‘Æ°á»£c giáº£ thiáº¿t cÃ³ phÃ¢n phá»‘i Poisson vÃ  giÃ¡ trá»‹ trung bÃ¬nh Ä‘Æ°á»£c giáº£i thÃ­ch báº±ng Ä‘á»™ tuá»•i, hoáº·c giá»›i tÃ­nh cá»§a ngÆ°á»i Ä‘Æ°á»£c báº£o hiá»ƒm, hoáº·c cáº£ hai biáº¿n. ChÃºng ta gá»i mÃ´ hÃ¬nh \\(M_1\\) lÃ  mÃ´ hÃ¬nh mÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c Ä‘Æ°á»£c giáº£i thÃ­ch báº±ng biáº¿n Ä‘á»™ tuá»•i, mÃ´ hÃ¬nh \\(M_2\\) lÃ  mÃ´ hÃ¬nh mÃ  giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c Ä‘Æ°á»£c giáº£i thÃ­ch báº±ng cáº£ biáº¿n giá»›i tÃ­nh, vÃ  mÃ´ hÃ¬nh \\(M_3\\) lÃ  mÃ´ hÃ¬nh mÃ  biáº¿n phá»¥ thuá»™c phá»¥ thuá»™c vÃ o cáº£ Ä‘á»™ tuá»•i vÃ  giá»›i tÃ­nh cá»§a khÃ¡ch hÃ ng.MÃ´ hÃ¬nh \\(M_1\\) vÃ  \\(M_2\\) Ä‘á»u chá»‰ cÃ³ má»™t biáº¿n Ä‘á»™c láº­p vÃ  \\(M_1\\) cÃ³ deviance nhá» hÆ¡n \\(M_2\\) Ä‘Ã³ mÃ´ hÃ¬nh \\(M_1\\) tá»‘t hÆ¡n \\(M_2\\). sÃ¡nh mÃ´ hÃ¬nh \\(M_1\\) vá»›i 1 biáº¿n Ä‘á»™c láº­p lÃ  \\(Age\\) vá»›i mÃ´ hÃ¬nh \\(M_3\\) cÃ³ 2 biáº¿n Ä‘á»™c láº­p lÃ  \\(Age\\) vÃ  \\(Gender\\) cáº§n dá»±a trÃªn kiá»ƒm Ä‘á»‹nh \\(\\chi^2\\). Ta cÃ³ \\(D^{*}(y, \\theta^{M_1}) - D^{*}(y, \\theta^{M_2}) = 8324.2 - 8316.8 = 7.4\\). GiÃ¡ trá»‹ 7.4 tÆ°Æ¡ng á»©ng vá»›i má»©c xÃ¡c suáº¥t \\(0.994\\) cá»§a phÃ¢n phá»‘i \\(\\chi^2(1)\\). Äiá»u nÃ y cÃ³ Ã½ nghÄ©a lÃ  á»Ÿ má»©c Ä‘á»™ tin cáº­y 99%, cÃ³ thá»ƒ káº¿t luáº­n ráº±ng thÃªm biáº¿n \\(Gender\\) vÃ o mÃ´ hÃ¬nh \\(M_1\\) lÃ  cÃ³ Ã½ nghÄ©a thá»‘ng kÃª, tuy nhiÃªn viá»‡c thÃªm biáº¿n \\(Gender\\) láº¡i khÃ´ng cÃ³ Ã½ nghÄ©a thá»‘ng kÃª á»Ÿ má»©c Ä‘á»™ tin cáº­y \\(99.5\\%\\).","code":"\ndat<-read.csv(\"../KHDL_KTKD/Dataset/exposure.csv\")\n\nglm_M1<-glm(Claim_Count~Age, family = poisson(link=\"log\"), data = dat)\nglm_M2<-glm(Claim_Count~Gender, family = poisson(link=\"log\"), data = dat)\nglm_M3<-glm(Claim_Count~Age+Gender, family = poisson(link=\"log\"), data = dat)\n\nsummary(glm_M1)\nsummary(glm_M2)\nsummary(glm_M3)"},{"path":"mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-tá»•ng-quÃ¡t..html","id":"giÃ¡-trá»‹-hÃ m-log-likelihood-aic-vÃ -bic","chapter":"ChÆ°Æ¡ng 10 MÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t.","heading":"10.5.2 GiÃ¡ trá»‹ hÃ m log-likelihood, AIC vÃ  BIC","text":"Deviance lÃ  má»™t thÆ°á»›c Ä‘o há»¯u Ã­ch trong sÃ¡nh cÃ¡c mÃ´ hÃ¬nh cÃ³ cÃ¹ng phÃ¢n phá»‘i cá»§a biáº¿n phá»¥ thuá»™c vÃ  hÃ m liÃªn káº¿t. Khi cÃ¡c mÃ´ hÃ¬nh cáº§n sÃ¡nh khÃ´ng cÃ³ chung phÃ¢n phá»‘i cá»§a biáº¿n phá»¥ thuá»™c thÃ¬ hiá»‡u giá»¯a hai hÃ m log-likelihood sáº½ khÃ´ng cÃ³ phÃ¢n phá»‘i \\(\\chi^2\\) vÃ  khi Ä‘Ã³ viá»‡c sÃ¡nh cÃ¡c mÃ´ hÃ¬nh lÃ  khÃ´ng tháº¿ thá»±c hiá»‡n Ä‘Æ°á»£c.Trong pháº§n trÆ°á»›c, chÃºng ta Ä‘Ã£ Ä‘á»‹nh nghÄ©a \\(l(y,\\theta^M)\\) lÃ  giÃ¡ trá»‹ tá»‘i Ä‘a cá»§a hÃ m log-likelihood cho mÃ´ hÃ¬nh M vá»›i táº­p há»£p cÃ¡c biáº¿n Ä‘á»™c láº­p Ä‘Ã£ lá»±a chá»n. NhÃ¬n chung, giÃ¡ trá»‹ cá»§a \\(l(y,\\theta^M)\\) khÃ´ng cho biáº¿t nhiá»u thÃ´ng tin vá» Ä‘á»™ phÃ¹ há»£p cá»§a mÃ´ hÃ¬nh, nhÆ°ng ngÆ°á»i xÃ¢y dá»±ng mÃ´ hÃ¬nh thÆ°á»ng mong muá»‘n giÃ¡ trá»‹ nÃ y cÃ ng lá»›n thÃ¬ cÃ ng tá»‘t. Tuy nhiÃªn, cÃ³ má»™t váº¥n Ä‘á» khi sÃ¡nh trá»±c tiáº¿p giÃ¡ trá»‹ \\(l(y,\\theta^M)\\) giá»¯a cÃ¡c mÃ´ hÃ¬nh lÃ : má»™t mÃ´ hÃ¬nh bao gá»“m nhiá»u biáº¿n Ä‘á»™c láº­p hÆ¡n thÃ¬ ráº¥t cÃ³ thá»ƒ cÃ³ giÃ¡ trá»‹ \\(l(y,\\theta^M)\\) lá»›n hÆ¡n. Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, cÃ³ ba thÆ°á»›c Ä‘o Ä‘Æ°á»£c Ä‘iá»u chá»‰nh tá»« \\(l(y,\\theta^M)\\) thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng cho mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i má»¥c Ä‘Ã­ch Ä‘Ã¡nh giÃ¡ vÃ  sÃ¡nh giá»¯a cÃ¡c mÃ´ hÃ¬nh lÃ  AIC, AICC vÃ  BIC.Chá»‰ tiÃªu AIC, viáº¿t táº¯t cá»§a Akaike information criterion, lÃ  chá»‰ tiÃªu Ä‘Æ¡n giáº£n nháº¥t Ä‘Æ°á»£c tÃ­nh toÃ¡n tá»« cÃ´ng thá»©c nhÆ° sau\n\\[\\begin{align}\nAIC = 2 \\left(-l(y,\\theta^M)+r\\right)\n\\end{align}\\]\ntrong Ä‘Ã³ \\(r\\) lÃ  sá»‘ lÆ°á»£ng tham sá»‘ cáº§n Æ°á»›c lÆ°á»£ng trong mÃ´ hÃ¬nh. GiÃ¡ trá»‹ \\(AIC\\) cÃ ng nhá» thÃ¬ mÃ´ hÃ¬nh cÃ ng khá»›p hÆ¡n vá»›i dá»¯ liá»‡u.Chá»‰ tiÃªu AICC (hoáº·c AICs) Ä‘Æ°á»£c Ä‘iá»u chá»‰nh tá»« AIC, Ä‘Æ°á»£c sá»­ dá»¥ng khi kÃ­ch thÆ°á»›c dá»¯ liá»‡u khÃ´ng quÃ¡ lá»›n Ä‘á»ƒ thay tháº¿ cho AIC, vÃ  Ä‘Æ°á»£c tÃ­nh bá»Ÿi cÃ´ng thá»©c nhÆ° sau\n\\[\\begin{align}\nAICC = AIC + \\cfrac{2r(r+1)}{n-r-1}\n\\end{align}\\]\nKhi kÃ­ch thÆ°á»›c dá»¯ liá»‡u \\(n\\) lá»›n, AIC vÃ  AICC sáº½ tÆ°Æ¡ng Ä‘Æ°Æ¡ng nhau \\(\\cfrac{2r(r+1)}{n-r-1}\\) nhá».Chá»‰ tiÃªu thá»© ba lÃ  BIC, lÃ  viáº¿t táº¯t cá»§a Bayesian information criterion. Trong má»™t vÃ i tÃ i liá»‡u BIC cÃ²n Ä‘Æ°á»£c gá»i lÃ  SBC. CÅ©ng giá»‘ng nhÆ° AIC vÃ  AICC, BIC lÃ  chá»‰ tiÃªu Ä‘Æ°á»£c tÃ­nh toÃ¡n tá»« giÃ¡ trá»‹ cá»±c Ä‘áº¡i cá»§a hÃ m log-likelihood Ä‘iá»ƒu chá»‰nh Ä‘á»ƒ pháº£n Ã¡nh sá»‘ lÆ°á»£ng tham sá»‘ sá»­ dá»¥ng trong mÃ´ hÃ¬nh lÃ  nhiá»u hay Ã­t\n\\[\\begin{align}\nBIC = 2 \\left(-l(y,\\theta^M)+r log(n)\\right)\n\\end{align}\\]CÆ¡ sá»Ÿ lÃ½ thuyáº¿t cho cÃ¡c chá»‰ tiÃªu AIC, AICC, vÃ  BIC báº¡n Ä‘á»c cÃ³ thá»ƒ tÃ¬m tháº¥y trong báº¥t ká»³ tÃ i liá»‡u thá»‘ng kÃª toÃ¡n nÃ o, Ä‘Ã³ chÃºng tÃ´i sáº½ khÃ´ng trÃ¬nh bÃ y trong cuá»‘n sÃ¡ch nÃ y. ChÃºng tÃ´i muá»‘n nháº¥n máº¡nh vÃ o gÃ³c Ä‘á»™ á»©ng dá»¥ng cá»§a cÃ¡c chá»‰ tiÃªu nÃ y khi sá»­ dá»¥ng Ä‘á»ƒ sÃ¡nh cÃ¡c mÃ´ hÃ¬nh.VÃ­ dá»¥ 1: chÃºng ta quay trá»Ÿ láº¡i dá»¯ liá»‡u â€œMotoInsurance.csvâ€ khi biáº¿n má»¥c tiÃªu \\(Y\\) chá»‰ nháº­n hai giÃ¡ trá»‹ lÃ  â€œâ€ hoáº·c â€œYesâ€. Biáº¿n \\(Y\\) cÃ³ thá»ƒ lÃ  biáº¿n dáº¡ng nhá»‹ phÃ¢n hoáº·c vá»«a cÃ³ thá»ƒ lÃ  biáº¿n dáº¡ng Ä‘áº¿m náº¿u chÃºng ta cho tÆ°Æ¡ng Ä‘Æ°Æ¡ng giÃ¡ trá»‹ â€œâ€ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i 0 vÃ  giÃ¡ trá»‹ â€œYesâ€ tÆ°Æ¡ng á»©ng vá»›i 1. Khi xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t, chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng phÃ¢n phá»‘i Poisson cho biáº¿n má»¥c tiÃªu vá»›i hÃ m liÃªn káº¿t \\(g(\\cdot) = log(\\cdot)\\).\\(Y\\) lÃ  biáº¿n nhá»‹ phÃ¢n nÃªn má»™t cÃ¡ch tá»± nhiÃªn, báº¡n Ä‘á»c sáº½ cÃ¢n nháº¯c sá»­ dá»¥ng phÃ¢n phá»‘i nhá»‹ phÃ¢n cho \\(Y\\). ChÃºng ta xÃ¢y dá»±ng mÃ´ hÃ¬nh tuyáº¿n tÃ­nh tá»•ng quÃ¡t vá»›i phÃ¢n phá»‘i nhá»‹ thá»©c cho \\(Y\\) vÃ  hÃ m liÃªn káº¿t lÃ  hÃ m \\(logit\\). Thay vÃ¬ sá»­ dá»¥ng cáº£ 4 biáº¿n Ä‘á»™c láº­p, chÃºng ta chá»‰ sá»­ dá»¥ng hai biáº¿n Ä‘á»™c láº­p lÃ  \\(age\\) vÃ  \\(sex\\),TÆ°Æ¡ng tá»± nhÆ° mÃ´ hÃ¬nh \\(glm.pois\\), mÃ´ hÃ¬nh \\(glm.binom.logit\\) cÅ©ng cÃ³ táº¥t cáº£ cÃ¡c há»‡ sá»‘ cá»§a biáº¿n Ä‘á»™c láº­p khÃ¡c 0. LÃ m tháº¿ nÃ o Ä‘á»ƒ biáº¿t ráº±ng mÃ´ hÃ¬nh \\(glm.pois\\) sá»­ dá»¥ng phÃ¢n phá»‘i Poisson vá»›i 4 biáº¿n Ä‘á»™c láº­p hay mÃ´ hÃ¬nh \\(glm.binom.logit\\) vá»›i phÃ¢n phá»‘i nhá»‹ thá»©c cho \\(Y\\) vÃ  2 biáº¿n Ä‘á»™c láº­p lÃ  tá»‘t hÆ¡n? Náº¿u chÃºng ta sá»­ dá»¥ng thÆ°á»›c Ä‘o deviance thÃ¬ káº¿t quáº£ sáº½ khÃ´ng chÃ­nh xÃ¡c vÃ¬ cÃ¡c mÃ´ hÃ¬nh cÃ³ phÃ¢n phá»‘i cá»§a biáº¿n phá»¥ thuá»™c khÃ¡c nhau. Chá»‰ tiÃªu \\(AIC\\) Ä‘Æ°á»£c tÃ­nh toÃ¡n sáºµn tá»« hÃ m \\(glm\\) cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ sÃ¡nh hai mÃ´ hÃ¬nh trong trÆ°á»ng há»£p nÃ y. Chá»‰ tiÃªu AIC cá»§a \\(glm.pois\\) lÃ  5202.7 trong khi chá»‰ tiÃªu AIC cá»§a \\(glm.binom.logit\\) lÃ  4941.3. MÃ´ hÃ¬nh \\(glm.binom.logit\\) cÃ³ AIC nhá» hÆ¡n nÃªn sáº½ tá»‘t hÆ¡n Ä‘á»ƒ mÃ´ hÃ¬nh hÃ³a dá»¯ liá»‡u trong trÆ°á»ng há»£p nÃ y.VÃ­ dá»¥ 2: chÃºng ta sáº½ tiáº¿p tá»¥c vá»›i dá»¯ liá»‡u â€œMotoInsurance.csvâ€. Má»™t cÃ¡ch tá»± nhiÃªn, khi sá»­ dá»¥ng phÃ¢n phá»‘i nhá»‹ thá»©c cho biáº¿n phá»¥ thuá»™c, báº¡n Ä‘á»c sá»­ dá»¥ng hÃ m liÃªn káº¿t lÃ  hÃ m \\(logit\\). Liá»‡u lá»±a chá»n nÃ y cÃ³ lÃ  tá»‘t nháº¥t Ä‘á»ƒ mÃ´ hÃ¬nh hÃ³a dá»¯ liá»‡u mÃ  chÃºng ta Ä‘ang nghiÃªn cá»©u? Báº¡n Ä‘á»c cÃ³ thá»ƒ sá»­ dá»¥ng chá»‰ tiÃªu AIC Ä‘á»ƒ lá»±a chá»n hÃ m liÃªn káº¿t phÃ¹ há»£p. ChÃºng ta sáº½ sá»­ dá»¥ng 4 biáº¿n Ä‘á»™c láº­p lÃ  \\(age\\), \\(sex\\), \\(urban\\), vÃ  \\(seniority\\) Ä‘á»ƒ giáº£i thÃ­ch giÃ¡ trá»‹ trung bÃ¬nh cá»§a biáº¿n phá»¥ thuá»™c khi xÃ¢y dá»±ng mÃ´ hÃ¬nhMÃ´ hÃ¬nh \\(glm.binom.probit\\) cÃ³ deviance vÃ  AIC nhá» hÆ¡n \\(glm.binom.logit\\), Ä‘iá»u nÃ y cho biáº¿t sá»­ dá»¥ng hÃ m liÃªn káº¿t \\(probit\\) sáº½ cho káº¿t quáº£ tá»‘t hÆ¡n vá»›i hÃ m liÃªn káº¿t \\(logit\\).","code":"\ndat<-read.csv(\"../KHDL_KTKD/Dataset/MotoInsurance.csv\")\ndat$Y<-ifelse(dat$Y==\"Yes\",1,0)\ndat$sex<-as.factor(dat$sex)\ndat$urban<-as.factor(dat$urban)\nglm.pois<-glm(Y~age+sex+urban+seniority,data=dat, family = poisson(link = \"log\"))\nsummary(glm.pois)## \n## Call:\n## glm(formula = Y ~ age + sex + urban + seniority, family = poisson(link = \"log\"), \n##     data = dat)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -2.0824  -0.7362  -0.5465   0.5711   1.9556  \n## \n## Coefficients:\n##              Estimate Std. Error z value Pr(>|z|)    \n## (Intercept) -0.286511   0.105615  -2.713  0.00667 ** \n## age         -0.034131   0.002546 -13.406  < 2e-16 ***\n## sexM        -0.491418   0.057331  -8.572  < 2e-16 ***\n## urban1       0.625032   0.053999  11.575  < 2e-16 ***\n## seniority    0.070888   0.004257  16.652  < 2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for poisson family taken to be 1)\n## \n##     Null deviance: 2938.1  on 3999  degrees of freedom\n## Residual deviance: 2418.7  on 3995  degrees of freedom\n## AIC: 5202.7\n## \n## Number of Fisher Scoring iterations: 5\ndat$Y<-as.factor(dat$Y) # Ä‘á»•i biáº¿n Y thÃ nh factor\nglm.binom.logit<-glm(Y~age+sex,data=dat, family = binomial(link = \"logit\"))\nsummary(glm.binom.logit)## \n## Call:\n## glm(formula = Y ~ age + sex, family = binomial(link = \"logit\"), \n##     data = dat)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -1.4544  -0.9261  -0.7396   1.2607   2.0088  \n## \n## Coefficients:\n##              Estimate Std. Error z value Pr(>|z|)    \n## (Intercept)  1.109828   0.130876   8.480   <2e-16 ***\n## age         -0.026603   0.002709  -9.822   <2e-16 ***\n## sexM        -0.723479   0.076585  -9.447   <2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for binomial family taken to be 1)\n## \n##     Null deviance: 5163.3  on 3999  degrees of freedom\n## Residual deviance: 4935.3  on 3997  degrees of freedom\n## AIC: 4941.3\n## \n## Number of Fisher Scoring iterations: 4\nglm.binom.logit<-glm(Y~age+sex+seniority+urban,data=dat, family = binomial(link = \"logit\"))\nglm.binom.probit<-glm(Y~age+sex+seniority+urban,data=dat, family = binomial(link = \"probit\"))\nsummary(glm.binom.logit)## \n## Call:\n## glm(formula = Y ~ age + sex + seniority + urban, family = binomial(link = \"logit\"), \n##     data = dat)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -2.4424  -0.8115  -0.5046   1.0440   2.7439  \n## \n## Coefficients:\n##              Estimate Std. Error z value Pr(>|z|)    \n## (Intercept)  0.793757   0.144541   5.492 3.98e-08 ***\n## age         -0.058754   0.003525 -16.668  < 2e-16 ***\n## sexM        -0.983040   0.085377 -11.514  < 2e-16 ***\n## seniority    0.133569   0.006808  19.618  < 2e-16 ***\n## urban1       1.174515   0.078060  15.046  < 2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for binomial family taken to be 1)\n## \n##     Null deviance: 5163.3  on 3999  degrees of freedom\n## Residual deviance: 4295.8  on 3995  degrees of freedom\n## AIC: 4305.8\n## \n## Number of Fisher Scoring iterations: 4\nsummary(glm.binom.probit)## \n## Call:\n## glm(formula = Y ~ age + sex + seniority + urban, family = binomial(link = \"probit\"), \n##     data = dat)\n## \n## Deviance Residuals: \n##     Min       1Q   Median       3Q      Max  \n## -2.4931  -0.8168  -0.4987   1.0639   2.9359  \n## \n## Coefficients:\n##              Estimate Std. Error z value Pr(>|z|)    \n## (Intercept)  0.449579   0.085724   5.244 1.57e-07 ***\n## age         -0.034482   0.002009 -17.163  < 2e-16 ***\n## sexM        -0.577303   0.050821 -11.360  < 2e-16 ***\n## seniority    0.077888   0.003890  20.021  < 2e-16 ***\n## urban1       0.697759   0.046129  15.126  < 2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## (Dispersion parameter for binomial family taken to be 1)\n## \n##     Null deviance: 5163.3  on 3999  degrees of freedom\n## Residual deviance: 4292.4  on 3995  degrees of freedom\n## AIC: 4302.4\n## \n## Number of Fisher Scoring iterations: 5"},{"path":"reference.html","id":"reference","chapter":"ChÆ°Æ¡ng 11 REFERENCE","heading":"ChÆ°Æ¡ng 11 REFERENCE","text":"1. Annette J. Dobson Adrian G. Barnett (2018). Introduction Generalized Linear Models.2. Alan Agresti. (2015). Foundations Linear Generalized Linear Models.","code":"## \n## Attaching package: 'dplyr'## The following objects are masked from 'package:stats':\n## \n##     filter, lag## The following objects are masked from 'package:base':\n## \n##     intersect, setdiff, setequal, union## \n## Attaching package: 'kableExtra'## The following object is masked from 'package:dplyr':\n## \n##     group_rows## \n## Attaching package: 'gridExtra'## The following object is masked from 'package:dplyr':\n## \n##     combine"},{"path":"mÃ´-hÃ¬nh-dáº¡ng-cÃ¢y.html","id":"mÃ´-hÃ¬nh-dáº¡ng-cÃ¢y","chapter":"ChÆ°Æ¡ng 12 MÃ´ hÃ¬nh dáº¡ng cÃ¢y","heading":"ChÆ°Æ¡ng 12 MÃ´ hÃ¬nh dáº¡ng cÃ¢y","text":"","code":""},{"path":"mÃ´-hÃ¬nh-dáº¡ng-cÃ¢y.html","id":"cÃ¢y-quyáº¿t-Ä‘á»‹nh-vÃ -bÃ i-toÃ¡n-há»“i-quy","chapter":"ChÆ°Æ¡ng 12 MÃ´ hÃ¬nh dáº¡ng cÃ¢y","heading":"12.1 CÃ¢y quyáº¿t Ä‘á»‹nh vÃ  bÃ i toÃ¡n há»“i quy","text":"","code":""},{"path":"mÃ´-hÃ¬nh-dáº¡ng-cÃ¢y.html","id":"cÃ¢y-quyáº¿t-Ä‘á»‹nh-trong-bÃ i-toÃ¡n-phÃ¢n-loáº¡i","chapter":"ChÆ°Æ¡ng 12 MÃ´ hÃ¬nh dáº¡ng cÃ¢y","heading":"12.2 CÃ¢y quyáº¿t Ä‘á»‹nh trong bÃ i toÃ¡n phÃ¢n loáº¡i","text":"","code":""},{"path":"mÃ´-hÃ¬nh-dáº¡ng-cÃ¢y.html","id":"cÃ¡c-ká»¹-thuáº­t-káº¿t-há»£p-nhiá»u-cÃ¢y-quyáº¿t-Ä‘á»‹nh","chapter":"ChÆ°Æ¡ng 12 MÃ´ hÃ¬nh dáº¡ng cÃ¢y","heading":"12.3 CÃ¡c ká»¹ thuáº­t káº¿t há»£p nhiá»u cÃ¢y quyáº¿t Ä‘á»‹nh","text":"","code":""},{"path":"mÃ´-hÃ¬nh-dáº¡ng-cÃ¢y.html","id":"thá»±c-hÃ nh","chapter":"ChÆ°Æ¡ng 12 MÃ´ hÃ¬nh dáº¡ng cÃ¢y","heading":"12.4 Thá»±c hÃ nh:","text":"","code":""},{"path":"mÃ´-hÃ¬nh-dáº¡ng-cÃ¢y.html","id":"so-sÃ¡nh-random-forest-boosting-vÃ -mÃ´-hÃ¬nh-tuyáº¿n-tÃ­nh-trÃªn-dá»¯-liá»‡u-sales.","chapter":"ChÆ°Æ¡ng 12 MÃ´ hÃ¬nh dáº¡ng cÃ¢y","heading":"12.4.1 So sÃ¡nh random forest, boosting, vÃ  mÃ´ hÃ¬nh tuyáº¿n tÃ­nh trÃªn dá»¯ liá»‡u Sales.","text":"","code":""},{"path":"mÃ´-hÃ¬nh-dáº¡ng-cÃ¢y.html","id":"so-sÃ¡nh-random-forest-boosting-vÃ -logistic-regression-trÃªn-dá»¯-liá»‡u-tÃ­n-dá»¥ng-khÃ¡ch-hÃ ng.","chapter":"ChÆ°Æ¡ng 12 MÃ´ hÃ¬nh dáº¡ng cÃ¢y","heading":"12.4.2 So sÃ¡nh random forest, boosting, vÃ  logistic regression trÃªn dá»¯ liá»‡u tÃ­n dá»¥ng khÃ¡ch hÃ ng.","text":"","code":""},{"path":"mÃ´-hÃ¬nh-dáº¡ng-cÃ¢y.html","id":"so-sÃ¡nh-random-forest-boosting-vÃ -poisson-regression-trÃªn-dá»¯-liá»‡u-bá»“i-thÆ°á»ng-báº£o-hiá»ƒm.","chapter":"ChÆ°Æ¡ng 12 MÃ´ hÃ¬nh dáº¡ng cÃ¢y","heading":"12.4.3 So sÃ¡nh random forest, boosting, vÃ  Poisson regression trÃªn dá»¯ liá»‡u bá»“i thÆ°á»ng báº£o hiá»ƒm.","text":"","code":"## \n## Attaching package: 'dplyr'## The following objects are masked from 'package:stats':\n## \n##     filter, lag## The following objects are masked from 'package:base':\n## \n##     intersect, setdiff, setequal, union## \n## Attaching package: 'kableExtra'## The following object is masked from 'package:dplyr':\n## \n##     group_rows## \n## Attaching package: 'gridExtra'## The following object is masked from 'package:dplyr':\n## \n##     combine"},{"path":"mÃ´-hÃ¬nh-máº¡ng-neural-network.html","id":"mÃ´-hÃ¬nh-máº¡ng-neural-network","chapter":"ChÆ°Æ¡ng 13 MÃ´ hÃ¬nh máº¡ng neural network","heading":"ChÆ°Æ¡ng 13 MÃ´ hÃ¬nh máº¡ng neural network","text":"ChÆ°Æ¡ng sÃ¡ch nÃ y tháº£o luáº­n má»™t chá»§ Ä‘á» quan trá»ng cÃ³ á»©ng dá»¥ng rá»™ng rÃ£i nháº¥t trong lÄ©nh vá»±c trÃ­ tuá»‡ nhÃ¢n táº¡o, Ä‘Ã³ lÃ  mÃ´ hÃ¬nh máº¡ng há»c sÃ¢u. Táº¡i thá»i Ä‘iá»ƒm nhÃ³m tÃ¡c giáº£ viáº¿t cuá»‘n sÃ¡ch (2023), máº¡ng há»c sÃ¢u lÃ  má»™t lÄ©nh vá»±c nghiÃªn cá»©u tÃ­ch cá»±c nháº¥t khÃ´ng chá»‰ trong khoa há»c mÃ¡y tÃ­nh, cÃ´ng nghá»‡ thÃ´ng tin mÃ  cÃ²n cáº£ trong cÃ¡c lÄ©nh vá»±c khÃ¡c nhÆ° kinh táº¿, tÃ i chÃ­nh, y táº¿, xÃ¢y dá»±ng,â€¦ Ná»n táº£ng cá»§a mÃ´ hÃ¬nh máº¡ng há»c sÃ¢u lÃ  mÃ´ hÃ¬nh máº¡ng tháº§n kinh nhÃ¢n táº¡o (Neural Network). MÃ´ hÃ¬nh neural network Ä‘Ã£ Ä‘Æ°á»£c biáº¿t Ä‘áº¿n Ä‘áº¿n rá»™ng rÃ£i vÃ o cuá»‘i nhá»¯ng nÄƒm 1980 bá»Ÿi cÃ¡ch váº­n hÃ nh cá»§a mÃ´ hÃ¬nh mÃ´ táº£ láº¡i cÃ¡ch thá»©c mÃ  há»‡ thá»‘ng tháº§n kinh cá»§a con ngÆ°á»i xá»­ lÃ½ thÃ´ng tin. Máº·c dÃ¹ cÃ¡c Ä‘áº·c tÃ­nh cá»§a mÃ´ hÃ¬nh Neural Network Ä‘Æ°á»£c phÃ¢n tÃ­ch bá»Ÿi nhá»¯ng nhÃ  toÃ¡n há»c vÃ  nhÃ  thá»‘ng kÃª vÃ  cÃ¡c thuáº­t toÃ¡n liÃªn quan Ä‘áº¿n mÃ´ hÃ¬nh nÃ y Ä‘Ã£ Ä‘Æ°á»£c cáº£i thiá»‡n nhÆ°ng sau Ä‘Ã³, vá»›i sá»± ra Ä‘á»i cá»§a cÃ¡c phÆ°Æ¡ng phÃ¡p há»c mÃ¡y khÃ¡c nhÆ° SVM, random forest, boosting,â€¦ cÃ¡c mÃ´ hÃ¬nh máº¡ng nÆ¡-ron pháº§n nÃ o khÃ´ng Ä‘Æ°á»£c Æ°a chuá»™ng.Tá»« nhá»¯ng nÄƒm 2010, vá»›i nhu cáº§u xá»­ lÃ½ cÃ¡c dá»¯ liá»‡u ngÃ y cÃ ng phá»©c táº¡p vÃ  sá»± ra Ä‘á»i cá»§a cÃ¡c kiáº¿n trÃºc mÃ¡y tÃ­nh lá»›n, mÃ´ hÃ¬nh máº¡ng nÆ¡-ron Ä‘Ã£ quay trá»Ÿ láº¡i vá»›i tÃªn má»›i lÃ  máº¡ng há»c sÃ¢u (deep learning). Máº¡ng há»c sÃ¢u vÆ°á»£t trá»™i hoÃ n toÃ n cÃ¡c mÃ´ hÃ¬nh há»c mÃ¡y thÃ´ng thÆ°á»ng trong phÃ¢n loáº¡i hÃ¬nh áº£nh/video vÃ  mÃ´ hÃ¬nh hÃ³a ngÃ´n ngá»¯ tá»± nhiÃªn bao gá»“m dá»¯ liá»‡u kiá»ƒu vÄƒn báº£n vÃ  lá»i nÃ³i (Natural Langugue Processing). CÃ¡c nhÃ  khoa há»c trong lÄ©nh vá»±c nÃ y tin ráº±ng lÃ½ chÃ­nh cho nhá»¯ng thÃ nh cÃ´ng cá»§a mÃ´ hÃ¬nh máº¡ng nÆ¡-ron lÃ  sáºµn cÃ³ cá»§a cÃ¡c bá»™ dá»¯ liá»‡u Ä‘á»ƒ huáº¥n luyá»‡n mÃ´n hÃ¬nh vÃ  cáº¥u trÃºc cá»§a mÃ´ hÃ¬nh máº¡ng nÆ¡-ron cÃ³ thá»ƒ Ä‘Ã¡p á»©ng Ä‘Æ°á»£c vá»›i báº¥t ká»³ táº­p dá»¯ liá»‡u khá»•ng lá»“ nÃ o.","code":""},{"path":"mÃ´-hÃ¬nh-máº¡ng-neural-network.html","id":"máº¡ng-neural-vá»›i-má»™t-layer-duy-nháº¥t","chapter":"ChÆ°Æ¡ng 13 MÃ´ hÃ¬nh máº¡ng neural network","heading":"13.1 Máº¡ng neural vá»›i má»™t layer duy nháº¥t","text":"","code":""},{"path":"mÃ´-hÃ¬nh-máº¡ng-neural-network.html","id":"há»“i-quy-logistic-lÃ -má»™t-máº¡ng-nÆ¡-ron-khÃ´ng-cÃ³-layer-áº©n","chapter":"ChÆ°Æ¡ng 13 MÃ´ hÃ¬nh máº¡ng neural network","heading":"13.1.1 Há»“i quy logistic lÃ  má»™t máº¡ng nÆ¡-ron khÃ´ng cÃ³ layer áº©n","text":"TrÆ°á»›c khi giá»›i thiá»‡u vá» cáº¥u trÃºc cá»§a má»™t mÃ´ hÃ¬nh máº¡ng nÆ¡-ron, chÃºng ta sáº½ xem xÃ©t láº¡i cÃ¡ch há»“i quy logistic hoáº¡t Ä‘á»™ng. Sau Ä‘Ã³, khi nhÃ¬n nháº­n cÃ¡ch váº­n hÃ nh cá»§a há»•i quy logistic nhÆ° má»™t máº¡ng nÆ¡-ron Ä‘Æ¡n giáº£n, báº¡n Ä‘á»c sáº½ cÃ³ hÃ¬nh dung cá»¥ thá»ƒ hÆ¡n vá» cÃ¡ch xÃ¢y dá»±ng mÃ´ hÃ¬nh máº¡ng nÆ¡-ron.Dá»¯ liá»‡u dÃ¹ng Ä‘á»ƒ xÃ¢y dá»±ng mÃ´ hÃ¬nh há»“i quy logistic Ä‘Æ°á»£c xÃ¢y dá»±ng dá»±a trÃªn dá»¯ liá»‡u bao gá»“m 5 quan sÃ¡t Ä‘Æ°á»£c cho trong báº£ng dÆ°á»›i Ä‘Ã¢y\nTable 13.1: Dá»¯ liá»‡u cho há»“i quy Logistic\nVá»›i má»—i Ä‘iá»ƒm dá»¯ liá»‡u báº¥t ká»³, giáº£ sá»­ lÃ  Ä‘iá»ƒm cÃ³ vá»›i cÃ¡c thuá»™c tÃ­nh $x_1() = $ vÃ  $x_2() = $, chÃºng ta sáº½ thá»±c hiá»‡n hai phÃ©p biáº¿n Ä‘á»•i káº¿ tiáº¿p nhau:PhÃ©p biáº¿n Ä‘á»•i tuyá»ƒn tÃ­nh: vá»›i bá»™ 3 sá»‘ thá»±c báº¥t ká»³ \\((b_0, b_1, b_2)\\), chÃºng ta luÃ´n cÃ³ thá»ƒ thá»±c hiá»‡n phÃ©p biáº¿n Ä‘á»•i tuyáº¿n tÃ­nh:\\[\n(1, x_1, x_2) \\rightarrow b_0 \\times 1 + b_1 \\times x_1 + b_2 \\times x_2\n\\]\n- PhÃ©p biáº¿n Ä‘á»•i phi tuyáº¿n tÃ­nh: chÃºng ta sá»­ dá»¥ng hÃ m sá»‘ \\(f(x) = sigmoid(x) = \\cfrac{1}{1+e^{x}}\\) Ä‘á»ƒ thá»±c hiá»‡n phÃ©p biáº¿n Ä‘á»•i thá»© hai\\[\nb_0 + b_1 x_1 + b_2 x_2 \\rightarrow \\cfrac{1}{1+e^{b_0 + b_1 x_1 + b_2 x_2}}\n\\]\nSau khi thá»±c hiá»‡n cÃ¡c phÃ©p biáº¿n Ä‘á»•i vá»›i tá»«ng Ä‘iá»ƒm dá»¯ liá»‡u, chÃºng ta sáº½ thu Ä‘Æ°á»£c vá»›i má»—i Ä‘iá»ƒm dá»¯ liá»‡u má»™t sá»‘ náº±m trong khoáº£ng \\((0,1)\\).\nTable 13.2: Dá»¯ liá»‡u cho há»“i quy Logistic\nHÃ m tá»•n tháº¥t, tÃ­nh báº±ng Cross Entropy qua nÄƒm Ä‘iá»ƒm dá»¯ liá»‡u , B, C, D, vÃ  E, sáº½ lÃ  má»™t hÃ m sá»‘ cá»§a ba biáº¿n \\((b_0, b_1, b_2)\\) nhÆ° sau\\[\nLoss(b_0, b_1, b_2) = - \\sum\\limits_{Data = }^E [y_i \\times log(p_i) + (1-y_i) \\times log(1-p_i)]\n\\]\nvá»›i giÃ¡ trá»‹ cá»§a \\(y_i\\) vÃ  \\(p_i\\) Ä‘Æ°á»£c cho bá»Ÿi báº£ng á»Ÿ trÃªn. Báº±ng thuáº­t toÃ¡n gradient descent, chÃºng ta cÃ³ thá»ƒ tÃ­nh toÃ¡n Ä‘Æ°á»£c giÃ¡ trá»‹ cá»§a \\((b_0, b_1, b_2)\\) sao cho hÃ m \\(Loss\\) Ä‘áº¡t giÃ¡ trá»‹ nhá» nháº¥t báº±ng \\((25,15,-30)\\). Váº­y cÃ³ thá»ƒ tÃ­nh toÃ¡n kháº£ nÄƒng Ä‘iá»ƒm \\(F\\) cÃ³ mÃ u xanh lÃ \n\\[\n\\mathbb{P}(F = blue) = (1+exp(25 + 3 \\times 15 + 3 \\times -30))^{-1} = 1\n\\]\nNhÆ° váº­y, trong há»•i quy logistic, chÃºng ta Ä‘Ã£ sá»­ dá»¥ng 2 phÃ©p biáº¿n Ä‘á»•i dá»¯ liá»‡u bao gá»“m má»™t phÃ©p biáº¿n Ä‘á»•i tuyáº¿n tÃ­nh thÃ´ng qua má»™t vÃ©c-tÆ¡ \\(b\\) vÃ  sau Ä‘Ã³ lÃ  má»™t phÃ©p biáº¿n Ä‘á»•i phi tuyáº¿n (hÃ m sigmoid) Ä‘á»ƒ thu Ä‘Æ°á»£c má»™t giÃ¡ trá»‹ duy nháº¥t cho má»—i Ä‘iá»ƒm dá»¯ liá»‡u. QuÃ¡ trÃ¬nh Æ°á»›c lÆ°á»£ng mÃ´ hÃ¬nh logistic lÃ  quÃ¡ trÃ¬nh tÃ¬m kiáº¿m cÃ¡c tham sá»‘ \\(b\\) sao cho giÃ¡ trá»‹ Ä‘áº§u ra sau cÃ¡c phÃ©p biáº¿n Ä‘á»•i cá»§a má»—i Ä‘iá»ƒm dá»¯ liá»‡u gáº§n vá»›i káº¿t quáº£ mong muá»‘n nháº¥t cÃ³ thá»ƒ.","code":""},{"path":"mÃ´-hÃ¬nh-máº¡ng-neural-network.html","id":"máº¡ng-neural-vá»›i-nhiá»u-layer-áº©n.","chapter":"ChÆ°Æ¡ng 13 MÃ´ hÃ¬nh máº¡ng neural network","heading":"13.2 Máº¡ng neural vá»›i nhiá»u layer áº©n.","text":"","code":""},{"path":"mÃ´-hÃ¬nh-máº¡ng-neural-network.html","id":"Æ°á»›c-lÆ°á»£ng-tham-sá»‘-cho-máº¡ng-neural-network","chapter":"ChÆ°Æ¡ng 13 MÃ´ hÃ¬nh máº¡ng neural network","heading":"13.3 Æ¯á»›c lÆ°á»£ng tham sá»‘ cho máº¡ng neural network","text":"","code":""},{"path":"mÃ´-hÃ¬nh-máº¡ng-neural-network.html","id":"backpropagation","chapter":"ChÆ°Æ¡ng 13 MÃ´ hÃ¬nh máº¡ng neural network","heading":"13.3.1 Backpropagation","text":"","code":""},{"path":"mÃ´-hÃ¬nh-máº¡ng-neural-network.html","id":"regularization-and-stochastic-gradient-descent","chapter":"ChÆ°Æ¡ng 13 MÃ´ hÃ¬nh máº¡ng neural network","heading":"13.3.2 Regularization and Stochastic Gradient Descent","text":"","code":""},{"path":"mÃ´-hÃ¬nh-máº¡ng-neural-network.html","id":"thá»±c-hÃ nh-1","chapter":"ChÆ°Æ¡ng 13 MÃ´ hÃ¬nh máº¡ng neural network","heading":"13.4 Thá»±c hÃ nh:","text":"","code":""},{"path":"mÃ´-hÃ¬nh-máº¡ng-neural-network.html","id":"sá»­-dá»¥ng-máº¡ng-neural-network-trong-phÃ¢n-loáº¡i-vÄƒn-báº£n.","chapter":"ChÆ°Æ¡ng 13 MÃ´ hÃ¬nh máº¡ng neural network","heading":"13.4.1 Sá»­ dá»¥ng máº¡ng neural network trong phÃ¢n loáº¡i vÄƒn báº£n.","text":"","code":""},{"path":"mÃ´-hÃ¬nh-máº¡ng-neural-network.html","id":"sá»­-dá»¥ng-máº¡ng-neural-network-tÃ­ch-cháº­p-vá»›i-dá»¯-liá»‡u-mnist.","chapter":"ChÆ°Æ¡ng 13 MÃ´ hÃ¬nh máº¡ng neural network","heading":"13.4.2 Sá»­ dá»¥ng máº¡ng neural network tÃ­ch cháº­p vá»›i dá»¯ liá»‡u \\(mnist()\\).","text":"","code":""}]
